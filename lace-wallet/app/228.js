!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cda982bf-7456-4576-8860-0ddb3d87b2bd",e._sentryDebugIdIdentifier="sentry-dbid-cda982bf-7456-4576-8860-0ddb3d87b2bd")}catch(r){}}();var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"1.30.0-9d9ec3a"};(self["webpackChunk_lace_browser_extension_wallet"]=self["webpackChunk_lace_browser_extension_wallet"]||[]).push([[228],{"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};var i=this&&this.__awaiter||function(e,t,r,a){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,s){function fulfilled(e){try{step(a.next(e))}catch(t){s(t)}}function rejected(e){try{step(a["throw"](e))}catch(t){s(t)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())})};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.Networks=t.utils=t.Ada=void 0;const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/deriveAddress.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/deriveNativeScriptHash.js");const u=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getExtendedPublicKeys.js");const f=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getSerial.js");const h=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const p=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/runTests.js");const m=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/showAddress.js");const _=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signCVote.js");const v=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signOperationalCertificate.js");const y=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signMessage.js");const w=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/messageData.js");const g=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signTx.js");const b=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/address.js");const P=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/cVote.js");const C=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/nativeScript.js");const S=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/operationalCertificate.js");const T=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/transaction.js");const E=o(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js"));t.utils=E.default;const k=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const A=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");s(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js"),t);s(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js"),t);const I=215;function wrapConvertDeviceStatusError(e){return(...t)=>i(this,void 0,void 0,function*(){try{return yield e(...t)}catch(r){if(r&&"object"==typeof r&&"statusCode"in r&&"number"==typeof r.statusCode){throw new n.DeviceStatusError(r.statusCode)}throw r}})}function wrapRetryStillInCall(e){return(...t)=>i(this,void 0,void 0,function*(){try{return yield e(...t)}catch(r){if(r&&r.statusCode&&r.statusCode===n.DeviceStatusCodes.ERR_STILL_IN_CALL){return yield e(...t)}throw r}})}function interact(e,t){return i(this,void 0,void 0,function*(){let r=e.next();let a=true;while(!r.done){const s=r.value;const i=a?yield wrapRetryStillInCall(t)(s):yield t(s);a=false;r=e.next(i)}return r.value})}class Ada{constructor(e,t="ADA"){this.transport=e;const r=["getVersion","getSerial","getExtendedPublicKeys","signTransaction","deriveAddress","showAddress","deriveNativeScriptHash"];this.transport.decorateAppAPIMethods(this,r,t);this._send=e=>i(this,void 0,void 0,function*(){if(e.data.length>255){throw new Error("APDU too large, likely a bug")}let t=yield wrapConvertDeviceStatusError(this.transport.send)(I,e.ins,e.p1,e.p2,e.data);t=E.default.stripRetcodeFromResponse(t);if(null!=e.expectedResponseLength)(0,k.assert)(t.length===e.expectedResponseLength,`unexpected response length: ${t.length} instead of ${e.expectedResponseLength}`);return t})}getVersion(){return i(this,void 0,void 0,function*(){const e=yield interact(this._getVersion(),this._send);return{version:e,compatibility:(0,h.getCompatibility)(e)}})}*_getVersion(){return yield*(0,h.getVersion)()}getSerial(){return i(this,void 0,void 0,function*(){return interact(this._getSerial(),this._send)})}*_getSerial(){const e=yield*(0,h.getVersion)();return yield*(0,f.getSerial)(e)}runTests(){return i(this,void 0,void 0,function*(){return interact(this._runTests(),this._send)})}*_runTests(){const e=yield*(0,h.getVersion)();return yield*(0,p.runTests)(e)}getExtendedPublicKeys({paths:e}){return i(this,void 0,void 0,function*(){(0,A.validate)((0,A.isArray)(e),d.InvalidDataReason.GET_EXT_PUB_KEY_PATHS_NOT_ARRAY);const t=e.map(e=>(0,A.parseBIP32Path)(e,d.InvalidDataReason.INVALID_PATH));return interact(this._getExtendedPublicKeys(t),this._send)})}*_getExtendedPublicKeys(e){const t=yield*(0,h.getVersion)();return yield*(0,u.getExtendedPublicKeys)(t,e)}getExtendedPublicKey({path:e}){return i(this,void 0,void 0,function*(){return(yield this.getExtendedPublicKeys({paths:[e]}))[0]})}deriveAddress({network:e,address:t}){return i(this,void 0,void 0,function*(){const r=(0,b.parseAddress)(e,t);return interact(this._deriveAddress(r),this._send)})}*_deriveAddress(e){const t=yield*(0,h.getVersion)();return yield*(0,c.deriveAddress)(t,e)}showAddress({network:e,address:t}){return i(this,void 0,void 0,function*(){const r=(0,b.parseAddress)(e,t);return interact(this._showAddress(r),this._send)})}*_showAddress(e){const t=yield*(0,h.getVersion)();return yield*(0,m.showAddress)(t,e)}signTransaction(e){return i(this,void 0,void 0,function*(){const t=(0,T.parseSignTransactionRequest)(e);return interact(this._signTx(t),this._send)})}*_signTx(e){const t=yield*(0,h.getVersion)();return yield*(0,g.signTransaction)(t,e)}signOperationalCertificate(e){return i(this,void 0,void 0,function*(){const t=(0,S.parseOperationalCertificate)(e);return interact(this._signOperationalCertificate(t),this._send)})}*_signOperationalCertificate(e){const t=yield*(0,h.getVersion)();return yield*(0,v.signOperationalCertificate)(t,e)}signMessage(e){return i(this,void 0,void 0,function*(){const t=(0,w.parseMessageData)(e);return interact(this._signMessage(t),this._send)})}*_signMessage(e){const t=yield*(0,h.getVersion)();return yield*(0,y.signMessage)(t,e)}signCIP36Vote(e){return i(this,void 0,void 0,function*(){const t=(0,P.parseCVote)(e);return interact(this._signCIP36Vote(t),this._send)})}*_signCIP36Vote(e){const t=yield*(0,h.getVersion)();return yield*(0,_.signCVote)(t,e)}deriveNativeScriptHash({script:e,displayFormat:t}){return i(this,void 0,void 0,function*(){const r=(0,C.parseNativeScript)(e);const a=(0,C.parseNativeScriptHashDisplayFormat)(t);return interact(this._deriveNativeScriptHash(r,a),this._send)})}*_deriveNativeScriptHash(e,t){const r=yield*(0,h.getVersion)();return yield*(0,l.deriveNativeScriptHash)(r,e,t)}}t.Ada=Ada;t["default"]=Ada;t.Networks={Mainnet:{networkId:1,protocolMagic:764824073},Testnet:{networkId:0,protocolMagic:1097911063}}},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/deviceStatusError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DeviceStatusError=t.DeviceStatusMessages=t.DeviceStatusCodes=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/errorBase.js");t.DeviceStatusCodes={ERR_STILL_IN_CALL:28164,ERR_INVALID_DATA:28167,ERR_INVALID_BIP_PATH:28168,ERR_REJECTED_BY_USER:28169,ERR_REJECTED_BY_POLICY:28176,ERR_DEVICE_LOCKED:28177,ERR_UNSUPPORTED_ADDRESS_TYPE:28178,ERR_CLA_NOT_SUPPORTED:28160};t.DeviceStatusMessages={[t.DeviceStatusCodes.ERR_INVALID_DATA]:"Invalid data supplied to Ledger",[t.DeviceStatusCodes.ERR_INVALID_BIP_PATH]:"Invalid derivation path supplied to Ledger",[t.DeviceStatusCodes.ERR_REJECTED_BY_USER]:"Action rejected by user",[t.DeviceStatusCodes.ERR_REJECTED_BY_POLICY]:"Action rejected by Ledger's security policy",[t.DeviceStatusCodes.ERR_DEVICE_LOCKED]:"Device is locked",[t.DeviceStatusCodes.ERR_CLA_NOT_SUPPORTED]:"Wrong Ledger app",[t.DeviceStatusCodes.ERR_UNSUPPORTED_ADDRESS_TYPE]:"Unsupported address type"};const s="https://github.com/cardano-foundation/ledger-app-cardano/blob/master/src/errors.h";const getDeviceErrorDescription=e=>{var r;const a=`0x${e.toString(16)}`;const i=`General error ${a}. Please consult ${s}`;return null!==(r=t.DeviceStatusMessages[e])&&void 0!==r?r:i};class DeviceStatusError extends a.ErrorBase{constructor(e){super(getDeviceErrorDescription(e));this.code=e}}t.DeviceStatusError=DeviceStatusError},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/deviceUnsupported.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DeviceVersionUnsupported=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/errorBase.js");class DeviceVersionUnsupported extends a.ErrorBase{}t.DeviceVersionUnsupported=DeviceVersionUnsupported},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/errorBase.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ErrorBase=void 0;class ErrorBase extends Error{constructor(e){super(e);this.name=this.constructor.name}}t.ErrorBase=ErrorBase},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidDataReason=t.DeviceStatusMessages=t.DeviceStatusError=t.DeviceStatusCodes=t.DeviceVersionUnsupported=t.InvalidData=t.ErrorBase=void 0;var a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/errorBase.js");Object.defineProperty(t,"ErrorBase",{enumerable:true,get:function(){return a.ErrorBase}});var s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidData.js");Object.defineProperty(t,"InvalidData",{enumerable:true,get:function(){return s.InvalidData}});var i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/deviceUnsupported.js");Object.defineProperty(t,"DeviceVersionUnsupported",{enumerable:true,get:function(){return i.DeviceVersionUnsupported}});var o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/deviceStatusError.js");Object.defineProperty(t,"DeviceStatusCodes",{enumerable:true,get:function(){return o.DeviceStatusCodes}});Object.defineProperty(t,"DeviceStatusError",{enumerable:true,get:function(){return o.DeviceStatusError}});Object.defineProperty(t,"DeviceStatusMessages",{enumerable:true,get:function(){return o.DeviceStatusMessages}});var n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");Object.defineProperty(t,"InvalidDataReason",{enumerable:true,get:function(){return n.InvalidDataReason}})},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidData.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidData=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/errorBase.js");class InvalidData extends a.ErrorBase{constructor(e){super(e)}}t.InvalidData=InvalidData},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidDataReason=void 0;var r;(function(e){e["GET_EXT_PUB_KEY_PATHS_NOT_ARRAY"]="ext pub key paths not an array";e["INVALID_PATH"]="invalid path";e["NETWORK_INVALID_PROTOCOL_MAGIC"]="invalid protocol magic";e["NETWORK_INVALID_NETWORK_ID"]="invalid network id";e["NETWORK_ID_INCLUDE_INVALID"]="invalid value for includeNetworkId";e["INPUTS_NOT_ARRAY"]="inputs not an array";e["INPUT_INVALID_TX_HASH"]="invalid tx hash in an input";e["INPUT_INVALID_PATH"]="invalid input path";e["INPUT_INVALID_UTXO_INDEX"]="invalid input utxo index";e["OUTPUTS_NOT_ARRAY"]="outputs not an array";e["OUTPUT_INVALID_FORMAT"]="invalid output format";e["OUTPUT_INVALID_AMOUNT"]="invalid amount in an output";e["OUTPUT_INVALID_ADDRESS"]="invalid address in an output";e["OUTPUT_INVALID_ADDRESS_PARAMS"]="change address must have path as payment part";e["OUTPUT_INVALID_DATUM_HASH"]="invalid datum hash";e["OUTPUT_INVALID_INLINE_DATUM"]="invalid inline datum";e["OUTPUT_INVALID_REFERENCE_SCRIPT_HEX"]="invalid script hex";e["OUTPUT_INCONSISTENT_DATUM"]="datum is not consistent with output type";e["OUTPUT_INCONSISTENT_REFERENCE_SCRIPT"]="reference script is not consistent with output type";e["MULTIASSET_INVALID_POLICY_NAME"]="invalid policy id in a multiasset token bundle";e["MULTIASSET_INVALID_TOKEN_BUNDLE_NOT_ARRAY"]="invalid multiasset token bundle - asset groups not an array";e["MULTIASSET_INVALID_TOKEN_BUNDLE_TOO_LARGE"]="invalid multiasset token bundle - too many asset groups";e["MULTIASSET_INVALID_TOKEN_BUNDLE_ORDERING"]="invalid multiasset token bundle - incorrect ordering of asset groups";e["MULTIASSET_INVALID_TOKEN_BUNDLE_NOT_UNIQUE"]="invalid multiasset token bundle - policyIds not unique";e["MULTIASSET_INVALID_TOKEN_BUNDLE_EMPTY"]="invalid multiasset token bundle - token bundle is not allowed to be empty";e["MULTIASSET_INVALID_TOKEN_AMOUNT"]="invalid token amount in an asset group in a multiasset token bundle";e["MULTIASSET_INVALID_ASSET_NAME"]="invalid asset name in an asset group in a multiasset token bundle";e["MULTIASSET_INVALID_ASSET_GROUP_NOT_ARRAY"]="invalid asset group in multiasset token bundle - tokens not an array";e["MULTIASSET_INVALID_ASSET_GROUP_TOO_LARGE"]="invalid asset group in multiasset token bundle - too many tokens";e["MULTIASSET_INVALID_ASSET_GROUP_EMPTY"]="invalid asset group in multiasset token bundle - zero tokens";e["MULTIASSET_INVALID_ASSET_GROUP_ORDERING"]="invalid asset group in multiasset token bundle - incorrect ordering of tokens";e["MULTIASSET_INVALID_ASSET_GROUP_NOT_UNIQUE"]="invalid asset group in multiasset token bundle - token names not unique";e["ADDRESS_UNKNOWN_TYPE"]="unknown address type";e["ADDRESS_INVALID_SPENDING_INFO"]="invalid address spending information";e["ADDRESS_INVALID_SPENDING_KEY_PATH"]="invalid address spending key path";e["ADDRESS_INVALID_SPENDING_SCRIPT_HASH"]="invalid address spending script hash";e["ADDRESS_INVALID_BLOCKCHAIN_POINTER"]="invalid address blockchain pointer";e["ADDRESS_INVALID_STAKING_KEY_PATH"]="invalid address staking key path";e["ADDRESS_INVALID_STAKING_KEY_HASH"]="invalid address staking key hash";e["ADDRESS_INVALID_STAKING_SCRIPT_HASH"]="invalid address staking script hash";e["ADDRESS_INVALID_STAKING_INFO"]="Invalid staking info in an output";e["ADDRESS_INVALID_REWARD_ADDRESS"]="invalid reward address for this version of ledger";e["FEE_INVALID"]="invalid fee";e["TTL_INVALID"]="invalid ttl";e["CERTIFICATES_NOT_ARRAY"]="certificates not an array";e["CERTIFICATE_INVALID_TYPE"]="invalid certificate type";e["CERTIFICATE_INVALID_PATH"]="one of the certificates contains an invalid path";e["CERTIFICATE_INVALID_STAKE_CREDENTIAL"]="one of the certificates contains an invalid stake credential";e["CERTIFICATE_INVALID_COMMITTEE_CREDENTIAL"]="one of the certificates contains invalid constitutional committee credential";e["CERTIFICATE_INVALID_DREP_CREDENTIAL"]="one of the certificates contains an invalid DRep credential";e["CERTIFICATE_INVALID_POOL_KEY_HASH"]="one of the certificates contains an invalid pool key hash";e["CERTIFICATE_SUPERFLUOUS_POOL_KEY_HASH"]="superfluous pool key hash in a certificate";e["CERTIFICATE_INVALID_DEPOSIT"]="one of the certificates contains an invalid deposit";e["CERTIFICATE_INVALID_DREP"]="one of the certificates contains an invalid DRep";e["ANCHOR_INVALID_URL"]="anchor with an invalid URL";e["ANCHOR_INVALID_HASH"]="anchor with an invalid data hash";e["POOL_REGISTRATION_INVALID_VRF_KEY_HASH"]="invalid vrf key hash in a pool registration certificate";e["POOL_REGISTRATION_INVALID_PLEDGE"]="invalid pledge in a pool registration certificate";e["POOL_REGISTRATION_INVALID_COST"]="invalid cost in a pool registration certificate";e["POOL_REGISTRATION_INVALID_MARGIN"]="invalid margin in a pool registration certificate";e["POOL_REGISTRATION_INVALID_MARGIN_DENOMINATOR"]="pool margin denominator must be a value between 1 and 10^15";e["POOL_REGISTRATION_OWNERS_TOO_MANY"]="too many owners in a pool registration certificate";e["POOL_KEY_INVALID_TYPE"]="invalid pool key type";e["POOL_KEY_INVALID_PATH"]="invalid pool key path in a pool registration certificate";e["POOL_KEY_INVALID_KEY_HASH"]="invalid pool key hash in a pool registration certificate";e["POOL_OWNER_INVALID_TYPE"]="invalid owner type";e["POOL_OWNER_INVALID_PATH"]="invalid owner path in a pool registration certificate";e["POOL_OWNER_INVALID_KEY_HASH"]="invalid owner key hash in a pool registration certificate";e["POOL_REGISTRATION_RELAYS_TOO_MANY"]="too many pool relays in a pool registration certificate";e["POOL_REWARD_ACCOUNT_INVALID_TYPE"]="invalid pool reward account type";e["POOL_REWARD_ACCOUNT_INVALID_PATH"]="invalid pool reward account key path in a pool registration certificate";e["POOL_REWARD_ACCOUNT_INVALID_HEX"]="invalid pool reward account hex in a pool registration certificate";e["POOL_RETIREMENT_INVALID_RETIREMENT_EPOCH"]="invalid pool retirement epoch";e["RELAY_INVALID_TYPE"]="invalid type of a relay in a pool registration certificate";e["RELAY_INVALID_PORT"]="invalid port in a relay in a pool registration certificate";e["RELAY_INVALID_IPV4"]="invalid ipv4 in a relay in a pool registration certificate";e["RELAY_INVALID_IPV6"]="invalid ipv6 in a relay in a pool registration certificate";e["RELAY_INVALID_DNS"]="invalid dns record in a relay in a pool registration certificate";e["POOL_REGISTRATION_METADATA_INVALID_URL"]="invalid metadata in a pool registration certificate= invalid url";e["POOL_REGISTRATION_METADATA_INVALID_HASH"]="invalid metadata in a pool registration certificate= invalid hash";e["WITHDRAWALS_NOT_ARRAY"]="withdrawals not an array";e["WITHDRAWAL_INVALID_AMOUNT"]="invalid withdrawal amount";e["WITHDRAWAL_INVALID_PATH"]="invalid withdrawal path";e["WITHDRAWAL_INVALID_STAKE_CREDENTIAL"]="withdrawal stake credential contains both a path and a scripthash or neither";e["AUXILIARY_DATA_UNKNOWN_TYPE"]="unknown auxiliary data type";e["AUXILIARY_DATA_INVALID_HASH"]="invalid auxiliary data hash";e["METADATA_UNKNOWN_TYPE"]="unknown metadata type";e["CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP15"]="CIP36 registration params inconsistent with CIP-15";e["CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP36"]="CIP36 registration params inconsistent with CIP-36";e["CVOTE_REGISTRATION_BOTH_KEY_AND_PATH"]="CIP36 vote key given both as a key and as a derivation path";e["CVOTE_REGISTRATION_MISSING_VOTE_KEY"]="CIP36 vote key missing";e["CVOTE_REGISTRATION_INVALID_VOTE_KEY"]="invalid CIP36 registration vote key";e["CVOTE_REGISTRATION_INVALID_VOTE_KEY_PATH"]="invalid CIP36 registration vote key path";e["CVOTE_REGISTRATION_INVALID_STAKING_KEY_PATH"]="invalid CIP36 registration staking key path";e["CVOTE_REGISTRATION_INVALID_NONCE"]="invalid CIP36 registration nonce";e["CVOTE_REGISTRATION_INVALID_VOTING_PURPOSE"]="invalid CIP36 registration voting purpose";e["CVOTE_REGISTRATION_DELEGATIONS_NOT_ARRAY"]="CIP36 registration delegations not an array";e["CVOTE_DELEGATION_UNKNOWN_FORMAT"]="invalid CIP36 delegation format";e["CVOTE_DELEGATION_UNKNOWN_DELEGATION_TYPE"]="invalid CIP36 delegation type";e["CVOTE_DELEGATION_INVALID_WEIGHT"]="invalid CIP36 delegation weight";e["CVOTE_DELEGATION_INVALID_PATH"]="invalid CIP36 delegation path";e["CVOTE_DELEGATION_INVALID_KEY"]="invalid CIP36 delegation key";e["VALIDITY_INTERVAL_START_INVALID"]="invalid validity interval start";e["SCRIPT_DATA_HASH_WRONG_LENGTH"]="script data hash not 32 bytes long";e["COLLATERAL_INPUTS_NOT_ARRAY"]="collateral inputs not an array";e["REQUIRED_SIGNERS_NOT_ARRAY"]="required signers not an array";e["VKEY_HASH_WRONG_LENGTH"]="vkey hash not 28 bytes long";e["UNKNOWN_REQUIRED_SIGNER_TYPE"]="unknown required signer type";e["REQUIRED_SIGNER_INVALID_PATH"]="invalid path for required signer";e["COLLATERAL_INPUT_CONTAINS_DATUM"]="collateral return output contains datum";e["COLLATERAL_INPUT_CONTAINS_REFERENCE_SCRIPT"]="collateral return output contains reference script";e["TOTAL_COLLATERAL_NOT_VALID"]="total collateral not valid";e["REFERENCE_INPUTS_NOT_ARRAY"]="reference inputs not an array";e["VOTING_PROCEDURES_NOT_ARRAY"]="voting procedures not an array";e["VOTER_VOTES_NOT_ARRAY"]="voter's votes not an array";e["VOTER_INVALID"]="invalid voter in voting procedures";e["GOV_ACTION_ID_INVALID_TX_HASH"]="invalid governance action id tx hash";e["GOV_ACTION_ID_INVALID_INDEX"]="invalid governance action id index";e["VOTING_PROCEDURES_INVALID_NUMBER_OF_VOTERS"]="there must be exactly 1 voter in voting procedures";e["VOTING_PROCEDURES_INVALID_NUMBER_OF_VOTES"]="there must be exactly 1 voting procedure per voter";e["TREASURY_NOT_VALID"]="treasury amount not valid";e["DONATION_NOT_VALID"]="treasury donation not valid";e["SIGN_MODE_UNKNOWN"]="unknown signing mode";e["SIGN_MODE_ORDINARY__POOL_REGISTRATION_NOT_ALLOWED"]="pool registration not allowed in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__CERTIFICATE_STAKE_CREDENTIAL_ONLY_AS_PATH"]="certificate stake credential must be given as a staking path in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__CERTIFICATE_COMMITTEE_COLD_CREDENTIAL_ONLY_AS_PATH"]="certificate constitutional committee cold credential must be given as a path in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__CERTIFICATE_DREP_CREDENTIAL_ONLY_AS_PATH"]="certificate DRep credential must be given as a path in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__WITHDRAWAL_ONLY_AS_PATH"]="withdrawal must be given as a path in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__COLLATERAL_INPUTS_NOT_ALLOWED"]="collateral inputs not allowed in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__COLLATERAL_OUTPUT_NOT_ALLOWED"]="collateral output not allowed in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__TOTAL_COLLATERAL_NOT_ALLOWED"]="total collateral not allowed in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__REFERENCE_INPUTS_NOT_ALLOWED"]="reference inputs not allowed in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_ORDINARY__VOTER_ONLY_AS_PATH"]="voter credential in voting procedures must be given as a path in TransactionSigningMode.ORDINARY_TRANSACTION";e["SIGN_MODE_MULTISIG__POOL_REGISTRATION_NOT_ALLOWED"]="pool registration not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__POOL_RETIREMENT_NOT_ALLOWED"]="pool retirement not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__DEVICE_OWNED_ADDRESS_NOT_ALLOWED"]="outputs given by path not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__CERTIFICATE_CREDENTIAL_ONLY_AS_SCRIPT"]="certificate credential must be a script hash in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__WITHDRAWAL_ONLY_AS_SCRIPT"]="withdrawal must be a script hash in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__COLLATERAL_INPUTS_NOT_ALLOWED"]="collateral inputs not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__COLLATERAL_OUTPUT_NOT_ALLOWED"]="collateral output not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__TOTAL_COLLATERAL_NOT_ALLOWED"]="total collateral not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__REFERENCE_INPUTS_NOT_ALLOWED"]="reference inputs not allowed in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_MULTISIG__VOTER_ONLY_AS_SCRIPT"]="voter credential in voting procedures must be a script hash in TransactionSigningMode.MULTISIG_TRANSACTION";e["SIGN_MODE_POOL_OWNER__INPUT_WITH_PATH_NOT_ALLOWED"]="inputs with path not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__DEVICE_OWNED_ADDRESS_NOT_ALLOWED"]="outputs given by path are not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__DATUM_NOT_ALLOWED"]="datum in outputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__REFERENCE_SCRIPT_NOT_ALLOWED"]="reference script in outputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__SINGLE_POOL_REG_CERTIFICATE_REQUIRED"]="single pool registration certificate is expected in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__THIRD_PARTY_POOL_KEY_REQUIRED"]="third party pool key is required in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__SINGLE_DEVICE_OWNER_REQUIRED"]="single device-owned pool owner is expected in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__WITHDRAWALS_NOT_ALLOWED"]="withdrawals not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__MINT_NOT_ALLOWED"]="mint not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__SCRIPT_DATA_HASH_NOT_ALLOWED"]="script data hash not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__COLLATERAL_INPUTS_NOT_ALLOWED"]="collateral inputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__COLLATERAL_OUTPUT_NOT_ALLOWED"]="reference inputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__TOTAL_COLLATERAL_NOT_ALLOWED"]="total collateral not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__REQUIRED_SIGNERS_NOT_ALLOWED"]="required signers not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__REFERENCE_INPUTS_NOT_ALLOWED"]="reference inputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__VOTING_PROCEDURES_NOT_ALLOWED"]="voting procedures not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__TREASURY_NOT_ALLOWED"]="treasury amount not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OWNER__DONATION_NOT_ALLOWED"]="treasury donation not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OWNER";e["SIGN_MODE_POOL_OPERATOR__DATUM_NOT_ALLOWED"]="datum in outputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__REFERENCE_SCRIPT_NOT_ALLOWED"]="reference script in outputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__SINGLE_POOL_REG_CERTIFICATE_REQUIRED"]="single pool registration certificate is expected in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__DEVICE_OWNED_POOL_KEY_REQUIRED"]="device owned pool key is required in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__DEVICE_OWNED_POOL_OWNER_NOT_ALLOWED"]="device-owned pool owner not expected in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__WITHDRAWALS_NOT_ALLOWED"]="withdrawals not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__MINT_NOT_ALLOWED"]="mint not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__SCRIPT_DATA_HASH_NOT_ALLOWED"]="script data hash not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__COLLATERAL_INPUTS_NOT_ALLOWED"]="collateral inputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__COLLATERAL_OUTPUT_NOT_ALLOWED"]="collateral output not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__TOTAL_COLLATERAL_NOT_ALLOWED"]="total collateral not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__REQUIRED_SIGNERS_NOT_ALLOWED"]="required signers not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__REFERENCE_INPUTS_NOT_ALLOWED"]="reference inputs not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__VOTING_PROCEDURES_NOT_ALLOWED"]="voting procedures not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__TREASURY_NOT_ALLOWED"]="treasury amount not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_POOL_OPERATOR__DONATION_NOT_ALLOWED"]="treasury donation not allowed in TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR";e["SIGN_MODE_PLUTUS__DEVICE_OWNED_ADDRESS_NOT_ALLOWED"]="outputs given by path not allowed in TransactionSigningMode.PLUTUS_TRANSACTION";e["SIGN_MODE_PLUTUS__POOL_REGISTRATION_NOT_ALLOWED"]="pool registration not allowed in TransactionSigningMode.PLUTUS_TRANSACTION";e["ADDITIONAL_WITNESSES_NOT_ARRAY"]="additional witnesses not an array";e["OPERATIONAL_CERTIFICATE_INVALID_KES_KEY"]="invalid operational certificate kes key";e["OPERATIONAL_CERTIFICATE_INVALID_KES_PERIOD"]="invalid operational certificate kes period";e["OPERATIONAL_CERTIFICATE_INVALID_ISSUE_COUNTER"]="invalid operational certificate issue counter";e["OPERATIONAL_CERTIFICATE_INVALID_COLD_KEY_PATH"]="invalid operational certificate cold key path";e["MESSAGE_DATA_INVALID_WITNESS_PATH"]="CIP-8 message signing: invalid witness path";e["MESSAGE_DATA_INVALID_MESSAGE_HEX"]="CIP-8 message signing: invalid message hex string";e["MESSAGE_DATA_LONG_NON_HASHED_MSG"]="CIP-8 message signing: non-hashed message too long";e["CVOTE_INVALID_VOTECAST_DATA"]="invalid votecast data for CIP36 vote";e["CVOTE_INVALID_WITNESS"]="invalid witness for CIP36 vote";e["DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA"]="invalid native script input";e["DERIVE_NATIVE_SCRIPT_HASH_INVALID_KEY_PATH"]="invalid key path param";e["DERIVE_NATIVE_SCRIPT_HASH_INVALID_KEY_HASH"]="invalid key hash param";e["DERIVE_NATIVE_SCRIPT_HASH_SCRIPTS_NOT_AN_ARRAY"]="invalid scripts - scripts is not an array";e["DERIVE_NATIVE_SCRIPT_HASH_INVALID_REQUIRED_COUNT"]="invalid required count";e["DERIVE_NATIVE_SCRIPT_HASH_INVALID_TOKEN_LOCKING_SLOT"]="invalid token locking slot";e["DERIVE_NATIVE_SCRIPT_HASH_REQUIRED_COUNT_HIGHER_THAN_NUMBER_OF_SCRIPTS"]="invalid required count - higher than number of total scripts";e["DERIVE_NATIVE_SCRIPT_HASH_UNKNOWN_TYPE"]="unknown script type";e["DERIVE_NATIVE_SCRIPT_HASH_INVALID_DISPLAY_FORMAT"]="invalid native script hash display format";e["LEDGER_POLICY"]="Action rejected by Ledger's security policy";e["INVALID_DATA_SUPPLIED_TO_LEDGER"]="Invalid data supplied to Ledger";e["INVALID_B2_HASH"]="invalid blake2 hashing"})(r=t.InvalidDataReason||(t.InvalidDataReason={}))},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/deriveAddress.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deriveAddress=t.ensureAddressDerivationSupportedByAppVersion=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/addressParams.js");const send=e=>Object.assign({ins:17},e);function ensureAddressDerivationSupportedByAppVersion(e,t){(0,o.ensureLedgerAppVersionCompatible)(e);if(t.type===i.AddressType.BYRON&&!(0,o.getCompatibility)(e).supportsByronAddressDerivation){throw new a.DeviceVersionUnsupported(`Byron address parameters not supported by Ledger app version ${(0,s.getVersionString)(e)}.`)}}t.ensureAddressDerivationSupportedByAppVersion=ensureAddressDerivationSupportedByAppVersion;function*deriveAddress(e,t){ensureAddressDerivationSupportedByAppVersion(e,t);const r=1;const a=0;const s=yield send({p1:r,p2:a,data:(0,n.serializeAddressParams)(t,e)});return{addressHex:s.toString("hex")}}t.deriveAddress=deriveAddress},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/deriveNativeScriptHash.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deriveNativeScriptHash=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/nativeScript.js");const send=e=>Object.assign({ins:18},e);function*deriveScriptHash_startComplexScript(e){yield send({p1:1,p2:0,data:(0,d.serializeComplexNativeScriptStart)(e),expectedResponseLength:0})}function*deriveNativeScriptHash_addSimpleScript(e){yield send({p1:2,p2:0,data:(0,d.serializeSimpleNativeScript)(e),expectedResponseLength:0})}function isComplexScript(e){switch(e.type){case i.NativeScriptType.ALL:case i.NativeScriptType.ANY:case i.NativeScriptType.N_OF_K:return true;default:return false}}function*deriveNativeScriptHash_addScript(e){if(isComplexScript(e)){yield*deriveScriptHash_startComplexScript(e);for(const t of e.params.scripts)yield*deriveNativeScriptHash_addScript(t)}else{return yield*deriveNativeScriptHash_addSimpleScript(e)}}function*deriveNativeScriptHash_finishWholeNativeScript(e){const t=yield send({p1:3,p2:0,data:(0,d.serializeWholeNativeScriptFinish)(e),expectedResponseLength:s.NATIVE_SCRIPT_HASH_LENGTH});return{scriptHashHex:t.toString("hex")}}function ensureScriptHashDerivationSupportedByAppVersion(e){if(!(0,n.getCompatibility)(e).supportsNativeScriptHashDerivation){throw new a.DeviceVersionUnsupported(`Native script hash derivation not supported by Ledger app version ${(0,o.getVersionString)(e)}.`)}}function*deriveNativeScriptHash(e,t,r){(0,n.ensureLedgerAppVersionCompatible)(e);ensureScriptHashDerivationSupportedByAppVersion(e);yield*deriveNativeScriptHash_addScript(t);const{scriptHashHex:a}=yield*deriveNativeScriptHash_finishWholeNativeScript(r);return{scriptHashHex:a}}t.deriveNativeScriptHash=deriveNativeScriptHash},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getExtendedPublicKeys.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.getExtendedPublicKeys=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");function ensureLedgerAppVersionCompatibleForPaths(e,t){const r=t.some(e=>e[0]===1694+o.HARDENED);if(r&&!(0,l.getCompatibility)(e).supportsCIP36Vote){throw new s.DeviceVersionUnsupported(`CIP36 vote keys not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}}const send=e=>Object.assign({ins:16},e);function*getExtendedPublicKeys(e,t){(0,l.ensureLedgerAppVersionCompatible)(e);ensureLedgerAppVersionCompatibleForPaths(e,t);const r=[];for(let s=0;s<t.length;s++){const o=a.concat([(0,c.path_to_buf)(t[s])]);let u;if(0===s){const f=t.length>1?(0,c.uint32_to_buf)(t.length-1):a.from([]);u=yield send({p1:0,p2:0,data:a.concat([o,f]),expectedResponseLength:i.EXTENDED_PUBLIC_KEY_LENGTH})}else{u=yield send({p1:1,p2:0,data:o,expectedResponseLength:i.EXTENDED_PUBLIC_KEY_LENGTH})}const h=32;const p=32;const[m,_,v]=(0,n.chunkBy)(u,[h,p]);(0,d.assert)(0===v.length,"invalid response length");r.push({publicKeyHex:m.toString("hex"),chainCodeHex:_.toString("hex")})}return r}t.getExtendedPublicKeys=getExtendedPublicKeys},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getSerial.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.getSerial=void 0;const i=s(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js"));const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const send=e=>Object.assign({ins:1},e);function*getSerial(e){(0,o.ensureLedgerAppVersionCompatible)(e);const t=0;const r=0;const s=yield send({p1:t,p2:r,data:a.alloc(0),expectedResponseLength:7});const n=i.default.buf_to_hex(s);return{serialHex:n}}t.getSerial=getSerial},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.ensureLedgerAppVersionCompatible=t.getCompatibility=t.isLedgerAppVersionAtMost=t.isLedgerAppVersionAtLeast=t.getVersion=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const send=e=>Object.assign({ins:0},e);function*getVersion(){const e=0;const t=0;const r=yield send({p1:e,p2:t,data:a.alloc(0),expectedResponseLength:4});const[s,i,o,n]=r;const d=1;const c=4;const l={isDebug:(n&d)===d,isAppXS:(n&c)===c};return{major:s,minor:i,patch:o,flags:l}}t.getVersion=getVersion;function isLedgerAppVersionAtLeast(e,t,r){const{major:a,minor:s}=e;return a>t||a===t&&s>=r}t.isLedgerAppVersionAtLeast=isLedgerAppVersionAtLeast;function isLedgerAppVersionAtMost(e,t,r){const{major:a,minor:s}=e;return a<t||a===t&&s<=r}t.isLedgerAppVersionAtMost=isLedgerAppVersionAtMost;function getCompatibility(e){const t=isLedgerAppVersionAtLeast(e,2,2)&&isLedgerAppVersionAtMost(e,7,1/0);const r=isLedgerAppVersionAtLeast(e,2,3)&&isLedgerAppVersionAtMost(e,7,1/0);const a=isLedgerAppVersionAtLeast(e,2,4)&&isLedgerAppVersionAtMost(e,7,1/0);const s=isLedgerAppVersionAtLeast(e,3,0)&&isLedgerAppVersionAtMost(e,7,1/0);const i=isLedgerAppVersionAtLeast(e,4,0)&&isLedgerAppVersionAtMost(e,7,1/0);const o=isLedgerAppVersionAtLeast(e,4,1)&&isLedgerAppVersionAtMost(e,7,1/0);const n=isLedgerAppVersionAtLeast(e,5,0)&&isLedgerAppVersionAtMost(e,7,1/0);const d=isLedgerAppVersionAtLeast(e,6,0)&&isLedgerAppVersionAtMost(e,7,1/0);const c=isLedgerAppVersionAtLeast(e,7,0)&&isLedgerAppVersionAtMost(e,7,1/0);const l=isLedgerAppVersionAtLeast(e,7,1)&&isLedgerAppVersionAtMost(e,7,1/0);const u=e.flags.isAppXS;return{isCompatible:t,recommendedVersion:t?null:"7.0",supportsByronAddressDerivation:t&&!u,supportsMary:t,supportsCatalystRegistration:r,supportsCIP36:d,supportsZeroTtl:r,supportsPoolRegistrationAsOwner:t&&!u,supportsPoolRegistrationAsOperator:a&&!u,supportsPoolRetirement:a&&!u,supportsNativeScriptHashDerivation:s&&!u,supportsMultisigTransaction:s,supportsMint:s,supportsAlonzo:i,supportsReqSignersInOrdinaryTx:o,supportsBabbage:n,supportsCIP36Vote:d,supportsConway:c,supportsMessageSigning:l}}t.getCompatibility=getCompatibility;function ensureLedgerAppVersionCompatible(e){const{isCompatible:t,recommendedVersion:r}=getCompatibility(e);if(!t){throw new s.DeviceVersionUnsupported(`Device app version ${(0,i.getVersionString)(e)} unsupported, recommended version is ${r}.`)}}t.ensureLedgerAppVersionCompatible=ensureLedgerAppVersionCompatible},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/runTests.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.runTests=void 0;const send=e=>Object.assign({ins:240},e);function*runTests(e){yield send({p1:0,p2:0,data:a.alloc(0),expectedResponseLength:0})}t.runTests=runTests},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/addressParams.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeAddressParams=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");function serializeSpendingDataSource(e){switch(e.type){case"spending_path":return(0,c.path_to_buf)(e.path);case"spending_script_hash":return(0,c.hex_to_buf)(e.scriptHashHex);case"no_spending":return a.alloc(0);default:(0,d.unreachable)(e)}}function serializeStakingDataSource(e){const t={["no_staking"]:17,["staking_key_path"]:34,["staking_key_hash"]:51,["blockchain_pointer"]:68,["staking_script_hash"]:85};switch(e.type){case"no_staking":return a.concat([(0,c.uint8_to_buf)(t[e.type])]);case"staking_key_hash":return a.concat([(0,c.uint8_to_buf)(t[e.type]),(0,c.hex_to_buf)(e.keyHashHex)]);case"staking_script_hash":return a.concat([(0,c.uint8_to_buf)(t[e.type]),(0,c.hex_to_buf)(e.scriptHashHex)]);case"staking_key_path":return a.concat([(0,c.uint8_to_buf)(t[e.type]),(0,c.path_to_buf)(e.path)]);case"blockchain_pointer":return a.concat([(0,c.uint8_to_buf)(t[e.type]),(0,c.uint32_to_buf)(e.pointer.blockIndex),(0,c.uint32_to_buf)(e.pointer.txIndex),(0,c.uint32_to_buf)(e.pointer.certificateIndex)]);default:(0,d.unreachable)(e)}}function serializeAddressParams(e,t){let r=e.spendingDataSource;let u=e.stakingDataSource;if(!(0,l.getCompatibility)(t).supportsMultisigTransaction){if(e.type===o.AddressType.REWARD_KEY){(0,d.assert)("staking_key_path"===u.type,i.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);r={type:"spending_path",path:u.path};u={type:"no_staking"}}else if(e.type===o.AddressType.REWARD_SCRIPT){throw new s.DeviceVersionUnsupported(`Scripthash based address derivation not supported by Ledger app version ${(0,n.getVersionString)(t)}.`)}}return a.concat([(0,c.uint8_to_buf)(e.type),e.type===o.AddressType.BYRON?(0,c.uint32_to_buf)(e.protocolMagic):(0,c.uint8_to_buf)(e.networkId),serializeSpendingDataSource(r),serializeStakingDataSource(u)])}t.serializeAddressParams=serializeAddressParams},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/cVoteRegistration.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeCVoteRegistrationVotingPurpose=t.serializeCVoteRegistrationNonce=t.serializeCVoteRegistrationPaymentDestination=t.serializeCVoteRegistrationStakingPath=t.serializeCVoteRegistrationDelegation=t.serializeCVoteRegistrationVoteKey=t.serializeCVoteRegistrationInit=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/addressParams.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txOutput.js");function serializeCVoteRegistrationInit(e){const t={[i.CIP36VoteRegistrationFormat.CIP_15]:1,[i.CIP36VoteRegistrationFormat.CIP_36]:2};const r=(0,n.uint8_to_buf)(t[e.format]);const s=null!=e.delegations?e.delegations.length:0;const o=(0,n.uint32_to_buf)(s);return a.concat([r,o])}t.serializeCVoteRegistrationInit=serializeCVoteRegistrationInit;function serializeDelegationType(e){const t={[i.CIP36VoteDelegationType.KEY]:1,[i.CIP36VoteDelegationType.PATH]:2};return(0,n.uint8_to_buf)(t[e])}function serializeCVoteRegistrationVoteKey(e,t,r){if(null!=e){(0,o.assert)(null==t,"redundant vote key path");const d=(0,s.getCompatibility)(r).supportsCIP36?serializeDelegationType(i.CIP36VoteDelegationType.KEY):a.from([]);return a.concat([d,(0,n.hex_to_buf)(e)])}(0,o.assert)(null!=t,"missing vote key");(0,o.assert)((0,s.getCompatibility)(r).supportsCIP36Vote,"key derivation path for vote keys not supported by the device");return a.concat([serializeDelegationType(i.CIP36VoteDelegationType.PATH),(0,n.path_to_buf)(t)])}t.serializeCVoteRegistrationVoteKey=serializeCVoteRegistrationVoteKey;function serializeCVoteRegistrationDelegation(e){const t=serializeDelegationType(e.type);const r=(0,n.uint32_to_buf)(e.weight);switch(e.type){case i.CIP36VoteDelegationType.KEY:return a.concat([t,(0,n.hex_to_buf)(e.voteKey),r]);case i.CIP36VoteDelegationType.PATH:return a.concat([t,(0,n.path_to_buf)(e.voteKeyPath),r]);default:(0,o.unreachable)(e)}}t.serializeCVoteRegistrationDelegation=serializeCVoteRegistrationDelegation;function serializeCVoteRegistrationStakingPath(e){return a.concat([(0,n.path_to_buf)(e)])}t.serializeCVoteRegistrationStakingPath=serializeCVoteRegistrationStakingPath;function serializeCVoteRegistrationPaymentDestination(e,t){if((0,s.getCompatibility)(t).supportsCIP36){return(0,c.serializeTxOutputDestination)(e,t)}(0,o.assert)(e.type===i.TxOutputDestinationType.DEVICE_OWNED,"wrong destination for payment address in Catalyst");return(0,d.serializeAddressParams)(e.addressParams,t)}t.serializeCVoteRegistrationPaymentDestination=serializeCVoteRegistrationPaymentDestination;function serializeCVoteRegistrationNonce(e){return a.concat([(0,n.uint64_to_buf)(e)])}t.serializeCVoteRegistrationNonce=serializeCVoteRegistrationNonce;function serializeCVoteRegistrationVotingPurpose(e){const t=(0,n.serializeOptionFlag)(null!=e);const r=null!=e?(0,n.uint64_to_buf)(e):a.from([]);return a.concat([t,r])}t.serializeCVoteRegistrationVotingPurpose=serializeCVoteRegistrationVotingPurpose},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/messageData.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeMessageDataInit=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/addressParams.js");function serializeMessageDataInit(e,t){const r=(0,i.uint32_to_buf)(t.messageHex.length/2);const n=t.hashPayload?(0,i.uint8_to_buf)(1):(0,i.uint8_to_buf)(0);const d=t.isAscii?(0,i.uint8_to_buf)(1):(0,i.uint8_to_buf)(0);const c={[s.MessageAddressFieldType.ADDRESS]:1,[s.MessageAddressFieldType.KEY_HASH]:2};const l=(0,i.uint8_to_buf)(c[t.addressFieldType]);const u=t.addressFieldType===s.MessageAddressFieldType.ADDRESS?(0,o.serializeAddressParams)(t.address,e):a.concat([]);return a.concat([r,(0,i.path_to_buf)(t.signingPath),n,d,l,u])}t.serializeMessageDataInit=serializeMessageDataInit},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/nativeScript.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeWholeNativeScriptFinish=t.serializeSimpleNativeScript=t.serializeComplexNativeScriptStart=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const n={[s.NativeScriptType.PUBKEY_DEVICE_OWNED]:0,[s.NativeScriptType.PUBKEY_THIRD_PARTY]:0,[s.NativeScriptType.ALL]:1,[s.NativeScriptType.ANY]:2,[s.NativeScriptType.N_OF_K]:3,[s.NativeScriptType.INVALID_BEFORE]:4,[s.NativeScriptType.INVALID_HEREAFTER]:5};const d={[s.NativeScriptType.PUBKEY_DEVICE_OWNED]:1,[s.NativeScriptType.PUBKEY_THIRD_PARTY]:2};const c={[s.NativeScriptHashDisplayFormat.BECH32]:1,[s.NativeScriptHashDisplayFormat.POLICY_ID]:2};function serializeComplexNativeScriptStart(e){switch(e.type){case s.NativeScriptType.ALL:case s.NativeScriptType.ANY:return a.concat([(0,o.uint8_to_buf)(n[e.type]),(0,o.uint32_to_buf)(e.params.scripts.length)]);case s.NativeScriptType.N_OF_K:return a.concat([(0,o.uint8_to_buf)(n[e.type]),(0,o.uint32_to_buf)(e.params.scripts.length),(0,o.uint32_to_buf)(e.params.requiredCount)]);default:(0,i.unreachable)(e)}}t.serializeComplexNativeScriptStart=serializeComplexNativeScriptStart;function serializeSimpleNativeScript(e){switch(e.type){case s.NativeScriptType.PUBKEY_DEVICE_OWNED:return a.concat([(0,o.uint8_to_buf)(n[e.type]),(0,o.uint8_to_buf)(d[e.type]),(0,o.path_to_buf)(e.params.path)]);case s.NativeScriptType.PUBKEY_THIRD_PARTY:return a.concat([(0,o.uint8_to_buf)(n[e.type]),(0,o.uint8_to_buf)(d[e.type]),(0,o.hex_to_buf)(e.params.keyHashHex)]);case s.NativeScriptType.INVALID_BEFORE:return a.concat([(0,o.uint8_to_buf)(n[e.type]),(0,o.uint64_to_buf)(e.params.slot)]);case s.NativeScriptType.INVALID_HEREAFTER:return a.concat([(0,o.uint8_to_buf)(n[e.type]),(0,o.uint64_to_buf)(e.params.slot)]);default:(0,i.unreachable)(e)}}t.serializeSimpleNativeScript=serializeSimpleNativeScript;function serializeWholeNativeScriptFinish(e){return a.concat([(0,o.uint8_to_buf)(c[e])])}t.serializeWholeNativeScriptFinish=serializeWholeNativeScriptFinish},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/operationalCertificate.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeOperationalCertificate=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");function serializeOperationalCertificate({kesPublicKeyHex:e,kesPeriod:t,issueCounter:r,coldKeyPath:i}){return a.concat([(0,s.hex_to_buf)(e),(0,s.uint64_to_buf)(t),(0,s.uint64_to_buf)(r),(0,s.path_to_buf)(i)])}t.serializeOperationalCertificate=serializeOperationalCertificate},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/poolRegistrationCertificate.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializePoolMetadata=t.serializePoolRelay=t.serializePoolRewardAccountLegacy=t.serializePoolRewardAccount=t.serializePoolOwner=t.serializePoolKeyLegacy=t.serializePoolKey=t.serializeFinancials=t.serializePoolInitialParamsLegacy=t.serializePoolInitialParams=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const n=Object.freeze({SIGN_TX_INCLUDED_NO:1,SIGN_TX_INCLUDED_YES:2});function serializePoolInitialParams(e){return a.concat([(0,o.uint32_to_buf)(e.owners.length),(0,o.uint32_to_buf)(e.relays.length)])}t.serializePoolInitialParams=serializePoolInitialParams;function serializePoolInitialParamsLegacy(e){return a.concat([serializePoolKeyLegacy(e.poolKey),(0,o.hex_to_buf)(e.vrfHashHex),(0,o.serializeCoin)(e.pledge),(0,o.serializeCoin)(e.cost),(0,o.uint64_to_buf)(e.margin.numerator),(0,o.uint64_to_buf)(e.margin.denominator),serializePoolRewardAccountLegacy(e.rewardAccount),(0,o.uint32_to_buf)(e.owners.length),(0,o.uint32_to_buf)(e.relays.length)])}t.serializePoolInitialParamsLegacy=serializePoolInitialParamsLegacy;function serializeFinancials(e){return a.concat([(0,o.serializeCoin)(e.pledge),(0,o.serializeCoin)(e.cost),(0,o.uint64_to_buf)(e.margin.numerator),(0,o.uint64_to_buf)(e.margin.denominator)])}t.serializeFinancials=serializeFinancials;function serializePoolKey(e){const t={[s.PoolKeyType.DEVICE_OWNED]:1,[s.PoolKeyType.THIRD_PARTY]:2};switch(e.type){case s.PoolKeyType.DEVICE_OWNED:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.path_to_buf)(e.path)]);case s.PoolKeyType.THIRD_PARTY:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.hex_to_buf)(e.hashHex)]);default:(0,i.unreachable)(e)}}t.serializePoolKey=serializePoolKey;function serializePoolKeyLegacy(e){(0,i.assert)(e.type===s.PoolKeyType.THIRD_PARTY,"invalid pool key type for legacy Ledger version");return(0,o.hex_to_buf)(e.hashHex)}t.serializePoolKeyLegacy=serializePoolKeyLegacy;function serializePoolOwner(e){const t={[s.PoolOwnerType.DEVICE_OWNED]:1,[s.PoolOwnerType.THIRD_PARTY]:2};switch(e.type){case s.PoolOwnerType.DEVICE_OWNED:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.path_to_buf)(e.path)]);case s.PoolOwnerType.THIRD_PARTY:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.hex_to_buf)(e.hashHex)]);default:(0,i.unreachable)(e)}}t.serializePoolOwner=serializePoolOwner;function serializePoolRewardAccount(e){const t={[s.PoolRewardAccountType.DEVICE_OWNED]:1,[s.PoolRewardAccountType.THIRD_PARTY]:2};switch(e.type){case s.PoolRewardAccountType.DEVICE_OWNED:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.path_to_buf)(e.path)]);case s.PoolRewardAccountType.THIRD_PARTY:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.hex_to_buf)(e.rewardAccountHex)]);default:(0,i.unreachable)(e)}}t.serializePoolRewardAccount=serializePoolRewardAccount;function serializePoolRewardAccountLegacy(e){(0,i.assert)(e.type===s.PoolRewardAccountType.THIRD_PARTY,"invalid pool reward account type for legacy Ledger version");return(0,o.hex_to_buf)(e.rewardAccountHex)}t.serializePoolRewardAccountLegacy=serializePoolRewardAccountLegacy;function serializePoolRelay(e){function serializeOptional(e,t){if(null==e){return a.concat([(0,o.uint8_to_buf)(1)])}return a.concat([(0,o.uint8_to_buf)(2),t(e)])}switch(e.type){case 0:return a.concat([(0,o.uint8_to_buf)(e.type),serializeOptional(e.port,e=>(0,o.uint16_to_buf)(e)),serializeOptional(e.ipv4,e=>e),serializeOptional(e.ipv6,e=>e)]);case 1:return a.concat([(0,o.uint8_to_buf)(e.type),serializeOptional(e.port,e=>(0,o.uint16_to_buf)(e)),a.from(e.dnsName,"ascii")]);case 2:return a.concat([(0,o.uint8_to_buf)(e.type),a.from(e.dnsName,"ascii")]);default:(0,i.unreachable)(e)}}t.serializePoolRelay=serializePoolRelay;function serializePoolMetadata(e){if(null==e){return a.concat([(0,o.uint8_to_buf)(n.SIGN_TX_INCLUDED_NO)])}return a.concat([(0,o.uint8_to_buf)(n.SIGN_TX_INCLUDED_YES),(0,o.hex_to_buf)(e.hashHex),a.from(e.url,"ascii")])}t.serializePoolMetadata=serializePoolMetadata},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txAuxiliaryData.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeTxAuxiliaryData=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");function serializeTxAuxiliaryData(e){const t={[s.TxAuxiliaryDataType.ARBITRARY_HASH]:0,[s.TxAuxiliaryDataType.CIP36_REGISTRATION]:1};switch(e.type){case s.TxAuxiliaryDataType.ARBITRARY_HASH:return a.concat([(0,o.uint8_to_buf)(t[e.type]),(0,o.hex_to_buf)(e.hashHex)]);case s.TxAuxiliaryDataType.CIP36_REGISTRATION:return a.concat([(0,o.uint8_to_buf)(t[e.type])]);default:(0,i.unreachable)(e)}}t.serializeTxAuxiliaryData=serializeTxAuxiliaryData},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txCertificate.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeTxCertificate=t.serializeTxCertificatePreMultisig=t.serializeDRep=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");function serializeDRep(e){switch(e.type){case 100:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.path_to_buf)(e.path)]);case 0:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.hex_to_buf)(e.keyHashHex)]);case 1:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.hex_to_buf)(e.scriptHashHex)]);case 2:case 3:return a.concat([(0,o.uint8_to_buf)(e.type)]);default:(0,i.unreachable)(e)}}t.serializeDRep=serializeDRep;function serializeTxCertificatePreMultisig(e){switch(e.type){case s.CertificateType.STAKE_REGISTRATION:case s.CertificateType.STAKE_DEREGISTRATION:(0,i.assert)(0===e.stakeCredential.type,"invalid stake credential");return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.path_to_buf)(e.stakeCredential.path)]);case s.CertificateType.STAKE_DELEGATION:(0,i.assert)(0===e.stakeCredential.type,"invalid stake credential");return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.path_to_buf)(e.stakeCredential.path),(0,o.hex_to_buf)(e.poolKeyHashHex)]);case s.CertificateType.STAKE_POOL_REGISTRATION:return a.concat([(0,o.uint8_to_buf)(e.type)]);case s.CertificateType.STAKE_POOL_RETIREMENT:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.path_to_buf)(e.path),(0,o.uint64_to_buf)(e.retirementEpoch)]);case s.CertificateType.STAKE_REGISTRATION_CONWAY:case s.CertificateType.STAKE_DEREGISTRATION_CONWAY:case s.CertificateType.VOTE_DELEGATION:case s.CertificateType.AUTHORIZE_COMMITTEE_HOT:case s.CertificateType.RESIGN_COMMITTEE_COLD:case s.CertificateType.DREP_REGISTRATION:case s.CertificateType.DREP_DEREGISTRATION:case s.CertificateType.DREP_UPDATE:(0,i.assert)(false,"Conway certificates in pre-multisig serialization");break;default:(0,i.unreachable)(e)}}t.serializeTxCertificatePreMultisig=serializeTxCertificatePreMultisig;function serializeTxCertificate(e,t){if(!(0,n.getCompatibility)(t).supportsMultisigTransaction){return serializeTxCertificatePreMultisig(e)}switch(e.type){case s.CertificateType.STAKE_REGISTRATION:case s.CertificateType.STAKE_DEREGISTRATION:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.stakeCredential)]);case s.CertificateType.STAKE_REGISTRATION_CONWAY:case s.CertificateType.STAKE_DEREGISTRATION_CONWAY:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.stakeCredential),(0,o.serializeCoin)(e.deposit)]);case s.CertificateType.STAKE_DELEGATION:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.stakeCredential),(0,o.hex_to_buf)(e.poolKeyHashHex)]);case s.CertificateType.VOTE_DELEGATION:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.stakeCredential),serializeDRep(e.dRep)]);case s.CertificateType.AUTHORIZE_COMMITTEE_HOT:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.coldCredential),(0,o.serializeCredential)(e.hotCredential)]);case s.CertificateType.RESIGN_COMMITTEE_COLD:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.coldCredential),(0,o.serializeAnchor)(e.anchor)]);case s.CertificateType.DREP_REGISTRATION:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.dRepCredential),(0,o.serializeCoin)(e.deposit),(0,o.serializeAnchor)(e.anchor)]);case s.CertificateType.DREP_DEREGISTRATION:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.dRepCredential),(0,o.serializeCoin)(e.deposit)]);case s.CertificateType.DREP_UPDATE:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.serializeCredential)(e.dRepCredential),(0,o.serializeAnchor)(e.anchor)]);case s.CertificateType.STAKE_POOL_REGISTRATION:return a.concat([(0,o.uint8_to_buf)(e.type)]);case s.CertificateType.STAKE_POOL_RETIREMENT:return a.concat([(0,o.uint8_to_buf)(e.type),(0,o.path_to_buf)(e.path),(0,o.uint64_to_buf)(e.retirementEpoch)]);default:(0,i.unreachable)(e)}}t.serializeTxCertificate=serializeTxCertificate},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txInit.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeTxInit=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const _serializeSigningMode=e=>{const t={[s.TransactionSigningMode.ORDINARY_TRANSACTION]:3,[s.TransactionSigningMode.POOL_REGISTRATION_AS_OWNER]:4,[s.TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR]:5,[s.TransactionSigningMode.MULTISIG_TRANSACTION]:6,[s.TransactionSigningMode.PLUTUS_TRANSACTION]:7}[e];(0,i.assert)(void 0!==t,"Invalid signing mode");return(0,o.uint8_to_buf)(t)};function serializeTxOptions(e){let t=0;if(e.tagCborSets)t+=1;return(0,o.uint64_to_buf)(t.toString())}function serializeTxInit(e,t,r,s,i){const d=(0,n.getCompatibility)(i).supportsConway?serializeTxOptions(s):a.from([]);const c=(0,n.getCompatibility)(i).supportsMint||i.flags.isAppXS;const l=c?(0,o.serializeOptionFlag)(null!=e.mint):a.from([]);const u=(0,n.getCompatibility)(i).supportsAlonzo?(0,o.serializeOptionFlag)(null!=e.scriptDataHashHex):a.from([]);const f=(0,n.getCompatibility)(i).supportsAlonzo?(0,o.uint32_to_buf)(e.collateralInputs.length):a.from([]);const h=(0,n.getCompatibility)(i).supportsAlonzo?(0,o.uint32_to_buf)(e.requiredSigners.length):a.from([]);const p=(0,n.getCompatibility)(i).supportsAlonzo?(0,o.serializeOptionFlag)(e.includeNetworkId):a.from([]);const m=(0,n.getCompatibility)(i).supportsBabbage?(0,o.serializeOptionFlag)(null!=e.collateralOutput):a.from([]);const _=(0,n.getCompatibility)(i).supportsBabbage?(0,o.serializeOptionFlag)(null!=e.totalCollateral):a.from([]);const v=(0,n.getCompatibility)(i).supportsBabbage?(0,o.uint32_to_buf)(e.referenceInputs.length):a.from([]);const y=(0,n.getCompatibility)(i).supportsConway?(0,o.uint32_to_buf)(e.votingProcedures.length):a.from([]);const w=(0,n.getCompatibility)(i).supportsConway?(0,o.serializeOptionFlag)(null!=e.treasury):a.from([]);const g=(0,n.getCompatibility)(i).supportsConway?(0,o.serializeOptionFlag)(null!=e.donation):a.from([]);const b=(0,n.getCompatibility)(i).supportsBabbage?a.from([]):(0,o.uint32_to_buf)(r);const P=(0,n.getCompatibility)(i).supportsBabbage?(0,o.uint32_to_buf)(r):a.from([]);return a.concat([d,(0,o.uint8_to_buf)(e.network.networkId),(0,o.uint32_to_buf)(e.network.protocolMagic),(0,o.serializeOptionFlag)(null!=e.ttl),(0,o.serializeOptionFlag)(null!=e.auxiliaryData),(0,o.serializeOptionFlag)(null!=e.validityIntervalStart),l,u,p,m,_,w,g,_serializeSigningMode(t),(0,o.uint32_to_buf)(e.inputs.length),(0,o.uint32_to_buf)(e.outputs.length),(0,o.uint32_to_buf)(e.certificates.length),(0,o.uint32_to_buf)(e.withdrawals.length),b,f,h,v,y,P])}t.serializeTxInit=serializeTxInit},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txOther.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeVoterVotes=t.serializeRequiredSigner=t.serializeMintBasicParams=t.serializeToken=t.serializeAssetGroup=t.serializeTxWitnessRequest=t.serializeTxValidityStart=t.serializeTxTtl=t.serializeTxWithdrawal=t.serializeTxInput=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");function serializeTxInput(e){return a.concat([(0,n.hex_to_buf)(e.txHashHex),(0,n.uint32_to_buf)(e.outputIndex)])}t.serializeTxInput=serializeTxInput;function serializeTxWithdrawal(e,t){if((0,d.getCompatibility)(t).supportsMultisigTransaction){return a.concat([(0,n.serializeCoin)(e.amount),(0,n.serializeCredential)(e.stakeCredential)])}(0,o.assert)(0===e.stakeCredential.type,i.InvalidDataReason.WITHDRAWAL_INVALID_STAKE_CREDENTIAL);return a.concat([(0,n.serializeCoin)(e.amount),(0,n.path_to_buf)(e.stakeCredential.path)])}t.serializeTxWithdrawal=serializeTxWithdrawal;function serializeTxTtl(e){return a.concat([(0,n.uint64_to_buf)(e)])}t.serializeTxTtl=serializeTxTtl;function serializeTxValidityStart(e){return a.concat([(0,n.uint64_to_buf)(e)])}t.serializeTxValidityStart=serializeTxValidityStart;function serializeTxWitnessRequest(e){return a.concat([(0,n.path_to_buf)(e)])}t.serializeTxWitnessRequest=serializeTxWitnessRequest;function serializeAssetGroup(e){return a.concat([(0,n.hex_to_buf)(e.policyIdHex),(0,n.uint32_to_buf)(e.tokens.length)])}t.serializeAssetGroup=serializeAssetGroup;function serializeToken(e,t){return a.concat([(0,n.uint32_to_buf)(e.assetNameHex.length/2),(0,n.hex_to_buf)(e.assetNameHex),t(e.amount)])}t.serializeToken=serializeToken;function serializeMintBasicParams(e){return a.concat([(0,n.uint32_to_buf)(e.length)])}t.serializeMintBasicParams=serializeMintBasicParams;function serializeRequiredSigner(e){switch(e.type){case 0:return a.concat([(0,n.uint8_to_buf)(e.type),(0,n.path_to_buf)(e.path)]);case 1:return a.concat([(0,n.uint8_to_buf)(e.type),(0,n.hex_to_buf)(e.hashHex)]);default:(0,o.unreachable)(e)}}t.serializeRequiredSigner=serializeRequiredSigner;function serializeVoter(e){switch(e.type){case s.VoterType.COMMITTEE_KEY_HASH:case s.VoterType.DREP_KEY_HASH:case s.VoterType.STAKE_POOL_KEY_HASH:return a.concat([(0,n.uint8_to_buf)(e.type),(0,n.hex_to_buf)(e.keyHashHex)]);case s.VoterType.COMMITTEE_KEY_PATH:case s.VoterType.DREP_KEY_PATH:case s.VoterType.STAKE_POOL_KEY_PATH:return a.concat([(0,n.uint8_to_buf)(e.type),(0,n.path_to_buf)(e.keyPath)]);case s.VoterType.COMMITTEE_SCRIPT_HASH:case s.VoterType.DREP_SCRIPT_HASH:return a.concat([(0,n.uint8_to_buf)(e.type),(0,n.hex_to_buf)(e.scriptHashHex)]);default:(0,o.unreachable)(e)}}function serializeVoterVotes(e){(0,o.assert)(1===e.votes.length,"too few / too many votes");const t=e.votes[0];return a.concat([serializeVoter(e.voter),a.concat([(0,n.hex_to_buf)(t.govActionId.txHashHex),(0,n.uint32_to_buf)(t.govActionId.govActionIndex)]),a.concat([(0,n.uint8_to_buf)(t.votingProcedure.vote),(0,n.serializeAnchor)(t.votingProcedure.anchor)])])}t.serializeVoterVotes=serializeVoterVotes},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txOutput.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeTxOutputRefScript=t.serializeTxOutputDatum=t.serializeTxOutputBasicParams=t.serializeTxOutputDestination=t.MAX_CHUNK_SIZE=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/addressParams.js");t.MAX_CHUNK_SIZE=240;function serializeTxOutputDestination(e,t){const r={[s.TxOutputDestinationType.THIRD_PARTY]:1,[s.TxOutputDestinationType.DEVICE_OWNED]:2};switch(e.type){case s.TxOutputDestinationType.THIRD_PARTY:return a.concat([(0,n.uint8_to_buf)(r[e.type]),(0,n.uint32_to_buf)(e.addressHex.length/2),(0,n.hex_to_buf)(e.addressHex)]);case s.TxOutputDestinationType.DEVICE_OWNED:return a.concat([(0,n.uint8_to_buf)(r[e.type]),(0,c.serializeAddressParams)(e.addressParams,t)]);default:(0,o.unreachable)(e)}}t.serializeTxOutputDestination=serializeTxOutputDestination;function serializeTxOutputBasicParams(e,t){const r=(0,d.getCompatibility)(t).supportsBabbage?(0,n.uint8_to_buf)(e.format):a.from([]);const s=(0,d.getCompatibility)(t).supportsAlonzo?(0,n.serializeOptionFlag)(null!=e.datum):a.from([]);const i=(0,d.getCompatibility)(t).supportsBabbage?(0,n.serializeOptionFlag)(null!=e.referenceScriptHex):a.from([]);return a.concat([r,serializeTxOutputDestination(e.destination,t),(0,n.serializeCoin)(e.amount),(0,n.uint32_to_buf)(e.tokenBundle.length),s,i])}t.serializeTxOutputBasicParams=serializeTxOutputBasicParams;function serializeTxOutputDatum(e,r){switch(e.type){case i.DatumType.HASH:{const s=(0,d.getCompatibility)(r).supportsBabbage?(0,n.uint8_to_buf)(i.DatumType.HASH):a.concat([]);return a.concat([s,(0,n.hex_to_buf)(e.datumHashHex)])}case i.DatumType.INLINE:{const c=e.datumHex.length/2;let l;l=c>t.MAX_CHUNK_SIZE?e.datumHex.substring(0,2*t.MAX_CHUNK_SIZE):e.datumHex;const u=l.length/2;return a.concat([(0,n.uint8_to_buf)(i.DatumType.INLINE),(0,n.uint32_to_buf)(c),(0,n.uint32_to_buf)(u),(0,n.hex_to_buf)(l)])}default:return(0,o.unreachable)(e)}}t.serializeTxOutputDatum=serializeTxOutputDatum;function serializeTxOutputRefScript(e){const r=e.length/2;let s;s=r>t.MAX_CHUNK_SIZE?e.substring(0,2*t.MAX_CHUNK_SIZE):e;const i=s.length/2;return a.concat([(0,n.uint32_to_buf)(r),(0,n.uint32_to_buf)(i),(0,n.hex_to_buf)(s)])}t.serializeTxOutputRefScript=serializeTxOutputRefScript},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/showAddress.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showAddress=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/addressParams.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/deriveAddress.js");const send=e=>Object.assign({ins:17},e);function*showAddress(e,t){(0,s.ensureAddressDerivationSupportedByAppVersion)(e,t);const r=2;const i=0;yield send({p1:r,p2:i,data:(0,a.serializeAddressParams)(t,e),expectedResponseLength:0})}t.showAddress=showAddress},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signCVote.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.signCVote=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const send=e=>Object.assign({ins:35},e);function*signCVote(e,t){if(!(0,d.getCompatibility)(e).supportsCIP36Vote){throw new s.DeviceVersionUnsupported(`CIP36 voting not supported by Ledger app version ${(0,o.getVersionString)(e)}.`)}const r=240;const c=(0,n.hex_to_buf)(t.voteCastDataHex);let l=0;let u=Math.min(c.length,l+r);const f=a.concat([(0,n.uint32_to_buf)(c.length),c.slice(l,u)]);yield send({p1:1,p2:0,data:f,expectedResponseLength:0});l=u;while(l<c.length){u=Math.min(c.length,l+r);yield send({p1:2,p2:0,data:c.slice(l,u),expectedResponseLength:0});l=u}const h=32;const p=yield send({p1:3,p2:0,data:a.concat([]),expectedResponseLength:h});const m=yield send({p1:4,p2:0,data:(0,n.path_to_buf)(t.witnessPath),expectedResponseLength:i.ED25519_SIGNATURE_LENGTH});return{dataHashHex:p.toString("hex"),witnessPath:t.witnessPath,witnessSignatureHex:m.toString("hex")}}t.signCVote=signCVote},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signMessage.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.signMessage=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/messageData.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const send=e=>Object.assign({ins:36},e);function*signMessage(e,t){if(!(0,d.getCompatibility)(e).supportsMessageSigning){throw new i.DeviceVersionUnsupported(`CIP-8 message signing not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}yield send({p1:1,p2:0,data:(0,c.serializeMessageDataInit)(e,t),expectedResponseLength:0});const r=198;const u=99;const f=250;const h=(0,s.hex_to_buf)(t.messageHex);const getChunkData=(e,t)=>{const r=h.slice(e,t);return a.concat([(0,s.uint32_to_buf)(r.length),r])};const p=t.isAscii?r:u;let m=0;let _=Math.min(h.length,p);yield send({p1:2,p2:0,data:getChunkData(m,_),expectedResponseLength:0});m=_;if(m<h.length)(0,l.validate)(t.hashPayload,i.InvalidDataReason.MESSAGE_DATA_LONG_NON_HASHED_MSG);while(m<h.length){_=Math.min(h.length,m+f);yield send({p1:2,p2:0,data:getChunkData(m,_),expectedResponseLength:0});m=_}const v=128;const y=yield send({p1:3,p2:0,data:a.concat([]),expectedResponseLength:o.ED25519_SIGNATURE_LENGTH+o.PUBLIC_KEY_LENGTH+4+v});let w=0;const g=y.slice(w,w+o.ED25519_SIGNATURE_LENGTH).toString("hex");w+=o.ED25519_SIGNATURE_LENGTH;const b=y.slice(w,w+o.PUBLIC_KEY_LENGTH).toString("hex");w+=o.PUBLIC_KEY_LENGTH;const P=y.slice(w,w+4);w+=4;const C=(0,s.buf_to_uint32)(P);const S=y.slice(w,w+C).toString("hex");return{signatureHex:g,signingPublicKeyHex:b,addressFieldHex:S}}t.signMessage=signMessage},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signOperationalCertificate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.signOperationalCertificate=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/operationalCertificate.js");const send=e=>Object.assign({ins:34},e);function*signOperationalCertificate(e,t){if(!(0,o.getCompatibility)(e).supportsPoolRegistrationAsOperator){throw new a.DeviceVersionUnsupported(`Operational certificate signing not supported by Ledger app version ${(0,i.getVersionString)(e)}.`)}const r=0;const d=0;const c=yield send({p1:r,p2:d,data:(0,n.serializeOperationalCertificate)(t),expectedResponseLength:s.ED25519_SIGNATURE_LENGTH});return{signatureHex:c.toString("hex")}}t.signOperationalCertificate=signOperationalCertificate},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/signTx.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.signTransaction=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/getVersion.js");const u=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/cVoteRegistration.js");const f=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/poolRegistrationCertificate.js");const h=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txAuxiliaryData.js");const p=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txCertificate.js");const m=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txInit.js");const _=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txOther.js");const v=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/interactions/serialization/txOutput.js");const send=e=>Object.assign({ins:33},e);function*signTx_init(e,t,r,a,s){yield send({p1:1,p2:0,data:(0,m.serializeTxInit)(e,t,r.length,a,s),expectedResponseLength:0})}function*signTx_addInput(e){yield send({p1:2,p2:0,data:(0,_.serializeTxInput)(e),expectedResponseLength:0})}function*signTx_addOutput_sendChunks(e,t){let r=2*v.MAX_CHUNK_SIZE;let s=r;while(r<e.length){s=Math.min(e.length,r+2*v.MAX_CHUNK_SIZE);const i=e.substring(r,s);yield send({p1:3,p2:t,data:a.concat([(0,c.uint32_to_buf)(i.length/2),(0,c.hex_to_buf)(i)]),expectedResponseLength:0});r=s}}function*signTx_addTokenBundle(e,t,r){for(const a of e){yield send({p1:t,p2:49,data:(0,_.serializeAssetGroup)(a),expectedResponseLength:0});for(const s of a.tokens)yield send({p1:t,p2:50,data:(0,_.serializeToken)(s,r),expectedResponseLength:0})}}function*signTx_addOutput(e,t){yield send({p1:3,p2:48,data:(0,v.serializeTxOutputBasicParams)(e,t),expectedResponseLength:0});yield*signTx_addTokenBundle(e.tokenBundle,3,c.uint64_to_buf);if(e.datum){yield send({p1:3,p2:52,data:(0,v.serializeTxOutputDatum)(e.datum,t),expectedResponseLength:0});if(e.datum.type===o.DatumType.INLINE){const r=e.datum.datumHex.length/2>v.MAX_CHUNK_SIZE;if(r)yield*signTx_addOutput_sendChunks(e.datum.datumHex,53)}}if(e.referenceScriptHex){yield send({p1:3,p2:54,data:(0,v.serializeTxOutputRefScript)(e.referenceScriptHex),expectedResponseLength:0});if(e.referenceScriptHex.length/2>v.MAX_CHUNK_SIZE)yield*signTx_addOutput_sendChunks(e.referenceScriptHex,55)}yield send({p1:3,p2:51,data:a.concat([]),expectedResponseLength:0})}function*signTx_addStakePoolRegistrationCertificate(e){(0,d.assert)(e.type===i.CertificateType.STAKE_POOL_REGISTRATION,"invalid certificate type");const t=e.pool;yield send({p1:6,p2:48,data:(0,f.serializePoolInitialParams)(t),expectedResponseLength:0});yield send({p1:6,p2:49,data:(0,f.serializePoolKey)(t.poolKey),expectedResponseLength:0});yield send({p1:6,p2:50,data:(0,c.hex_to_buf)(t.vrfHashHex),expectedResponseLength:0});yield send({p1:6,p2:51,data:(0,f.serializeFinancials)(t),expectedResponseLength:0});yield send({p1:6,p2:52,data:(0,f.serializePoolRewardAccount)(t.rewardAccount),expectedResponseLength:0});for(const r of t.owners)yield send({p1:6,p2:53,data:(0,f.serializePoolOwner)(r),expectedResponseLength:0});for(const s of t.relays)yield send({p1:6,p2:54,data:(0,f.serializePoolRelay)(s),expectedResponseLength:0});yield send({p1:6,p2:55,data:(0,f.serializePoolMetadata)(t.metadata),expectedResponseLength:0});yield send({p1:6,p2:56,data:a.alloc(0),expectedResponseLength:0})}function*signTx_addStakePoolRegistrationCertificateLegacy(e){(0,d.assert)(e.type===i.CertificateType.STAKE_POOL_REGISTRATION,"invalid certificate type");const t=e.pool;yield send({p1:6,p2:48,data:(0,f.serializePoolInitialParamsLegacy)(t),expectedResponseLength:0});for(const r of t.owners)yield send({p1:6,p2:49,data:(0,f.serializePoolOwner)(r),expectedResponseLength:0});for(const s of t.relays)yield send({p1:6,p2:50,data:(0,f.serializePoolRelay)(s),expectedResponseLength:0});yield send({p1:6,p2:51,data:(0,f.serializePoolMetadata)(t.metadata),expectedResponseLength:0});yield send({p1:6,p2:52,data:a.alloc(0),expectedResponseLength:0})}function*signTx_addCertificate(e,t){yield send({p1:6,p2:0,data:(0,p.serializeTxCertificate)(e,t),expectedResponseLength:0});if(e.type===i.CertificateType.STAKE_POOL_REGISTRATION)if((0,l.getCompatibility)(t).supportsPoolRegistrationAsOperator)yield*signTx_addStakePoolRegistrationCertificate(e);else yield*signTx_addStakePoolRegistrationCertificateLegacy(e)}function*signTx_addWithdrawal(e,t){yield send({p1:7,p2:0,data:(0,_.serializeTxWithdrawal)(e,t),expectedResponseLength:0})}function*signTx_setFee(e){yield send({p1:4,p2:0,data:(0,c.serializeCoin)(e),expectedResponseLength:0})}function*signTx_setTtl(e){yield send({p1:5,p2:0,data:(0,_.serializeTxTtl)(e),expectedResponseLength:0})}function*signTx_setAuxiliaryData(e,t){const r=[o.TxAuxiliaryDataType.ARBITRARY_HASH,o.TxAuxiliaryDataType.CIP36_REGISTRATION];(0,d.assert)(r.includes(e.type),"Auxiliary data type not implemented");yield send({p1:8,p2:0,data:(0,h.serializeTxAuxiliaryData)(e),expectedResponseLength:0});if(e.type===o.TxAuxiliaryDataType.CIP36_REGISTRATION){const s=e.params;if((0,l.getCompatibility)(t).supportsCIP36)yield send({p1:8,p2:54,data:(0,u.serializeCVoteRegistrationInit)(e.params),expectedResponseLength:0});if(s.votePublicKey||s.votePublicKeyPath)yield send({p1:8,p2:48,data:(0,u.serializeCVoteRegistrationVoteKey)(s.votePublicKey,s.votePublicKeyPath,t),expectedResponseLength:0});else if(s.delegations){for(const n of s.delegations)yield send({p1:8,p2:55,data:(0,u.serializeCVoteRegistrationDelegation)(n),expectedResponseLength:0})}else{throw Error("wrong CIP36 registration params")}yield send({p1:8,p2:49,data:(0,u.serializeCVoteRegistrationStakingPath)(s.stakingPath),expectedResponseLength:0});yield send({p1:8,p2:50,data:(0,u.serializeCVoteRegistrationPaymentDestination)(s.paymentDestination,t),expectedResponseLength:0});yield send({p1:8,p2:51,data:(0,u.serializeCVoteRegistrationNonce)(s.nonce),expectedResponseLength:0});if((0,l.getCompatibility)(t).supportsCIP36)yield send({p1:8,p2:53,data:(0,u.serializeCVoteRegistrationVotingPurpose)(s.votingPurpose),expectedResponseLength:0});const c=64;const f=yield send({p1:8,p2:52,data:a.alloc(0),expectedResponseLength:i.AUXILIARY_DATA_HASH_LENGTH+c});const p=f.slice(0,i.AUXILIARY_DATA_HASH_LENGTH);const m=f.slice(i.AUXILIARY_DATA_HASH_LENGTH,i.AUXILIARY_DATA_HASH_LENGTH+c);return{type:o.TxAuxiliaryDataSupplementType.CIP36_REGISTRATION,auxiliaryDataHashHex:p.toString("hex"),cip36VoteRegistrationSignatureHex:m.toString("hex")}}return null}function*signTx_setAuxiliaryData_before_v2_3(e){(0,d.assert)(e.type===o.TxAuxiliaryDataType.ARBITRARY_HASH,"Auxiliary data type not implemented");yield send({p1:8,p2:0,data:(0,c.hex_to_buf)(e.hashHex),expectedResponseLength:0});return null}function*signTx_setValidityIntervalStart(e){yield send({p1:9,p2:0,data:(0,_.serializeTxValidityStart)(e)})}function*signTx_setMint(e){yield send({p1:11,p2:48,data:(0,_.serializeMintBasicParams)(e),expectedResponseLength:0});yield*signTx_addTokenBundle(e,11,c.int64_to_buf);yield send({p1:11,p2:51,data:a.alloc(0),expectedResponseLength:0})}function*signTx_setScriptDataHash(e){yield send({p1:12,p2:0,data:(0,c.hex_to_buf)(e)})}function*signTx_addCollateralInput(e){yield send({p1:13,p2:0,data:(0,_.serializeTxInput)(e),expectedResponseLength:0})}function*signTx_addRequiredSigner(e){yield send({p1:14,p2:0,data:(0,_.serializeRequiredSigner)(e),expectedResponseLength:0})}function*signTx_addCollateralOutput(e,t){yield send({p1:18,p2:48,data:(0,v.serializeTxOutputBasicParams)(e,t),expectedResponseLength:0});yield*signTx_addTokenBundle(e.tokenBundle,18,c.uint64_to_buf);yield send({p1:18,p2:51,data:a.concat([]),expectedResponseLength:0})}function*signTx_addTotalCollateral(e){yield send({p1:16,p2:0,data:(0,c.serializeCoin)(e),expectedResponseLength:0})}function*signTx_addReferenceInput(e){yield send({p1:17,p2:0,data:(0,_.serializeTxInput)(e),expectedResponseLength:0})}function*signTx_addVoterVotes(e){yield send({p1:19,p2:0,data:(0,_.serializeVoterVotes)(e),expectedResponseLength:0})}function*signTx_addTreasury(e){yield send({p1:21,p2:0,data:(0,c.serializeCoin)(e),expectedResponseLength:0})}function*signTx_addDonation(e){yield send({p1:22,p2:0,data:(0,c.serializeCoin)(e),expectedResponseLength:0})}function*signTx_awaitConfirm(){const e=yield send({p1:10,p2:0,data:a.alloc(0),expectedResponseLength:i.TX_HASH_LENGTH});return{txHashHex:e.toString("hex")}}function*signTx_getWitness(e){const t=yield send({p1:15,p2:0,data:(0,_.serializeTxWitnessRequest)(e),expectedResponseLength:i.ED25519_SIGNATURE_LENGTH});return{path:e,witnessSignatureHex:(0,c.buf_to_hex)(t)}}function uniquify(e){const t={};e.forEach(e=>{t[JSON.stringify(e)]=e});return Object.values(t)}function gatherWitnessPaths(e){const{tx:t,signingMode:r,additionalWitnessPaths:a}=e;const s=[];if(r!==o.TransactionSigningMode.MULTISIG_TRANSACTION){for(const n of t.inputs)if(null!=n.path)s.push(n.path);for(const d of t.certificates){switch(d.type){case i.CertificateType.STAKE_REGISTRATION_CONWAY:case i.CertificateType.STAKE_DEREGISTRATION:case i.CertificateType.STAKE_DEREGISTRATION_CONWAY:case i.CertificateType.STAKE_DELEGATION:case i.CertificateType.VOTE_DELEGATION:if(0===d.stakeCredential.type)s.push(d.stakeCredential.path);break;case i.CertificateType.AUTHORIZE_COMMITTEE_HOT:case i.CertificateType.RESIGN_COMMITTEE_COLD:if(0===d.coldCredential.type)s.push(d.coldCredential.path);break;case i.CertificateType.DREP_REGISTRATION:case i.CertificateType.DREP_DEREGISTRATION:case i.CertificateType.DREP_UPDATE:if(0===d.dRepCredential.type)s.push(d.dRepCredential.path);break;case i.CertificateType.STAKE_POOL_REGISTRATION:d.pool.owners.forEach(e=>{if(e.type===i.PoolOwnerType.DEVICE_OWNED)s.push(e.path)});if(d.pool.poolKey.type===o.PoolKeyType.DEVICE_OWNED)s.push(d.pool.poolKey.path);break;case i.CertificateType.STAKE_POOL_RETIREMENT:s.push(d.path);break;default:break}}for(const c of t.withdrawals)if(0===c.stakeCredential.type)s.push(c.stakeCredential.path);for(const l of t.requiredSigners){switch(l.type){case 0:s.push(l.path);break;default:break}}for(const u of t.collateralInputs)if(null!=u.path)s.push(u.path);for(const f of t.votingProcedures){switch(f.voter.type){case o.VoterType.COMMITTEE_KEY_PATH:case o.VoterType.DREP_KEY_PATH:case o.VoterType.STAKE_POOL_KEY_PATH:s.push(f.voter.keyPath);break;default:break}}}a.forEach(e=>s.push(e));return uniquify(s)}function hasCredentialInCertificatesPreConway(e,t){return e.certificates.some(e=>(e.type===i.CertificateType.STAKE_DELEGATION||e.type===i.CertificateType.STAKE_REGISTRATION||e.type===i.CertificateType.STAKE_DEREGISTRATION)&&e.stakeCredential.type===t)}function hasCredentialInWithdrawals(e,t){return e.withdrawals.some(e=>e.stakeCredential.type===t)}function hasScriptHashInAddressParams(e){const t=[o.AddressType.BASE_PAYMENT_KEY_STAKE_SCRIPT,o.AddressType.BASE_PAYMENT_SCRIPT_STAKE_KEY,o.AddressType.BASE_PAYMENT_SCRIPT_STAKE_SCRIPT,o.AddressType.ENTERPRISE_SCRIPT,o.AddressType.POINTER_SCRIPT,o.AddressType.REWARD_SCRIPT];return e.outputs.some(e=>e.destination.type===o.TxOutputDestinationType.DEVICE_OWNED&&t.includes(e.destination.addressParams.type))}function ensureRequestSupportedByAppVersion(e,t){var r,a,d;if(t.signingMode===o.TransactionSigningMode.POOL_REGISTRATION_AS_OWNER&&!(0,l.getCompatibility)(e).supportsPoolRegistrationAsOwner){throw new s.DeviceVersionUnsupported(`Pool registration as owner not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.signingMode===o.TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR&&!(0,l.getCompatibility)(e).supportsPoolRegistrationAsOperator){throw new s.DeviceVersionUnsupported(`Pool registration as operator not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.signingMode===o.TransactionSigningMode.MULTISIG_TRANSACTION&&!(0,l.getCompatibility)(e).supportsMultisigTransaction){throw new s.DeviceVersionUnsupported(`Multisig transactions not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.signingMode===o.TransactionSigningMode.PLUTUS_TRANSACTION&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Plutus transactions not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const isOutputByron=e=>null!=e&&e.destination.type===o.TxOutputDestinationType.DEVICE_OWNED&&e.destination.addressParams.type===o.AddressType.BYRON;const c=t.tx.outputs.some(isOutputByron)||isOutputByron(t.tx.collateralOutput);if(c&&!(0,l.getCompatibility)(e).supportsByronAddressDerivation){throw new s.DeviceVersionUnsupported(`Byron address parameters not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(hasScriptHashInAddressParams(t.tx)&&!(0,l.getCompatibility)(e).supportsMultisigTransaction){throw new s.DeviceVersionUnsupported(`Script hash in address parameters in output not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const u=t.tx.outputs.some(e=>null!=e.datum);if(u&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Datum in output not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const f=t.tx.outputs.some(e=>e.format===o.TxOutputFormat.MAP_BABBAGE);if(f&&!(0,l.getCompatibility)(e).supportsBabbage){throw new s.DeviceVersionUnsupported(`Outputs with map format not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if((null===(r=t.tx)||void 0===r?void 0:r.ttl)==="0"&&!(0,l.getCompatibility)(e).supportsZeroTtl){throw new s.DeviceVersionUnsupported(`Zero TTL not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const h=t.tx.certificates.some(e=>e.type===i.CertificateType.STAKE_POOL_REGISTRATION);const p=(0,l.getCompatibility)(e).supportsPoolRegistrationAsOwner||(0,l.getCompatibility)(e).supportsPoolRegistrationAsOperator;if(h&&!p){throw new s.DeviceVersionUnsupported(`Pool registration certificate not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const m=t.tx.certificates.some(e=>e.type===i.CertificateType.STAKE_POOL_RETIREMENT);if(m&&!(0,l.getCompatibility)(e).supportsPoolRetirement){throw new s.DeviceVersionUnsupported(`Pool retirement certificate not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const _=[i.CertificateType.STAKE_REGISTRATION_CONWAY,i.CertificateType.STAKE_DEREGISTRATION_CONWAY,i.CertificateType.VOTE_DELEGATION,i.CertificateType.AUTHORIZE_COMMITTEE_HOT,i.CertificateType.RESIGN_COMMITTEE_COLD,i.CertificateType.DREP_REGISTRATION,i.CertificateType.DREP_DEREGISTRATION,i.CertificateType.DREP_UPDATE];const v=t.tx.certificates.some(e=>_.includes(e.type));if(v&&!(0,l.getCompatibility)(e).supportsConway){throw new s.DeviceVersionUnsupported(`Conway era certificates not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(hasCredentialInCertificatesPreConway(t.tx,1)&&!(0,l.getCompatibility)(e).supportsMultisigTransaction){throw new s.DeviceVersionUnsupported(`Script hash in certificate stake credential not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(hasCredentialInCertificatesPreConway(t.tx,2)&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Key hash in certificate stake credential not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(hasCredentialInWithdrawals(t.tx,1)&&!(0,l.getCompatibility)(e).supportsMultisigTransaction){throw new s.DeviceVersionUnsupported(`Script hash in withdrawal not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(hasCredentialInWithdrawals(t.tx,2)&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Key hash in withdrawal not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if((null===(a=t.tx)||void 0===a?void 0:a.mint)!==null&&!(0,l.getCompatibility)(e).supportsMint){throw new s.DeviceVersionUnsupported(`Mint not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(null!==t.tx.validityIntervalStart&&!(0,l.getCompatibility)(e).supportsMary){throw new s.DeviceVersionUnsupported(`Validity interval start not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(null!==t.tx.scriptDataHashHex&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Script data hash not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.tx.collateralInputs.length>0&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Collateral inputs not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.tx.requiredSigners.length>0){if(!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Required signers not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(!(0,l.getCompatibility)(e).supportsReqSignersInOrdinaryTx){switch(t.signingMode){case o.TransactionSigningMode.ORDINARY_TRANSACTION:throw new s.DeviceVersionUnsupported(`Required signers in ordinary transaction not supported by Ledger app version ${(0,n.getVersionString)(e)}.`);case o.TransactionSigningMode.MULTISIG_TRANSACTION:throw new s.DeviceVersionUnsupported(`Required signers in multisig transaction not supported by Ledger app version ${(0,n.getVersionString)(e)}.`);default:break}}}if(null!==t.tx.includeNetworkId&&!(0,l.getCompatibility)(e).supportsAlonzo){throw new s.DeviceVersionUnsupported(`Network id in tx body not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(null!==t.tx.collateralOutput&&!(0,l.getCompatibility)(e).supportsBabbage){throw new s.DeviceVersionUnsupported(`Collateral output not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(null!==t.tx.totalCollateral&&!(0,l.getCompatibility)(e).supportsBabbage){throw new s.DeviceVersionUnsupported(`Total collateral not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.tx.referenceInputs.length>0&&!(0,l.getCompatibility)(e).supportsBabbage){throw new s.DeviceVersionUnsupported(`Reference inputs not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(t.tx.votingProcedures.length>0&&!(0,l.getCompatibility)(e).supportsConway){throw new s.DeviceVersionUnsupported(`Voting procedures not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(null!==t.tx.treasury&&!(0,l.getCompatibility)(e).supportsConway){throw new s.DeviceVersionUnsupported(`Treasury amount not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}if(null!==t.tx.donation&&!(0,l.getCompatibility)(e).supportsConway){throw new s.DeviceVersionUnsupported(`Treasury donation not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const y=null===(d=t.tx)||void 0===d?void 0:d.auxiliaryData;const w=(null==y?void 0:y.type)===o.TxAuxiliaryDataType.CIP36_REGISTRATION&&y.params.format===o.CIP36VoteRegistrationFormat.CIP_15;if(w&&!(0,l.getCompatibility)(e).supportsCatalystRegistration){throw new s.DeviceVersionUnsupported(`Catalyst registration not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const g=(null==y?void 0:y.type)===o.TxAuxiliaryDataType.CIP36_REGISTRATION&&y.params.format===o.CIP36VoteRegistrationFormat.CIP_36;if(g&&!(0,l.getCompatibility)(e).supportsCIP36){throw new s.DeviceVersionUnsupported(`CIP36 registration not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const b=(null==y?void 0:y.type)===o.TxAuxiliaryDataType.CIP36_REGISTRATION&&null!=y.params.votePublicKeyPath;if(b&&!(0,l.getCompatibility)(e).supportsCIP36Vote){throw new s.DeviceVersionUnsupported(`Vote key derivation path in CIP15/CIP36 registration not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}const P=(null==y?void 0:y.type)===o.TxAuxiliaryDataType.CIP36_REGISTRATION&&y.params.paymentDestination.type!==o.TxOutputDestinationType.DEVICE_OWNED;if(P&&!(0,l.getCompatibility)(e).supportsCIP36){throw new s.DeviceVersionUnsupported(`CIP36 payment addresses not owned by the device not supported by Ledger app version ${(0,n.getVersionString)(e)}.`)}}function*signTransaction(e,t){(0,l.ensureLedgerAppVersionCompatible)(e);ensureRequestSupportedByAppVersion(e,t);const r=(0,l.getCompatibility)(e).supportsCatalystRegistration||(0,l.getCompatibility)(e).supportsCIP36;const{tx:a,signingMode:s}=t;const i=gatherWitnessPaths(t);yield*signTx_init(a,s,i,t.options,e);let o=null;if(r&&null!=a.auxiliaryData)o=yield*signTx_setAuxiliaryData(a.auxiliaryData,e);for(const n of a.inputs)yield*signTx_addInput(n);for(const d of a.outputs)yield*signTx_addOutput(d,e);yield*signTx_setFee(a.fee);if(null!=a.ttl)yield*signTx_setTtl(a.ttl);for(const c of a.certificates)yield*signTx_addCertificate(c,e);for(const u of a.withdrawals)yield*signTx_addWithdrawal(u,e);if(!r&&null!=a.auxiliaryData)o=yield*signTx_setAuxiliaryData_before_v2_3(a.auxiliaryData);if(null!=a.validityIntervalStart)yield*signTx_setValidityIntervalStart(a.validityIntervalStart);if(null!=a.mint)yield*signTx_setMint(a.mint);if(null!=a.scriptDataHashHex)yield*signTx_setScriptDataHash(a.scriptDataHashHex);for(const f of a.collateralInputs)yield*signTx_addCollateralInput(f);for(const h of a.requiredSigners)yield*signTx_addRequiredSigner(h);if(null!=a.collateralOutput)yield*signTx_addCollateralOutput(a.collateralOutput,e);if(null!=a.totalCollateral)yield*signTx_addTotalCollateral(a.totalCollateral);for(const p of a.referenceInputs)yield*signTx_addReferenceInput(p);for(const m of a.votingProcedures)yield*signTx_addVoterVotes(m);if(null!=a.treasury)yield*signTx_addTreasury(a.treasury);if(null!=a.donation)yield*signTx_addDonation(a.donation);const{txHashHex:_}=yield*signTx_awaitConfirm();const v=[];for(const y of i){const w=yield*signTx_getWitness(y);v.push(w)}return{txHashHex:_,witnesses:v,auxiliaryDataSupplement:o}}t.signTransaction=signTransaction},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/address.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseAddress=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/network.js");function extractSpendingDataSource(e,t){if(null!=e){(0,o.validate)(null==t,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_SCRIPT_HASH);return{type:"spending_path",path:(0,o.parseBIP32Path)(e,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_KEY_PATH)}}if(null!=t){(0,o.validate)(null==e,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_KEY_PATH);return{type:"spending_script_hash",scriptHashHex:(0,o.parseHexStringOfLength)(t,i.SCRIPT_HASH_LENGTH,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_SCRIPT_HASH)}}return{type:"no_spending"}}function extractStakingDataSource(e,t,r,a){if(null!=e){(0,o.validate)(null==t,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==r,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==a,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);const n=(0,o.parseBIP32Path)(e,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_KEY_PATH);return{type:"staking_key_path",path:n}}if(null!=t){(0,o.validate)(null==e,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==r,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==a,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);const d=(0,o.parseHexStringOfLength)(t,i.KEY_HASH_LENGTH,s.InvalidDataReason.ADDRESS_INVALID_STAKING_KEY_HASH);return{type:"staking_key_hash",keyHashHex:d}}if(null!=r){(0,o.validate)(null==e,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==t,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==a,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);const c=r;return{type:"blockchain_pointer",pointer:{blockIndex:(0,o.parseUint32_t)(c.blockIndex,s.InvalidDataReason.ADDRESS_INVALID_BLOCKCHAIN_POINTER),txIndex:(0,o.parseUint32_t)(c.txIndex,s.InvalidDataReason.ADDRESS_INVALID_BLOCKCHAIN_POINTER),certificateIndex:(0,o.parseUint32_t)(c.certificateIndex,s.InvalidDataReason.ADDRESS_INVALID_BLOCKCHAIN_POINTER)}}}if(null!=a){(0,o.validate)(null==e,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==t,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);(0,o.validate)(null==r,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);const l=(0,o.parseHexStringOfLength)(a,i.SCRIPT_HASH_LENGTH,s.InvalidDataReason.ADDRESS_INVALID_STAKING_SCRIPT_HASH);return{type:"staking_script_hash",scriptHashHex:l}}return{type:"no_staking"}}function validateSpendingDataSource(e,t){switch(e){case i.AddressType.BASE_PAYMENT_KEY_STAKE_KEY:case i.AddressType.BASE_PAYMENT_KEY_STAKE_SCRIPT:case i.AddressType.POINTER_KEY:case i.AddressType.ENTERPRISE_KEY:case i.AddressType.BYRON:(0,o.validate)("spending_path"===t.type,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_INFO);break;case i.AddressType.BASE_PAYMENT_SCRIPT_STAKE_KEY:case i.AddressType.BASE_PAYMENT_SCRIPT_STAKE_SCRIPT:case i.AddressType.POINTER_SCRIPT:case i.AddressType.ENTERPRISE_SCRIPT:(0,o.validate)("spending_script_hash"===t.type,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_INFO);break;case i.AddressType.REWARD_KEY:case i.AddressType.REWARD_SCRIPT:(0,o.validate)("no_spending"===t.type,s.InvalidDataReason.ADDRESS_INVALID_SPENDING_INFO);break;default:throw new a.InvalidData(s.InvalidDataReason.ADDRESS_UNKNOWN_TYPE)}}function validateStakingDataSource(e,t){switch(e){case i.AddressType.BASE_PAYMENT_KEY_STAKE_KEY:case i.AddressType.BASE_PAYMENT_SCRIPT_STAKE_KEY:case i.AddressType.REWARD_KEY:(0,o.validate)("staking_key_path"===t.type||"staking_key_hash"===t.type,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);break;case i.AddressType.BASE_PAYMENT_SCRIPT_STAKE_SCRIPT:case i.AddressType.BASE_PAYMENT_KEY_STAKE_SCRIPT:case i.AddressType.REWARD_SCRIPT:(0,o.validate)("staking_script_hash"===t.type,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);break;case i.AddressType.POINTER_KEY:case i.AddressType.POINTER_SCRIPT:(0,o.validate)("blockchain_pointer"===t.type,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);break;case i.AddressType.BYRON:case i.AddressType.ENTERPRISE_KEY:case i.AddressType.ENTERPRISE_SCRIPT:(0,o.validate)("no_staking"===t.type,s.InvalidDataReason.ADDRESS_INVALID_STAKING_INFO);break;default:throw new a.InvalidData(s.InvalidDataReason.ADDRESS_UNKNOWN_TYPE)}}function parseAddress(e,t){const r=(0,n.parseNetwork)(e);const a=t.params;const s=extractSpendingDataSource(a.spendingPath,a.spendingScriptHashHex);const o=extractStakingDataSource(a.stakingPath,a.stakingKeyHashHex,a.stakingBlockchainPointer,a.stakingScriptHashHex);validateSpendingDataSource(t.type,s);validateStakingDataSource(t.type,o);if(t.type===i.AddressType.BYRON){return{type:t.type,protocolMagic:r.protocolMagic,spendingDataSource:s,stakingDataSource:o}}{const d=r.networkId;return{type:t.type,networkId:d,spendingDataSource:s,stakingDataSource:o}}}t.parseAddress=parseAddress},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/cVote.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseCVote=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");function parseCVote(e){const t=(0,s.parseHexString)(e.voteCastDataHex,a.InvalidDataReason.CVOTE_INVALID_VOTECAST_DATA);const r=35;(0,s.validate)(t.length>=2*r,a.InvalidDataReason.CVOTE_INVALID_VOTECAST_DATA);const i=(0,s.parseBIP32Path)(e.witnessPath,a.InvalidDataReason.CVOTE_INVALID_WITNESS);return{voteCastDataHex:t,witnessPath:i}}t.parseCVote=parseCVote},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/certificate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseCertificate=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/poolRegistration.js");function parseDRep(e,t){switch(e.type){case n.DRepParamsType.KEY_PATH:return{type:100,path:(0,d.parseBIP32Path)(e.keyPath,t)};case n.DRepParamsType.KEY_HASH:return{type:0,keyHashHex:(0,d.parseHexStringOfLength)(e.keyHashHex,o.KEY_HASH_LENGTH,t)};case n.DRepParamsType.SCRIPT_HASH:return{type:1,scriptHashHex:(0,d.parseHexStringOfLength)(e.scriptHashHex,o.SCRIPT_HASH_LENGTH,t)};case n.DRepParamsType.ABSTAIN:return{type:2};case n.DRepParamsType.NO_CONFIDENCE:return{type:3};default:(0,a.unreachable)(e)}}function parseDeposit(e){return(0,d.parseCoin)(e,i.InvalidDataReason.CERTIFICATE_INVALID_DEPOSIT)}function parseCertificate(e){switch(e.type){case o.CertificateType.STAKE_REGISTRATION:case o.CertificateType.STAKE_DEREGISTRATION:return{type:e.type,stakeCredential:(0,d.parseCredential)(e.params.stakeCredential,i.InvalidDataReason.CERTIFICATE_INVALID_STAKE_CREDENTIAL)};case o.CertificateType.STAKE_REGISTRATION_CONWAY:case o.CertificateType.STAKE_DEREGISTRATION_CONWAY:return{type:e.type,stakeCredential:(0,d.parseCredential)(e.params.stakeCredential,i.InvalidDataReason.CERTIFICATE_INVALID_STAKE_CREDENTIAL),deposit:parseDeposit(e.params.deposit)};case o.CertificateType.STAKE_DELEGATION:return{type:e.type,stakeCredential:(0,d.parseCredential)(e.params.stakeCredential,i.InvalidDataReason.CERTIFICATE_INVALID_STAKE_CREDENTIAL),poolKeyHashHex:(0,d.parseHexStringOfLength)(e.params.poolKeyHashHex,o.KEY_HASH_LENGTH,i.InvalidDataReason.CERTIFICATE_INVALID_POOL_KEY_HASH)};case o.CertificateType.VOTE_DELEGATION:return{type:e.type,stakeCredential:(0,d.parseCredential)(e.params.stakeCredential,i.InvalidDataReason.CERTIFICATE_INVALID_STAKE_CREDENTIAL),dRep:parseDRep(e.params.dRep,i.InvalidDataReason.CERTIFICATE_INVALID_DREP)};case o.CertificateType.AUTHORIZE_COMMITTEE_HOT:return{type:e.type,coldCredential:(0,d.parseCredential)(e.params.coldCredential,i.InvalidDataReason.CERTIFICATE_INVALID_COMMITTEE_CREDENTIAL),hotCredential:(0,d.parseCredential)(e.params.hotCredential,i.InvalidDataReason.CERTIFICATE_INVALID_COMMITTEE_CREDENTIAL)};case o.CertificateType.RESIGN_COMMITTEE_COLD:return{type:e.type,coldCredential:(0,d.parseCredential)(e.params.coldCredential,i.InvalidDataReason.CERTIFICATE_INVALID_COMMITTEE_CREDENTIAL),anchor:null==e.params.anchor?null:(0,d.parseAnchor)(e.params.anchor)};case o.CertificateType.DREP_REGISTRATION:return{type:e.type,dRepCredential:(0,d.parseCredential)(e.params.dRepCredential,i.InvalidDataReason.CERTIFICATE_INVALID_DREP_CREDENTIAL),deposit:parseDeposit(e.params.deposit),anchor:null==e.params.anchor?null:(0,d.parseAnchor)(e.params.anchor)};case o.CertificateType.DREP_DEREGISTRATION:return{type:e.type,dRepCredential:(0,d.parseCredential)(e.params.dRepCredential,i.InvalidDataReason.CERTIFICATE_INVALID_DREP_CREDENTIAL),deposit:parseDeposit(e.params.deposit)};case o.CertificateType.DREP_UPDATE:return{type:e.type,dRepCredential:(0,d.parseCredential)(e.params.dRepCredential,i.InvalidDataReason.CERTIFICATE_INVALID_DREP_CREDENTIAL),anchor:null==e.params.anchor?null:(0,d.parseAnchor)(e.params.anchor)};case o.CertificateType.STAKE_POOL_REGISTRATION:return{type:e.type,pool:(0,c.parsePoolParams)(e.params)};case o.CertificateType.STAKE_POOL_RETIREMENT:return{type:e.type,path:(0,d.parseBIP32Path)(e.params.poolKeyPath,i.InvalidDataReason.CERTIFICATE_INVALID_PATH),retirementEpoch:(0,d.parseUint64_str)(e.params.retirementEpoch,{},i.InvalidDataReason.POOL_RETIREMENT_INVALID_RETIREMENT_EPOCH)};default:throw new s.InvalidData(i.InvalidDataReason.CERTIFICATE_INVALID_TYPE)}}t.parseCertificate=parseCertificate},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/constants.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TOKENS_IN_GROUP_MAX=t.ASSET_GROUPS_MAX=t.POOL_REGISTRATION_RELAYS_MAX=t.POOL_REGISTRATION_OWNERS_MAX=t.MAX_LOVELACE_SUPPLY_STR=void 0;t.MAX_LOVELACE_SUPPLY_STR="45 000 000 000.000000".replace(/[ .]/,"");t.POOL_REGISTRATION_OWNERS_MAX=1e3;t.POOL_REGISTRATION_RELAYS_MAX=1e3;t.ASSET_GROUPS_MAX=1e3;t.TOKENS_IN_GROUP_MAX=1e3},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/messageData.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.parseMessageData=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/address.js");function isPrintableAscii(e){for(let t=0;t<e.length;t++){if(e[t]>126)return false;if(e[t]<32)return false}return true}function isAscii(e){const t=a.from(e,"hex");if(0===t.length)return false;if(!isPrintableAscii(t))return false;const r=" ".charCodeAt(0);if(t[0]===r)return false;if(t[t.length-1]===r)return false;for(let s=0;s+1<t.length;s++)if(t[s]===r&&t[s+1]===r)return false;return true}function parseMessageData(e){const t=e.preferHexDisplay||false;const r={signingPath:(0,n.parseBIP32Path)(e.signingPath,i.InvalidDataReason.MESSAGE_DATA_INVALID_WITNESS_PATH),isAscii:isAscii(e.messageHex)&&!t,hashPayload:e.hashPayload,messageHex:(0,n.parseHexString)(e.messageHex,i.InvalidDataReason.MESSAGE_DATA_INVALID_MESSAGE_HEX)};switch(e.addressFieldType){case o.MessageAddressFieldType.ADDRESS:return Object.assign(Object.assign({},r),{addressFieldType:o.MessageAddressFieldType.ADDRESS,address:(0,d.parseAddress)(e.network,e.address)});case o.MessageAddressFieldType.KEY_HASH:return Object.assign(Object.assign({},r),{addressFieldType:o.MessageAddressFieldType.KEY_HASH});default:(0,s.unreachable)(e)}}t.parseMessageData=parseMessageData},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/nativeScript.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseNativeScriptHashDisplayFormat=t.parseNativeScript=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");function parseNativeScript(e){const t=e.params;switch(e.type){case i.NativeScriptType.PUBKEY_DEVICE_OWNED:(0,o.validate)(null==t.keyHashHex,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.requiredCount,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.slot,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.scripts,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);return{type:e.type,params:{path:(0,o.parseBIP32Path)(t.path,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_KEY_PATH)}};case i.NativeScriptType.PUBKEY_THIRD_PARTY:(0,o.validate)(null==t.path,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.requiredCount,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.slot,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.scripts,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);return{type:e.type,params:{keyHashHex:(0,o.parseHexStringOfLength)(t.keyHashHex,s.KEY_HASH_LENGTH,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_KEY_HASH)}};case i.NativeScriptType.ALL:case i.NativeScriptType.ANY:(0,o.validate)(null==t.path,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.keyHashHex,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.requiredCount,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.slot,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)((0,o.isArray)(t.scripts),a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_SCRIPTS_NOT_AN_ARRAY);return{type:e.type,params:{scripts:t.scripts.map(parseNativeScript)}};case i.NativeScriptType.N_OF_K:{(0,o.validate)(null==t.path,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.keyHashHex,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.slot,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)((0,o.isArray)(t.scripts),a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_SCRIPTS_NOT_AN_ARRAY);const r=(0,o.parseUint32_t)(t.requiredCount,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_REQUIRED_COUNT);(0,o.validate)(r<=t.scripts.length,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_REQUIRED_COUNT_HIGHER_THAN_NUMBER_OF_SCRIPTS);return{type:e.type,params:{requiredCount:r,scripts:t.scripts.map(parseNativeScript)}}}case i.NativeScriptType.INVALID_BEFORE:case i.NativeScriptType.INVALID_HEREAFTER:(0,o.validate)(null==t.path,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.keyHashHex,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.requiredCount,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);(0,o.validate)(null==t.scripts,a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DATA);return{type:e.type,params:{slot:(0,o.parseUint64_str)(t.slot,{},a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_TOKEN_LOCKING_SLOT)}};default:throw new a.InvalidData(a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_UNKNOWN_TYPE)}}t.parseNativeScript=parseNativeScript;function parseNativeScriptHashDisplayFormat(e){switch(e){case i.NativeScriptHashDisplayFormat.BECH32:case i.NativeScriptHashDisplayFormat.POLICY_ID:break;default:throw new a.InvalidData(a.InvalidDataReason.DERIVE_NATIVE_SCRIPT_HASH_INVALID_DISPLAY_FORMAT)}return e}t.parseNativeScriptHashDisplayFormat=parseNativeScriptHashDisplayFormat},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/network.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseNetwork=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");function parseNetwork(e){const t={protocolMagic:(0,s.parseUint32_t)(e.protocolMagic,a.InvalidDataReason.NETWORK_INVALID_PROTOCOL_MAGIC),networkId:(0,s.parseUint8_t)(e.networkId,a.InvalidDataReason.NETWORK_INVALID_NETWORK_ID)};(0,s.validate)(t.networkId<=15,a.InvalidDataReason.NETWORK_INVALID_NETWORK_ID);return t}t.parseNetwork=parseNetwork},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/operationalCertificate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseOperationalCertificate=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");function parseOperationalCertificate(e){return{kesPublicKeyHex:(0,i.parseHexStringOfLength)(e.kesPublicKeyHex,s.KES_PUBLIC_KEY_LENGTH,a.InvalidDataReason.OPERATIONAL_CERTIFICATE_INVALID_KES_KEY),kesPeriod:(0,i.parseUint64_str)(e.kesPeriod,{},a.InvalidDataReason.OPERATIONAL_CERTIFICATE_INVALID_KES_PERIOD),issueCounter:(0,i.parseUint64_str)(e.issueCounter,{},a.InvalidDataReason.OPERATIONAL_CERTIFICATE_INVALID_ISSUE_COUNTER),coldKeyPath:(0,i.parseBIP32Path)(e.coldKeyPath,a.InvalidDataReason.OPERATIONAL_CERTIFICATE_INVALID_COLD_KEY_PATH)}}t.parseOperationalCertificate=parseOperationalCertificate},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/output.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseTxOutput=t.parseTxDestination=t.parseTokenBundle=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/address.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/constants.js");function parseToken(e,t){const r=(0,n.parseHexString)(e.assetNameHex,s.InvalidDataReason.MULTIASSET_INVALID_ASSET_NAME);(0,n.validate)(e.assetNameHex.length<=2*i.ASSET_NAME_LENGTH_MAX,s.InvalidDataReason.MULTIASSET_INVALID_ASSET_NAME);const a=t(e.amount,{},s.InvalidDataReason.MULTIASSET_INVALID_TOKEN_AMOUNT);return{assetNameHex:r,amount:a}}function parseAssetGroup(e,t){(0,n.validate)((0,n.isArray)(e.tokens),s.InvalidDataReason.MULTIASSET_INVALID_ASSET_GROUP_NOT_ARRAY);(0,n.validate)(e.tokens.length<=c.TOKENS_IN_GROUP_MAX,s.InvalidDataReason.MULTIASSET_INVALID_ASSET_GROUP_TOO_LARGE);(0,n.validate)(e.tokens.length>0,s.InvalidDataReason.MULTIASSET_INVALID_ASSET_GROUP_EMPTY);const r={policyIdHex:(0,n.parseHexStringOfLength)(e.policyIdHex,i.TOKEN_POLICY_LENGTH,s.InvalidDataReason.MULTIASSET_INVALID_POLICY_NAME),tokens:e.tokens.map(e=>parseToken(e,t))};const a=r.tokens.map(e=>e.assetNameHex);(0,n.validate)(a.length===new Set(a).size,s.InvalidDataReason.MULTIASSET_INVALID_ASSET_GROUP_NOT_UNIQUE);const o=[...a].sort((e,t)=>{if(e.length===t.length)return e.localeCompare(t);return e.length-t.length});(0,n.validate)(JSON.stringify(a)===JSON.stringify(o),s.InvalidDataReason.MULTIASSET_INVALID_ASSET_GROUP_ORDERING);return r}function parseTokenBundle(e,t,r){(0,n.validate)((0,n.isArray)(e),s.InvalidDataReason.MULTIASSET_INVALID_TOKEN_BUNDLE_NOT_ARRAY);(0,n.validate)(e.length<=c.ASSET_GROUPS_MAX,s.InvalidDataReason.MULTIASSET_INVALID_TOKEN_BUNDLE_TOO_LARGE);(0,n.validate)(t||e.length>0,s.InvalidDataReason.MULTIASSET_INVALID_TOKEN_BUNDLE_EMPTY);const a=e.map(e=>parseAssetGroup(e,r));const i=a.map(e=>e.policyIdHex);(0,n.validate)(i.length===new Set(i).size,s.InvalidDataReason.MULTIASSET_INVALID_TOKEN_BUNDLE_NOT_UNIQUE);const o=[...i].sort();(0,n.validate)(JSON.stringify(i)===JSON.stringify(o),s.InvalidDataReason.MULTIASSET_INVALID_TOKEN_BUNDLE_ORDERING);return a}t.parseTokenBundle=parseTokenBundle;function parseDatumHash(e){return{type:o.DatumType.HASH,datumHashHex:(0,n.parseHexStringOfLength)(e,i.DATUM_HASH_LENGTH,s.InvalidDataReason.OUTPUT_INVALID_DATUM_HASH)}}function parseDatum(e){var t,r;if(e.format===o.TxOutputFormat.MAP_BABBAGE){switch(null===(t=e.datum)||void 0===t?void 0:t.type){case o.DatumType.HASH:return parseDatumHash(null===(r=e.datum)||void 0===r?void 0:r.datumHashHex);case o.DatumType.INLINE:return{type:o.DatumType.INLINE,datumHex:(0,n.parseHexString)(e.datum.datumHex,s.InvalidDataReason.OUTPUT_INVALID_INLINE_DATUM)};default:return null}}else{return null==e.datumHashHex?null:parseDatumHash(e.datumHashHex)}}function parseTxDestination(e,t,r){switch(t.type){case o.TxOutputDestinationType.THIRD_PARTY:{const i=t.params;const c=(0,n.parseHexString)(i.addressHex,s.InvalidDataReason.OUTPUT_INVALID_ADDRESS);(0,n.validate)(i.addressHex.length<=256,s.InvalidDataReason.OUTPUT_INVALID_ADDRESS);return{type:o.TxOutputDestinationType.THIRD_PARTY,addressHex:c}}case o.TxOutputDestinationType.DEVICE_OWNED:{const l=t.params;const u=(0,d.parseAddress)(e,l);if(r)(0,n.validate)("spending_path"===u.spendingDataSource.type,s.InvalidDataReason.OUTPUT_INVALID_ADDRESS_PARAMS);return{type:o.TxOutputDestinationType.DEVICE_OWNED,addressParams:u}}default:throw new a.InvalidData(s.InvalidDataReason.ADDRESS_UNKNOWN_TYPE)}}t.parseTxDestination=parseTxDestination;function parseTxOutput(e,t){var r;const a=e.format===o.TxOutputFormat.MAP_BABBAGE?o.TxOutputFormat.MAP_BABBAGE:o.TxOutputFormat.ARRAY_LEGACY;const i=(0,n.parseCoin)(e.amount,s.InvalidDataReason.OUTPUT_INVALID_AMOUNT);const d=parseTokenBundle(null!==(r=e.tokenBundle)&&void 0!==r?r:[],true,n.parseUint64_str);const c=parseTxDestination(t,e.destination,true);const l=parseDatum(e);if((null==l?void 0:l.type)===o.DatumType.INLINE)(0,n.validate)(e.format===o.TxOutputFormat.MAP_BABBAGE,s.InvalidDataReason.OUTPUT_INCONSISTENT_DATUM);const u=e.format===o.TxOutputFormat.MAP_BABBAGE&&e.referenceScriptHex?(0,n.parseHexString)(e.referenceScriptHex,s.InvalidDataReason.OUTPUT_INVALID_REFERENCE_SCRIPT_HEX):null;if(null!=u)(0,n.validate)(e.format===o.TxOutputFormat.MAP_BABBAGE,s.InvalidDataReason.OUTPUT_INCONSISTENT_REFERENCE_SCRIPT);return{format:a,amount:i,tokenBundle:d,destination:c,datum:l,referenceScriptHex:u}}t.parseTxOutput=parseTxOutput},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/poolRegistration.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.parsePoolParams=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/constants.js");function parseMargin(e){const t="1 000 000 000 000 000 000".replace(/[ ]/,"");const r=(0,d.parseUint64_str)(e.denominator,{max:t},i.InvalidDataReason.POOL_REGISTRATION_INVALID_MARGIN_DENOMINATOR);const a=(0,d.parseUint64_str)(e.numerator,{max:r},i.InvalidDataReason.POOL_REGISTRATION_INVALID_MARGIN);return{numerator:a,denominator:r}}function parsePoolKey(e){switch(e.type){case n.PoolKeyType.DEVICE_OWNED:{const t=e.params;const r=(0,d.parseBIP32Path)(t.path,i.InvalidDataReason.POOL_KEY_INVALID_PATH);return{type:n.PoolKeyType.DEVICE_OWNED,path:r}}case n.PoolKeyType.THIRD_PARTY:{const a=e.params;const c=(0,d.parseHexStringOfLength)(a.keyHashHex,o.KEY_HASH_LENGTH,i.InvalidDataReason.POOL_KEY_INVALID_KEY_HASH);return{type:n.PoolKeyType.THIRD_PARTY,hashHex:c}}default:throw new s.InvalidData(i.InvalidDataReason.POOL_KEY_INVALID_TYPE)}}function parsePoolOwnerParams(e){switch(e.type){case n.PoolOwnerType.DEVICE_OWNED:{const t=e.params;const r=(0,d.parseBIP32Path)(t.stakingPath,i.InvalidDataReason.POOL_OWNER_INVALID_PATH);return{type:n.PoolOwnerType.DEVICE_OWNED,path:r}}case n.PoolOwnerType.THIRD_PARTY:{const a=e.params;const c=(0,d.parseHexStringOfLength)(a.stakingKeyHashHex,o.KEY_HASH_LENGTH,i.InvalidDataReason.POOL_OWNER_INVALID_KEY_HASH);return{type:n.PoolOwnerType.THIRD_PARTY,hashHex:c}}default:throw new s.InvalidData(i.InvalidDataReason.POOL_OWNER_INVALID_TYPE)}}function parseRewardAccount(e){switch(e.type){case n.PoolRewardAccountType.DEVICE_OWNED:{const t=e.params;const r=(0,d.parseBIP32Path)(t.path,i.InvalidDataReason.POOL_REWARD_ACCOUNT_INVALID_PATH);return{type:n.PoolRewardAccountType.DEVICE_OWNED,path:r}}case n.PoolRewardAccountType.THIRD_PARTY:{const a=e.params;const c=(0,d.parseHexStringOfLength)(a.rewardAccountHex,o.REWARD_ACCOUNT_HEX_LENGTH,i.InvalidDataReason.POOL_REWARD_ACCOUNT_INVALID_HEX);return{type:n.PoolRewardAccountType.THIRD_PARTY,rewardAccountHex:c}}default:throw new s.InvalidData(i.InvalidDataReason.POOL_REWARD_ACCOUNT_INVALID_TYPE)}}function parsePort(e,t){(0,d.validate)((0,d.isUint16)(e),t);return e}function parseIPv4(e,t){(0,d.validate)((0,d.isString)(e),t);const r=e.split(".");(0,d.validate)(4===r.length,t);const s=a.alloc(4);for(let o=0;o<4;o++){const n=(0,d.parseIntFromStr)(r[o],i.InvalidDataReason.RELAY_INVALID_IPV4);(0,d.validate)((0,d.isUint8)(n),t);s.writeUInt8(n,o)}return s}function parseIPv6(e,t){(0,d.validate)((0,d.isString)(e),t);const r=e.split(":").join("");(0,d.validate)((0,d.isHexStringOfLength)(r,16),t);return(0,c.hex_to_buf)(r)}function parseDnsName(e,t){(0,d.validate)((0,d.isString)(e),t);(0,d.validate)(e.length<=o.MAX_DNS_NAME_LENGTH,t);(0,d.validate)(e.length>0,t);(0,d.validate)(/^[\x00-\x7F]*$/.test(e),t);(0,d.validate)(e.split("").every(e=>e.charCodeAt(0)>=32&&e.charCodeAt(0)<=126),t);return e}function parsePoolRelayParams(e){switch(e.type){case 0:{const t=e.params;return{type:0,port:"portNumber"in t&&null!=t.portNumber?parsePort(t.portNumber,i.InvalidDataReason.RELAY_INVALID_PORT):null,ipv4:"ipv4"in t&&null!=t.ipv4?parseIPv4(t.ipv4,i.InvalidDataReason.RELAY_INVALID_IPV4):null,ipv6:"ipv6"in t&&null!=t.ipv6?parseIPv6(t.ipv6,i.InvalidDataReason.RELAY_INVALID_IPV6):null}}case 1:{const r=e.params;return{type:1,port:"portNumber"in r&&null!=r.portNumber?parsePort(r.portNumber,i.InvalidDataReason.RELAY_INVALID_PORT):null,dnsName:parseDnsName(r.dnsName,i.InvalidDataReason.RELAY_INVALID_DNS)}}case 2:{const a=e.params;return{type:2,dnsName:parseDnsName(a.dnsName,i.InvalidDataReason.RELAY_INVALID_DNS)}}default:throw new s.InvalidData(i.InvalidDataReason.RELAY_INVALID_TYPE)}}function parsePoolMetadataParams(e){const t=(0,d.parseAscii)(e.metadataUrl,i.InvalidDataReason.POOL_REGISTRATION_METADATA_INVALID_URL);(0,d.validate)(t.length<=o.MAX_URL_LENGTH,i.InvalidDataReason.POOL_REGISTRATION_METADATA_INVALID_URL);const r=(0,d.parseHexStringOfLength)(e.metadataHashHex,o.AUXILIARY_DATA_HASH_LENGTH,i.InvalidDataReason.POOL_REGISTRATION_METADATA_INVALID_HASH);return{url:t,hashHex:r,__brand:"pool_metadata"}}function parsePoolParams(e){const t=parsePoolKey(e.poolKey);const r=(0,d.parseHexStringOfLength)(e.vrfKeyHashHex,o.VRF_KEY_HASH_LENGTH,i.InvalidDataReason.POOL_REGISTRATION_INVALID_VRF_KEY_HASH);const a=(0,d.parseCoin)(e.pledge,i.InvalidDataReason.POOL_REGISTRATION_INVALID_PLEDGE);const s=(0,d.parseCoin)(e.cost,i.InvalidDataReason.POOL_REGISTRATION_INVALID_COST);const n=parseMargin(e.margin);const c=parseRewardAccount(e.rewardAccount);const u=e.poolOwners.map(e=>parsePoolOwnerParams(e));const f=e.relays.map(e=>parsePoolRelayParams(e));const h=null==e.metadata?null:parsePoolMetadataParams(e.metadata);(0,d.validate)(u.length<=l.POOL_REGISTRATION_OWNERS_MAX,i.InvalidDataReason.POOL_REGISTRATION_OWNERS_TOO_MANY);(0,d.validate)(f.length<=l.POOL_REGISTRATION_RELAYS_MAX,i.InvalidDataReason.POOL_REGISTRATION_RELAYS_TOO_MANY);return{poolKey:t,vrfHashHex:r,pledge:a,cost:s,margin:n,rewardAccount:c,owners:u,relays:f,metadata:h}}t.parsePoolParams=parsePoolParams},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/transaction.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseSignTransactionRequest=t.parseTransaction=t.parseSigningMode=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/certificate.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/constants.js");const u=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/network.js");const f=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/output.js");const h=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/txAuxiliaryData.js");function parseCertificates(e){(0,d.validate)((0,d.isArray)(e),s.InvalidDataReason.CERTIFICATES_NOT_ARRAY);const t=e.map(e=>(0,c.parseCertificate)(e));return t}function parseBoolean(e,t){(0,d.validate)("boolean"==typeof e,t);return e}function parseTxInput(e){const t=(0,d.parseHexStringOfLength)(e.txHashHex,i.TX_HASH_LENGTH,s.InvalidDataReason.INPUT_INVALID_TX_HASH);const r=(0,d.parseUint32_t)(e.outputIndex,s.InvalidDataReason.INPUT_INVALID_UTXO_INDEX);return{txHashHex:t,outputIndex:r,path:null!=e.path?(0,d.parseBIP32Path)(e.path,s.InvalidDataReason.INPUT_INVALID_PATH):null}}function parseWithdrawal(e){return{amount:(0,d.parseCoin)(e.amount,s.InvalidDataReason.WITHDRAWAL_INVALID_AMOUNT),stakeCredential:(0,d.parseCredential)(e.stakeCredential,s.InvalidDataReason.WITHDRAWAL_INVALID_STAKE_CREDENTIAL)}}function parseRequiredSigner(e){switch(e.type){case o.TxRequiredSignerType.PATH:return{type:0,path:(0,d.parseBIP32Path)(e.path,s.InvalidDataReason.REQUIRED_SIGNER_INVALID_PATH)};case o.TxRequiredSignerType.HASH:return{type:1,hashHex:(0,d.parseHexStringOfLength)(e.hashHex,i.KEY_HASH_LENGTH,s.InvalidDataReason.VKEY_HASH_WRONG_LENGTH)};default:throw new a.InvalidData(s.InvalidDataReason.UNKNOWN_REQUIRED_SIGNER_TYPE)}}function parseVoter(e){const t=s.InvalidDataReason.VOTER_INVALID;switch(e.type){case o.VoterType.COMMITTEE_KEY_HASH:case o.VoterType.DREP_KEY_HASH:case o.VoterType.STAKE_POOL_KEY_HASH:return{type:e.type,keyHashHex:(0,d.parseHexStringOfLength)(e.keyHashHex,i.KEY_HASH_LENGTH,t)};case o.VoterType.COMMITTEE_KEY_PATH:case o.VoterType.DREP_KEY_PATH:case o.VoterType.STAKE_POOL_KEY_PATH:return{type:e.type,keyPath:(0,d.parseBIP32Path)(e.keyPath,t)};case o.VoterType.DREP_SCRIPT_HASH:case o.VoterType.COMMITTEE_SCRIPT_HASH:return{type:e.type,scriptHashHex:(0,d.parseHexStringOfLength)(e.scriptHashHex,i.SCRIPT_HASH_LENGTH,t)};default:(0,n.unreachable)(e)}}function parseVote(e){return{govActionId:{txHashHex:(0,d.parseHexStringOfLength)(e.govActionId.txHashHex,i.TX_HASH_LENGTH,s.InvalidDataReason.GOV_ACTION_ID_INVALID_TX_HASH),govActionIndex:(0,d.parseUint32_t)(e.govActionId.govActionIndex,s.InvalidDataReason.GOV_ACTION_ID_INVALID_INDEX)},votingProcedure:{vote:e.votingProcedure.vote,anchor:null==e.votingProcedure.anchor?null:(0,d.parseAnchor)(e.votingProcedure.anchor)}}}function parseVoterVotes(e){(0,d.validate)((0,d.isArray)(e.votes),s.InvalidDataReason.VOTER_VOTES_NOT_ARRAY);return{voter:parseVoter(e.voter),votes:e.votes.map(e=>parseVote(e))}}function parseSigningMode(e){switch(e){case o.TransactionSigningMode.ORDINARY_TRANSACTION:case o.TransactionSigningMode.POOL_REGISTRATION_AS_OWNER:case o.TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR:case o.TransactionSigningMode.MULTISIG_TRANSACTION:case o.TransactionSigningMode.PLUTUS_TRANSACTION:return e;default:throw new a.InvalidData(s.InvalidDataReason.SIGN_MODE_UNKNOWN)}}t.parseSigningMode=parseSigningMode;function parseTransaction(e){var t,r,a,o,n,c,p,m,_,v,y,w;const g=(0,u.parseNetwork)(e.network);(0,d.validate)((0,d.isArray)(e.inputs),s.InvalidDataReason.INPUTS_NOT_ARRAY);const b=e.inputs.map(e=>parseTxInput(e));(0,d.validate)((0,d.isArray)(e.outputs),s.InvalidDataReason.OUTPUTS_NOT_ARRAY);const P=e.outputs.map(t=>(0,f.parseTxOutput)(t,e.network));const C=(0,d.parseCoin)(e.fee,s.InvalidDataReason.FEE_INVALID);const S=null==e.ttl?null:(0,d.parseUint64_str)(e.ttl,{},s.InvalidDataReason.TTL_INVALID);(0,d.validate)((0,d.isArray)(null!==(t=e.certificates)&&void 0!==t?t:[]),s.InvalidDataReason.CERTIFICATES_NOT_ARRAY);const T=parseCertificates(null!==(r=e.certificates)&&void 0!==r?r:[]);(0,d.validate)((0,d.isArray)(null!==(a=e.withdrawals)&&void 0!==a?a:[]),s.InvalidDataReason.WITHDRAWALS_NOT_ARRAY);const E=(null!==(o=e.withdrawals)&&void 0!==o?o:[]).map(e=>parseWithdrawal(e));const k=null==e.auxiliaryData?null:(0,h.parseTxAuxiliaryData)(g,e.auxiliaryData);const A=null==e.validityIntervalStart?null:(0,d.parseUint64_str)(e.validityIntervalStart,{},s.InvalidDataReason.VALIDITY_INTERVAL_START_INVALID);const I=null==e.mint?null:(0,f.parseTokenBundle)(e.mint,false,d.parseInt64_str);const j=null==e.scriptDataHashHex?null:(0,d.parseHexStringOfLength)(e.scriptDataHashHex,i.SCRIPT_DATA_HASH_LENGTH,s.InvalidDataReason.SCRIPT_DATA_HASH_WRONG_LENGTH);(0,d.validate)((0,d.isArray)(null!==(n=e.collateralInputs)&&void 0!==n?n:[]),s.InvalidDataReason.COLLATERAL_INPUTS_NOT_ARRAY);const x=(null!==(c=e.collateralInputs)&&void 0!==c?c:[]).map(e=>parseTxInput(e));(0,d.validate)((0,d.isArray)(null!==(p=e.requiredSigners)&&void 0!==p?p:[]),s.InvalidDataReason.REQUIRED_SIGNERS_NOT_ARRAY);const R=(null!==(m=e.requiredSigners)&&void 0!==m?m:[]).map(e=>parseRequiredSigner(e));const B=null!=e.includeNetworkId&&parseBoolean(e.includeNetworkId,s.InvalidDataReason.NETWORK_ID_INCLUDE_INVALID);const O=null==e.collateralOutput?null:(0,f.parseTxOutput)(e.collateralOutput,e.network);(0,d.validate)((null==O?void 0:O.datum)==null,s.InvalidDataReason.COLLATERAL_INPUT_CONTAINS_DATUM);(0,d.validate)((null==O?void 0:O.referenceScriptHex)==null,s.InvalidDataReason.COLLATERAL_INPUT_CONTAINS_REFERENCE_SCRIPT);const D=null==e.totalCollateral?null:(0,d.parseCoin)(e.totalCollateral,s.InvalidDataReason.TOTAL_COLLATERAL_NOT_VALID);(0,d.validate)((0,d.isArray)(null!==(_=e.referenceInputs)&&void 0!==_?_:[]),s.InvalidDataReason.REFERENCE_INPUTS_NOT_ARRAY);const M=(null!==(v=e.referenceInputs)&&void 0!==v?v:[]).map(e=>parseTxInput(e));(0,d.validate)((0,d.isArray)(null!==(y=e.votingProcedures)&&void 0!==y?y:[]),s.InvalidDataReason.VOTING_PROCEDURES_NOT_ARRAY);const F=(null!==(w=e.votingProcedures)&&void 0!==w?w:[]).map(e=>parseVoterVotes(e));(0,d.validate)(F.length<=1,s.InvalidDataReason.VOTING_PROCEDURES_INVALID_NUMBER_OF_VOTERS);for(const N of F)(0,d.validate)(1===N.votes.length,s.InvalidDataReason.VOTING_PROCEDURES_INVALID_NUMBER_OF_VOTES);const H=null==e.treasury?null:(0,d.parseCoin)(e.treasury,s.InvalidDataReason.TREASURY_NOT_VALID);const G=null==e.donation?null:(0,d.parseUint64_str)(e.donation,{min:"1",max:l.MAX_LOVELACE_SUPPLY_STR},s.InvalidDataReason.DONATION_NOT_VALID);return{network:g,inputs:b,outputs:P,ttl:S,auxiliaryData:k,validityIntervalStart:A,withdrawals:E,certificates:T,fee:C,mint:I,scriptDataHashHex:j,collateralInputs:x,requiredSigners:R,includeNetworkId:B,collateralOutput:O,totalCollateral:D,referenceInputs:M,votingProcedures:F,treasury:H,donation:G}}t.parseTransaction=parseTransaction;function parseTxOptions(e){return{tagCborSets:(null==e?void 0:e.tagCborSets)||false}}function parseSignTransactionRequest(e){var t,r;const a=parseTransaction(e.tx);const c=parseSigningMode(e.signingMode);const l=parseTxOptions(e.options);(0,d.validate)((0,d.isArray)(null!==(t=e.additionalWitnessPaths)&&void 0!==t?t:[]),s.InvalidDataReason.ADDITIONAL_WITNESSES_NOT_ARRAY);const u=(null!==(r=e.additionalWitnessPaths)&&void 0!==r?r:[]).map(e=>(0,d.parseBIP32Path)(e,s.InvalidDataReason.INVALID_PATH));switch(c){case o.TransactionSigningMode.ORDINARY_TRANSACTION:(0,d.validate)(a.certificates.every(e=>e.type!==i.CertificateType.STAKE_POOL_REGISTRATION),s.InvalidDataReason.SIGN_MODE_ORDINARY__POOL_REGISTRATION_NOT_ALLOWED);(0,d.validate)(a.certificates.every(e=>{switch(e.type){case i.CertificateType.STAKE_REGISTRATION:case i.CertificateType.STAKE_REGISTRATION_CONWAY:case i.CertificateType.STAKE_DEREGISTRATION:case i.CertificateType.STAKE_DEREGISTRATION_CONWAY:case i.CertificateType.STAKE_DELEGATION:case i.CertificateType.VOTE_DELEGATION:return 0===e.stakeCredential.type;default:return true}}),s.InvalidDataReason.SIGN_MODE_ORDINARY__CERTIFICATE_STAKE_CREDENTIAL_ONLY_AS_PATH);(0,d.validate)(a.certificates.every(e=>{switch(e.type){case i.CertificateType.AUTHORIZE_COMMITTEE_HOT:case i.CertificateType.RESIGN_COMMITTEE_COLD:return 0===e.coldCredential.type;default:return true}}),s.InvalidDataReason.SIGN_MODE_ORDINARY__CERTIFICATE_COMMITTEE_COLD_CREDENTIAL_ONLY_AS_PATH);(0,d.validate)(a.certificates.every(e=>{switch(e.type){case i.CertificateType.DREP_REGISTRATION:case i.CertificateType.DREP_DEREGISTRATION:case i.CertificateType.DREP_UPDATE:return 0===e.dRepCredential.type;default:return true}}),s.InvalidDataReason.SIGN_MODE_ORDINARY__CERTIFICATE_DREP_CREDENTIAL_ONLY_AS_PATH);(0,d.validate)(a.withdrawals.every(e=>0===e.stakeCredential.type),s.InvalidDataReason.SIGN_MODE_ORDINARY__WITHDRAWAL_ONLY_AS_PATH);(0,d.validate)(0===a.collateralInputs.length,s.InvalidDataReason.SIGN_MODE_ORDINARY__COLLATERAL_INPUTS_NOT_ALLOWED);(0,d.validate)(null==a.collateralOutput,s.InvalidDataReason.SIGN_MODE_ORDINARY__COLLATERAL_OUTPUT_NOT_ALLOWED);(0,d.validate)(null==a.totalCollateral,s.InvalidDataReason.SIGN_MODE_ORDINARY__TOTAL_COLLATERAL_NOT_ALLOWED);(0,d.validate)(0===a.referenceInputs.length,s.InvalidDataReason.SIGN_MODE_ORDINARY__REFERENCE_INPUTS_NOT_ALLOWED);(0,d.validate)(a.votingProcedures.every(e=>{switch(e.voter.type){case o.VoterType.COMMITTEE_KEY_PATH:case o.VoterType.DREP_KEY_PATH:case o.VoterType.STAKE_POOL_KEY_PATH:return true;default:return false}}),s.InvalidDataReason.SIGN_MODE_ORDINARY__VOTER_ONLY_AS_PATH);break;case o.TransactionSigningMode.MULTISIG_TRANSACTION:(0,d.validate)(a.outputs.every(e=>e.destination.type===o.TxOutputDestinationType.THIRD_PARTY),s.InvalidDataReason.SIGN_MODE_MULTISIG__DEVICE_OWNED_ADDRESS_NOT_ALLOWED);(0,d.validate)(a.certificates.every(e=>e.type!==i.CertificateType.STAKE_POOL_REGISTRATION),s.InvalidDataReason.SIGN_MODE_MULTISIG__POOL_REGISTRATION_NOT_ALLOWED);(0,d.validate)(a.certificates.every(e=>e.type!==i.CertificateType.STAKE_POOL_RETIREMENT),s.InvalidDataReason.SIGN_MODE_MULTISIG__POOL_RETIREMENT_NOT_ALLOWED);(0,d.validate)(a.certificates.every(e=>{switch(e.type){case i.CertificateType.STAKE_REGISTRATION:case i.CertificateType.STAKE_REGISTRATION_CONWAY:case i.CertificateType.STAKE_DEREGISTRATION:case i.CertificateType.STAKE_DEREGISTRATION_CONWAY:case i.CertificateType.STAKE_DELEGATION:case i.CertificateType.VOTE_DELEGATION:return 1===e.stakeCredential.type;case i.CertificateType.AUTHORIZE_COMMITTEE_HOT:case i.CertificateType.RESIGN_COMMITTEE_COLD:return 1===e.coldCredential.type;case i.CertificateType.DREP_REGISTRATION:case i.CertificateType.DREP_DEREGISTRATION:case i.CertificateType.DREP_UPDATE:return 1===e.dRepCredential.type;default:return true}}),s.InvalidDataReason.SIGN_MODE_MULTISIG__CERTIFICATE_CREDENTIAL_ONLY_AS_SCRIPT);(0,d.validate)(a.withdrawals.every(e=>1===e.stakeCredential.type),s.InvalidDataReason.SIGN_MODE_MULTISIG__WITHDRAWAL_ONLY_AS_SCRIPT);(0,d.validate)(0===a.collateralInputs.length,s.InvalidDataReason.SIGN_MODE_MULTISIG__COLLATERAL_INPUTS_NOT_ALLOWED);(0,d.validate)(null==a.collateralOutput,s.InvalidDataReason.SIGN_MODE_MULTISIG__COLLATERAL_OUTPUT_NOT_ALLOWED);(0,d.validate)(null==a.totalCollateral,s.InvalidDataReason.SIGN_MODE_MULTISIG__TOTAL_COLLATERAL_NOT_ALLOWED);(0,d.validate)(0===a.referenceInputs.length,s.InvalidDataReason.SIGN_MODE_MULTISIG__REFERENCE_INPUTS_NOT_ALLOWED);(0,d.validate)(a.votingProcedures.every(e=>{switch(e.voter.type){case o.VoterType.COMMITTEE_SCRIPT_HASH:case o.VoterType.DREP_SCRIPT_HASH:return true;default:return false}}),s.InvalidDataReason.SIGN_MODE_MULTISIG__VOTER_ONLY_AS_SCRIPT);break;case o.TransactionSigningMode.POOL_REGISTRATION_AS_OWNER:(0,d.validate)(a.inputs.every(e=>null==e.path),s.InvalidDataReason.SIGN_MODE_POOL_OWNER__INPUT_WITH_PATH_NOT_ALLOWED);(0,d.validate)(a.outputs.every(e=>e.destination.type===o.TxOutputDestinationType.THIRD_PARTY),s.InvalidDataReason.SIGN_MODE_POOL_OWNER__DEVICE_OWNED_ADDRESS_NOT_ALLOWED);(0,d.validate)(a.outputs.every(e=>null==e.datum),s.InvalidDataReason.SIGN_MODE_POOL_OWNER__DATUM_NOT_ALLOWED);(0,d.validate)(a.outputs.every(e=>null==e.referenceScriptHex),s.InvalidDataReason.SIGN_MODE_POOL_OWNER__REFERENCE_SCRIPT_NOT_ALLOWED);(0,d.validate)(1===a.certificates.length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__SINGLE_POOL_REG_CERTIFICATE_REQUIRED);a.certificates.forEach(e=>{(0,d.validate)(e.type===i.CertificateType.STAKE_POOL_REGISTRATION,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__SINGLE_POOL_REG_CERTIFICATE_REQUIRED);(0,d.validate)(e.pool.poolKey.type===o.PoolKeyType.THIRD_PARTY,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__THIRD_PARTY_POOL_KEY_REQUIRED);(0,d.validate)(1===e.pool.owners.filter(e=>e.type===o.PoolOwnerType.DEVICE_OWNED).length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__SINGLE_DEVICE_OWNER_REQUIRED)});(0,d.validate)(0===a.withdrawals.length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__WITHDRAWALS_NOT_ALLOWED);(0,d.validate)(null==a.mint,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__MINT_NOT_ALLOWED);(0,d.validate)(null==a.scriptDataHashHex,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__SCRIPT_DATA_HASH_NOT_ALLOWED);(0,d.validate)(0===a.collateralInputs.length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__COLLATERAL_INPUTS_NOT_ALLOWED);(0,d.validate)(0===a.requiredSigners.length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__REQUIRED_SIGNERS_NOT_ALLOWED);(0,d.validate)(null==a.collateralOutput,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__COLLATERAL_OUTPUT_NOT_ALLOWED);(0,d.validate)(null==a.totalCollateral,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__TOTAL_COLLATERAL_NOT_ALLOWED);(0,d.validate)(0===a.referenceInputs.length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__REFERENCE_INPUTS_NOT_ALLOWED);(0,d.validate)(0===a.votingProcedures.length,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__VOTING_PROCEDURES_NOT_ALLOWED);(0,d.validate)(null==a.treasury,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__TREASURY_NOT_ALLOWED);(0,d.validate)(null==a.donation,s.InvalidDataReason.SIGN_MODE_POOL_OWNER__DONATION_NOT_ALLOWED);break;case o.TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR:(0,d.validate)(a.outputs.every(e=>null==e.datum),s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__DATUM_NOT_ALLOWED);(0,d.validate)(a.outputs.every(e=>null==e.referenceScriptHex),s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__REFERENCE_SCRIPT_NOT_ALLOWED);(0,d.validate)(1===a.certificates.length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__SINGLE_POOL_REG_CERTIFICATE_REQUIRED);a.certificates.forEach(e=>{(0,d.validate)(e.type===i.CertificateType.STAKE_POOL_REGISTRATION,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__SINGLE_POOL_REG_CERTIFICATE_REQUIRED);(0,d.validate)(e.pool.poolKey.type===o.PoolKeyType.DEVICE_OWNED,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__DEVICE_OWNED_POOL_KEY_REQUIRED);(0,d.validate)(0===e.pool.owners.filter(e=>e.type===o.PoolOwnerType.DEVICE_OWNED).length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__DEVICE_OWNED_POOL_OWNER_NOT_ALLOWED)});(0,d.validate)(0===a.withdrawals.length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__WITHDRAWALS_NOT_ALLOWED);(0,d.validate)(null==a.mint,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__MINT_NOT_ALLOWED);(0,d.validate)(null==a.scriptDataHashHex,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__SCRIPT_DATA_HASH_NOT_ALLOWED);(0,d.validate)(0===a.collateralInputs.length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__COLLATERAL_INPUTS_NOT_ALLOWED);(0,d.validate)(0===a.requiredSigners.length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__REQUIRED_SIGNERS_NOT_ALLOWED);(0,d.validate)(null==a.collateralOutput,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__COLLATERAL_OUTPUT_NOT_ALLOWED);(0,d.validate)(null==a.totalCollateral,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__TOTAL_COLLATERAL_NOT_ALLOWED);(0,d.validate)(0===a.referenceInputs.length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__REFERENCE_INPUTS_NOT_ALLOWED);(0,d.validate)(0===a.votingProcedures.length,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__VOTING_PROCEDURES_NOT_ALLOWED);(0,d.validate)(null==a.treasury,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__TREASURY_NOT_ALLOWED);(0,d.validate)(null==a.donation,s.InvalidDataReason.SIGN_MODE_POOL_OPERATOR__DONATION_NOT_ALLOWED);break;case o.TransactionSigningMode.PLUTUS_TRANSACTION:(0,d.validate)(a.certificates.every(e=>e.type!==i.CertificateType.STAKE_POOL_REGISTRATION),s.InvalidDataReason.SIGN_MODE_PLUTUS__POOL_REGISTRATION_NOT_ALLOWED);break;default:(0,n.unreachable)(c)}return{tx:a,signingMode:c,additionalWitnessPaths:u,options:l}}t.parseSignTransactionRequest=parseSignTransactionRequest},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/txAuxiliaryData.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseTxAuxiliaryData=t.CVOTE_VKEY_LENGTH=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/invalidDataReason.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/output.js");t.CVOTE_VKEY_LENGTH=32;function parseCVoteDelegation(e){const t=(0,n.parseUint32_t)(e.weight,s.InvalidDataReason.CVOTE_DELEGATION_INVALID_WEIGHT);switch(e.type){case o.CIP36VoteDelegationType.KEY:return{type:e.type,voteKey:(0,n.parseHexStringOfLength)(e.voteKeyHex,i.CVOTE_PUBLIC_KEY_LENGTH,s.InvalidDataReason.CVOTE_DELEGATION_INVALID_KEY),weight:t};case o.CIP36VoteDelegationType.PATH:return{type:e.type,voteKeyPath:(0,n.parseBIP32Path)(e.voteKeyPath,s.InvalidDataReason.CVOTE_DELEGATION_INVALID_PATH),weight:t};default:throw new a.InvalidData(s.InvalidDataReason.CVOTE_DELEGATION_UNKNOWN_DELEGATION_TYPE)}}function parseCVoteDelegations(e){(0,n.validate)((0,n.isArray)(e),s.InvalidDataReason.CVOTE_REGISTRATION_DELEGATIONS_NOT_ARRAY);return e.map(e=>parseCVoteDelegation(e))}function parseCVoteRegistrationParams(e,r){switch(r.format){case o.CIP36VoteRegistrationFormat.CIP_15:(0,n.validate)(null==r.delegations,s.InvalidDataReason.CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP15);(0,n.validate)(null!=r.voteKeyHex,s.InvalidDataReason.CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP15);(0,n.validate)(null==r.votingPurpose,s.InvalidDataReason.CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP15);break;case o.CIP36VoteRegistrationFormat.CIP_36:if(null!=r.delegations)(0,n.validate)(null==r.voteKeyHex&&null==r.voteKeyPath,s.InvalidDataReason.CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP36);else{(0,n.validate)(null==r.delegations,s.InvalidDataReason.CVOTE_REGISTRATION_INCONSISTENT_WITH_CIP36);(0,n.validate)(null==r.voteKeyHex||null==r.voteKeyPath,s.InvalidDataReason.CVOTE_REGISTRATION_BOTH_KEY_AND_PATH);(0,n.validate)(null!=r.voteKeyHex||null!=r.voteKeyPath,s.InvalidDataReason.CVOTE_REGISTRATION_MISSING_VOTE_KEY)}break;default:throw new a.InvalidData(s.InvalidDataReason.CVOTE_DELEGATION_UNKNOWN_FORMAT)}const i=null==r.voteKeyHex?null:(0,n.parseHexStringOfLength)(r.voteKeyHex,t.CVOTE_VKEY_LENGTH,s.InvalidDataReason.CVOTE_REGISTRATION_INVALID_VOTE_KEY);const c=null==r.voteKeyPath?null:(0,n.parseBIP32Path)(r.voteKeyPath,s.InvalidDataReason.CVOTE_REGISTRATION_INVALID_VOTE_KEY_PATH);const l=null==r.delegations?null:parseCVoteDelegations(r.delegations);const u=null==r.votingPurpose?null:(0,n.parseUint64_str)(r.votingPurpose,{},s.InvalidDataReason.CVOTE_REGISTRATION_INVALID_VOTING_PURPOSE);return{format:r.format,votePublicKey:i,votePublicKeyPath:c,delegations:l,stakingPath:(0,n.parseBIP32Path)(r.stakingPath,s.InvalidDataReason.CVOTE_REGISTRATION_INVALID_STAKING_KEY_PATH),paymentDestination:(0,d.parseTxDestination)(e,r.paymentDestination,false),nonce:(0,n.parseUint64_str)(r.nonce,{},s.InvalidDataReason.CVOTE_REGISTRATION_INVALID_NONCE),votingPurpose:u}}function parseTxAuxiliaryData(e,t){switch(t.type){case o.TxAuxiliaryDataType.ARBITRARY_HASH:return{type:o.TxAuxiliaryDataType.ARBITRARY_HASH,hashHex:(0,n.parseHexStringOfLength)(t.params.hashHex,i.AUXILIARY_DATA_HASH_LENGTH,s.InvalidDataReason.AUXILIARY_DATA_INVALID_HASH)};case o.TxAuxiliaryDataType.CIP36_REGISTRATION:return{type:o.TxAuxiliaryDataType.CIP36_REGISTRATION,params:parseCVoteRegistrationParams(e,t.params)};default:throw new a.InvalidData(s.InvalidDataReason.AUXILIARY_DATA_UNKNOWN_TYPE)}}t.parseTxAuxiliaryData=parseTxAuxiliaryData},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NATIVE_SCRIPT_HASH_LENGTH=t.ASSET_NAME_LENGTH_MAX=t.CVOTE_PUBLIC_KEY_LENGTH=t.TOKEN_POLICY_LENGTH=t.MAX_DNS_NAME_LENGTH=t.MAX_URL_LENGTH=t.ANCHOR_HASH_LENGTH=t.DATUM_HASH_LENGTH=t.SCRIPT_DATA_HASH_LENGTH=t.ED25519_SIGNATURE_LENGTH=t.REWARD_ACCOUNT_HEX_LENGTH=t.VRF_KEY_HASH_LENGTH=t.KES_PUBLIC_KEY_LENGTH=t.AUXILIARY_DATA_HASH_LENGTH=t.TX_HASH_LENGTH=t.SCRIPT_HASH_LENGTH=t.KEY_HASH_LENGTH=t.PUBLIC_KEY_LENGTH=t.EXTENDED_PUBLIC_KEY_LENGTH=t.NativeScriptHashDisplayFormat=t.TxOutputFormat=t.TxOutputDestinationType=t.CIP36VoteDelegationType=t.TxAuxiliaryDataType=t.TransactionSigningMode=t.PoolRewardAccountType=t.PoolOwnerType=t.PoolKeyType=t.NativeScriptType=t.DatumType=t.CertificateType=t.AddressType=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");Object.defineProperty(t,"AddressType",{enumerable:true,get:function(){return a.AddressType}});Object.defineProperty(t,"CertificateType",{enumerable:true,get:function(){return a.CertificateType}});Object.defineProperty(t,"CIP36VoteDelegationType",{enumerable:true,get:function(){return a.CIP36VoteDelegationType}});Object.defineProperty(t,"DatumType",{enumerable:true,get:function(){return a.DatumType}});Object.defineProperty(t,"NativeScriptType",{enumerable:true,get:function(){return a.NativeScriptType}});Object.defineProperty(t,"PoolKeyType",{enumerable:true,get:function(){return a.PoolKeyType}});Object.defineProperty(t,"PoolOwnerType",{enumerable:true,get:function(){return a.PoolOwnerType}});Object.defineProperty(t,"PoolRewardAccountType",{enumerable:true,get:function(){return a.PoolRewardAccountType}});Object.defineProperty(t,"TransactionSigningMode",{enumerable:true,get:function(){return a.TransactionSigningMode}});Object.defineProperty(t,"TxAuxiliaryDataType",{enumerable:true,get:function(){return a.TxAuxiliaryDataType}});Object.defineProperty(t,"TxOutputDestinationType",{enumerable:true,get:function(){return a.TxOutputDestinationType}});Object.defineProperty(t,"TxOutputFormat",{enumerable:true,get:function(){return a.TxOutputFormat}});var s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");Object.defineProperty(t,"NativeScriptHashDisplayFormat",{enumerable:true,get:function(){return s.NativeScriptHashDisplayFormat}});t.EXTENDED_PUBLIC_KEY_LENGTH=64;t.PUBLIC_KEY_LENGTH=32;t.KEY_HASH_LENGTH=28;t.SCRIPT_HASH_LENGTH=28;t.TX_HASH_LENGTH=32;t.AUXILIARY_DATA_HASH_LENGTH=32;t.KES_PUBLIC_KEY_LENGTH=32;t.VRF_KEY_HASH_LENGTH=32;t.REWARD_ACCOUNT_HEX_LENGTH=29;t.ED25519_SIGNATURE_LENGTH=64;t.SCRIPT_DATA_HASH_LENGTH=32;t.DATUM_HASH_LENGTH=32;t.ANCHOR_HASH_LENGTH=32;t.MAX_URL_LENGTH=128;t.MAX_DNS_NAME_LENGTH=128;t.TOKEN_POLICY_LENGTH=28;t.CVOTE_PUBLIC_KEY_LENGTH=32;t.ASSET_NAME_LENGTH_MAX=32;t.NATIVE_SCRIPT_HASH_LENGTH=28},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NativeScriptHashDisplayFormat=t.NativeScriptType=t.TransactionSigningMode=t.VoteOption=t.VoterType=t.TxRequiredSignerType=t.CIP36VoteDelegationType=t.CIP36VoteRegistrationFormat=t.TxAuxiliaryDataType=t.TxAuxiliaryDataSupplementType=t.DRepParamsType=t.CredentialParamsType=t.PoolRewardAccountType=t.PoolOwnerType=t.PoolKeyType=t.TxOutputDestinationType=t.TxOutputFormat=t.DatumType=t.MessageAddressFieldType=t.HARDENED=t.CertificateType=t.AddressType=void 0;var r;(function(e){e[e["BASE_PAYMENT_KEY_STAKE_KEY"]=0]="BASE_PAYMENT_KEY_STAKE_KEY";e[e["BASE_PAYMENT_SCRIPT_STAKE_KEY"]=1]="BASE_PAYMENT_SCRIPT_STAKE_KEY";e[e["BASE_PAYMENT_KEY_STAKE_SCRIPT"]=2]="BASE_PAYMENT_KEY_STAKE_SCRIPT";e[e["BASE_PAYMENT_SCRIPT_STAKE_SCRIPT"]=3]="BASE_PAYMENT_SCRIPT_STAKE_SCRIPT";e[e["POINTER_KEY"]=4]="POINTER_KEY";e[e["POINTER_SCRIPT"]=5]="POINTER_SCRIPT";e[e["ENTERPRISE_KEY"]=6]="ENTERPRISE_KEY";e[e["ENTERPRISE_SCRIPT"]=7]="ENTERPRISE_SCRIPT";e[e["BYRON"]=8]="BYRON";e[e["REWARD_KEY"]=14]="REWARD_KEY";e[e["REWARD_SCRIPT"]=15]="REWARD_SCRIPT"})(r=t.AddressType||(t.AddressType={}));var a;(function(e){e[e["STAKE_REGISTRATION"]=0]="STAKE_REGISTRATION";e[e["STAKE_DEREGISTRATION"]=1]="STAKE_DEREGISTRATION";e[e["STAKE_DELEGATION"]=2]="STAKE_DELEGATION";e[e["STAKE_POOL_REGISTRATION"]=3]="STAKE_POOL_REGISTRATION";e[e["STAKE_POOL_RETIREMENT"]=4]="STAKE_POOL_RETIREMENT";e[e["STAKE_REGISTRATION_CONWAY"]=7]="STAKE_REGISTRATION_CONWAY";e[e["STAKE_DEREGISTRATION_CONWAY"]=8]="STAKE_DEREGISTRATION_CONWAY";e[e["VOTE_DELEGATION"]=9]="VOTE_DELEGATION";e[e["AUTHORIZE_COMMITTEE_HOT"]=14]="AUTHORIZE_COMMITTEE_HOT";e[e["RESIGN_COMMITTEE_COLD"]=15]="RESIGN_COMMITTEE_COLD";e[e["DREP_REGISTRATION"]=16]="DREP_REGISTRATION";e[e["DREP_DEREGISTRATION"]=17]="DREP_DEREGISTRATION";e[e["DREP_UPDATE"]=18]="DREP_UPDATE"})(a=t.CertificateType||(t.CertificateType={}));t.HARDENED=2147483648;var s;(function(e){e["ADDRESS"]="address";e["KEY_HASH"]="key_hash"})(s=t.MessageAddressFieldType||(t.MessageAddressFieldType={}));var i;(function(e){e[e["HASH"]=0]="HASH";e[e["INLINE"]=1]="INLINE"})(i=t.DatumType||(t.DatumType={}));var o;(function(e){e[e["ARRAY_LEGACY"]=0]="ARRAY_LEGACY";e[e["MAP_BABBAGE"]=1]="MAP_BABBAGE"})(o=t.TxOutputFormat||(t.TxOutputFormat={}));var n;(function(e){e["THIRD_PARTY"]="third_party";e["DEVICE_OWNED"]="device_owned"})(n=t.TxOutputDestinationType||(t.TxOutputDestinationType={}));var d;(function(e){e["THIRD_PARTY"]="third_party";e["DEVICE_OWNED"]="device_owned"})(d=t.PoolKeyType||(t.PoolKeyType={}));var c;(function(e){e["THIRD_PARTY"]="third_party";e["DEVICE_OWNED"]="device_owned"})(c=t.PoolOwnerType||(t.PoolOwnerType={}));var l;(function(e){e["THIRD_PARTY"]="third_party";e["DEVICE_OWNED"]="device_owned"})(l=t.PoolRewardAccountType||(t.PoolRewardAccountType={}));var u;(function(e){e[e["KEY_PATH"]=0]="KEY_PATH";e[e["KEY_HASH"]=1]="KEY_HASH";e[e["SCRIPT_HASH"]=2]="SCRIPT_HASH"})(u=t.CredentialParamsType||(t.CredentialParamsType={}));var f;(function(e){e[e["KEY_PATH"]=0]="KEY_PATH";e[e["KEY_HASH"]=1]="KEY_HASH";e[e["SCRIPT_HASH"]=2]="SCRIPT_HASH";e[e["ABSTAIN"]=3]="ABSTAIN";e[e["NO_CONFIDENCE"]=4]="NO_CONFIDENCE"})(f=t.DRepParamsType||(t.DRepParamsType={}));var h;(function(e){e["CIP36_REGISTRATION"]="cip36_voting_registration"})(h=t.TxAuxiliaryDataSupplementType||(t.TxAuxiliaryDataSupplementType={}));var p;(function(e){e["ARBITRARY_HASH"]="arbitrary_hash";e["CIP36_REGISTRATION"]="cip36_registration"})(p=t.TxAuxiliaryDataType||(t.TxAuxiliaryDataType={}));var m;(function(e){e["CIP_15"]="cip_15";e["CIP_36"]="cip_36"})(m=t.CIP36VoteRegistrationFormat||(t.CIP36VoteRegistrationFormat={}));var _;(function(e){e["PATH"]="cip36_vote_key_path";e["KEY"]="cip36_vote_key_keyHex"})(_=t.CIP36VoteDelegationType||(t.CIP36VoteDelegationType={}));var v;(function(e){e["PATH"]="required_signer_path";e["HASH"]="required_signer_hash"})(v=t.TxRequiredSignerType||(t.TxRequiredSignerType={}));var y;(function(e){e[e["COMMITTEE_KEY_HASH"]=0]="COMMITTEE_KEY_HASH";e[e["COMMITTEE_KEY_PATH"]=100]="COMMITTEE_KEY_PATH";e[e["COMMITTEE_SCRIPT_HASH"]=1]="COMMITTEE_SCRIPT_HASH";e[e["DREP_KEY_HASH"]=2]="DREP_KEY_HASH";e[e["DREP_KEY_PATH"]=102]="DREP_KEY_PATH";e[e["DREP_SCRIPT_HASH"]=3]="DREP_SCRIPT_HASH";e[e["STAKE_POOL_KEY_HASH"]=4]="STAKE_POOL_KEY_HASH";e[e["STAKE_POOL_KEY_PATH"]=104]="STAKE_POOL_KEY_PATH"})(y=t.VoterType||(t.VoterType={}));var w;(function(e){e[e["NO"]=0]="NO";e[e["YES"]=1]="YES";e[e["ABSTAIN"]=2]="ABSTAIN"})(w=t.VoteOption||(t.VoteOption={}));var g;(function(e){e["ORDINARY_TRANSACTION"]="ordinary_transaction";e["MULTISIG_TRANSACTION"]="multisig_transaction";e["POOL_REGISTRATION_AS_OWNER"]="pool_registration_as_owner";e["POOL_REGISTRATION_AS_OPERATOR"]="pool_registration_as_operator";e["PLUTUS_TRANSACTION"]="plutus_transaction"})(g=t.TransactionSigningMode||(t.TransactionSigningMode={}));var b;(function(e){e["PUBKEY_DEVICE_OWNED"]="pubkey_device_owned";e["PUBKEY_THIRD_PARTY"]="pubkey_third_party";e["ALL"]="all";e["ANY"]="any";e["N_OF_K"]="n_of_k";e["INVALID_BEFORE"]="invalid_before";e["INVALID_HEREAFTER"]="invalid_hereafter"})(b=t.NativeScriptType||(t.NativeScriptType={}));var P;(function(e){e["BECH32"]="bech32";e["POLICY_ID"]="policyId"})(P=t.NativeScriptHashDisplayFormat||(t.NativeScriptHashDisplayFormat={}))},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getVersionString=t.stripRetcodeFromResponse=t.chunkBy=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/address.js");const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js");const sum=e=>e.reduce((e,t)=>e+t,0);function chunkBy(e,t){(0,s.assert)((0,i.isBuffer)(e),"invalid buffer");(0,s.assert)((0,i.isArray)(t),"invalid chunks");for(const r of t){(0,s.assert)((0,i.isInteger)(r),"bad chunk length");(0,s.assert)(r>0,"bad chunk length")}(0,s.assert)(e.length<=sum(t),"data too short");let a=0;const o=[];const n=e.length-sum(t);for(const d of[...t,n]){o.push(e.slice(a,a+d));a+=d}return o}t.chunkBy=chunkBy;function stripRetcodeFromResponse(e){(0,s.assert)((0,i.isBuffer)(e),"invalid buffer");(0,s.assert)(e.length>=2,"response too short");const t=e.length-2;const r=(0,o.buf_to_uint16)(e.slice(t,t+2));(0,s.assert)(36864===r,`Invalid retcode ${r}`);return e.slice(0,t)}t.stripRetcodeFromResponse=stripRetcodeFromResponse;t["default"]={hex_to_buf:o.hex_to_buf,buf_to_hex:o.buf_to_hex,assert:s.assert,base58_encode:a.base58_encode,bech32_encodeAddress:a.bech32_encodeAddress,bech32_decodeAddress:a.bech32_decodeAddress,chunkBy,stripRetcodeFromResponse};function getVersionString(e){const t=e.flags.isAppXS?"-NanoS":"";return`${e.major}.${e.minor}.${e.patch}${t}`}t.getVersionString=getVersionString},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/address.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.bech32_decodeAddress=t.bech32_encodeAddress=t.base58_decode=t.base58_encode=t.str_to_path=void 0;const i=s(r("../../node_modules/base-x/src/index.js"));const o=s(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/node_modules/bech32/index.js"));const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const c=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const l=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");const u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const f=(0,i.default)(u);const h=0;function parseBIP32Index(e,t){let r=0;if(e.endsWith("'")){e=e.slice(0,-1);r=d.HARDENED}const a=(0,l.parseIntFromStr)(e,t);(0,l.validate)(a>=0,t);(0,l.validate)(a<d.HARDENED,t);return r+a}function str_to_path(e){const t=n.InvalidDataReason.INVALID_PATH;(0,l.validate)((0,l.isString)(e),t);(0,l.validate)(e.length>0,t);return e.split("/").map(e=>{return parseBIP32Index(e,t)})}t.str_to_path=str_to_path;function base58_encode(e){(0,c.assert)((0,l.isBuffer)(e),"invalid buffer");return f.encode(e)}t.base58_encode=base58_encode;const isValidBase58=e=>(0,l.isString)(e)&&[...e].every(e=>u.includes(e));function base58_decode(e){(0,c.assert)(isValidBase58(e),"invalid base58 string");return f.decode(e)}t.base58_decode=base58_decode;function getShelleyAddressPrefix(e){let t="";const r=(240&e[0])>>4;switch(r){case d.AddressType.REWARD_KEY:case d.AddressType.REWARD_SCRIPT:t="stake";break;default:t="addr"}const a=15&e[0];if(a===h)t+="_test";return t}function bech32_encodeAddress(e){(0,c.assert)((0,l.isBuffer)(e),"invalid buffer");const t=o.default.toWords(e);const r=150;return o.default.encode(getShelleyAddressPrefix(e),t,r)}t.bech32_encodeAddress=bech32_encodeAddress;function bech32_decodeAddress(e){const{words:t}=o.default.decode(e,1e3);return a.from(o.default.fromWords(t))}t.bech32_decodeAddress=bech32_decodeAddress},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unreachable=t.assert=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/errorBase.js");function assert(e,t){const r=t?`: ${t}`:"";if(!e)throw new a.ErrorBase(`Assertion failed${r}`)}t.assert=assert;function unreachable(e){assert(false,"Unreachable code hit")}t.unreachable=unreachable},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.parseAnchor=t.parseCredential=t.parseCoin=t.parseIntFromStr=t.parseBIP32Path=t.parseUint8_t=t.parseUint16_t=t.parseUint32_t=t.parseUint64_str=t.parseInt64_str=t.parseHexStringOfLength=t.parseHexString=t.parseAscii=t.validate=t.isInt64Bigint=t.isInt64Number=t.isInt64str=t.isIntStr=t.isUint64Bigint=t.isUint64Number=t.isUint64str=t.isUintStr=t.isValidPath=t.isHexStringOfLength=t.isHexString=t.isUint8=t.isUint16=t.isUint32=t.isBuffer=t.isArray=t.isInteger=t.isString=t.MAX_INT_64_STR=t.MIN_INT_64_STR=t.MAX_UINT_64_STR=void 0;const s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/parsing/constants.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/errors/index.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/internal.js");const n=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const d=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");t.MAX_UINT_64_STR="18446744073709551615";t.MIN_INT_64_STR="-9223372036854775808";t.MAX_INT_64_STR="9223372036854775807";const isString=e=>"string"==typeof e;t.isString=isString;const isInteger=e=>Number.isInteger(e);t.isInteger=isInteger;const isArray=e=>Array.isArray(e);t.isArray=isArray;const isBuffer=e=>a.isBuffer(e);t.isBuffer=isBuffer;const isUint32=e=>(0,t.isInteger)(e)&&e>=0&&e<=4294967295;t.isUint32=isUint32;const isUint16=e=>(0,t.isInteger)(e)&&e>=0&&e<=65535;t.isUint16=isUint16;const isUint8=e=>(0,t.isInteger)(e)&&e>=0&&e<=255;t.isUint8=isUint8;const isHexString=e=>(0,t.isString)(e)&&e.length%2===0&&/^[0-9a-fA-F]*$/.test(e);t.isHexString=isHexString;const isHexStringOfLength=(e,r)=>(0,t.isHexString)(e)&&e.length===2*r;t.isHexStringOfLength=isHexStringOfLength;const isValidPath=e=>(0,t.isArray)(e)&&e.every(e=>(0,t.isUint32)(e))&&e.length<=5;t.isValidPath=isValidPath;const isUintStr=(e,r)=>{var a,s;const i=null!==(a=r.min)&&void 0!==a?a:"0";const o=null!==(s=r.max)&&void 0!==s?s:t.MAX_UINT_64_STR;return(0,t.isString)(e)&&/^[0-9]*$/.test(e)&&e.length>0&&e.length<=o.length&&(1===e.length||"0"!==e[0])&&(e.length<o.length||e<=o)&&(e.length>i.length||e>=i)};t.isUintStr=isUintStr;const isUint64str=e=>(0,t.isUintStr)(e,{});t.isUint64str=isUint64str;const isUint64Number=e=>(0,t.isInteger)(e)&&e>=0&&e<=Number.MAX_SAFE_INTEGER;t.isUint64Number=isUint64Number;const isUint64Bigint=e=>"bigint"==typeof e&&(0,t.isUint64str)(e.toString());t.isUint64Bigint=isUint64Bigint;const isIntStr=(e,r)=>{var a,s;const i=null!==(a=r.min)&&void 0!==a?a:t.MIN_INT_64_STR;const o=null!==(s=r.max)&&void 0!==s?s:t.MAX_INT_64_STR;const n=(0,t.isString)(e)&&/^-?[0-9]*$/.test(e)&&e.length>0;const d=(0,t.isString)(e)&&e.startsWith("-")&&(2===e.length||"0"!==e[1])&&(e.length<i.length||e<=i);const c=(0,t.isString)(e)&&!e.startsWith("-")&&(1===e.length||"0"!==e[0])&&(e.length<o.length||e<=o);return n&&(d||c)};t.isIntStr=isIntStr;const isInt64str=e=>(0,t.isIntStr)(e,{});t.isInt64str=isInt64str;const isInt64Number=e=>(0,t.isInteger)(e)&&e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER;t.isInt64Number=isInt64Number;const isInt64Bigint=e=>"bigint"==typeof e&&(0,t.isInt64str)(e.toString());t.isInt64Bigint=isInt64Bigint;function validate(e,t){if(!e)throw new i.InvalidData(t)}t.validate=validate;function parseAscii(e,r){validate((0,t.isString)(e),r);validate(e.split("").every(e=>e.charCodeAt(0)>=32&&e.charCodeAt(0)<=126),r);return e}t.parseAscii=parseAscii;function parseHexString(e,r){validate((0,t.isHexString)(e),r);return e}t.parseHexString=parseHexString;function parseHexStringOfLength(e,r,a){validate((0,t.isHexStringOfLength)(e,r),a);return e}t.parseHexStringOfLength=parseHexStringOfLength;function parseInt64_str(e,r,a){switch(typeof e){case"string":validate((0,t.isInt64str)(e)&&(0,t.isIntStr)(e,r),a);return e;case"number":validate((0,t.isInt64Number)(e)&&(0,t.isIntStr)(e.toString(),r),a);return e.toString();case"bigint":validate((0,t.isInt64Bigint)(e)&&(0,t.isIntStr)(e.toString(),r),a);return e.toString();default:validate(false,a)}}t.parseInt64_str=parseInt64_str;function parseUint64_str(e,r,a){switch(typeof e){case"string":validate((0,t.isUint64str)(e)&&(0,t.isUintStr)(e,r),a);return e;case"number":validate((0,t.isUint64Number)(e)&&(0,t.isUintStr)(e.toString(),r),a);return e.toString();case"bigint":validate((0,t.isUint64Bigint)(e)&&(0,t.isUintStr)(e.toString(),r),a);return e.toString();default:validate(false,a)}}t.parseUint64_str=parseUint64_str;function parseUint32_t(e,r){validate((0,t.isUint32)(e),r);return e}t.parseUint32_t=parseUint32_t;function parseUint16_t(e,r){validate((0,t.isUint16)(e),r);return e}t.parseUint16_t=parseUint16_t;function parseUint8_t(e,r){validate((0,t.isUint8)(e),r);return e}t.parseUint8_t=parseUint8_t;function parseBIP32Path(e,r){validate((0,t.isValidPath)(e),r);return e}t.parseBIP32Path=parseBIP32Path;function parseIntFromStr(e,r){validate((0,t.isString)(e),r);const a=parseInt(e,10);validate(`${a}`===e,r);validate(!isNaN(a),r);validate((0,t.isInteger)(a),r);return a}t.parseIntFromStr=parseIntFromStr;function parseCoin(e,t){return parseUint64_str(e,{max:s.MAX_LOVELACE_SUPPLY_STR},t)}t.parseCoin=parseCoin;function parseCredential(e,t){switch(e.type){case n.CredentialParamsType.KEY_PATH:return{type:0,path:parseBIP32Path(e.keyPath,t)};case n.CredentialParamsType.KEY_HASH:return{type:2,keyHashHex:parseHexStringOfLength(e.keyHashHex,o.KEY_HASH_LENGTH,t)};case n.CredentialParamsType.SCRIPT_HASH:return{type:1,scriptHashHex:parseHexStringOfLength(e.scriptHashHex,o.SCRIPT_HASH_LENGTH,t)};default:(0,d.unreachable)(e)}}t.parseCredential=parseCredential;function parseAnchor(e){const t=parseAscii(e.url,i.InvalidDataReason.ANCHOR_INVALID_URL);validate(t.length<=o.MAX_URL_LENGTH,i.InvalidDataReason.ANCHOR_INVALID_URL);const r=parseHexStringOfLength(e.hashHex,o.ANCHOR_HASH_LENGTH,i.InvalidDataReason.ANCHOR_INVALID_HASH);return{url:t,hashHex:r,__brand:"anchor"}}t.parseAnchor=parseAnchor},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/serialize.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.serializeAnchor=t.serializeCredential=t.serializeCoin=t.serializeOptionFlag=t.path_to_buf=t.buf_to_hex=t.hex_to_buf=t.int64_to_buf=t.uint64_to_buf=t.buf_to_uint32=t.uint32_to_buf=t.buf_to_uint16=t.uint16_to_buf=t.uint8_to_buf=void 0;const s=r("../../node_modules/int64-buffer/int64-buffer.js");const i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/assert.js");const o=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/parse.js");function uint8_to_buf(e){(0,i.assert)((0,o.isUint8)(e),"invalid uint8");const t=a.alloc(1);t.writeUInt8(e,0);return t}t.uint8_to_buf=uint8_to_buf;function uint16_to_buf(e){(0,i.assert)((0,o.isUint16)(e),"invalid uint16");const t=a.alloc(2);t.writeUInt16BE(e,0);return t}t.uint16_to_buf=uint16_to_buf;function buf_to_uint16(e){(0,i.assert)(2===e.length,"invalid uint16 buffer");return e.readUIntBE(0,2)}t.buf_to_uint16=buf_to_uint16;function uint32_to_buf(e){(0,i.assert)((0,o.isUint32)(e),"invalid uint32");const t=a.alloc(4);t.writeUInt32BE(e,0);return t}t.uint32_to_buf=uint32_to_buf;function buf_to_uint32(e){(0,i.assert)(4===e.length,"invalid uint32 buffer");return e.readUIntBE(0,4)}t.buf_to_uint32=buf_to_uint32;function uint64_to_buf(e){(0,i.assert)((0,o.isUint64str)(e),"invalid uint64_str");const t=new s.Uint64BE(e,10).toBuffer();(0,i.assert)(8===t.length,"invalid data length");return t}t.uint64_to_buf=uint64_to_buf;function int64_to_buf(e){(0,i.assert)((0,o.isInt64str)(e),"invalid int64_str");const t=new s.Int64BE(e,10).toBuffer();(0,i.assert)(8===t.length,"invalid data length");return t}t.int64_to_buf=int64_to_buf;function hex_to_buf(e){(0,i.assert)((0,o.isHexString)(e),"invalid hex string");return a.from(e,"hex")}t.hex_to_buf=hex_to_buf;function buf_to_hex(e){return e.toString("hex")}t.buf_to_hex=buf_to_hex;function path_to_buf(e){(0,i.assert)((0,o.isValidPath)(e),"invalid bip32 path");const t=a.alloc(1+4*e.length);t.writeUInt8(e.length,0);for(let r=0;r<e.length;r++)t.writeUInt32BE(e[r],1+4*r);return t}t.path_to_buf=path_to_buf;function serializeOptionFlag(e){const t={NO:1,YES:2};const r=e?t.YES:t.NO;return uint8_to_buf(r)}t.serializeOptionFlag=serializeOptionFlag;function serializeCoin(e){return a.concat([uint64_to_buf(e)])}t.serializeCoin=serializeCoin;function serializeCredential(e){switch(e.type){case 0:return a.concat([uint8_to_buf(e.type),path_to_buf(e.path)]);case 2:return a.concat([uint8_to_buf(e.type),hex_to_buf(e.keyHashHex)]);case 1:return a.concat([uint8_to_buf(e.type),hex_to_buf(e.scriptHashHex)]);default:(0,i.unreachable)(e)}}t.serializeCredential=serializeCredential;function serializeAnchor(e){if(null==e){return a.concat([serializeOptionFlag(false)])}return a.concat([serializeOptionFlag(true),hex_to_buf(e.hashHex),a.from(e.url,"ascii")])}t.serializeAnchor=serializeAnchor},"../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/node_modules/bech32/index.js":e=>{"use strict";var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l";var r={};for(var a=0;a<t.length;a++){var s=t.charAt(a);if(void 0!==r[s])throw new TypeError(s+" is ambiguous");r[s]=a}function polymodStep(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function prefixChk(e){var t=1;for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);if(a<33||a>126)return"Invalid prefix ("+e+")";t=polymodStep(t)^a>>5}t=polymodStep(t);for(r=0;r<e.length;++r){var s=e.charCodeAt(r);t=polymodStep(t)^31&s}return t}function encode(e,r,a){a=a||90;if(e.length+7+r.length>a)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var s=prefixChk(e);if("string"==typeof s)throw new Error(s);var i=e+"1";for(var o=0;o<r.length;++o){var n=r[o];if(n>>5!==0)throw new Error("Non 5-bit word");s=polymodStep(s)^n;i+=t.charAt(n)}for(o=0;o<6;++o)s=polymodStep(s);s^=1;for(o=0;o<6;++o){var d=s>>(5-o)*5&31;i+=t.charAt(d)}return i}function __decode(e,t){t=t||90;if(e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var a=e.toLowerCase();var s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;e=a;var i=e.lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var o=e.slice(0,i);var n=e.slice(i+1);if(n.length<6)return"Data too short";var d=prefixChk(o);if("string"==typeof d)return d;var c=[];for(var l=0;l<n.length;++l){var u=n.charAt(l);var f=r[u];if(void 0===f)return"Unknown character "+u;d=polymodStep(d)^f;if(!(l+6>=n.length))c.push(f)}if(1!==d)return"Invalid checksum for "+e;return{prefix:o,words:c}}function decodeUnsafe(){var e=__decode.apply(null,arguments);if("object"==typeof e)return e}function decode(e){var t=__decode.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)}function convert(e,t,r,a){var s=0;var i=0;var o=(1<<r)-1;var n=[];for(var d=0;d<e.length;++d){s=s<<t|e[d];i+=t;while(i>=r){i-=r;n.push(s>>i&o)}}if(a){if(i>0)n.push(s<<r-i&o)}else{if(i>=t)return"Excess padding";if(s<<r-i&o)return"Non-zero padding"}return n}function toWordsUnsafe(e){var t=convert(e,8,5,true);if(Array.isArray(t))return t}function toWords(e){var t=convert(e,8,5,true);if(Array.isArray(t))return t;throw new Error(t)}function fromWordsUnsafe(e){var t=convert(e,5,8,false);if(Array.isArray(t))return t}function fromWords(e){var t=convert(e,5,8,false);if(Array.isArray(t))return t;throw new Error(t)}e.exports={decodeUnsafe:decodeUnsafe,decode:decode,encode:encode,toWordsUnsafe:toWordsUnsafe,toWords:toWords,fromWordsUnsafe:fromWordsUnsafe,fromWords:fromWords}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/AssetInfoProvider/BlockfrostAssetProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostAssetProvider:()=>BlockfrostAssetProvider});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/NftMetadata/types.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var i=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");var n=r("../../node_modules/lodash/omit.js");class BlockfrostAssetProvider extends i.BlockfrostProvider{mapNftMetadata(e){var t,r,s,i;const n=this.metadatumToString((null===(t=e.onchain_metadata)||void 0===t?void 0:t.image)||(null===(r=e.metadata)||void 0===r?void 0:r.logo));const d=(null===(s=e.onchain_metadata)||void 0===s?void 0:s.name)||(null===(i=e.metadata)||void 0===i?void 0:i.name);if(!n||!d)return null;try{var c,l,u,f;return{description:this.metadatumToString((null===(c=e.onchain_metadata)||void 0===c?void 0:c.description)||(null===(l=e.metadata)||void 0===l?void 0:l.description)),files:Array.isArray(null===(u=e.onchain_metadata)||void 0===u?void 0:u.files)?e.onchain_metadata.files.map(e=>{const t=e.mediaType;const r=e.name;const s=this.metadatumToString(e.src);if(!s||!t)return null;try{return{mediaType:a.MediaType(t),name:r,otherProperties:this.mapFileMetadataOtherProperties(e),src:a.Uri(s)}}catch(i){this.logger.warn("Failed to parse onchain_metadata file",e,i);return null}}).filter(o.isNotNil):void 0,image:a.Uri(n),mediaType:(null===(f=e.onchain_metadata)||void 0===f?void 0:f.mediaType)?a.ImageMediaType(e.onchain_metadata.mediaType):void 0,name:d,otherProperties:this.mapNftMetadataOtherProperties(e.onchain_metadata),version:this.mapNftMetadataVersion(e.onchain_metadata)}}catch(h){this.logger.warn("Failed to parse nft metadata",e,h);return null}}metadatumToString(e){let t;if(Array.isArray(e)){const r=e.map(e=>this.asString(e)).filter(o.isNotNil);t=r.join("")}else{t=this.asString(e)}return t}objToMetadatum(e){if("string"==typeof e)return e;if("number"==typeof e)return BigInt(e);if("object"==typeof e){if(null===e)return"";if(Array.isArray(e)){return e.map(e=>this.objToMetadatum(e))}return new Map(Object.entries(e).map(([e,t])=>[e,this.objToMetadatum(t)]))}return""}mapNftMetadataVersion(e){return"string"==typeof(null==e?void 0:e.version)?e.version:"1.0"}mapFileMetadataOtherProperties(e){return this.mapOtherProperties(e,["name","mediaType","src"])}mapNftMetadataOtherProperties(e){return this.mapOtherProperties(e,["name","image","description","mediaType","files","version"])}mapOtherProperties(e,t){if(!e){return}const r=Object.entries(n(e,t));if(0===r.length)return;return new Map(r.map(([e,t])=>[e,this.objToMetadatum(t)]))}mapTokenMetadata(e,t){var r,a,s,i,o,n,d,c,l,u,f,h;return{assetId:e,decimals:("number"==typeof(null===(r=t.onchain_metadata)||void 0===r?void 0:r.decimals)?t.onchain_metadata.decimals:null===(a=t.metadata)||void 0===a?void 0:a.decimals)||void 0,desc:this.metadatumToString((null===(s=t.onchain_metadata)||void 0===s?void 0:s.description)||(null===(i=t.metadata)||void 0===i?void 0:i.description)),icon:this.metadatumToString((null===(o=t.onchain_metadata)||void 0===o?void 0:o.image)||(null===(n=t.metadata)||void 0===n?void 0:n.logo)),name:(null===(d=t.onchain_metadata)||void 0===d?void 0:d.name)||(null===(c=t.metadata)||void 0===c?void 0:c.name),ticker:(null===(l=t.onchain_metadata)||void 0===l?void 0:l.ticker)||(null===(u=t.metadata)||void 0===u?void 0:u.ticker)||void 0,url:(null===(f=t.onchain_metadata)||void 0===f?void 0:f.url)||(null===(h=t.metadata)||void 0===h?void 0:h.url)||void 0,version:"1.0"}}async getAsset({assetId:e,extraData:t}){try{const r=await this.request(`assets/${e.toString()}`);const a=s.AssetId.getAssetName(e);const i=s.PolicyId(r.policy_id);const o=BigInt(r.quantity);return{assetId:e,fingerprint:s.AssetFingerprint(r.fingerprint),name:a,nftMetadata:(null==t?void 0:t.nftMetadata)?this.mapNftMetadata(r):null,policyId:i,quantity:o,supply:o,tokenMetadata:(null==t?void 0:t.tokenMetadata)?this.mapTokenMetadata(e,r):null}}catch(n){this.logger.error("getAsset failed",e,t);throw this.toProviderError(n)}}getAssets({assetIds:e,extraData:t}){return Promise.all(e.map(e=>this.getAsset({assetId:e,extraData:t})))}constructor(e,t){super(e,t);this.asString=e=>"string"==typeof e?e:void 0}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/ChainHistoryProvider/BlockfrostChainHistoryProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostChainHistoryProvider:()=>BlockfrostChainHistoryProvider});var a=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var s=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/util.js");var i=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostToCore.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/UtilityTypes.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/util/slotCalc.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var v=r("../../node_modules/lodash/omit.js");var y=r("../../node_modules/lodash/uniq.js");var w=r("../../node_modules/buffer/index.js")["Buffer"];const g=2147483647;const compareTx=(e,t)=>e.block_height-t.block_height||e.tx_index-t.tx_index;class BlockfrostChainHistoryProvider extends a.BlockfrostProvider{async fetchRedeemers({hash:e,redeemer_count:t}){if(!t)return;return this.request(`txs/${e}/redeemers`).then(e=>e.map(({purpose:e,script_hash:t,unit_mem:r,unit_steps:a,tx_index:s})=>({data:w.from(t),executionUnits:{memory:Number.parseInt(r),steps:Number.parseInt(a)},index:s,purpose:(()=>{switch(e){case"cert":return o.RedeemerPurpose.certificate;case"reward":return o.RedeemerPurpose.withdrawal;case"mint":return o.RedeemerPurpose.mint;case"spend":return o.RedeemerPurpose.spend;default:return e}})()})))}async fetchWithdrawals({withdrawal_count:e,hash:t}){if(!e)return;return this.request(`txs/${t}/withdrawals`).then(e=>e.map(({address:e,amount:t})=>({quantity:BigInt(t),stakeAddress:n.RewardAccount(e)})))}gatherMintsFromUtxos({asset_mint_or_burn_count:e},{inputs:t,outputs:r}){if(!e)return;const a=r.flatMap(e=>e.amount);const s=t.flatMap(e=>e.amount);const i=a.filter(e=>!s.some(t=>e.unit===t.unit));return new Map(i.map(e=>[d.AssetId(e.unit),BigInt(e.quantity)]))}async fetchPoolRetireCerts(e){return this.request(`txs/${e}/pool_retires`).then(e=>e.map(({pool_id:e,retiring_epoch:t,cert_index:r})=>({__typename:c.CertificateType.PoolRetirement,cert_index:r,epoch:l.EpochNo(t),poolId:u.PoolId(e)})))}async fetchPoolUpdateCerts(e){return this.request(`txs/${e}/pool_updates`).then(e=>e.map(({pool_id:e,cert_index:t,fixed_cost:r,margin_cost:a,pledge:s,reward_account:i,vrf_key:o})=>({__typename:c.CertificateType.PoolRegistration,cert_index:t,poolId:u.PoolId(e),poolParameters:{cost:BigInt(r),id:e,margin:f.FractionUtils.toFraction(a),owners:[],pledge:BigInt(s),relays:[],rewardAccount:i,vrf:o}})))}async fetchCBOR(e){return this.request(`txs/${e}/cbor`).then(e=>{if(e)return e.cbor;throw new Error("CBOR is null")}).catch(e=>{throw new Error("CBOR fetch failed")})}async fetchDetailsFromCBOR(e){return this.fetchCBOR(e).then(t=>{const r=h.Transaction.fromCbor(h.TxCBOR(t)).toCore();this.logger.debug("Fetched details from CBOR for tx",e);return r}).catch(t=>{this.logger.warn("Failed to fetch details from CBOR for tx",e,t);return null})}async fetchMirCerts(e){return this.request(`txs/${e}/mirs`).then(e=>e.map(({address:e,amount:t,cert_index:r,pot:a})=>({__typename:c.CertificateType.MIR,cert_index:r,kind:c.MirCertificateKind.ToStakeCreds,pot:"reserve"===a?c.MirCertificatePot.Reserves:c.MirCertificatePot.Treasury,quantity:BigInt(t),rewardAccount:n.RewardAccount(e)})))}async fetchStakeCerts(e){return this.request(`txs/${e}/stakes`).then(e=>e.map(({address:e,cert_index:t,registration:r})=>({__typename:r?c.CertificateType.StakeRegistration:c.CertificateType.StakeDeregistration,cert_index:t,stakeCredential:{hash:n.RewardAccount.toHash(n.RewardAccount(e)),type:p.CredentialType.KeyHash}})))}async fetchDelegationCerts(e){return this.request(`txs/${e}/delegations`).then(e=>e.map(({address:e,pool_id:t,cert_index:r})=>({__typename:c.CertificateType.StakeDelegation,cert_index:r,poolId:u.PoolId(t),stakeCredential:{hash:n.RewardAccount.toHash(n.RewardAccount(e)),type:p.CredentialType.KeyHash}})))}async fetchCertificates({pool_retire_count:e,pool_update_count:t,mir_cert_count:r,stake_cert_count:a,delegation_count:s,hash:i}){if(e+t+r+a+s===0)return;return Promise.all([e?this.fetchPoolRetireCerts(i):[],t?this.fetchPoolUpdateCerts(i):[],r?this.fetchMirCerts(i):[],a?this.fetchStakeCerts(i):[],s?this.fetchDelegationCerts(i):[]]).then(e=>e.flat().sort((e,t)=>t.cert_index-e.cert_index).map(e=>e))}async fetchJsonMetadataAsAuxiliaryData(e){const t=void 0;return this.request(`txs/${e}/metadata`).then(e=>{const r=(0,s.blockfrostMetadataToTxMetadata)(e);return r&&r.size>0?{blob:r}:t}).catch(e=>{if((0,s.isBlockfrostNotFoundError)(e)){return t}throw e})}async fetchEpochNo(e){const t=await this.networkInfoProvider.eraSummaries().then(m.createSlotEpochCalc);return t(e)}async fetchEpochParameters(e){return await this.request(`epochs/${e}/parameters`)}async processCertificates(e,t){if(!t)return;const r=await this.fetchEpochNo(l.Slot(e.slot));const{pool_deposit:a,key_deposit:s}=await this.fetchEpochParameters(r);return t.map(t=>{const r=v(t,"cert_index");switch(r.__typename){case c.CertificateType.PoolRegistration:{r.poolParameters.owners=[];r.poolParameters.relays=[];const i=void 0===e.deposit||""===e.deposit||"0"===e.deposit?0n:BigInt(a);delete r.poolParameters.metadataJson;return{...r,deposit:i}}case c.CertificateType.StakeRegistration:{const o=BigInt(s);return{...r,__typename:c.CertificateType.Registration,deposit:o}}case c.CertificateType.StakeDeregistration:{const n=BigInt(s);return{...r,__typename:c.CertificateType.Unregistration,deposit:n}}default:return r}})}async transactionDetailsUsingAPIs(e){const t=o.TransactionId(e.hash);const[r,a,s,i]=await Promise.all([this.fetchCertificates(e),this.fetchWithdrawals(e),this.fetchUtxos(t),this.fetchJsonMetadataAsAuxiliaryData(t)]);const{inputs:n,outputs:d,collaterals:c}=this.transactionUtxos(s);const l=this.gatherMintsFromUtxos(e,s);const u=l?new Map([...l].sort()):l;const f=e.valid_contract?o.InputSource.inputs:o.InputSource.collaterals;const h=this.mapTxBody({certificates:await this.processCertificates(e,r),collateralReturn:void 0,collaterals:c,fee:BigInt(e.fees),inputs:n,mint:u,outputs:d,proposalProcedures:void 0,validityInterval:{invalidBefore:this.parseValidityInterval(e.invalid_before),invalidHereafter:this.parseValidityInterval(e.invalid_hereafter)},votingProcedures:void 0,withdrawals:a},f);return{auxiliaryData:i,blockHeader:this.mapBlockHeader(e),body:h,id:t,index:e.index,inputSource:f,txSize:e.size,witness:this.witnessFromRedeemers(await this.fetchRedeemers(e))}}witnessFromRedeemers(e){const t=w.from("not implemented");if(e){for(const r of e)r.data=t}return{redeemers:e,signatures:new Map}}async transactionDetailsUsingCBOR(e){const t=o.TransactionId(e.hash);const r=await this.fetchDetailsFromCBOR(t);if(!r)return;const a=await this.request(`txs/${t}/utxos`);const{inputs:s,outputs:i,collaterals:n}=this.transactionUtxos(a,r);const d=e.valid_contract?o.InputSource.inputs:o.InputSource.collaterals;const c=this.mapTxBody({certificates:await this.processCertificates(e,r.body.certificates),collateralReturn:r.body.collateralReturn,collaterals:n,fee:r.body.fee,inputs:s,mint:r.body.mint?new Map([...r.body.mint].sort()):void 0,outputs:i,proposalProcedures:r.body.proposalProcedures,validityInterval:r.body.validityInterval?r.body.validityInterval:{invalidBefore:void 0,invalidHereafter:void 0},votingProcedures:r.body.votingProcedures,withdrawals:r.body.withdrawals},d);return{auxiliaryData:r.auxiliaryData,blockHeader:this.mapBlockHeader(e),body:c,id:t,index:e.index,inputSource:d,txSize:e.size,witness:this.witnessFromRedeemers(r.witness.redeemers)}}async fetchTransaction(e){try{const t=await this.request(`txs/${e.toString()}`);var r;return null!==(r=await this.transactionDetailsUsingCBOR(t))&&void 0!==r?r:await this.transactionDetailsUsingAPIs(t)}catch(a){throw this.toProviderError(a)}}transactionUtxos(e,t){const r=e.inputs.filter(e=>e.collateral).map(i.BlockfrostToCore.hydratedTxIn);const a=e.inputs.filter(e=>!e.collateral&&!e.reference).map(i.BlockfrostToCore.hydratedTxIn);const s=e.outputs.filter(e=>!e.collateral).map(e=>{const r=null==t?void 0:t.body.outputs.find(t=>t.address===e.address);return i.BlockfrostToCore.txOut(e,r)});return{collaterals:r,inputs:a,outputs:s}}async blocksByHashes({ids:e}){try{const t=await Promise.all(e.map(e=>this.request(`blocks/${e.toString()}`)));return t.map(e=>{if(!e.epoch||!e.epoch_slot||!e.height||!e.slot||!e.block_vrf){throw new _.ProviderError(_.ProviderFailure.Unknown,null,"Queried unsupported block")}return{confirmations:e.confirmations,date:new Date(1e3*e.time),epoch:l.EpochNo(e.epoch),epochSlot:e.epoch_slot,fees:BigInt(e.fees||"0"),header:{blockNo:l.BlockNo(e.height),hash:l.BlockId(e.hash),slot:l.Slot(e.slot)},nextBlock:e.next_block?l.BlockId(e.next_block):void 0,previousBlock:e.previous_block?l.BlockId(e.previous_block):void 0,size:l.BlockSize(e.size),slotLeader:l.SlotLeader(e.slot_leader),totalOutput:BigInt(e.output||"0"),txCount:e.tx_count,vrf:l.VrfVkBech32(e.block_vrf)}})}catch(r){throw this.toProviderError(r)}}async transactionsByHashes({ids:e}){return Promise.all(e.map(async e=>{const t=await this.cache.get(e);if(t)return t;try{const r=await this.fetchTransaction(e);void this.cache.set(e,r);return r}catch(a){throw this.toProviderError(a)}}))}async transactionsByAddresses({addresses:e,pagination:t,blockRange:r}){this.logger.debug(`transactionsByAddresses: ${JSON.stringify(r)} ${JSON.stringify(e)}`);try{var a;const i=null!==(a=null==r?void 0:r.lowerBound)&&void 0!==a?a:0;var n;const d=null!==(n=null==r?void 0:r.upperBound)&&void 0!==n?n:g;var c;const l=null!==(c=null==t?void 0:t.limit)&&void 0!==c?c:g;const u=await Promise.all(e.map(async e=>{return(0,s.fetchSequentially)({haveEnoughItems:(null==r?void 0:r.lowerBound)?e=>e.length>0&&e[e.length-1].block_height<r.lowerBound||e.length>=l:e=>e.length>=l,paginationOptions:t?{count:t.limit,order:t.order,page:(t.startAt+t.limit)/t.limit}:void 0,request:t=>{let a=`addresses/${e}/transactions?${t}`;if(null==r?void 0:r.lowerBound)a+=`&from=${r.lowerBound.toString()}`;if(null==r?void 0:r.upperBound)a+=`&to=${r.upperBound.toString()}`;return this.request(a)}})}));const f=u.flat(1);const h=y(f.filter(({block_height:e})=>e>=i&&e<=d).sort("desc"===t.order?(e,t)=>compareTx(t,e):compareTx).map(({tx_hash:e})=>o.TransactionId(e)));const p=await this.transactionsByHashes({ids:h});return{pageResults:p,totalResultCount:h.length}}catch(m){throw this.toProviderError(m)}}mapTxBody({collateralReturn:e,collaterals:t,fee:r,inputs:a,outputs:s,mint:i,proposalProcedures:n,validityInterval:d,votingProcedures:c,withdrawals:l,certificates:u},f){return{...f===o.InputSource.collaterals?{collateralReturn:s.length>0?s[0]:void 0,collaterals:a,fee:BigInt(0),inputs:[],outputs:[],totalCollateral:r}:{collateralReturn:null!=e?e:void 0,collaterals:t,fee:r,inputs:a,outputs:s},certificates:u,mint:i,proposalProcedures:n,validityInterval:d,votingProcedures:c,withdrawals:l}}mapBlockHeader({block:e,block_height:t,slot:r}){return{blockNo:l.BlockNo(t),hash:l.BlockId(e),slot:l.Slot(r)}}fetchUtxos(e){return this.request(`txs/${e}/utxos`)}constructor({cache:e,client:t,networkInfoProvider:r,logger:a}){super(t,a);this.parseValidityInterval=e=>l.Slot(Number.parseInt(e||""))||void 0;this.cache=e;this.networkInfoProvider=r}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/DRepProvider/BlockfrostDRepProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostDRepProvider:()=>BlockfrostDRepProvider});var a=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/DRepID.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");class BlockfrostDRepProvider extends a.BlockfrostProvider{async getDRepInfo({id:e}){try{const t=s.DRepID.toCip129DRepID(e).toString();const r=await this.request(`governance/dreps/${t}`);const a=BigInt(r.amount);const o=r.active_epoch?i.EpochNo(r.active_epoch):void 0;const n=r.active;const d=r.has_script;return{active:n,activeEpoch:o,amount:a,hasScript:d,id:e}}catch(c){this.logger.error("getDRep failed",e);throw this.toProviderError(c)}}getDRepsInfo({ids:e}){return Promise.all(e.map(e=>this.getDRepInfo({id:e})))}constructor(e,t){super(e,t)}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/HandleProvider/KoraLabsHandleProvider.js":(e,t,r)=>{"use strict";r.d(t,{KoraLabsHandleProvider:()=>KoraLabsHandleProvider});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/NftMetadata/types.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var o=r("../../node_modules/axios/lib/axios.js");const n={handles:"/handles",healthCheck:"/health"};const toHandleResolution=({apiResponse:e,policyId:t})=>{const r=a.PaymentAddress(e.resolved_addresses.ada);const i={addresses:{cardano:r},backgroundImage:e.bg_image?s.Uri(e.bg_image):void 0,cardanoAddress:r,handle:e.name,hasDatum:e.has_datum,image:e.image?s.Uri(e.image):void 0,policyId:t,profilePic:e.pfp_image?s.Uri(e.pfp_image):void 0};if("btc"in e.resolved_addresses)i.addresses.bitcoin=e.resolved_addresses.btc;return i};class KoraLabsHandleProvider{resolveHandles({handles:e}){const resolveHandle=async e=>{try{const{data:t}=await this.axiosClient.get(`${n.handles}/${e}`);return toHandleResolution({apiResponse:t,policyId:this.policyId})}catch(a){if(a instanceof i.ProviderError)throw a;if(o["default"].isAxiosError(a)){var r;if((null===(r=a.response)||void 0===r?void 0:r.status)===404)return null;if(a.request)throw new i.ProviderError(i.ProviderFailure.ConnectionFailure,a,a.code);throw new i.ProviderError(i.ProviderFailure.Unhealthy,a,`Failed to resolve handles due to: ${a.message}`)}throw new i.ProviderError(i.ProviderFailure.Unknown,a,"Failed to resolve handles")}};return Promise.all(e.map(e=>resolveHandle(e)))}async healthCheck(){try{await this.axiosClient.get(`${n.healthCheck}`);return{ok:true}}catch{return{ok:false}}}async getPolicyIds(){return[this.policyId]}constructor({serverUrl:e,adapter:t,policyId:r}){this.axiosClient=o["default"].create({adapter:t,baseURL:e});this.policyId=r}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/NetworkInfoProvider/BlockfrostNetworkInfoProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostNetworkInfoProvider:()=>BlockfrostNetworkInfoProvider});var a=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var s=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostToCore.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/ChainId.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/util/time.js");class BlockfrostNetworkInfoProvider extends a.BlockfrostProvider{async stake(){try{const{stake:e}=await this.request("network");return{active:BigInt(e.active),live:BigInt(e.live)}}catch(t){throw this.toProviderError(t)}}async lovelaceSupply(){try{const{supply:e}=await this.request("network");return{circulating:BigInt(e.circulating),total:BigInt(e.total)}}catch(t){throw this.toProviderError(t)}}async ledgerTip(){try{const e=await this.request("blocks/latest");return s.BlockfrostToCore.blockToTip(e)}catch(t){throw this.toProviderError(t)}}async protocolParameters(){try{const e=await this.request("epochs/latest/parameters");return s.BlockfrostToCore.protocolParameters(e)}catch(t){throw this.toProviderError(t)}}async genesisParameters(){return this.request("genesis").then(e=>({activeSlotsCoefficient:e.active_slots_coefficient,epochLength:e.epoch_length,maxKesEvolutions:e.max_kes_evolutions,maxLovelaceSupply:BigInt(e.max_lovelace_supply),networkId:e.network_magic===i.NetworkMagics.Mainnet?i.NetworkId.Mainnet:i.NetworkId.Testnet,networkMagic:e.network_magic,securityParameter:e.security_param,slotLength:(0,o.Seconds)(e.slot_length||.2),slotsPerKesPeriod:e.slots_per_kes_period,systemStart:new Date(1e3*e.system_start),updateQuorum:e.update_quorum})).catch(e=>{throw this.toProviderError(e)})}async fetchEraSummaries(){try{return await this.request("network/eras")}catch(e){throw this.toProviderError(e)}}async parseEraSummaries(e,t){try{return e.map(e=>({parameters:{epochLength:e.parameters.epoch_length,slotLength:(0,o.Milliseconds)(1e3*e.parameters.slot_length)},start:{slot:e.start.slot,time:new Date(t.getTime()+1e3*e.start.time)}}))}catch(r){throw this.toProviderError(r)}}async eraSummaries(){try{const{systemStart:e}=await this.genesisParameters();const t=await this.fetchEraSummaries();return this.parseEraSummaries(t,e)}catch(r){throw this.toProviderError(r)}}constructor(e,t){super(e,t)}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/RewardAccountInfoProvider/RewardAccountInfoProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostRewardAccountInfoProvider:()=>BlockfrostRewardAccountInfoProvider});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/DelegationsAndRewards.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/DRepID.js");var n=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/util.js");var d=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/lodash/uniq.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var f,h,p,m,_,v,y;const emptyArrayIfNotFound=e=>{if((0,n.isBlockfrostNotFoundError)(e)){return[]}throw e};class BlockfrostRewardAccountInfoProvider extends d.BlockfrostProvider{async rewardAccountInfo(e,t){const[r,[s]]=await Promise.all([await this.request(`accounts/${e}`).catch(t=>{if((0,n.isBlockfrostNotFoundError)(t)){return{active:false,active_epoch:null,controlled_amount:"0",drep_id:null,pool_id:null,reserves_sum:"0",rewards_sum:"0",stake_address:e,treasury_sum:"0",withdrawable_amount:"0",withdrawals_sum:"0"}}throw t}),this.request(`accounts/${e}/registrations?order=desc&count=1`).catch(emptyArrayIfNotFound)]);const i=await __classPrivateFieldGet(this,f,"m",m).call(this,s);const o=r.active?a.StakeCredentialStatus.Registered:(null==s?void 0:s.action)==="registered"?a.StakeCredentialStatus.Registering:void 0===i||i<=t?a.StakeCredentialStatus.Unregistered:a.StakeCredentialStatus.Unregistering;const d=BigInt(r.withdrawable_amount||"0");const[c,l,u]=await Promise.all([__classPrivateFieldGet(this,f,"m",y).call(this,e,t,i),__classPrivateFieldGet(this,f,"m",_).call(this,r),__classPrivateFieldGet(this,f,"m",v).call(this,s)]);return{address:e,credentialStatus:o,dRepDelegatee:l,delegatee:c,deposit:u,rewardBalance:d}}async delegationPortfolio(e){const t=await (0,n.fetchSequentially)({haveEnoughItems:e=>e.some(c.isNotNil),paginationOptions:{order:"desc"},request:async t=>{const r=await this.request(`accounts/${e}/delegations?${t}`).catch(emptyArrayIfNotFound);const i=[];for(const{tx_hash:o}of r){var n;const d=await this.request(`txs/${o}/metadata/cbor`).catch(emptyArrayIfNotFound);const c=null===(n=d.find(({label:e})=>"6862"===e))||void 0===n?void 0:n.metadata;if(!c){i.push(null);continue}const u=s.TransactionMetadatum.fromCbor((0,l.HexBlob)(c));try{i.push(a.cip17FromMetadatum(u.toCore()));break}catch{i.push(null)}}return i}});return t.find(c.isNotNil)||null}constructor({client:e,logger:t,stakePoolProvider:r,dRepProvider:a}){super(e,t);f.add(this);h.set(this,void 0);p.set(this,void 0);__classPrivateFieldSet(this,h,a,"f");__classPrivateFieldSet(this,p,r,"f")}}h=new WeakMap,p=new WeakMap,f=new WeakSet,m=async function _BlockfrostRewardAccountInfoProvider_getUnregisteringAtEpoch(e){if(!e||"registered"===e.action){return}const t=await this.request(`txs/${e.tx_hash}`);const r=await this.request(`blocks/${t.block}`);return i.EpochNo(r.epoch)},_=async function _BlockfrostRewardAccountInfoProvider_getDrepDelegatee(e){if(!e.drep_id)return;if("drep_always_abstain"===e.drep_id){return{delegateRepresentative:{__typename:"AlwaysAbstain"}}}if("drep_always_no_confidence"===e.drep_id){return{delegateRepresentative:{__typename:"AlwaysNoConfidence"}}}const t=o.DRepID.toCip129DRepID(o.DRepID(e.drep_id));const r=await __classPrivateFieldGet(this,h,"f").getDRepInfo({id:t});return{delegateRepresentative:r}},v=async function _BlockfrostRewardAccountInfoProvider_getKeyDeposit(e){if(!e||"deregistered"===e.action){return 0n}const t=await this.request(`txs/${e.tx_hash}`);const r=await this.request(`blocks/${t.block}`);const a=await this.request(`epochs/${r.epoch}/parameters`);return BigInt(a.key_deposit)},y=async function _BlockfrostRewardAccountInfoProvider_getDelegatee(e,t,r){var a,s,i;const o=await (0,n.fetchSequentially)({haveEnoughItems:e=>{var r;return(null===(r=e[e.length-1])||void 0===r?void 0:r.active_epoch)<=t},paginationOptions:{order:"desc"},request:t=>this.request(`accounts/${e}/delegations?${t}`)});const isRegisteredAt=e=>{if(!r){return true}return r>t+e||void 0};const d=[isRegisteredAt(0)&&(null===(a=o.find(({active_epoch:e})=>e<=t))||void 0===a?void 0:a.pool_id),isRegisteredAt(1)&&(null===(s=o.find(({active_epoch:e})=>e<=t+1))||void 0===s?void 0:s.pool_id),isRegisteredAt(2)&&(null===(i=o.find(({active_epoch:e})=>e<=t+2))||void 0===i?void 0:i.pool_id)];const l=u(d.filter(c.isNotNil));if(0===l.length){return}const f=await __classPrivateFieldGet(this,p,"f").queryStakePools({filters:{identifier:{values:l.map(e=>({id:e}))}},pagination:{limit:3,startAt:0}});const stakePoolMathingPoolId=e=>f.pageResults.find(t=>t.id===d[e]);return{currentEpoch:stakePoolMathingPoolId(0),nextEpoch:stakePoolMathingPoolId(1),nextNextEpoch:stakePoolMathingPoolId(2)}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/RewardsProvider/BlockfrostRewardsProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostRewardsProvider:()=>BlockfrostRewardsProvider});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var i=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var o=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/util.js");const stringToBigInt=e=>BigInt(e);class BlockfrostRewardsProvider extends i.BlockfrostProvider{async rewardAccountBalance({rewardAccount:e}){try{const t=await this.request(`accounts/${e.toString()}`);return BigInt(t.withdrawable_amount)}catch(r){if((0,o.isBlockfrostNotFoundError)(r)){return 0n}throw this.toProviderError(r)}}async accountRewards(e,{lowerBound:t=a.EpochNo(0),upperBound:r=a.EpochNo(Number.MAX_SAFE_INTEGER)}={}){const i=100;return(0,o.fetchSequentially)({haveEnoughItems:(e,t)=>{const a=t[t.length-1];return!a||a.epoch>=r},paginationOptions:{count:i},request:t=>this.request(`accounts/${e.toString()}/rewards?${t}`),responseTranslator:e=>e.filter(({epoch:e})=>t<=e&&e<=r).map(({epoch:e,amount:t,pool_id:r})=>({epoch:a.EpochNo(e),rewards:stringToBigInt(t),...r&&{poolId:s.PoolId(r)}}))})}async rewardsHistory({rewardAccounts:e,epochs:t}){const r=await Promise.all(e.map(e=>this.accountRewards(e,t)));return new Map(r.map((t,r)=>[e[r],t]))}constructor(e,t){super(e,t)}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/TxSubmitProvider/BlockfrostTxSubmitProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostTxSubmitProvider:()=>BlockfrostTxSubmitProvider});var a=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/CardanoNode/types/CardanoNodeErrors.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];const tryParseBlockfrostTxSubmissionErrorMessage=e=>{try{var t,r,a;const s=JSON.parse(e);if("object"==typeof s&&Array.isArray(null==s?void 0:null===(t=s.contents)||void 0===t?void 0:null===(r=t.contents)||void 0===r?void 0:null===(a=r.contents)||void 0===a?void 0:a.error)){return s}}catch{return null}return null};const tryMapTxBlockfrostSubmissionError=e=>{try{const t=JSON.parse(e.detail);if("string"==typeof(null==t?void 0:t.message)){const r=tryParseBlockfrostTxSubmissionErrorMessage(t.message);if(!r){return null}const a=r.contents.contents.contents.error[0];if(a.includes("OutsideValidityIntervalUTxO")){return new s.TxSubmissionError(s.TxSubmissionErrorCode.OutsideOfValidityInterval,null,a)}const i=/ValueNotConservedUTxO.+Coin (\d+).+Coin (\d+)/.exec(a);if(i){const o=BigInt(i[1]);const n=BigInt(i[2]);const d={consumed:{coins:o},produced:{coins:n}};return new s.TxSubmissionError(s.TxSubmissionErrorCode.ValueNotConserved,d,a)}}}catch{return null}return null};class BlockfrostTxSubmitProvider extends a.BlockfrostProvider{async submitTx({signedTransaction:e}){try{await this.request("tx/submit",{body:o.from(e,"hex"),headers:{"Content-Type":"application/cbor"},method:"POST"})}catch(r){if(r instanceof i.ProviderError){const t=tryMapTxBlockfrostSubmissionError(r);if(t){throw new i.ProviderError(r.reason,t,r.detail)}}throw r}}constructor(e,t){super(e,t)}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/TxSubmitProvider/TxSubmitApiProvider.js":(e,t,r)=>{"use strict";r.d(t,{TxSubmitApiProvider:()=>TxSubmitApiProvider});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/hexString.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/CardanoNode/types/CardanoNodeErrors.js");const parseStringishError=e=>{if(/outsideofvalidity/i.test(e)){return new o.TxSubmissionError(o.TxSubmissionErrorCode.OutsideOfValidityInterval,null,e)}if(/valuenotconserved/i.test(e)){return new o.TxSubmissionError(o.TxSubmissionErrorCode.ValueNotConserved,null,e)}if(/nonadacollateral/i.test(e)){return new o.TxSubmissionError(o.TxSubmissionErrorCode.NonAdaCollateral,null,e)}if(/incompletewithdrawals/i.test(e)){return new o.TxSubmissionError(o.TxSubmissionErrorCode.IncompleteWithdrawals,null,e)}return null};const mapCardanoTxSubmitError=e=>{if("string"==typeof e){return parseStringishError(e)}if("object"==typeof e&&e){return parseStringishError(JSON.stringify(e))}return null};var n=r("../../node_modules/axios/lib/axios.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l,u,f;class TxSubmitApiProvider{async submitTx({signedTransaction:e}){let t;try{t=a.Transaction.fromCbor(e).getId();__classPrivateFieldGet(this,l,"f").debug(`Submitting tx ${t} ...`);await __classPrivateFieldGet(this,d,"f").call(this,{adapter:__classPrivateFieldGet(this,f,"f"),data:(0,i.hexStringToBuffer)(e),headers:{"Content-Type":"application/cbor"},method:"post",url:__classPrivateFieldGet(this,u,"f")});__classPrivateFieldSet(this,c,true,"f");__classPrivateFieldGet(this,l,"f").debug(`Tx ${t} submitted`)}catch(h){__classPrivateFieldSet(this,c,false,"f");__classPrivateFieldGet(this,l,"f").error(`Tx ${t} submission error`);__classPrivateFieldGet(this,l,"f").error(h);if(n["default"].isAxiosError(h)&&h.response){const{data:r,status:o}=h.response;if("number"==typeof o&&o>=400&&o<500)__classPrivateFieldSet(this,c,true,"f");throw new s.ProviderError(s.ProviderFailure.BadRequest,mapCardanoTxSubmitError(r),"string"==typeof r?r:JSON.stringify(r))}throw new s.ProviderError(s.ProviderFailure.Unknown,h,"submitting tx")}}healthCheck(){return Promise.resolve({ok:__classPrivateFieldGet(this,c,"f")})}constructor({baseUrl:e,path:t="/api/submit/tx"},{logger:r,adapter:a}){d.set(this,void 0);c.set(this,true);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,d,n["default"].create({baseURL:e.origin}),"f");__classPrivateFieldSet(this,l,r,"f");__classPrivateFieldSet(this,u,t,"f");__classPrivateFieldSet(this,f,a,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/UtxoProvider/BlockfrostUtxoProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostUtxoProvider:()=>BlockfrostUtxoProvider});var a=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js");var s=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostToCore.js");var i=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/util.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");class BlockfrostUtxoProvider extends a.BlockfrostProvider{async fetchUtxos(e,t){const r=`addresses/${e.toString()}/utxos?${t}`;const a=await this.request(r);const i=a.map(t=>this.fetchDetailsFromCBOR(t.tx_hash).then(r=>{const a=r?r.body.outputs.find(e=>e.address===t.address):void 0;return s.BlockfrostToCore.addressUtxoContent(e.toString(),t,a)}));return Promise.all(i)}async fetchCBOR(e){return this.request(`txs/${e}/cbor`).then(e=>{if(e.cbor)return e.cbor;throw new Error("CBOR is null")}).catch(e=>{throw new Error("CBOR fetch failed")})}async fetchDetailsFromCBOR(e){const t=await this.cache.get(e);if(t)return t;const r=await this.fetchCBOR(e).then(t=>{const r=o.Transaction.fromCbor(o.TxCBOR(t)).toCore();this.logger.debug("Fetched details from CBOR for tx",e);return r}).catch(t=>{this.logger.warn("Failed to fetch details from CBOR for tx",e,t);return null});if(!r){return null}void this.cache.set(e,r);return r}async utxoByAddresses({addresses:e}){try{const t=await Promise.all(e.map(async e=>(0,i.fetchSequentially)({request:async t=>await this.fetchUtxos(e,t)})));return t.flat(1)}catch(r){throw this.toProviderError(r)}}constructor({cache:e,client:t,logger:r}){super(t,r);this.cache=e}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/WebSocket.js":(e,t,r)=>{"use strict";r.d(t,{CardanoWsClient:()=>CardanoWsClient});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/util/slotCalc.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/serializableObject.js");var c=r("../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");var l=r("../../node_modules/rxjs/dist/esm5/internal/ReplaySubject.js");var u=r("../../node_modules/rxjs/dist/esm5/internal/observable/merge.js");var f=r("../../node_modules/rxjs/dist/esm5/internal/operators/filter.js");var h=r("../../node_modules/rxjs/dist/esm5/internal/Subject.js");var p=r("../../node_modules/isomorphic-ws/browser.js");const m="not-connected";const deserializeDatum=e=>{for(const t of e.body.outputs)if(t.datum)t.datum=a.PlutusData.fromCbor(t.datum).toCore()};const deserializeMetadata=e=>{if(e.auxiliaryData)e.auxiliaryData={blob:new Map(e.auxiliaryData.map(e=>{const t=BigInt(e[0]);return[t,s.GeneralTransactionMetadata.fromCbor(e[1]).toCore().get(t)]}))}};const isEventError=e=>"object"==typeof e&&!!e&&e.error instanceof Error;const isTxRelevant=({body:{collaterals:e,collateralReturn:t,inputs:r,outputs:a},inputSource:s},o)=>s===i.InputSource.inputs?r.some(e=>o.includes(e.address))||a.some(e=>o.includes(e.address)):e.some(e=>o.includes(e.address))||t&&o.includes(t.address);const removeRolledBackTxs=(e,t)=>{let r;for(r in e)if(e[r].blockHeader.blockNo>t)delete e[r]};class WsProvider{emitHealth(e,{notRecoverable:t,overwrite:r}={}){if(this.notRecoverable)return;if(!e){this.reason=void 0;return this.healthSubject$.next({ok:true})}if(t)this.notRecoverable=true;let a;if("string"==typeof e){if(r||!this.reason)this.reason=e;a={notRecoverable:this.notRecoverable,ok:false,reason:this.reason}}else a=e;this.healthSubject$.next(a)}healthCheck(){return(0,c.firstValueFrom)(this.health$)}constructor(){this.health$=this.healthSubject$=new l.ReplaySubject(1);this.healthSubject$.next({ok:false,reason:"starting"})}}class CardanoWsClient extends WsProvider{createNetworkInfoProviderMethod(e){return async()=>{this.logger.debug(`CardanoWsClient.${e} called`);const t=await (0,c.firstValueFrom)((0,u.merge)(this.health$.pipe((0,f.filter)(({ok:e,reason:t})=>!e&&"starting"!==t)),this.networkInfo[`${e}$`]));if("ok"in t&&"reason"in t&&false===t.ok){this.logger.error(`CardanoWsClient.${e} error`,t.reason);throw new o.ProviderError(o.ProviderFailure.ConnectionFailure,void 0,t.reason)}this.logger.debug(`CardanoWsClient.${e} response:`,(0,d.toSerializableObject)(t));return t}}connect(){if("stop"!==this.status)this.status="connecting";const e=this.ws=new p["default"](this.url);e.onmessage=e=>{try{if("string"!=typeof e.data)throw new Error("Unexpected data from WebSocket ");const t=(0,d.fromSerializableObject)(JSON.parse(e.data));const{clientId:r,networkInfo:a,responseTo:s,syncing:i,transactions:o,utxos:c}=t;if(r){this.logger.info(`Connected with clientId ${this.clientId=r}`);if(i)this.emitHealth("Server is still syncing",{overwrite:true});else this.emitHealth()}if(o)for(const l of o){deserializeDatum(l);deserializeMetadata(l);this.transactions[l.id]=l;delete this.utxos[l.id];this.logger.debug("CardanoWsClient got tx",l.id,l.blockHeader)}if(c){for(const u of c)if(!this.transactions[u.id]){deserializeDatum(u);this.utxos[u.id]=u}}if(a){const{eraSummaries:f,genesisParameters:h,ledgerTip:p,lovelaceSupply:m,protocolParameters:_,stake:v}=a;if(f)this.networkInfoSubjects.eraSummaries$.next(f);if(h)this.networkInfoSubjects.genesisParameters$.next(h);if(m)this.networkInfoSubjects.lovelaceSupply$.next(m);if(_)this.networkInfoSubjects.protocolParameters$.next(_);if(v)this.networkInfoSubjects.stake$.next(v);if(p){this.logger.debug("CardanoWsClient got tip",p);removeRolledBackTxs(this.transactions,p.blockNo);removeRolledBackTxs(this.utxos,p.blockNo);this.networkInfoSubjects.ledgerTip$.next(p)}if(f&&p&&m&&_&&!r){const y=(0,n.createSlotEpochInfoCalc)(f)(p.slot);this.epochSubject$.next({epochInfo:y,eraSummaries:f,ledgerTip:p,lovelaceSupply:m,protocolParameters:_})}}if(s){const w=this.handlers.get(s);this.logger.debug("CardanoWsClient response",s);if(w){const{error:g}=t;this.handlers.delete(s);g?w(g):w(void 0,t)}}}catch(b){this.logger.error(b,"While parsing message",e.data,this.clientId)}};e.onclose=()=>{this.logger.debug("WebSocket client connection closed",this.clientId);if(this.heartbeatTimeout){clearInterval(this.heartbeatTimeout);this.heartbeatTimeout=void 0}this.clientId=m;if("stop"===this.status)this.closeResolver();else{this.status="idle";const e=setTimeout(()=>this.connect(),1e3);if("function"==typeof e.unref)e.unref()}this.emitHealth("closed")};e.onerror=t=>{const r=t instanceof Error?t:isEventError(t)?t.error:new Error(`Unknown error: ${JSON.stringify(t)}`);this.logger.error(r,"Async error from WebSocket client",this.clientId);e.close();this.emitHealth(r.message,{overwrite:true});for(const a of this.handlers.values())a(r);this.handlers.clear();this.addresses={};this.transactions={}};e.onopen=()=>{if("stop"!==this.status)this.status="connected";this.heartbeat()}}heartbeat(){if(this.heartbeatTimeout)clearInterval(this.heartbeatTimeout);this.heartbeatTimeout=setTimeout(()=>{try{this.request({})}catch(e){this.logger.error(e,"Error while refreshing heartbeat",this.clientId)}},this.heartbeatInterval);if("function"==typeof this.heartbeatTimeout.unref)this.heartbeatTimeout.unref()}close(){this.status="stop";this.ws.close();return this.closePromise}request(e,t){if("connected"!==this.status)return false;if(Object.keys(e).length>0)e={...e,requestId:++this.requestId};this.logger.debug("CardanoWsClient request",e);this.ws.send(JSON.stringify(e));this.heartbeat();if(e.requestId&&t)this.handlers.set(e.requestId,t);return true}transactionsByAddresses(e){const{addresses:t,blockRange:r,pagination:a}=e;return new Promise((s,i)=>{const n=(null==r?void 0:r.lowerBound)||0;const l=(null==r?void 0:r.upperBound)||Number.POSITIVE_INFINITY;const u=[];const h={addresses:u,lower:n};this.logger.debug("CardanoWsClient.transactionsByAddresses called",e);const complete=r=>{if(r){for(const o of u)delete this.addresses[o];this.logger.error("CardanoWsClient.transactionsByAddresses error",e,r);return i(r)}const c=Object.values(this.transactions).filter(({blockHeader:{blockNo:e}})=>n<=e&&e<=l).filter(e=>isTxRelevant(e,t)).sort((e,t)=>e.blockHeader.blockNo-t.blockHeader.blockNo||e.index-t.index);const f=(null==a?void 0:a.startAt)||0;const h=f+((null==a?void 0:a.limit)||Number.POSITIVE_INFINITY);const p=c.filter((e,t)=>f<=t&&t<h);const m={pageResults:p,totalResultCount:c.length};this.logger.debug("CardanoWsClient.transactionsByAddresses response",e,(0,d.toSerializableObject)(m));s(m)};for(const p of t){const m=this.addresses[p];let _=false;if(m){if("syncing"===m.status)return complete(new o.ProviderError(o.ProviderFailure.Conflict,null,`${p} still loading`));if(n<m.lower)_=true}else _=true;if(_){u.push(p);this.addresses[p]={lower:n,status:"syncing"}}}(0,c.firstValueFrom)(this.health$.pipe((0,f.filter)(({reason:e})=>"starting"!==e))).then(({ok:e,reason:t})=>{if(!e)return complete(new o.ProviderError(o.ProviderFailure.ConnectionFailure,void 0,t));if(0===u.length)return complete();this.deferRequest(h,e=>{if(e)return complete(new o.ProviderError(o.ProviderFailure.ConnectionFailure,e,e.message));for(const t of u)this.addresses[t].status="synced";complete()})}).catch(complete)})}deferRequest(e,t){const{requests:r,timeout:a}=this.deferredRequests;if(a)clearTimeout(a);r.push({complete:t,txsByAddresses:e});this.deferredRequests.timeout=setTimeout(()=>{this.deferredRequests={requests:[]};this.request({txsByAddresses:r.reduce((e,{txsByAddresses:{addresses:t,lower:r}})=>({addresses:[...e.addresses,...t],lower:e.lower<r?e.lower:r}),{addresses:[],lower:Number.POSITIVE_INFINITY})},e=>r.forEach(({complete:t})=>t(e)))},3)}utxoByAddresses({addresses:e}){this.logger.debug("CardanoWsClient.utxoByAddresses called",e);for(const t of e){const r=this.addresses[t];let a;if(!r){this.logger.error("CardanoWsClient.utxoByAddresses error",a=`${t} not loaded`);return Promise.reject(new o.ProviderError(o.ProviderFailure.NotImplemented,null,a))}if("syncing"===r.status){this.logger.error("CardanoWsClient.utxoByAddresses error",a=`${t} still loading`);return Promise.reject(new o.ProviderError(o.ProviderFailure.Conflict,null,a))}}const s=[];const i=[...Object.values(this.utxos),...Object.values(this.transactions)].filter(t=>isTxRelevant(t,e)).sort((e,t)=>e.blockHeader.blockNo-t.blockHeader.blockNo||e.index-t.index);for(let n=0;n<i.length;++n){const c=i[n];for(let l=0;l<c.body.outputs.length;++l){const u=c.body.outputs[l];if(e.includes(u.address)){let f=true;for(let h=n+1;h<i.length&&f;++h){const p=i[h];for(let m=0;m<p.body.inputs.length&&f;++m){const _=p.body.inputs[m];if(_.txId===c.id&&_.index===l)f=false}}if(f)s.push([{address:u.address,index:l,txId:c.id},u])}}}this.logger.debug("CardanoWsClient.utxoByAddresses response",(0,d.toSerializableObject)(s));return Promise.resolve(s)}constructor(e,t){super();this.clientId=m;this.addresses={};this.deferredRequests={requests:[]};this.handlers=new Map;this.requestId=0;this.status="idle";this.transactions={};this.utxos={};this.networkInfoSubjects={};this.epoch$=this.epochSubject$=new h.Subject;this.heartbeatInterval=1e3*(t.heartbeatInterval||55);this.logger=e.logger;this.url=t.url;this.closePromise=new Promise(e=>{this.closeResolver=e});this.networkInfoSubjects={eraSummaries$:new l.ReplaySubject(1),genesisParameters$:new l.ReplaySubject(1),ledgerTip$:new l.ReplaySubject(1),lovelaceSupply$:new l.ReplaySubject(1),protocolParameters$:new l.ReplaySubject(1),stake$:new l.ReplaySubject(1)};this.networkInfo=this.networkInfoSubjects;this.chainHistoryProvider={blocksByHashes:t=>e.chainHistoryProvider.blocksByHashes(t),healthCheck:()=>this.healthCheck(),transactionsByAddresses:e=>this.transactionsByAddresses(e),transactionsByHashes:t=>e.chainHistoryProvider.transactionsByHashes(t)};this.networkInfoProvider={eraSummaries:this.createNetworkInfoProviderMethod("eraSummaries"),genesisParameters:this.createNetworkInfoProviderMethod("genesisParameters"),healthCheck:()=>this.healthCheck(),ledgerTip:this.createNetworkInfoProviderMethod("ledgerTip"),lovelaceSupply:this.createNetworkInfoProviderMethod("lovelaceSupply"),protocolParameters:this.createNetworkInfoProviderMethod("protocolParameters"),stake:this.createNetworkInfoProviderMethod("stake")};this.utxoProvider={healthCheck:()=>this.healthCheck(),utxoByAddresses:e=>this.utxoByAddresses(e)};this.connect()}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostClient.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostClient:()=>BlockfrostClient,BlockfrostError:()=>BlockfrostError});function fixProto(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function fixStack(e,t){if(void 0===t)t=e.constructor;var r=Error.captureStackTrace;r&&r(e,t)}var a=function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){a(CustomError,e);function CustomError(t){var r=this.constructor;var a=e.call(this,t)||this;Object.defineProperty(a,"name",{value:r.name,enumerable:false,configurable:true});fixProto(a,r.prototype);fixStack(a);return a}return CustomError}(Error);var __spreadArrays=function(){var e=arguments;for(var t=0,r=0,a=arguments.length;r<a;r++)t+=e[r].length;for(var s=Array(t),i=0,r=0;r<a;r++){for(var o=arguments[r],n=0,d=o.length;n<d;n++,i++)s[i]=o[n]}return s};function customErrorFactory(e,t){if(void 0===t)t=Error;function CustomError(){var r=arguments;var a=[];for(var s=0;s<arguments.length;s++)a[s]=r[s];if(!(this instanceof CustomError)){return new(CustomError.bind.apply(CustomError,__spreadArrays([void 0],a)))}t.apply(this,a);Object.defineProperty(this,"name",{value:e.name||t.name,enumerable:false,configurable:true});e.apply(this,a);fixStack(this,CustomError)}return Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:true,configurable:true}})}})}var i=r("../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");var o=r("../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");var n=r("../../node_modules/rxjs/dist/esm5/internal/operators/catchError.js");var d=r("../../node_modules/rxjs/dist/esm5/internal/observable/throwError.js");var c=r("../../node_modules/rxjs/dist/esm5/internal/observable/dom/fetch.js");const tryReadResponseText=async e=>{try{return e.text()}catch{return}};class BlockfrostError extends s{constructor(e,t,r){const a=t||(null==r?void 0:r.message);super(`Blockfrost error with status '${e}': ${a}`);this.status=e;this.body=t;this.innerError=r}}class BlockfrostClient{request(e,t){return this.rateLimiter.schedule(()=>{return(0,i.firstValueFrom)((0,c.fromFetch)(`${this.baseUrl}/${e}`,{...this.requestInit,...t,headers:(null==t?void 0:t.headers)?{...this.requestInit.headers,...t.headers}:this.requestInit.headers}).pipe((0,o.switchMap)(async e=>{if(e.ok){try{return await e.json()}catch{throw new BlockfrostError(e.status,"Failed to parse json")}}throw new BlockfrostError(e.status,await tryReadResponseText(e))}),(0,n.catchError)(e=>{if(e instanceof BlockfrostError){return(0,d.throwError)(()=>e)}return(0,d.throwError)(()=>new BlockfrostError(void 0,void 0,e))})))})}constructor({apiVersion:e,projectId:t,baseUrl:r},{rateLimiter:a}){this.rateLimiter=a;this.requestInit=t?{headers:{project_id:t}}:{};this.baseUrl=e?`${r}/api/${e}`:`${r}`}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostProvider.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostProvider:()=>BlockfrostProvider});var a=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostClient.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/logging.js");var o=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/util.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n;const toProviderFailure=e=>{switch(e){case 400:return s.ProviderFailure.BadRequest;case 403:return s.ProviderFailure.Forbidden;case 404:return s.ProviderFailure.NotFound;case 402:case 418:case 425:case 429:return s.ProviderFailure.ServerUnavailable;case 500:return s.ProviderFailure.Unhealthy;default:return s.ProviderFailure.Unknown}};class BlockfrostProvider{async request(e,t){try{this.logger.debug("request",e);const r=await __classPrivateFieldGet(this,n,"f").request(e,t);this.logger.debug("response",r);return r}catch(a){(0,o.isBlockfrostNotFoundError)(a)?this.logger.debug("Blockfrost not found",a):this.logger.error(a);throw this.toProviderError(a)}}async healthCheck(){try{const e=await __classPrivateFieldGet(this,n,"f").request("health");return{ok:e.is_healthy}}catch(t){return{ok:false,reason:this.toProviderError(t).message}}}toProviderError(e){if(e instanceof s.ProviderError){return e}if(e instanceof a.BlockfrostError){return new s.ProviderError(toProviderFailure(e.status),e,e.body)}return new s.ProviderError(s.ProviderFailure.Unknown,e)}constructor(e,t){n.set(this,void 0);__classPrivateFieldSet(this,n,e,"f");this.logger=(0,i.contextLogger)(t,this.constructor.name)}}n=new WeakMap},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostToCore.js":(e,t,r)=>{"use strict";r.d(t,{BlockfrostToCore:()=>u});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var c=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");const u={addressUtxoContent:(e,t,r)=>[u.hydratedTxIn(u.inputFromUtxo(e,t)),u.txOut(u.outputFromUtxo(e,t),r)],blockToTip:e=>({blockNo:a.BlockNo(e.height),hash:a.BlockId(e.hash),slot:a.Slot(e.slot)}),hydratedTxIn:e=>({address:s.PaymentAddress(e.address),index:e.output_index,txId:i.TransactionId(e.tx_hash)}),inputFromUtxo:(e,t)=>({address:e,amount:t.amount,output_index:t.output_index,tx_hash:t.tx_hash}),inputs:e=>e.map(e=>u.hydratedTxIn(e)),outputFromUtxo:(e,t)=>({...t,address:e,collateral:false}),outputs:e=>e.map(e=>u.txOut(e)),protocolParameters:e=>({coinsPerUtxoByte:Number(e.coins_per_utxo_word),collateralPercentage:e.collateral_percent,committeeTermLimit:a.EpochNo(0),costModels:new Map([[o.PlutusLanguageVersion.V1,Object.values(e.cost_models.PlutusV1)],[o.PlutusLanguageVersion.V2,Object.values(e.cost_models.PlutusV2)]]),dRepDeposit:e.drep_deposit?Number(e.drep_deposit):void 0,dRepInactivityPeriod:a.EpochNo(0),dRepVotingThresholds:null,desiredNumberOfPools:e.n_opt,governanceActionDeposit:e.gov_action_deposit?Number(e.gov_action_deposit):void 0,governanceActionValidityPeriod:a.EpochNo(0),maxBlockBodySize:e.max_block_size,maxBlockHeaderSize:e.max_block_header_size,maxCollateralInputs:Number(e.max_collateral_inputs),maxExecutionUnitsPerBlock:{memory:Number.parseInt(e.max_block_ex_mem),steps:Number.parseInt(e.max_block_ex_steps)},maxExecutionUnitsPerTransaction:{memory:Number.parseInt(e.max_tx_ex_mem),steps:Number.parseInt(e.max_tx_ex_steps)},maxTxSize:Number(e.max_tx_size),maxValueSize:Number(e.max_val_size),minCommitteeSize:0,minFeeCoefficient:e.min_fee_a,minFeeConstant:e.min_fee_b,minPoolCost:Number(e.min_pool_cost),monetaryExpansion:e.rho.toString(),poolDeposit:Number(e.pool_deposit),poolInfluence:e.a0.toString(),poolRetirementEpochBound:e.e_max,poolVotingThresholds:null,prices:{memory:e.price_mem,steps:e.price_step},protocolVersion:{major:e.protocol_major_ver,minor:e.protocol_minor_ver},stakeKeyDeposit:Number(e.key_deposit),treasuryExpansion:e.tau.toString()}),txOut:(e,t)=>{const r={coins:BigInt(e.amount.find(({unit:e})=>"lovelace"===e).quantity)};const a=new Map;for(const{quantity:i,unit:o}of e.amount)if("lovelace"!==o)a.set(n.AssetId(o),BigInt(i));if(a.size>0)r.assets=a;const u={address:s.PaymentAddress(e.address),value:r};if(e.inline_datum)u.datum=d.PlutusData.fromCbor((0,l.HexBlob)(e.inline_datum)).toCore();if(e.data_hash)u.datumHash=(0,c.Hash32ByteBase16)(e.data_hash);if(null==t?void 0:t.scriptReference)u.scriptReference=t.scriptReference;return u}}},"../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/util.js":(e,t,r)=>{"use strict";r.d(t,{blockfrostMetadataToTxMetadata:()=>blockfrostMetadataToTxMetadata,fetchSequentially:()=>fetchSequentially,isBlockfrostNotFoundError:()=>isBlockfrostNotFoundError});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");const withProviderErrors=(e,t)=>Object.keys(e).reduce((r,a)=>{const s=e[a];r[a]="function"==typeof s?(...e)=>s(...e).catch(t):s;return r},{});const tryParseBigIntKey=e=>{if(e.startsWith("0x"))return e.slice(2);if(0===e.length)return e;try{return BigInt(e)}catch{return e}};const jsonToMetadatum=e=>{switch(typeof e){case"number":return BigInt(e);case"string":case"bigint":return e;case"object":if(null===e)break;if(Array.isArray(e)){return e.map(jsonToMetadatum)}return new Map(Object.keys(e).map(t=>[tryParseBigIntKey(t),jsonToMetadatum(e[t])]))}throw new a.ProviderError(a.ProviderFailure.NotImplemented,null,`Unsupported metadatum type: ${typeof e}`)};var s=r("../../node_modules/@cardano-sdk/cardano-services-client/dist/esm/blockfrost/BlockfrostClient.js");const isBlockfrostNotFoundError=e=>e instanceof s.BlockfrostError&&404===e.status||e instanceof a.ProviderError&&e.reason===a.ProviderFailure.NotFound;const buildQueryString=({page:e,count:t,order:r})=>{let a="";const appendIfDefined=(e,t)=>{if(void 0!==e)a+=a?`&${t}`:t};appendIfDefined(e,`page=${e}`);appendIfDefined(t,`count=${t}`);appendIfDefined(r,`order=${r}`);return a};const fetchSequentially=async(e,t=[])=>{var r,a;const s=(null===(r=e.paginationOptions)||void 0===r?void 0:r.count)||100;const i=(null===(a=e.paginationOptions)||void 0===a?void 0:a.page)||1;try{var o,n;const d=await e.request(buildQueryString({count:s,order:null===(o=e.paginationOptions)||void 0===o?void 0:o.order,page:i}));const c=e.responseTranslator?e.responseTranslator(d):d;const l=[...t,...c];const u=null===(n=e.haveEnoughItems)||void 0===n?void 0:n.call(e,l,d);if(d.length===s&&!u){return fetchSequentially({...e,paginationOptions:{...e.paginationOptions,page:i+1}},l)}return l}catch(f){if(isBlockfrostNotFoundError(f)){return[]}throw f}};const blockfrostMetadataToTxMetadata=e=>e.reduce((e,t)=>{const{json_metadata:r,label:a}=t;if(!r||!a)return e;e.set(BigInt(a),jsonToMetadatum(r));return e},new Map)},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/errors.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidFileError=void 0;const a=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");class InvalidFileError extends a.CustomError{}t.InvalidFileError=InvalidFileError},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/fromMetadatum.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.fromMetadatum=void 0;const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/types.js");const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/errors.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/metadatum.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/util.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=s(r("../../node_modules/lodash/difference.js"));const isString=e=>"string"==typeof e;const f=/^\d+\.?\d?$/;const metadatumToString=e=>{if(Array.isArray(e)){const t=e.map(c.asString);if(t.some(e=>void 0===e)){return}return t.join("")}return(0,c.asString)(e)};const mapOtherProperties=(e,t)=>{const r=(0,u.default)([...e.keys()].filter(isString),t);if(0===r.length)return;return r.reduce((t,r)=>{t.set(r,e.get(r));return t},new Map)};const missingFieldLogMessage=(e,t,r)=>`Omitting cip25 ${r?"root":"file"} metadata: missing "${e}". AssetId: ${t}`;const mapFile=(e,t,r)=>{const a=(0,d.asMetadatumMap)(e);if(!a)throw new n.InvalidFileError;const s=(0,c.asString)(a.get("name"));const i=(0,c.asString)(a.get("mediaType"));if(!i){r.warn(missingFieldLogMessage("mediaType",t,false));return null}const l=metadatumToString(a.get("src"));if(!l){r.warn(missingFieldLogMessage("source",t,false));return null}return{mediaType:(0,o.MediaType)(i),name:s,otherProperties:mapOtherProperties(a,["mediaType","name","src"]),src:(0,o.Uri)(l)}};const getPolicyMetadata=(e,t)=>(0,d.asMetadatumMap)(e.get(t)||(()=>{for(const[r,s]of e.entries())if(ArrayBuffer.isView(r)&&a.from(r).toString("hex")===t)return s})());const getAssetMetadata=(e,t)=>(0,d.asMetadatumMap)(e.get(t)||e.get(a.from(t,"hex").toString("utf8"))||(()=>{for(const[r,s]of e.entries())if(ArrayBuffer.isView(r)&&a.from(r).toString("hex")===t)return s})());const getName=(e,t,r,a,s=false)=>{const o=(0,c.asString)(e.get("name"));if(o)return o;if("1.0"===t){try{return i.AssetName.toUTF8(r.name,s)}catch(n){a.warn(n)}}};const parseVersion=e=>{if(!e)return"1.0";if("bigint"==typeof e){return`${e}.0`}const t=(0,c.asString)(e);if(t&&f.test(t)){return`${Number(t)}.0`}};const fromMetadatum=(e,t,r,a=false)=>{const s=null==t?void 0:t.get(721n);if(!s)return null;const n=(0,d.asMetadatumMap)(s);if(!n)return null;const u=getPolicyMetadata(n,e.policyId);if(!u)return null;const f=parseVersion(u.get("version"));if(!f)return null;const h=getAssetMetadata(u,e.name);if(!h)return null;const p=getName(h,f,e,r,true);const m=metadatumToString(h.get("image"));const _=i.AssetId.fromParts(e.policyId,e.name);if(a&&!p||!m){r.warn(missingFieldLogMessage(p?"image":"name",_,true));return null}const v=(0,c.asString)(h.get("mediaType"));const y=(0,d.asMetadatumArray)(h.get("files"));try{return{description:metadatumToString(h.get("description")),files:null==y?void 0:y.map(e=>mapFile(e,_,r)).filter(l.isNotNil),image:(0,o.Uri)(m),mediaType:v?(0,o.ImageMediaType)(v):void 0,name:p||"",otherProperties:mapOtherProperties(h,["name","image","mediaType","description","files"]),version:f}}catch(w){r.warn("Invalid CIP-25 metadata",h,w);return null}};t.fromMetadatum=fromMetadatum},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/fromPlutusData.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fromPlutusData=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/types.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/util.js");const i=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/index.js");const tryCoerce=(e,t,r)=>{if("string"!=typeof e)return;try{return t(e)}catch(a){r.warn(a instanceof Error?a.message:a)}};const mapOtherPropertyValue=(e,t)=>{if("string"==typeof e||(0,o.isPlutusBigInt)(e)||(0,o.isPlutusBoundedBytes)(e))return e;if((0,o.isPlutusMap)(e)){const r=mapOtherProperties((0,o.tryConvertPlutusMapToUtf8Record)(e,t),t);return new Map(Object.entries(r))}const a=(0,o.isPlutusList)(e)?e.items:e.fields.items;return a.map(e=>mapOtherPropertyValue(e,t))};const mapOtherProperties=(e,t)=>Object.entries(e).reduce((e,[r,a])=>{if(void 0!==a)e.set(r,mapOtherPropertyValue(a,t));return e},new Map);const undefinedIfEmpty=e=>e.size>0?e:void 0;const mapFile=(e,t)=>{if(!(0,o.isPlutusMap)(e)){t.warn('expected "files[n]" to be a map');return}const{mediaType:r,src:i,name:n,...d}=(0,o.tryConvertPlutusMapToUtf8Record)(e,t);const c=tryCoerce(r,a.MediaType,t);const l=tryCoerce(i,a.Uri,t);if("string"!=typeof l||"string"!=typeof c){t.warn('invalid "files[n].src" or "files[n].mediaType"');return}return{mediaType:c,name:(0,s.asString)(n),otherProperties:undefinedIfEmpty(mapOtherProperties(d,t)),src:l}};const mapFiles=(e,t)=>{if(!e)return;if(!(0,o.isPlutusList)(e)){t.warn('expected "files" to be a list');return}return e.items.map(e=>mapFile(e,t)).filter(i.isNotNil)};const getConditionalValidators=(e,t)=>({isNameValid:r=>{if("string"==typeof r)return true;if(void 0===r){if(e){t.debug('Invalid PlutusData: "name" is required');return false}return true}t.debug('Invalid PlutusData: "name" must be utf8 bounded bytes');return false},isValidDatumShape:r=>{const a=e?3:2;const s=(0,o.isConstrPlutusData)(r)&&0n===r.constructor&&r.fields.items.length>=a;if(!s)t.debug(`Invalid PlutusData: expecting ConstrPlutusData with 0th constructor and ${a} items`);return s}});const fromPlutusData=(e,t,r=false)=>{const n=(0,i.contextLogger)(t,"NftMetadata.fromPlutusData");const d=getConditionalValidators(r,n);if(!d.isValidDatumShape(e)){return null}const[c,l]=e.fields.items;if(!(0,o.isPlutusMap)(c)||!(0,o.isPlutusBigInt)(l)){n.debug("Invalid PlutusData: expecting a map at [0] and integer at [1]");return null}const u=(0,o.tryConvertPlutusMapToUtf8Record)(c,n);const{name:f,image:h,mediaType:p,description:m,files:_,...v}=u;if(!d.isNameValid(f)){return null}if("string"!=typeof h){n.debug('Invalid PlutusData: "image" must be UTF-8 bounded bytes');return null}const y=tryCoerce(h,a.Uri,n);if(!y){return null}return{description:(0,s.asString)(m),files:mapFiles(_,n),image:y,mediaType:tryCoerce(p,a.ImageMediaType,n),name:f||"",otherProperties:undefinedIfEmpty(mapOtherProperties(v,n)),version:l.toString()}};t.fromPlutusData=fromPlutusData},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.NftMetadata=void 0;const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/fromMetadatum.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/fromPlutusData.js");s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/types.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/errors.js"),t);t.NftMetadata={fromMetadatum:i.fromMetadatum,fromPlutusData:o.fromPlutusData}},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/types.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.MediaType=t.ImageMediaType=t.Uri=void 0;const o=i(r("../../node_modules/@biglup/is-cid/dist/cjs/index.js"));const n=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const looksLikeIpfsUrlWithoutProtocol=e=>{const[t]=e.split("/");if(!t)return false;return o.isValid(t)};const Uri=e=>{if(/^[a-z]+:\/\/.+/.test(e)){return e}if(e.startsWith("data:")){return e}if(looksLikeIpfsUrlWithoutProtocol(e)){return`ipfs://${e}`}throw new n.InvalidStringError('Expected Uri to start with "[protocol]:", where protocol is usually "https", "ipfs" or "data"')};t.Uri=Uri;const ImageMediaType=e=>{if(/^image\/.+$/.test(e)){return e}throw new n.InvalidStringError('Expected media type to be "image/*"')};t.ImageMediaType=ImageMediaType;const MediaType=e=>{if(/^[a-z]+\/.+$/.test(e)){return e}throw new n.InvalidStringError('Expected media type to be "*/*"')};t.MediaType=MediaType},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/util.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.asString=void 0;const asString=e=>"string"==typeof e?e:void 0;t.asString=asString},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/cip67.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.AssetNameLabelNum=t.AssetNameLabel=void 0;const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js");const o=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const n=s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/crc8.js"));const d=8;const c="0";const AssetNameLabel=e=>e;t.AssetNameLabel=AssetNameLabel;t.AssetNameLabelNum={ReferenceNFT:100,UserFT:333,UserNFT:222,UserRFT:444,VirtualHandle:0};const assertLabelNumInterval=e=>{if(e<0||e>65535){throw new o.InvalidArgumentError("Label num",`Label ${e} out of range 0 - 65535.`)}};const checksum=e=>(0,n.default)(Uint8Array.from(a.from(e,"hex"))).toString(16).padStart(2,"0");const isInvalidChecksum=(e,t)=>t!==checksum(e);const isInvalidLength=e=>e.length!==d;const isInvalidBracket=(e,t)=>e!==c||t!==c;const assetNameLabelHexToNum=e=>{const r=e[0];const a=e[7];const s=e.slice(1,5);const i=e.slice(5,7);if(isInvalidLength(e)||isInvalidBracket(r,a)||isInvalidChecksum(s,i)){return null}return(0,t.AssetNameLabel)(Number.parseInt(s,16))};t.AssetNameLabel.decode=e=>{const t=e.slice(0,d);const r=e.slice(d);const a=assetNameLabelHexToNum(t);if(null===a){return null}return{content:(0,i.AssetName)(r),label:a}};t.AssetNameLabel.encode=(e,t)=>{assertLabelNumInterval(t);const r=t.toString(16).padStart(4,c);return(0,i.AssetName)(`${c}${r}${checksum(r)}${c}${e}`)}},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/crc8.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});let r=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];if("undefined"!=typeof Int32Array)r=new Int32Array(r);const crc8=(e,t=0)=>{let a=Math.trunc(t);for(const s of e)a=255&r[(a^s)&255];return a};t["default"]=crc8},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.util=void 0;t.util=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/index.js"));o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/types/index.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/cip67.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/NftMetadata/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/types/AssetInfo.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/types/TokenMetadata.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/types/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/types/TokenMetadata.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/types/AssetInfo.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/coalesceTokenMaps.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.coalesceTokenMaps=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const coalesceTokenMaps=e=>{const t=new Map;for(const r of e.filter(a.isNotNil)){for(const[s,i]of r.entries()){const o=t.get(s)||0n;t.set(s,o+i)}}if(0===t.size){return}return t};t.coalesceTokenMaps=coalesceTokenMaps},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/getAssetNameAsText.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.getAssetNameAsText=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js");const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/cip67.js");const getAssetNameAsText=e=>{var t;const r=s.AssetId.getAssetName(e);const o=null===(t=i.AssetNameLabel.decode(r))||void 0===t?void 0:t.content;return a.from(o||r,"hex").toString("utf8")};t.getAssetNameAsText=getAssetNameAsText},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/coalesceTokenMaps.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/removeNegativesFromTokenMap.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/subtractTokenMaps.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/isValidHandle.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/getAssetNameAsText.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/isValidHandle.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isValidHandle=void 0;const r=new RegExp(/^[a-z0-9_.-]{1,15}$/);const a=new RegExp(/(?:^[a-z0-9_.-]{1,15}$)|(?:^(?!.{29})[a-z0-9_.-]+@[a-z0-9_.-]{1,15}$)/g);const isValidHandle=e=>{a.lastIndex=0;return r.test(e)||a.test(e)||"0|0"===e};t.isValidHandle=isValidHandle},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/removeNegativesFromTokenMap.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.removeNegativesFromTokenMap=void 0;const removeNegativesFromTokenMap=e=>{const t=new Map(e);for(const[r,a]of t)if(a<0)t.delete(r);return t};t.removeNegativesFromTokenMap=removeNegativesFromTokenMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/subtractTokenMaps.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.subtractTokenMaps=t.subtractMaps=void 0;const s=a(r("../../node_modules/lodash/uniq.js"));const subtractMaps=(e,t)=>{if(!t){if(!e)return;const r=new Map;for(const[a,i]of e.entries())if(0n!==i)r.set(a,i);return r}if(!e){const o=new Map;for(const[n,d]of t.entries())if(0n!==d)o.set(n,-d);return o}const c=new Map;const l=new Array;for(const[u,f]of e.entries()){if(t.has(u)){l.push(u);continue}if(0n!==f)c.set(u,f)}for(const[h,p]of t.entries()){if(e.has(h)){l.push(h);continue}if(0n!==p)c.set(h,-p)}const m=(0,s.default)(l);for(const _ of m){const v=e.get(_);const y=t.get(_);const w=v-y;if(0n!==w)c.set(_,w)}return c};t.subtractMaps=subtractMaps;const subtractTokenMaps=e=>{if(!e||0===e.length)return;return e.reduce(t.subtractMaps)};t.subtractTokenMaps=subtractTokenMaps},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c;Object.defineProperty(t,"__esModule",{value:true});t.isAddress=t.Address=t.CredentialType=t.AddressType=void 0;const l=o(r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/index.js"));const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/BaseAddress.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/ByronAddress.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/EnterpriseAddress.js");const p=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/ChainId.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/PointerAddress.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAddress.js");const y=1023;var w;(function(e){e[e["BasePaymentKeyStakeKey"]=0]="BasePaymentKeyStakeKey";e[e["BasePaymentScriptStakeKey"]=1]="BasePaymentScriptStakeKey";e[e["BasePaymentKeyStakeScript"]=2]="BasePaymentKeyStakeScript";e[e["BasePaymentScriptStakeScript"]=3]="BasePaymentScriptStakeScript";e[e["PointerKey"]=4]="PointerKey";e[e["PointerScript"]=5]="PointerScript";e[e["EnterpriseKey"]=6]="EnterpriseKey";e[e["EnterpriseScript"]=7]="EnterpriseScript";e[e["Byron"]=8]="Byron";e[e["RewardKey"]=14]="RewardKey";e[e["RewardScript"]=15]="RewardScript"})(w=t.AddressType||(t.AddressType={}));var g;(function(e){e[e["KeyHash"]=0]="KeyHash";e[e["ScriptHash"]=1]="ScriptHash"})(g=t.CredentialType||(t.CredentialType={}));class Address{static fromBytes(e){const t=a.from(e,"hex");const r=t[0]>>4;let s;switch(r){case w.BasePaymentKeyStakeKey:case w.BasePaymentScriptStakeKey:case w.BasePaymentKeyStakeScript:case w.BasePaymentScriptStakeScript:s=u.BaseAddress.unpackParts(r,t);break;case w.PointerKey:case w.PointerScript:s=_.PointerAddress.unpackParts(r,t);break;case w.EnterpriseKey:case w.EnterpriseScript:s=h.EnterpriseAddress.unpackParts(r,t);break;case w.RewardKey:case w.RewardScript:s=v.RewardAddress.unpackParts(r,t);break;case w.Byron:s=f.ByronAddress.unpackParts(r,t);break;default:throw new p.InvalidArgumentError("data","Invalid address raw data")}return s}toBytes(){let e;switch(d(this,c,"f").type){case w.BasePaymentKeyStakeKey:case w.BasePaymentScriptStakeKey:case w.BasePaymentKeyStakeScript:case w.BasePaymentScriptStakeScript:e=u.BaseAddress.packParts(d(this,c,"f"));break;case w.PointerKey:case w.PointerScript:e=_.PointerAddress.packParts(d(this,c,"f"));break;case w.EnterpriseKey:case w.EnterpriseScript:e=h.EnterpriseAddress.packParts(d(this,c,"f"));break;case w.RewardKey:case w.RewardScript:e=v.RewardAddress.packParts(d(this,c,"f"));break;case w.Byron:e=f.ByronAddress.packParts(d(this,c,"f"));break;default:throw new Error("Invalid address")}return p.HexBlob.fromBytes(e)}static fromBase58(e){return Address.fromBytes(p.HexBlob.fromBytes(l.base58.decode(e)))}toBase58(){if(d(this,c,"f").type!==w.Byron)throw new Error("Only Byron addresses will be encoded in base58");return l.base58.encode(a.from(this.toBytes(),"hex"))}toBech32(){const e=l.bech32.toWords(a.from(this.toBytes(),"hex"));if(d(this,c,"f").type===w.Byron)throw new Error("Only Shelley addresses will be encoded in bech32");const t=Address.getBech32Prefix(d(this,c,"f").type,d(this,c,"f").networkId);const r=l.bech32.encode(t,e,y);return d(this,c,"f").type===w.RewardKey||(d(this,c,"f").type,w.RewardScript),r}static fromBech32(e){const{words:t}=l.bech32.decode(e,y);return Address.fromBytes(p.HexBlob.fromBytes(l.bech32.fromWords(t)))}static fromString(e){try{if(Address.isValidBech32(e))return Address.fromBech32(e);if(Address.isValidByron(e))return Address.fromBase58(e);return Address.fromBytes((0,p.HexBlob)(e))}catch{}return null}static isValidBech32(e){try{Address.fromBech32(e)}catch{return false}return true}static isValidByron(e){try{const t=Address.fromBase58(e);if(d(t,c,"f").type!==w.Byron)return false}catch{return false}return true}static isValid(e){return Address.isValidBech32(e)||Address.isValidByron(e)}asByron(){return f.ByronAddress.fromAddress(this)}asReward(){return v.RewardAddress.fromAddress(this)}asPointer(){return _.PointerAddress.fromAddress(this)}asEnterprise(){return h.EnterpriseAddress.fromAddress(this)}asBase(){return u.BaseAddress.fromAddress(this)}getType(){return d(this,c,"f").type}getNetworkId(){if(d(this,c,"f").type===w.Byron){var e;if((null===(e=d(this,c,"f").byronAddressContent)||void 0===e?void 0:e.attrs.magic)===void 0)return m.NetworkId.Mainnet;return m.NetworkId.Testnet}return d(this,c,"f").networkId}getProps(){return d(this,c,"f")}static getBech32Prefix(e,t){let r="";switch(e){case w.BasePaymentKeyStakeKey:case w.BasePaymentScriptStakeKey:case w.BasePaymentKeyStakeScript:case w.BasePaymentScriptStakeScript:case w.PointerKey:case w.PointerScript:case w.EnterpriseKey:case w.EnterpriseScript:r="addr";break;case w.RewardKey:case w.RewardScript:r="stake";break;default:throw new Error("Invalid address")}r+=0===t?"_test":"";return r}constructor(e){c.set(this,void 0);n(this,c,e,"f")}}t.Address=Address;c=new WeakMap;const isAddress=e=>Address.isValid(e);t.isAddress=isAddress},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/BaseAddress.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.BaseAddress=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const u=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");class BaseAddress{static fromCredentials(e,t,r){let a=l.AddressType.BasePaymentKeyStakeKey;if(t.type===l.CredentialType.ScriptHash)a|=1;if(r.type===l.CredentialType.ScriptHash)a|=2;return new BaseAddress({delegationPart:r,networkId:e,paymentPart:t,type:a})}getPaymentCredential(){return i(this,d,"f")}getStakeCredential(){return i(this,c,"f")}toAddress(){return new l.Address({delegationPart:i(this,c,"f"),networkId:i(this,n,"f"),paymentPart:i(this,d,"f"),type:i(this,o,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case l.AddressType.BasePaymentKeyStakeKey:case l.AddressType.BasePaymentScriptStakeKey:case l.AddressType.BasePaymentKeyStakeScript:case l.AddressType.BasePaymentScriptStakeScript:t=new BaseAddress(e.getProps());break;default:}return t}static packParts(e){return a.concat([a.from([e.type<<4|e.networkId]),a.from(e.paymentPart.hash,"hex"),a.from(e.delegationPart.hash,"hex")])}static unpackParts(e,t){if(57!==t.length)throw new f.InvalidArgumentError("data","Base address data length should be 57 bytes long.");const r=15&t[0];const s=(0,u.Hash28ByteBase16)(a.from(t.slice(1,29)).toString("hex"));const i=(0,u.Hash28ByteBase16)(a.from(t.slice(29,57)).toString("hex"));const o=e===l.AddressType.BasePaymentKeyStakeScript||e===l.AddressType.BasePaymentScriptStakeScript?l.CredentialType.ScriptHash:l.CredentialType.KeyHash;const n=e===l.AddressType.BasePaymentScriptStakeKey||e===l.AddressType.BasePaymentScriptStakeScript?l.CredentialType.ScriptHash:l.CredentialType.KeyHash;return new l.Address({delegationPart:{hash:i,type:o},networkId:r,paymentPart:{hash:s,type:n},type:e})}constructor(e){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);s(this,n,e.networkId,"f");s(this,d,e.paymentPart,"f");s(this,c,e.delegationPart,"f");s(this,o,e.type,"f")}}t.BaseAddress=BaseAddress;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/ByronAddress.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n;Object.defineProperty(t,"__esModule",{value:true});t.ByronAddress=t.ByronAddressType=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/index.js");const l=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@foxglove/crc/dist/esm/src/index.js");var h;(function(e){e[e["PubKey"]=0]="PubKey";e[e["Script"]=1]="Script";e[e["Redeem"]=2]="Redeem"})(h=t.ByronAddressType||(t.ByronAddressType={}));class ByronAddress{static fromCredentials(e,t,r){return new ByronAddress({byronAddressContent:{attrs:t,root:e,type:r},type:d.AddressType.Byron})}getAttributes(){return i(this,n,"f").attrs}getRoot(){return i(this,n,"f").root}getByronAddressType(){return i(this,n,"f").type}toAddress(){return new d.Address({byronAddressContent:i(this,n,"f"),type:i(this,o,"f")})}static fromAddress(e){return e.getProps().type===d.AddressType.Byron?new ByronAddress(e.getProps()):void 0}static packParts(e){const{root:t,attrs:r,type:s}=e.byronAddressContent;let i=0;if(r.derivationPath)++i;if(r.magic)++i;const o=new c.CborWriter;o.writeStartArray(3);o.writeByteString(a.from(t,"hex"));o.writeStartMap(i);if(r.derivationPath){const n=new c.CborWriter().writeByteString(a.from(r.derivationPath,"hex")).encode();o.writeInt(1);o.writeByteString(n)}if(r.magic){const d=new c.CborWriter().writeInt(r.magic).encode();o.writeInt(2);o.writeByteString(d)}o.writeInt(s);const l=a.from(o.encodeAsHex(),"hex");o.reset();o.writeStartArray(2);o.writeTag(c.CborTag.EncodedCborDataItem);o.writeByteString(l);o.writeInt((0,f.crc32)(l));return o.encode()}static unpackParts(e,t){let r=new c.CborReader(u.HexBlob.fromBytes(t));r.readStartArray();r.readTag();const s=r.readByteString();if(Number(r.readInt())!==(0,f.crc32)(s))throw new u.InvalidArgumentError("data","Invalid Byron raw data. Checksum doesnt match.");r=new c.CborReader(u.HexBlob.fromBytes(s));r.readStartArray();const i=(0,l.Hash28ByteBase16)(a.from(r.readByteString()).toString("hex"));r.readStartMap();let o;let n;while(r.peekState()!==c.CborReaderState.EndMap){const h=r.readInt();switch(h){case 1n:{const p=r.readByteString();n=u.HexBlob.fromBytes(new c.CborReader(u.HexBlob.fromBytes(p)).readByteString());break}case 2n:{const m=r.readByteString();o=Number(new c.CborReader(u.HexBlob.fromBytes(m)).readInt());break}}}r.readEndMap();const _=Number(r.readInt());return new d.Address({byronAddressContent:{attrs:{derivationPath:n,magic:o},root:i,type:_},type:e})}constructor(e){o.set(this,void 0);n.set(this,void 0);s(this,n,e.byronAddressContent,"f");s(this,o,e.type,"f")}}t.ByronAddress=ByronAddress;o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/DRepID.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.DRepID=void 0;const n=o(r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/index.js"));const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const c=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=1023;const f=28;const h=29;const DRepID=e=>{try{return(0,l.typedBech32)(e,["drep"],47)}catch{return(0,l.typedBech32)(e,["drep","drep_script"],45)}};t.DRepID=DRepID;t.DRepID.isValid=e=>{try{(0,t.DRepID)(e);return true}catch{return false}};t.DRepID.cip105FromCredential=e=>{let t="drep";if(e.type===d.CredentialType.ScriptHash)t="drep_script";const r=n.bech32.toWords(a.from(e.hash,"hex"));return n.bech32.encode(t,r,u)};t.DRepID.cip129FromCredential=e=>{let t="22";if(e.type===d.CredentialType.ScriptHash)t="23";const r=`${t}${e.hash}`;const s=n.bech32.toWords(a.from(r,"hex"));return n.bech32.encode("drep",s,u)};t.DRepID.toCredential=e=>{const{words:t}=n.bech32.decode(e,u);const r=n.bech32.fromWords(t);if(r.length!==f&&r.length!==h){throw new Error("Invalid DRepID payload")}if(r.length===f){const s=e.includes("drep_script");return{hash:(0,c.Hash28ByteBase16)(a.from(r).toString("hex")),type:s?d.CredentialType.ScriptHash:d.CredentialType.KeyHash}}const i=r[0];const o=r.slice(1);const l=(32&i)===32;const p=(3&i)===3;if(!l){throw new Error("Invalid governance credential type")}return{hash:(0,c.Hash28ByteBase16)(a.from(o).toString("hex")),type:p?d.CredentialType.ScriptHash:d.CredentialType.KeyHash}};t.DRepID.toCip105DRepID=e=>{const r=t.DRepID.toCredential(e);return t.DRepID.cip105FromCredential(r)};t.DRepID.toCip129DRepID=e=>{const r=t.DRepID.toCredential(e);return t.DRepID.cip129FromCredential(r)};t.DRepID.toAddress=e=>{const r=t.DRepID.toCredential(e);return new d.Address({paymentPart:r,type:r.type===d.CredentialType.KeyHash?d.AddressType.EnterpriseKey:d.AddressType.EnterpriseScript}).asEnterprise()}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/EnterpriseAddress.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.EnterpriseAddress=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const l=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");class EnterpriseAddress{static fromCredentials(e,t){const r=t.type===c.CredentialType.ScriptHash?c.AddressType.EnterpriseScript:c.AddressType.EnterpriseKey;return new EnterpriseAddress({networkId:e,paymentPart:t,type:r})}getPaymentCredential(){return i(this,d,"f")}toAddress(){return new c.Address({networkId:i(this,n,"f"),paymentPart:i(this,d,"f"),type:i(this,o,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case c.AddressType.EnterpriseKey:case c.AddressType.EnterpriseScript:t=new EnterpriseAddress(e.getProps());break;default:}return t}static packParts(e){return a.concat([a.from([e.type<<4|e.networkId]),a.from(e.paymentPart.hash,"hex")])}static unpackParts(e,t){if(29!==t.length)throw new u.InvalidArgumentError("data","Enterprise address data length should be 29 bytes long.");const r=15&t[0];const s=(0,l.Hash28ByteBase16)(a.from(t.slice(1,29)).toString("hex"));return new c.Address({networkId:r,paymentPart:{hash:s,type:e===c.AddressType.EnterpriseScript?c.CredentialType.ScriptHash:c.CredentialType.KeyHash},type:e})}constructor(e){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,n,e.networkId,"f");s(this,d,e.paymentPart,"f");s(this,o,e.type,"f")}}t.EnterpriseAddress=EnterpriseAddress;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/PaymentAddress.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.addressNetworkId=t.inputsWithAddresses=t.isAddressWithin=t.PaymentAddress=t.isRewardAccount=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/DRepID.js");const o=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const isRewardAccount=e=>{try{(0,o.assertIsBech32WithPrefix)(e,["stake","stake_test"]);return true}catch{return false}};t.isRewardAccount=isRewardAccount;const PaymentAddress=e=>{if(s.Address.isValid(e)){if((0,t.isRewardAccount)(e)||i.DRepID.isValid(e)){throw new o.InvalidStringError(e,"Address type can only be used for payment addresses")}return e}try{(0,o.assertIsHexString)(e)}catch{throw new o.InvalidStringError(e,"Expected payment address as bech32, base58 or hex-encoded bytes")}const r=s.Address.fromBytes(o.HexBlob.fromBytes(a.from(e,"hex")));return r.getType()===s.AddressType.Byron?r.toBase58():r.toBech32()};t.PaymentAddress=PaymentAddress;const isAddressWithin=e=>({address:t})=>e.includes(t);t.isAddressWithin=isAddressWithin;const inputsWithAddresses=(e,r)=>e.body.inputs.filter((0,t.isAddressWithin)(r));t.inputsWithAddresses=inputsWithAddresses;const addressNetworkId=e=>{const t=s.Address.fromString(e);return t.getNetworkId()};t.addressNetworkId=addressNetworkId},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/PointerAddress.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.PointerAddress=t.CertIndex=t.TxIndex=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const u=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const variableLengthEncode=e=>{if("bigint"!=typeof e)e=BigInt(e);if(e<0){throw new f.InvalidArgumentError("val",`Negative numbers not supported. Number supplied: ${e}`)}const t=[];let r=e.toString(2).length;t.push(Number(127n&e));while(r>7){e>>=7n;r-=7;t.unshift(Number((127n&e)+128n))}return a.from(t)};const variableLengthDecode=e=>{let t=true;let r=0n;let a=0;while(t&&a<e.length){const s=e[a];r<<=7n;r|=BigInt(127&s);t=(128&s)!==0;++a}return{bytesRead:a,value:r}};const TxIndex=e=>e;t.TxIndex=TxIndex;const CertIndex=e=>e;t.CertIndex=CertIndex;class PointerAddress{static fromCredentials(e,t,r){let a=l.AddressType.PointerKey;if(t.type===l.CredentialType.ScriptHash)a&=1;return new PointerAddress({networkId:e,paymentPart:t,pointer:r,type:a})}getPaymentCredential(){return i(this,d,"f")}getStakePointer(){return i(this,c,"f")}toAddress(){return new l.Address({networkId:i(this,n,"f"),paymentPart:i(this,d,"f"),pointer:i(this,c,"f"),type:i(this,o,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case l.AddressType.PointerKey:case l.AddressType.PointerScript:t=new PointerAddress(e.getProps());break;default:}return t}static packParts(e){const{slot:t,txIndex:r,certIndex:s}=e.pointer;return a.concat([a.from([e.type<<4|e.networkId]),a.from(e.paymentPart.hash,"hex"),a.concat([variableLengthEncode(t),variableLengthEncode(r),variableLengthEncode(s)])])}static unpackParts(e,r){if(r.length<=29)throw new f.InvalidArgumentError("data","Pointer address data length should greater than 29 bytes long.");const s=15&r[0];const i=(0,u.Hash28ByteBase16)(a.from(r.slice(1,29)).toString("hex"));let o=29;const n=a.from(r);const{value:d,bytesRead:c}=variableLengthDecode(n.subarray(o));o+=c;const{value:h,bytesRead:p}=variableLengthDecode(n.subarray(o));o+=p;const{value:m}=variableLengthDecode(n.subarray(o));return new l.Address({networkId:s,paymentPart:{hash:i,type:e===l.AddressType.PointerScript?l.CredentialType.ScriptHash:l.CredentialType.KeyHash},pointer:{certIndex:(0,t.CertIndex)(Number(m)),slot:d,txIndex:(0,t.TxIndex)(Number(h))},type:e})}constructor(e){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);s(this,n,e.networkId,"f");s(this,d,e.paymentPart,"f");s(this,c,e.pointer,"f");s(this,o,e.type,"f")}}t.PointerAddress=PointerAddress;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAccount.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createRewardAccount=t.RewardAccount=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const s=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAddress.js");const RewardAccount=e=>(0,i.typedBech32)(e,["stake","stake_test"],47);t.RewardAccount=RewardAccount;t.RewardAccount.toHash=e=>a.Address.fromBech32(e).asReward().getPaymentCredential().hash;t.RewardAccount.fromCredential=(e,r)=>(0,t.RewardAccount)(o.RewardAddress.fromCredentials(r,{hash:e.hash,type:e.type}).toAddress().toBech32());t.RewardAccount.toNetworkId=e=>a.Address.fromBech32(e).asReward().toAddress().getNetworkId();const createRewardAccount=(e,r)=>(0,t.RewardAccount)(o.RewardAddress.fromCredentials(r,{hash:(0,s.Hash28ByteBase16)(e),type:a.CredentialType.KeyHash}).toAddress().toBech32());t.createRewardAccount=createRewardAccount},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAddress.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.RewardAddress=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const l=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");class RewardAddress{static fromCredentials(e,t){let r=c.AddressType.RewardKey;if(t.type===c.CredentialType.ScriptHash)r|=1;return new RewardAddress({networkId:e,paymentPart:t,type:r})}getPaymentCredential(){return i(this,d,"f")}toAddress(){return new c.Address({networkId:i(this,n,"f"),paymentPart:i(this,d,"f"),type:i(this,o,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case c.AddressType.RewardKey:case c.AddressType.RewardScript:t=new RewardAddress(e.getProps());break;default:}return t}static packParts(e){return a.concat([a.from([e.type<<4|e.networkId]),a.from(e.paymentPart.hash,"hex")])}static unpackParts(e,t){if(29!==t.length)throw new u.InvalidArgumentError("data","Enterprise address data length should be 29 bytes long.");const r=15&t[0];const s=(0,l.Hash28ByteBase16)(a.from(t.slice(1,29)).toString("hex"));return new c.Address({networkId:r,paymentPart:{hash:s,type:e===c.AddressType.RewardScript?c.CredentialType.ScriptHash:c.CredentialType.KeyHash},type:e})}constructor(e){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,n,e.networkId,"f");s(this,d,e.paymentPart,"f");s(this,o,e.type,"f")}}t.RewardAddress=RewardAddress;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/BaseAddress.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/ByronAddress.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/DRepID.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/EnterpriseAddress.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/PaymentAddress.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/PointerAddress.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAccount.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAddress.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/ChainId.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChainIds=t.NetworkMagics=t.NetworkId=void 0;var r;(function(e){e[e["Mainnet"]=1]="Mainnet";e[e["Testnet"]=0]="Testnet"})(r=t.NetworkId||(t.NetworkId={}));var a;(function(e){e[e["Mainnet"]=764824073]="Mainnet";e[e["Preprod"]=1]="Preprod";e[e["Preview"]=2]="Preview";e[e["Sanchonet"]=4]="Sanchonet"})(a=t.NetworkMagics||(t.NetworkMagics={}));t.ChainIds={Mainnet:{networkId:r.Mainnet,networkMagic:a.Mainnet},Preprod:{networkId:r.Testnet,networkMagic:a.Preprod},Preview:{networkId:r.Testnet,networkMagic:a.Preview},Sanchonet:{networkId:r.Testnet,networkMagic:a.Sanchonet}}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.util=void 0;i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/ChainId.js"),t);t.util=o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/index.js"));i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.AssetFingerprint=t.PolicyId=t.AssetId=t.AssetName=void 0;const n=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/web-encoding/src/lib.js");const AssetName=e=>{if(e.length>0){(0,d.assertIsHexString)(e);if(e.length>64){throw new d.InvalidStringError("too long")}}return e.toLowerCase()};t.AssetName=AssetName;const l=new c.TextDecoder("utf8",{fatal:true});t.AssetName.toUTF8=(e,t=false)=>{const r=a.from(e,"hex");try{if(t){return l.decode(r.filter(e=>e>31))}return l.decode(r)}catch(s){throw new d.InvalidStringError(`Cannot convert AssetName '${e}' to UTF8`,s)}};const AssetId=e=>{const t=e.split(".").join("");(0,d.assertIsHexString)(t);if(t.length>120)throw new d.InvalidStringError("too long");if(t.length<56)throw new d.InvalidStringError("too short");return t};t.AssetId=AssetId;const PolicyId=e=>n.Hash28ByteBase16(e);t.PolicyId=PolicyId;t.AssetId.getPolicyId=e=>(0,t.PolicyId)(e.slice(0,56));t.AssetId.getAssetName=e=>(0,t.AssetName)(e.slice(56));t.AssetId.fromParts=(e,r)=>(0,t.AssetId)(e+r);const AssetFingerprint=e=>(0,d.typedBech32)(e,"asset",32);t.AssetFingerprint=AssetFingerprint;t.AssetFingerprint.fromParts=(e,r)=>{const s=a.from(e,"hex");const i=a.from(r,"hex");const o=n.blake2b.hash(d.HexBlob.fromBytes(new Uint8Array([...s,...i])),20);return(0,t.AssetFingerprint)(d.HexBlob.toTypedBech32("asset",o))}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/AuxiliaryData.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.computeAuxiliaryDataHash=void 0;const o=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const n=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/index.js"));const computeAuxiliaryDataHash=e=>e?o.blake2b.hash(n.AuxiliaryData.fromCore(e).toCbor(),32):void 0;t.computeAuxiliaryDataHash=computeAuxiliaryDataHash},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.SlotLeader=t.GenesisDelegate=t.VrfVkBech32=t.BlockId=t.Slot=t.EpochNo=t.BlockNo=t.BlockSize=void 0;const n=o(r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/index.js"));const d=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/primitives.js");const BlockSize=e=>e;t.BlockSize=BlockSize;const BlockNo=e=>e;t.BlockNo=BlockNo;const EpochNo=e=>e;t.EpochNo=EpochNo;const Slot=e=>e;t.Slot=Slot;const BlockId=e=>d.Hash32ByteBase16(e);t.BlockId=BlockId;const VrfVkBech32=e=>(0,c.typedBech32)(e,"vrf_vk",52);t.VrfVkBech32=VrfVkBech32;const GenesisDelegate=e=>{if(/ShelleyGenesis-[\da-f]{16}/.test(e)){return e}return d.Hash28ByteBase16(e)};t.GenesisDelegate=GenesisDelegate;const SlotLeader=e=>{try{return(0,l.PoolId)(e)}catch{try{return(0,t.GenesisDelegate)(e)}catch(r){throw new c.InvalidStringError("Expected either PoolId or GenesisDelegate",r)}}};t.SlotLeader=SlotLeader;t.VrfVkBech32.fromHex=e=>{const r=n.bech32.toWords(a.from(e,"hex"));return(0,t.VrfVkBech32)(n.bech32.encode("vrf_vk",r,1023))}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.includesAnyCertificate=t.stakeKeyCertificates=t.createDelegationCert=t.createStakeDeregistrationCert=t.createStakeRegistrationCert=t.isCertType=t.VoteDelegationCredentialCertificateTypes=t.StakeCredentialCertificateTypes=t.RegAndDeregCertificateTypes=t.StakeDelegationCertificateTypes=t.StakeRegistrationCertificateTypes=t.PostConwayStakeRegistrationCertificateTypes=t.MirCertificateKind=t.MirCertificatePot=t.CertificateType=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");var i;(function(e){e["StakeRegistration"]="StakeRegistrationCertificate";e["StakeDeregistration"]="StakeDeregistrationCertificate";e["PoolRegistration"]="PoolRegistrationCertificate";e["PoolRetirement"]="PoolRetirementCertificate";e["StakeDelegation"]="StakeDelegationCertificate";e["MIR"]="MirCertificate";e["GenesisKeyDelegation"]="GenesisKeyDelegationCertificate";e["Registration"]="RegistrationCertificate";e["Unregistration"]="UnRegistrationCertificate";e["VoteDelegation"]="VoteDelegationCertificate";e["StakeVoteDelegation"]="StakeVoteDelegationCertificate";e["StakeRegistrationDelegation"]="StakeRegistrationDelegateCertificate";e["VoteRegistrationDelegation"]="VoteRegistrationDelegateCertificate";e["StakeVoteRegistrationDelegation"]="StakeVoteRegistrationDelegateCertificate";e["AuthorizeCommitteeHot"]="AuthorizeCommitteeHotCertificate";e["ResignCommitteeCold"]="ResignCommitteeColdCertificate";e["RegisterDelegateRepresentative"]="RegisterDelegateRepresentativeCertificate";e["UnregisterDelegateRepresentative"]="UnregisterDelegateRepresentativeCertificate";e["UpdateDelegateRepresentative"]="UpdateDelegateRepresentativeCertificate"})(i=t.CertificateType||(t.CertificateType={}));var o;(function(e){e["Reserves"]="reserve";e["Treasury"]="treasury"})(o=t.MirCertificatePot||(t.MirCertificatePot={}));var n;(function(e){e["ToOtherPot"]="toOtherPot";e["ToStakeCreds"]="ToStakeCreds"})(n=t.MirCertificateKind||(t.MirCertificateKind={}));t.PostConwayStakeRegistrationCertificateTypes=[i.Registration,i.VoteRegistrationDelegation,i.StakeRegistrationDelegation,i.StakeVoteRegistrationDelegation];t.StakeRegistrationCertificateTypes=[i.StakeRegistration,...t.PostConwayStakeRegistrationCertificateTypes];t.StakeDelegationCertificateTypes=[i.StakeDelegation,i.StakeVoteDelegation,i.StakeRegistrationDelegation,i.StakeVoteRegistrationDelegation];t.RegAndDeregCertificateTypes=[...t.StakeRegistrationCertificateTypes,i.Unregistration,i.StakeDeregistration];t.StakeCredentialCertificateTypes=[...t.RegAndDeregCertificateTypes,...t.StakeDelegationCertificateTypes,i.VoteDelegation];t.VoteDelegationCredentialCertificateTypes=[i.VoteDelegation,i.VoteRegistrationDelegation,i.StakeVoteDelegation,i.StakeVoteRegistrationDelegation];const isCertType=(e,t)=>t.includes(e.__typename);t.isCertType=isCertType;const createStakeRegistrationCert=e=>({__typename:i.StakeRegistration,stakeCredential:{hash:a.RewardAccount.toHash(e),type:a.CredentialType.KeyHash}});t.createStakeRegistrationCert=createStakeRegistrationCert;const createStakeDeregistrationCert=(e,t)=>void 0===t?{__typename:i.StakeDeregistration,stakeCredential:{hash:a.RewardAccount.toHash(e),type:a.CredentialType.KeyHash}}:{__typename:i.Unregistration,deposit:t,stakeCredential:{hash:a.RewardAccount.toHash(e),type:a.CredentialType.KeyHash}};t.createStakeDeregistrationCert=createStakeDeregistrationCert;const createDelegationCert=(e,t)=>({__typename:i.StakeDelegation,poolId:t,stakeCredential:{hash:a.RewardAccount.toHash(e),type:a.CredentialType.KeyHash}});t.createDelegationCert=createDelegationCert;const stakeKeyCertificates=e=>{return(null==e?void 0:e.map(e=>(0,t.isCertType)(e,t.RegAndDeregCertificateTypes)?e:void 0).filter(s.isNotNil))||[]};t.stakeKeyCertificates=stakeKeyCertificates;const includesAnyCertificate=(e,t)=>e.some(({__typename:e})=>t.includes(e))||false;t.includesAnyCertificate=includesAnyCertificate},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Cip1854ExtendedAccountPublicKey.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.Cip1854ExtendedAccountPublicKey=void 0;const n=o(r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/index.js"));const d=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=1023;const u="acct_shared_xvk";const Cip1854ExtendedAccountPublicKey=e=>{try{(0,c.assertIsBech32WithPrefix)(e,[u])}catch{throw new c.InvalidStringError(e,"Expected key to be a bech32 encoded string")}return e};t.Cip1854ExtendedAccountPublicKey=Cip1854ExtendedAccountPublicKey;t.Cip1854ExtendedAccountPublicKey.fromBip32PublicKeyHex=e=>{const r=n.bech32.toWords(a.from(e,"hex"));return(0,t.Cip1854ExtendedAccountPublicKey)(n.bech32.encode(u,r,l))};t.Cip1854ExtendedAccountPublicKey.toBip32PublicKeyHex=e=>{const{words:t}=n.bech32.decode(e,l);return(0,d.Bip32PublicKeyHex)(a.from(n.bech32.fromWords(t)).toString("hex"))}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/DelegationsAndRewards.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.cip17FromMetadatum=t.portfolioMetadataFromCip17=t.DelegationMetadataLabel=t.StakeCredentialStatus=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/metadatum.js");var s;(function(e){e["Registering"]="REGISTERING";e["Registered"]="REGISTERED";e["Unregistering"]="UNREGISTERING";e["Unregistered"]="UNREGISTERED"})(s=t.StakeCredentialStatus||(t.StakeCredentialStatus={}));t.DelegationMetadataLabel=6862n;const portfolioMetadataFromCip17=e=>{const t={...e};t.pools=e.pools.map(e=>({id:e.id,weight:e.weight}));return t};t.portfolioMetadataFromCip17=portfolioMetadataFromCip17;const cip17FromMetadatum=e=>{const t=(0,a.metadatumToJson)(e);for(const r of t.pools)r.weight=Number(r.weight);return t};t.cip17FromMetadatum=cip17FromMetadatum},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Genesis.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isDRepAlwaysNoConfidence=t.isDRepAlwaysAbstain=t.isDRepCredential=t.isDrepInfo=t.VoterType=t.Vote=t.GovernanceActionType=void 0;var r;(function(e){e["parameter_change_action"]="parameter_change_action";e["hard_fork_initiation_action"]="hard_fork_initiation_action";e["treasury_withdrawals_action"]="treasury_withdrawals_action";e["no_confidence"]="no_confidence";e["update_committee"]="update_committee";e["new_constitution"]="new_constitution";e["info_action"]="info_action"})(r=t.GovernanceActionType||(t.GovernanceActionType={}));var a;(function(e){e[e["no"]=0]="no";e[e["yes"]=1]="yes";e[e["abstain"]=2]="abstain"})(a=t.Vote||(t.Vote={}));var s;(function(e){e["ccHotKeyHash"]="ccHotKeyHash";e["ccHotScriptHash"]="ccHotScriptHash";e["dRepKeyHash"]="dRepKeyHash";e["dRepScriptHash"]="dRepScriptHash";e["stakePoolKeyHash"]="stakePoolKeyHash"})(s=t.VoterType||(t.VoterType={}));const isDrepInfo=e=>"id"in e&&"active"in e;t.isDrepInfo=isDrepInfo;const isDRepCredential=e=>"type"in e&&"hash"in e;t.isDRepCredential=isDRepCredential;const isDRepAlwaysAbstain=e=>"__typename"in e&&"AlwaysAbstain"===e.__typename;t.isDRepAlwaysAbstain=isDRepAlwaysAbstain;const isDRepAlwaysNoConfidence=e=>"__typename"in e&&"AlwaysNoConfidence"===e.__typename;t.isDRepAlwaysNoConfidence=isDRepAlwaysNoConfidence},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/PlutusData.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PlutusMapEncoding=t.PlutusListEncoding=void 0;var r;(function(e){e[e["FixedLength"]=0]="FixedLength";e[e["IndefiniteLength"]=159]="IndefiniteLength"})(r=t.PlutusListEncoding||(t.PlutusListEncoding={}));var a;(function(e){e[e["FixedLength"]=0]="FixedLength";e[e["IndefiniteLength"]=191]="IndefiniteLength"})(a=t.PlutusMapEncoding||(t.PlutusMapEncoding={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/ProtocolParameters.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isPlutusScript=t.isNativeScript=t.PlutusLanguageVersion=t.NativeScriptKind=t.ScriptType=void 0;var r;(function(e){e["Native"]="native";e["Plutus"]="plutus"})(r=t.ScriptType||(t.ScriptType={}));var a;(function(e){e[e["RequireSignature"]=0]="RequireSignature";e[e["RequireAllOf"]=1]="RequireAllOf";e[e["RequireAnyOf"]=2]="RequireAnyOf";e[e["RequireNOf"]=3]="RequireNOf";e[e["RequireTimeAfter"]=4]="RequireTimeAfter";e[e["RequireTimeBefore"]=5]="RequireTimeBefore"})(a=t.NativeScriptKind||(t.NativeScriptKind={}));var s;(function(e){e[e["V1"]=0]="V1";e[e["V2"]=1]="V2";e[e["V3"]=2]="V3"})(s=t.PlutusLanguageVersion||(t.PlutusLanguageVersion={}));const isNativeScript=e=>e.__type===r.Native;t.isNativeScript=isNativeScript;const isPlutusScript=e=>e.__type===r.Plutus;t.isPlutusScript=isPlutusScript},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/ExtendedStakePoolMetadata.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ExtendedPoolStatus=void 0;var r;(function(e){e["Active"]="active";e["Retired"]="retired";e["Offline"]="offline";e["Experimental"]="experimental";e["Private"]="private"})(r=t.ExtendedPoolStatus||(t.ExtendedPoolStatus={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/PoolParameters.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PoolMdVk=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const PoolMdVk=e=>(0,a.typedBech32)(e,"poolmd_vk",52);t.PoolMdVk=PoolMdVk},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/Relay.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/StakePool.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StakePoolEpochRewards=t.StakePoolStatus=void 0;var r;(function(e){e["Activating"]="activating";e["Active"]="active";e["Retired"]="retired";e["Retiring"]="retiring"})(r=t.StakePoolStatus||(t.StakePoolStatus={}));class StakePoolEpochRewards{}t.StakePoolEpochRewards=StakePoolEpochRewards},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/StakePool.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/PoolParameters.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/Relay.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/ExtendedStakePoolMetadata.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/primitives.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/primitives.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.VrfVkHex=t.PoolIdHex=t.PoolId=void 0;const o=i(r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/index.js"));const n=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=1023;const PoolId=e=>(0,d.typedBech32)(e,"pool",45);t.PoolId=PoolId;t.PoolId.fromKeyHash=e=>d.HexBlob.toTypedBech32("pool",e);const PoolIdHex=e=>n.Hash28ByteBase16(e);t.PoolIdHex=PoolIdHex;const VrfVkHex=e=>(0,d.typedHex)(e,64);t.VrfVkHex=VrfVkHex;t.PoolId.toKeyHash=e=>{const{words:t}=o.bech32.decode(e,c);return n.Ed25519KeyHashHex(d.HexBlob.fromBytes(o.bech32.fromWords(t)))}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Transaction.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.RedeemerPurpose=t.InputSource=t.TransactionId=void 0;const o=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const TransactionId=e=>o.Hash32ByteBase16(e);t.TransactionId=TransactionId;t.TransactionId.fromHexBlob=e=>o.Hash32ByteBase16.fromHexBlob(e);var n;(function(e){e["inputs"]="inputs";e["collaterals"]="collaterals"})(n=t.InputSource||(t.InputSource={}));var d;(function(e){e["spend"]="spend";e["mint"]="mint";e["certificate"]="certificate";e["withdrawal"]="withdrawal";e["propose"]="propose";e["vote"]="vote"})(d=t.RedeemerPurpose||(t.RedeemerPurpose={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/UtilityTypes.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.FractionUtils=void 0;const s=a(r("../../node_modules/fraction.js/fraction.js"));const toFractionJs=e=>{if("number"==typeof e){return new s.default(e)}const{numerator:t,denominator:r}=e;return new s.default(t,r)};t.FractionUtils={toFraction(e){const t=toFractionJs(e);const{n:r,d:a}=t;return{denominator:a,numerator:r}},toNumber(e){const t=toFractionJs(e);return t.valueOf()}}},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Utxo.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Value.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Utxo.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Value.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/DelegationsAndRewards.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Transaction.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Genesis.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/AuxiliaryData.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/ProtocolParameters.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/PlutusData.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/UtilityTypes.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Cip1854ExtendedAccountPublicKey.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/addressesShareAnyKey.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addressesShareAnyKey=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const getAddressKeyIDs=e=>{const t="string"==typeof e?a.Address.fromString(e):e;if(!t){throw new s.InvalidStringError("Expected either bech32 or base58 address")}switch(t.getType()){case a.AddressType.BasePaymentKeyStakeKey:case a.AddressType.BasePaymentKeyStakeScript:case a.AddressType.BasePaymentScriptStakeKey:case a.AddressType.BasePaymentScriptStakeScript:{const r=t.asBase();return{paymentId:{credential:r.getPaymentCredential()},stakeId:{credential:r.getStakeCredential()}}}case a.AddressType.Byron:return{paymentId:{byronRoot:t.asByron().getRoot()}};case a.AddressType.EnterpriseKey:case a.AddressType.EnterpriseScript:{const i=t.asEnterprise();return{paymentId:{credential:i.getPaymentCredential()}}}case a.AddressType.PointerKey:case a.AddressType.PointerScript:{const o=t.asPointer();return{paymentId:{credential:o.getPaymentCredential()},stakeId:{pointer:o.getStakePointer()}}}case a.AddressType.RewardKey:case a.AddressType.RewardScript:{const n=t.asReward();return{stakeId:{credential:n.getPaymentCredential()}}}}};const isPaymentIdPresentAndEquals=(e,t)=>{if(!e||!t)return false;if("credential"in e&&"credential"in t){return e.credential.hash===t.credential.hash}if("byronRoot"in e&&"byronRoot"in t){return e.byronRoot===t.byronRoot}return false};const isStakeIdPresentAndEquals=(e,t)=>{if(!e||!t)return false;if("credential"in e&&"credential"in t){return e.credential.hash===t.credential.hash}if("pointer"in e&&"pointer"in t){return e.pointer.slot===t.pointer.slot&&e.pointer.txIndex===t.pointer.txIndex&&e.pointer.certIndex===t.pointer.certIndex}return false};const addressesShareAnyKey=(e,t)=>{if(e===t)return true;const r=getAddressKeyIDs(e);const a=getAddressKeyIDs(t);return isPaymentIdPresentAndEquals(r.paymentId,a.paymentId)||isStakeIdPresentAndEquals(r.stakeId,a.stakeId)};t.addressesShareAnyKey=addressesShareAnyKey},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/computeImplicitCoin.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.computeImplicitCoin=void 0;const o=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js"));const n=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/index.js"));const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const stakeCredentialInRewardAccounts=(e,t)=>{if(0===t.length)return true;const r=o.RewardAccount.toNetworkId(t[0]);return t.includes(o.RewardAccount.fromCredential(e,r))};const computeShellyDeposits=(e,t,r)=>{let a=0n;let s=0n;const i=0===r.length;const d=new Set(r.map(e=>n.PoolId.fromKeyHash((0,c.Ed25519KeyHashHex)(o.RewardAccount.toHash(e)))));for(const l of t){switch(l.__typename){case n.CertificateType.StakeRegistration:if(stakeCredentialInRewardAccounts(l.stakeCredential,r))a+=e.stakeKeyDeposit;break;case n.CertificateType.StakeDeregistration:if(stakeCredentialInRewardAccounts(l.stakeCredential,r))s+=e.stakeKeyDeposit;break;case n.CertificateType.PoolRegistration:if(i||r.some(e=>l.poolParameters.owners.includes(e)))a+=e.poolDeposit;break;case n.CertificateType.PoolRetirement:if(i||d.has(l.poolId))s+=e.poolDeposit;break}}return{deposit:a,reclaimDeposit:s}};const computeConwayDeposits=(e,t,r,a)=>{let s=0n;let i=0n;for(const d of e){switch(d.__typename){case n.CertificateType.Registration:case n.CertificateType.StakeRegistrationDelegation:case n.CertificateType.VoteRegistrationDelegation:case n.CertificateType.StakeVoteRegistrationDelegation:if(stakeCredentialInRewardAccounts(d.stakeCredential,t))s+=d.deposit;break;case n.CertificateType.Unregistration:if(stakeCredentialInRewardAccounts(d.stakeCredential,t))i+=d.deposit;break;case n.CertificateType.RegisterDelegateRepresentative:case n.CertificateType.UnregisterDelegateRepresentative:if(!r||d.dRepCredential.type===o.CredentialType.KeyHash&&d.dRepCredential.hash===r)d.__typename===n.CertificateType.RegisterDelegateRepresentative?s+=d.deposit:i+=d.deposit;break}}if(a)for(const c of a)s+=c.deposit;return{deposit:s,reclaimDeposit:i}};const getTxDeposits=({stakeKeyDeposit:e,poolDeposit:t},r,a=[],s,i)=>{if(0===r.length&&(!i||0===i.length))return{deposit:0n,reclaimDeposit:0n};const o={poolDeposit:t?BigInt(t):0n,stakeKeyDeposit:BigInt(e)};const n=computeShellyDeposits(o,r,a);const d=computeConwayDeposits(r,a,s,i);return{deposit:n.deposit+d.deposit,reclaimDeposit:n.reclaimDeposit+d.reclaimDeposit}};const getOwnWithdrawalsTotal=(e,t)=>d.BigIntMath.sum(e.filter(({stakeAddress:e})=>t.includes(e)).map(({quantity:e})=>e));const computeImplicitCoin=({stakeKeyDeposit:e,poolDeposit:t},{certificates:r,proposalProcedures:a,withdrawals:s=[]},i,o)=>{const{deposit:n,reclaimDeposit:c}=getTxDeposits({poolDeposit:t,stakeKeyDeposit:e},null!=r?r:[],i,o,a);const l=!!(null==i?void 0:i.length);const u=d.BigIntMath.sum(s.map(({quantity:e})=>e));const f=l?getOwnWithdrawalsTotal(s,i):u;return{deposit:n,input:f+c,reclaimDeposit:c,withdrawals:f}};t.computeImplicitCoin=computeImplicitCoin},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/computeMinUtxoValue.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.computeMinUtxoValue=void 0;const computeMinUtxoValue=e=>29n*e;t.computeMinUtxoValue=computeMinUtxoValue},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/estimateStakePoolAPY.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.estimateStakePoolAPY=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=864e5;const estimateStakePoolAPY=e=>{if(0===e.length)return null;const{activeStake:t,epochLength:r,memberRewards:i,pledge:o}=e.reduce((e,t)=>({activeStake:e.activeStake+t.activeStake,epochLength:e.epochLength+t.epochLength,memberRewards:e.memberRewards+t.memberRewards,pledge:e.pledge+t.activeStake}));return(0,a.Percent)(Number(i)/Number(t-o)/(r/s)*365)};t.estimateStakePoolAPY=estimateStakePoolAPY},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/computeMinUtxoValue.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/computeImplicitCoin.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/estimateStakePoolAPY.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/resolveInputValue.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/phase2Validation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/addressesShareAnyKey.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/plutusDataUtils.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/isScriptAddress.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/isScriptAddress.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isScriptAddress=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const isScriptAddress=e=>{if(!a.Address.isValidBech32(e)){return false}const t=a.Address.fromBech32(e).asBase();const r=null==t?void 0:t.getPaymentCredential();const s=null==t?void 0:t.getStakeCredential();return(null==r?void 0:r.type)===a.CredentialType.ScriptHash&&(null==s?void 0:s.type)===a.CredentialType.ScriptHash};t.isScriptAddress=isScriptAddress},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/phase2Validation.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isPhase2ValidationErrTx=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Transaction.js");const isPhase2ValidationErrTx=({inputSource:e})=>e===a.InputSource.collaterals;t.isPhase2ValidationErrTx=isPhase2ValidationErrTx},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/plutusDataUtils.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tryConvertPlutusMapToUtf8Record=t.isPlutusBigInt=t.isConstrPlutusData=t.isPlutusMap=t.isPlutusList=t.isAnyPlutusDataCollection=t.isPlutusBoundedBytes=void 0;const a=r("../../node_modules/web-encoding/src/lib.js");const isPlutusBoundedBytes=e=>ArrayBuffer.isView(e);t.isPlutusBoundedBytes=isPlutusBoundedBytes;const isAnyPlutusDataCollection=e=>"object"==typeof e&&!(0,t.isPlutusBoundedBytes)(e);t.isAnyPlutusDataCollection=isAnyPlutusDataCollection;const isPlutusList=e=>(0,t.isAnyPlutusDataCollection)(e)&&"items"in e;t.isPlutusList=isPlutusList;const isPlutusMap=e=>(0,t.isAnyPlutusDataCollection)(e)&&"data"in e;t.isPlutusMap=isPlutusMap;const isConstrPlutusData=e=>(0,t.isAnyPlutusDataCollection)(e)&&"fields"in e;t.isConstrPlutusData=isConstrPlutusData;const isPlutusBigInt=e=>"bigint"==typeof e;t.isPlutusBigInt=isPlutusBigInt;const s=new a.TextDecoder("utf8",{fatal:true});const tryConvertPlutusDataToUtf8String=e=>{if(!(0,t.isPlutusBoundedBytes)(e))return e;try{return s.decode(e)}catch{return e}};const tryConvertPlutusMapToUtf8Record=(e,t)=>{const r={};for(const[a,s]of e.data.entries()){const i=tryConvertPlutusDataToUtf8String(a);if("string"!=typeof i){t.warn("Failed to decode plutus map key",a);continue}r[i]=tryConvertPlutusDataToUtf8String(s)}return r};t.tryConvertPlutusMapToUtf8Record=tryConvertPlutusMapToUtf8Record},"../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/resolveInputValue.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.resolveInputValue=void 0;const resolveInputValue=(e,t)=>{var r;const a=t.find(t=>t.id===e.txId);return null===(r=null==a?void 0:a.body.outputs[e.index])||void 0===r?void 0:r.value};t.resolveInputValue=resolveInputValue},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.CardanoNodeUtil=void 0;i(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/index.js"),t);t.CardanoNodeUtil=o(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/util/index.js"))},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/CardanoNode.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/CardanoNodeErrors.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StateQueryError=t.TxSubmissionError=t.ChainSyncError=t.GeneralCardanoNodeError=t.CardanoNodeError=t.TxSubmissionErrorCode=t.StateQueryErrorCode=t.ChainSyncErrorCode=t.GeneralCardanoNodeErrorCode=void 0;const a=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e[e["ServerNotReady"]=503]="ServerNotReady";e[e["Unknown"]=500]="Unknown";e[e["ConnectionFailure"]=-1]="ConnectionFailure"})(s=t.GeneralCardanoNodeErrorCode||(t.GeneralCardanoNodeErrorCode={}));var i;(function(e){e[e["IntersectionNotFound"]=1e3]="IntersectionNotFound";e[e["IntersectionInterleaved"]=1001]="IntersectionInterleaved"})(i=t.ChainSyncErrorCode||(t.ChainSyncErrorCode={}));var o;(function(e){e[e["AcquireLedgerStateFailure"]=2e3]="AcquireLedgerStateFailure";e[e["EraMismatch"]=2001]="EraMismatch";e[e["UnavailableInCurrentEra"]=2002]="UnavailableInCurrentEra";e[e["AcquiredExpired"]=2003]="AcquiredExpired";e[e["InvalidGenesis"]=2004]="InvalidGenesis"})(o=t.StateQueryErrorCode||(t.StateQueryErrorCode={}));var n;(function(e){e[e["EraMismatch"]=3005]="EraMismatch";e[e["InvalidSignatories"]=3100]="InvalidSignatories";e[e["MissingSignatories"]=3101]="MissingSignatories";e[e["MissingScripts"]=3102]="MissingScripts";e[e["FailingNativeScript"]=3103]="FailingNativeScript";e[e["ExtraneousScripts"]=3104]="ExtraneousScripts";e[e["MissingMetadataHash"]=3105]="MissingMetadataHash";e[e["MissingMetadata"]=3106]="MissingMetadata";e[e["MetadataHashMismatch"]=3107]="MetadataHashMismatch";e[e["InvalidMetadata"]=3108]="InvalidMetadata";e[e["MissingRedeemers"]=3109]="MissingRedeemers";e[e["ExtraneousRedeemers"]=3110]="ExtraneousRedeemers";e[e["MissingDatums"]=3111]="MissingDatums";e[e["ExtraneousDatums"]=3112]="ExtraneousDatums";e[e["ScriptIntegrityHashMismatch"]=3113]="ScriptIntegrityHashMismatch";e[e["OrphanScriptInputs"]=3114]="OrphanScriptInputs";e[e["MissingCostModels"]=3115]="MissingCostModels";e[e["MalformedScripts"]=3116]="MalformedScripts";e[e["UnknownOutputReferences"]=3117]="UnknownOutputReferences";e[e["OutsideOfValidityInterval"]=3118]="OutsideOfValidityInterval";e[e["TransactionTooLarge"]=3119]="TransactionTooLarge";e[e["ValueTooLarge"]=3120]="ValueTooLarge";e[e["EmptyInputSet"]=3121]="EmptyInputSet";e[e["TransactionFeeTooSmall"]=3122]="TransactionFeeTooSmall";e[e["ValueNotConserved"]=3123]="ValueNotConserved";e[e["NetworkMismatch"]=3124]="NetworkMismatch";e[e["InsufficientlyFundedOutputs"]=3125]="InsufficientlyFundedOutputs";e[e["BootstrapAttributesTooLarge"]=3126]="BootstrapAttributesTooLarge";e[e["MintingOrBurningAda"]=3127]="MintingOrBurningAda";e[e["InsufficientCollateral"]=3128]="InsufficientCollateral";e[e["CollateralLockedByScript"]=3129]="CollateralLockedByScript";e[e["UnforeseeableSlot"]=3130]="UnforeseeableSlot";e[e["TooManyCollateralInputs"]=3131]="TooManyCollateralInputs";e[e["MissingCollateralInputs"]=3132]="MissingCollateralInputs";e[e["NonAdaCollateral"]=3133]="NonAdaCollateral";e[e["ExecutionUnitsTooLarge"]=3134]="ExecutionUnitsTooLarge";e[e["TotalCollateralMismatch"]=3135]="TotalCollateralMismatch";e[e["SpendsMismatch"]=3136]="SpendsMismatch";e[e["UnauthorizedVote"]=3137]="UnauthorizedVote";e[e["UnknownGovernanceProposal"]=3138]="UnknownGovernanceProposal";e[e["InvalidProtocolParametersUpdate"]=3139]="InvalidProtocolParametersUpdate";e[e["UnknownStakePool"]=3140]="UnknownStakePool";e[e["IncompleteWithdrawals"]=3141]="IncompleteWithdrawals";e[e["RetirementTooLate"]=3142]="RetirementTooLate";e[e["StakePoolCostTooLow"]=3143]="StakePoolCostTooLow";e[e["MetadataHashTooLarge"]=3144]="MetadataHashTooLarge";e[e["CredentialAlreadyRegistered"]=3145]="CredentialAlreadyRegistered";e[e["UnknownCredential"]=3146]="UnknownCredential";e[e["NonEmptyRewardAccount"]=3147]="NonEmptyRewardAccount";e[e["InvalidGenesisDelegation"]=3148]="InvalidGenesisDelegation";e[e["InvalidMIRTransfer"]=3149]="InvalidMIRTransfer";e[e["ForbiddenWithdrawal"]=3150]="ForbiddenWithdrawal";e[e["CredentialDepositMismatch"]=3151]="CredentialDepositMismatch";e[e["DRepAlreadyRegistered"]=3152]="DRepAlreadyRegistered";e[e["DRepNotRegistered"]=3153]="DRepNotRegistered";e[e["UnknownConstitutionalCommitteeMember"]=3154]="UnknownConstitutionalCommitteeMember";e[e["GovernanceProposalDepositMismatch"]=3155]="GovernanceProposalDepositMismatch";e[e["ConflictingCommitteeUpdate"]=3156]="ConflictingCommitteeUpdate";e[e["InvalidCommitteeUpdate"]=3157]="InvalidCommitteeUpdate";e[e["TreasuryWithdrawalMismatch"]=3158]="TreasuryWithdrawalMismatch";e[e["InvalidOrMissingPreviousProposal"]=3159]="InvalidOrMissingPreviousProposal";e[e["VotingOnExpiredActions"]=3160]="VotingOnExpiredActions";e[e["ExecutionBudgetOutOfBounds"]=3161]="ExecutionBudgetOutOfBounds";e[e["InvalidHardForkVersionBump"]=3162]="InvalidHardForkVersionBump";e[e["ConstitutionGuardrailsHashMismatch"]=3163]="ConstitutionGuardrailsHashMismatch";e[e["ConflictingInputsAndReferences"]=3164]="ConflictingInputsAndReferences";e[e["UnauthorizedGovernanceAction"]=3165]="UnauthorizedGovernanceAction";e[e["ReferenceScriptsTooLarge"]=3166]="ReferenceScriptsTooLarge";e[e["UnknownVoters"]=3167]="UnknownVoters";e[e["EmptyTreasuryWithdrawal"]=3168]="EmptyTreasuryWithdrawal";e[e["UnexpectedMempoolError"]=3997]="UnexpectedMempoolError";e[e["UnrecognizedCertificateType"]=3998]="UnrecognizedCertificateType";e[e["DeserialisationFailure"]=-32602]="DeserialisationFailure"})(n=t.TxSubmissionErrorCode||(t.TxSubmissionErrorCode={}));class CardanoNodeError extends a.CustomError{constructor(e,t,r){super(r);this.code=e;this.data=t}}t.CardanoNodeError=CardanoNodeError;class GeneralCardanoNodeError extends CardanoNodeError{}t.GeneralCardanoNodeError=GeneralCardanoNodeError;class ChainSyncError extends CardanoNodeError{}t.ChainSyncError=ChainSyncError;class TxSubmissionError extends CardanoNodeError{}t.TxSubmissionError=TxSubmissionError;class StateQueryError extends CardanoNodeError{}t.StateQueryError=StateQueryError},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/CardanoNode.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/CardanoNodeErrors.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/util/cardanoNodeErrors.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isDrepNotRegistered=t.isUnknownCredential=t.isDrepAlreadyRegistered=t.isCredentialAlreadyRegistered=t.isUnknownOutputReferences=t.isIncompleteWithdrawalsError=t.isValueNotConservedError=t.isOutsideOfValidityIntervalError=t.isProviderError=t.asTxSubmissionErrorCode=t.asGeneralCardanoNodeErrorCode=t.asStateQueryErrorCode=t.asChainSyncErrorCode=t.isGeneralCardanoNodeErrorCode=t.isStateQueryErrorCode=t.isTxSubmissionErrorCode=t.isChainSyncErrorCode=t.asCardanoNodeError=t.asGeneralCardanoNodeError=t.asStateQueryError=t.asChainSyncError=t.asTxSubmissionError=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/types/index.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const i=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const asSpecificCardanoNodeError=e=>t=>{if(Array.isArray(t)){for(const r of t)if(r instanceof e){if((0,i.isProductionEnvironment)())(0,i.stripStackTrace)(r);return r}return null}if(t instanceof e){if((0,i.isProductionEnvironment)())(0,i.stripStackTrace)(t);return t}return null};t.asTxSubmissionError=asSpecificCardanoNodeError(a.TxSubmissionError);t.asChainSyncError=asSpecificCardanoNodeError(a.ChainSyncError);t.asStateQueryError=asSpecificCardanoNodeError(a.StateQueryError);t.asGeneralCardanoNodeError=asSpecificCardanoNodeError(a.GeneralCardanoNodeError);const asCardanoNodeError=e=>(0,t.asGeneralCardanoNodeError)(e)||(0,t.asTxSubmissionError)(e)||(0,t.asStateQueryError)(e)||(0,t.asChainSyncError)(e)||new a.GeneralCardanoNodeError(a.GeneralCardanoNodeErrorCode.Unknown,e,'Unknown Cardano node error, see "data"');t.asCardanoNodeError=asCardanoNodeError;const o=new Set(Object.values(a.StateQueryErrorCode));const n=new Set(Object.values(a.GeneralCardanoNodeErrorCode));const d=new Set(Object.values(a.TxSubmissionErrorCode));const c=new Set(Object.values(a.ChainSyncErrorCode));const isChainSyncErrorCode=e=>"number"==typeof e&&c.has(e);t.isChainSyncErrorCode=isChainSyncErrorCode;const isTxSubmissionErrorCode=e=>"number"==typeof e&&d.has(e);t.isTxSubmissionErrorCode=isTxSubmissionErrorCode;const isStateQueryErrorCode=e=>"number"==typeof e&&o.has(e);t.isStateQueryErrorCode=isStateQueryErrorCode;const isGeneralCardanoNodeErrorCode=e=>"number"==typeof e&&n.has(e);t.isGeneralCardanoNodeErrorCode=isGeneralCardanoNodeErrorCode;const asChainSyncErrorCode=e=>(0,t.isChainSyncErrorCode)(e)?e:null;t.asChainSyncErrorCode=asChainSyncErrorCode;const asStateQueryErrorCode=e=>(0,t.isStateQueryErrorCode)(e)?e:null;t.asStateQueryErrorCode=asStateQueryErrorCode;const asGeneralCardanoNodeErrorCode=e=>(0,t.isGeneralCardanoNodeErrorCode)(e)?e:null;t.asGeneralCardanoNodeErrorCode=asGeneralCardanoNodeErrorCode;const asTxSubmissionErrorCode=e=>(0,t.isTxSubmissionErrorCode)(e)?e:null;t.asTxSubmissionErrorCode=asTxSubmissionErrorCode;const isProviderError=e=>e instanceof s.ProviderError;t.isProviderError=isProviderError;const isOutsideOfValidityIntervalError=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.OutsideOfValidityInterval;t.isOutsideOfValidityIntervalError=isOutsideOfValidityIntervalError;const isValueNotConservedError=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.ValueNotConserved;t.isValueNotConservedError=isValueNotConservedError;const isIncompleteWithdrawalsError=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.IncompleteWithdrawals;t.isIncompleteWithdrawalsError=isIncompleteWithdrawalsError;const isUnknownOutputReferences=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.UnknownOutputReferences;t.isUnknownOutputReferences=isUnknownOutputReferences;const isCredentialAlreadyRegistered=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.CredentialAlreadyRegistered;t.isCredentialAlreadyRegistered=isCredentialAlreadyRegistered;const isDrepAlreadyRegistered=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.DRepAlreadyRegistered;t.isDrepAlreadyRegistered=isDrepAlreadyRegistered;const isUnknownCredential=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.UnknownCredential;t.isUnknownCredential=isUnknownCredential;const isDrepNotRegistered=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.DRepNotRegistered;t.isDrepNotRegistered=isDrepNotRegistered},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/util/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/util/cardanoNodeErrors.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/util/stakeDistribution.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/util/stakeDistribution.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toLiveStake=void 0;const toLiveStake=e=>[...e.values()].reduce((e,{stake:t})=>e+t.pool,BigInt(0));t.toLiveStake=toLiveStake},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/AssetProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/AssetProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/AssetProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/ChainHistoryProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/ChainHistoryProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/ChainHistoryProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/DRepProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/DRepProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/DRepProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/HandleProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/HandleProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/HandleProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.handleProviderPaths=void 0;t.handleProviderPaths={getPolicyIds:"/policyIds",healthCheck:"/health",resolveHandles:"/resolve"}},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/NetworkInfoProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/NetworkInfoProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/NetworkInfoProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/Provider.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardAccountInfoProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardAccountInfoProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardAccountInfoProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardsProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardsProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardsProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/types/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/util.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/types/StakePoolProvider.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/types/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/types/StakePoolProvider.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/util.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SortFields=t.isPoolROSSortField=t.isPoolAPYSortField=t.isPoolMetricsSortField=t.isPoolDataSortField=t.PoolROSSortFields=t.PoolAPYSortFields=t.PoolMetricsSortFields=t.PoolDataSortFields=void 0;t.PoolDataSortFields=["cost","name","margin","pledge","ticker"];t.PoolMetricsSortFields=["blocks","liveStake","saturation"];t.PoolAPYSortFields=["apy"];t.PoolROSSortFields=["ros","lastRos"];const isPoolDataSortField=e=>t.PoolDataSortFields.includes(e);t.isPoolDataSortField=isPoolDataSortField;const isPoolMetricsSortField=e=>t.PoolMetricsSortFields.includes(e);t.isPoolMetricsSortField=isPoolMetricsSortField;const isPoolAPYSortField=e=>t.PoolAPYSortFields.includes(e);t.isPoolAPYSortField=isPoolAPYSortField;const isPoolROSSortField=e=>t.PoolROSSortFields.includes(e);t.isPoolROSSortField=isPoolROSSortField;t.SortFields=[...t.PoolDataSortFields,...t.PoolMetricsSortFields,...t.PoolAPYSortFields,...t.PoolROSSortFields]},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/TxSubmitProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/TxSubmitProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/TxSubmitProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/UtxoProvider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/UtxoProvider/types.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/UtxoProvider/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.ProviderUtil=void 0;i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/Provider.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/StakePoolProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/AssetProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/NetworkInfoProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardAccountInfoProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/RewardsProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/TxSubmitProvider/index.js"),t);t.ProviderUtil=o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/providerUtil.js"));i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/UtxoProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/ChainHistoryProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/providerFactory.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/types/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/HandleProvider/index.js"),t);i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/DRepProvider/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/providerFactory.js":function(e,t){"use strict";var r=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var a;Object.defineProperty(t,"__esModule",{value:true});t.ProviderFactory=void 0;class ProviderFactory{register(e,t){r(this,a,"f").set(e,t)}create(e,t,s){if(!r(this,a,"f").has(e))throw new Error(`Provider unsupported: ${e}`);return r(this,a,"f").get(e)(t,s)}getProviders(){return[...r(this,a,"f").keys()]}constructor(){a.set(this,new Map)}}t.ProviderFactory=ProviderFactory;a=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/providerUtil.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.jsonToMetadatum=t.withProviderErrors=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const withProviderErrors=(e,t)=>Object.keys(e).reduce((r,a)=>{const s=e[a];r[a]="function"==typeof s?(...e)=>s(...e).catch(t):s;return r},{});t.withProviderErrors=withProviderErrors;const tryParseBigIntKey=e=>{if(e.startsWith("0x"))return e.slice(2);if(0===e.length)return e;try{return BigInt(e)}catch{return e}};const jsonToMetadatum=e=>{switch(typeof e){case"number":return BigInt(e);case"string":case"bigint":return e;case"object":if(null===e)break;if(Array.isArray(e)){return e.map(t.jsonToMetadatum)}return new Map(Object.keys(e).map(r=>[tryParseBigIntKey(r),(0,t.jsonToMetadatum)(e[r])]))}throw new a.ProviderError(a.ProviderFailure.NotImplemented,null,`Unsupported metadatum type: ${typeof e}`)};t.jsonToMetadatum=jsonToMetadatum},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/types/Pagination.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/core/dist/cjs/Provider/types/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/types/Pagination.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/AuxiliaryData.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o,n,d,c,l,u,f,h,p,m;Object.defineProperty(t,"__esModule",{value:true});t.AuxiliaryData=t.ALONZO_AUX_TAG=t.SHELLEY_ERA_FIELDS_COUNT=void 0;const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js");const y=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/index.js");const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const P=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");t.SHELLEY_ERA_FIELDS_COUNT=2;t.ALONZO_AUX_TAG=259;class AuxiliaryData{toCbor(){if(a(this,f,"f"))return a(this,f,"f");const e=new _.CborWriter;const r=a(this,i,"m",h).call(this);if(1===r&&void 0!==a(this,n,"f")&&a(this,n,"f").metadata().size>0)e.writeEncodedValue((0,P.hexToBytes)(a(this,n,"f").toCbor()));else if(r===t.SHELLEY_ERA_FIELDS_COUNT&&void 0!==a(this,n,"f")&&a(this,n,"f").metadata().size>0&&void 0!==a(this,d,"f")&&a(this,d,"f").length>0){e.writeStartArray(r);e.writeEncodedValue((0,P.hexToBytes)(a(this,n,"f").toCbor()));e.writeStartArray(a(this,d,"f").length);for(const s of a(this,d,"f"))e.writeEncodedValue((0,P.hexToBytes)(s.toCbor()))}else{e.writeTag(t.ALONZO_AUX_TAG);e.writeStartMap(r);if(void 0!==a(this,n,"f")&&a(this,n,"f").metadata().size>0){e.writeInt(0n);e.writeEncodedValue((0,P.hexToBytes)(a(this,n,"f").toCbor()))}if(void 0!==a(this,d,"f")&&a(this,d,"f").length>0){e.writeInt(1n);e.writeStartArray(a(this,d,"f").length);for(const o of a(this,d,"f"))e.writeEncodedValue((0,P.hexToBytes)(o.toCbor()))}if(void 0!==a(this,c,"f")&&a(this,c,"f").length>0){e.writeInt(2n);e.writeStartArray(a(this,c,"f").length);for(const p of a(this,c,"f"))e.writeEncodedValue((0,P.hexToBytes)(p.toCbor()))}if(void 0!==a(this,l,"f")&&a(this,l,"f").length>0){e.writeInt(3n);e.writeStartArray(a(this,l,"f").length);for(const m of a(this,l,"f"))e.writeEncodedValue((0,P.hexToBytes)(m.toCbor()))}if(void 0!==a(this,u,"f")&&a(this,u,"f").length>0){e.writeInt(4n);e.writeStartArray(a(this,u,"f").length);for(const v of a(this,u,"f"))e.writeEncodedValue((0,P.hexToBytes)(v.toCbor()))}}return e.encodeAsHex()}static fromCbor(e){const r=new _.CborReader(e);const a=new AuxiliaryData;const i=r.peekState();if(i===_.CborReaderState.StartMap)s(a,n,v.GeneralTransactionMetadata.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())),"f");else if(i===_.CborReaderState.Tag){const o=r.readTag();if(o!==t.ALONZO_AUX_TAG){throw new y.InvalidArgumentError("cbor",`Expected tag '${t.ALONZO_AUX_TAG}', but got ${o}.`)}r.readStartMap();while(r.peekState()!==_.CborReaderState.EndMap){const d=r.readInt();switch(d){case 0n:s(a,n,v.GeneralTransactionMetadata.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())),"f");break;case 1n:a.setNativeScripts(new Array);r.readStartArray();while(r.peekState()!==_.CborReaderState.EndArray){a.nativeScripts().push(w.NativeScript.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray();break;case 2n:a.setPlutusV1Scripts(new Array);r.readStartArray();while(r.peekState()!==_.CborReaderState.EndArray){a.plutusV1Scripts().push(w.PlutusV1Script.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray();break;case 3n:a.setPlutusV2Scripts(new Array);r.readStartArray();while(r.peekState()!==_.CborReaderState.EndArray){a.plutusV2Scripts().push(w.PlutusV2Script.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray();break;case 4n:a.setPlutusV3Scripts(new Array);r.readStartArray();while(r.peekState()!==_.CborReaderState.EndArray){a.plutusV3Scripts().push(w.PlutusV3Script.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray();break}}r.readEndMap()}else{r.readStartArray();s(a,n,v.GeneralTransactionMetadata.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())),"f");a.setNativeScripts(new Array);r.readStartArray();while(r.peekState()!==_.CborReaderState.EndArray){a.nativeScripts().push(w.NativeScript.fromCbor(y.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray()}s(a,f,e,"f");return a}toCore(){const e=a(this,i,"m",p).call(this);const t={blob:a(this,n,"f")?a(this,n,"f").toCore():void 0};if(e.length>0)t.scripts=e;return t}static fromCore(e){const t=new AuxiliaryData;if(e.blob)t.setMetadata(v.GeneralTransactionMetadata.fromCore(e.blob));if(e.scripts){const r=a(AuxiliaryData,o,"m",m).call(AuxiliaryData,e.scripts);if(r.native)t.setNativeScripts(r.native);if(r.plutusV1)t.setPlutusV1Scripts(r.plutusV1);if(r.plutusV2)t.setPlutusV2Scripts(r.plutusV2);if(r.plutusV3)t.setPlutusV3Scripts(r.plutusV3)}return t}metadata(){return a(this,n,"f")}setMetadata(e){s(this,n,e,"f");s(this,f,void 0,"f")}nativeScripts(){return a(this,d,"f")}setNativeScripts(e){s(this,d,e,"f");s(this,f,void 0,"f")}plutusV1Scripts(){return a(this,c,"f")}setPlutusV1Scripts(e){s(this,c,e,"f");s(this,f,void 0,"f")}plutusV2Scripts(){return a(this,l,"f")}setPlutusV2Scripts(e){s(this,l,e,"f");s(this,f,void 0,"f")}plutusV3Scripts(){return a(this,u,"f")}setPlutusV3Scripts(e){s(this,u,e,"f");s(this,f,void 0,"f")}constructor(){i.add(this);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0)}}t.AuxiliaryData=AuxiliaryData;o=AuxiliaryData,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,i=new WeakSet,h=function _AuxiliaryData_getMapSize(){let e=0;if(void 0!==a(this,n,"f")&&a(this,n,"f").metadata().size>0)++e;if(void 0!==a(this,d,"f")&&a(this,d,"f").length>0)++e;if(void 0!==a(this,c,"f")&&a(this,c,"f").length>0)++e;if(void 0!==a(this,l,"f")&&a(this,l,"f").length>0)++e;if(void 0!==a(this,u,"f")&&a(this,u,"f").length>0)++e;return e},p=function _AuxiliaryData_getCoreScripts(){const e=a(this,c,"f")?a(this,c,"f").map(e=>e.toCore()):[];const t=a(this,l,"f")?a(this,l,"f").map(e=>e.toCore()):[];const r=a(this,u,"f")?a(this,u,"f").map(e=>e.toCore()):[];const s=a(this,d,"f")?a(this,d,"f").map(e=>e.toCore()):[];return[...e,...t,...r,...s]},m=function _AuxiliaryData_getCddlScripts(e){const t={native:void 0,plutusV1:void 0,plutusV2:void 0,plutusV3:void 0};for(const r of e){switch(r.__type){case g.ScriptType.Native:if(!t.native)t.native=new Array;t.native.push(w.NativeScript.fromCore(r));break;case g.ScriptType.Plutus:if(r.version===g.PlutusLanguageVersion.V1){if(!t.plutusV1)t.plutusV1=new Array;t.plutusV1.push(w.PlutusV1Script.fromCore(r))}else if(r.version===g.PlutusLanguageVersion.V2){if(!t.plutusV2)t.plutusV2=new Array;t.plutusV2.push(w.PlutusV2Script.fromCore(r))}else if(r.version===g.PlutusLanguageVersion.V3){if(!t.plutusV3)t.plutusV3=new Array;t.plutusV3.push(w.PlutusV3Script.fromCore(r))}break;default:throw new b.SerializationError(b.SerializationFailure.InvalidScriptType,`Script '${r}' is not supported.`)}}return t}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.GeneralTransactionMetadata=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");class GeneralTransactionMetadata{toCbor(){if(s(this,o,"f"))return s(this,o,"f");const e=new n.CborWriter;e.writeStartMap(s(this,i,"f").size);for(const[t,r]of s(this,i,"f").entries()){e.writeInt(t);e.writeEncodedValue((0,l.hexToBytes)(r.toCbor()))}return e.encodeAsHex()}static fromCbor(e){const t=new Map;const r=new n.CborReader(e);r.readStartMap();while(r.peekState()!==n.CborReaderState.EndMap){const a=r.readInt();const s=c.TransactionMetadatum.fromCbor(d.HexBlob.fromBytes(r.readEncodedValue()));t.set(a,s)}r.readEndMap();return new GeneralTransactionMetadata(t)}toCore(){return new Map([...s(this,i,"f").entries()].map(e=>[e[0],e[1].toCore()]))}static fromCore(e){return new GeneralTransactionMetadata(new Map([...e.entries()].map(e=>[e[0],c.TransactionMetadatum.fromCore(e[1])])))}metadata(){return s(this,i,"f")}setMetadata(e){a(this,i,e,"f");a(this,o,void 0,"f")}equals(e){if(s(this,o,"f")===s(e,o,"f"))return true;if(s(this,i,"f").size!==s(e,i,"f").size)return false;const t=[...s(this,i,"f").entries()];const r=[...s(e,i,"f").entries()];for(let a=0;a<s(this,i,"f").size;++a){if(t[a][0]!==r[a][0])return false;if(!t[a][1].equals(r[a][1]))return false}return true}constructor(e){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f")}}t.GeneralTransactionMetadata=GeneralTransactionMetadata;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.MetadatumList=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");class MetadatumList{toCbor(){const e=new n.CborWriter;if(a(this,o,"f"))e.writeStartArray();else e.writeStartArray(a(this,i,"f").length);for(const t of a(this,i,"f"))e.writeEncodedValue((0,l.hexToBytes)(t.toCbor()));if(a(this,o,"f"))e.writeEndArray();return d.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new MetadatumList;const r=new n.CborReader(e);const a=r.readStartArray();if(null===a)s(t,o,true,"f");while(r.peekState()!==n.CborReaderState.EndArray){t.add(c.TransactionMetadatum.fromCbor((0,l.bytesToHex)(r.readEncodedValue())))}r.readEndArray();return t}getLength(){return a(this,i,"f").length}get(e){return a(this,i,"f")[e]}add(e){a(this,i,"f").push(e)}equals(e){if(a(this,i,"f").length!==a(e,i,"f").length)return false;for(let t=0;t<a(this,i,"f").length;++t)if(!a(this,i,"f")[t].equals(a(e,i,"f")[t]))return false;return true}constructor(){i.set(this,new Array);o.set(this,false)}}t.MetadatumList=MetadatumList;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumMap.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.MetadatumMap=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");class MetadatumMap{toCbor(){const e=new n.CborWriter;if(a(this,o,"f"))e.writeStartMap();else e.writeStartMap(a(this,i,"f").size);for(const[t,r]of a(this,i,"f").entries()){e.writeEncodedValue((0,u.hexToBytes)(t.toCbor()));e.writeEncodedValue((0,u.hexToBytes)(r.toCbor()))}if(a(this,o,"f"))e.writeEndMap();return d.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new MetadatumMap;const r=new n.CborReader(e);const a=r.readStartMap();if(null===a)s(t,o,true,"f");while(r.peekState()!==n.CborReaderState.EndMap){const i=l.TransactionMetadatum.fromCbor((0,u.bytesToHex)(r.readEncodedValue()));const d=l.TransactionMetadatum.fromCbor((0,u.bytesToHex)(r.readEncodedValue()));t.insert(i,d)}r.readEndMap();return t}getLength(){return a(this,i,"f").size}insert(e,t){a(this,i,"f").set(e,t)}get(e){if(!a(this,i,"f"))return;const t=[...a(this,i,"f").entries()].find(t=>t[0].equals(e));if(!t)return;return t[1]}getKeys(){const e=new c.MetadatumList;for(const t of a(this,i,"f").keys())e.add(t);return e}equals(e){if(a(this,o,"f")!==a(e,o,"f"))return false;if(a(this,i,"f").size!==a(e,i,"f").size)return false;const t=[...a(this,i,"f").entries()];const r=[...a(e,i,"f").entries()];for(let s=0;s<a(this,i,"f").size;++s){if(!t[s][0].equals(r[s][0]))return false;if(!t[s][1].equals(r[s][1]))return false}return true}constructor(){i.set(this,new Map);o.set(this,false)}}t.MetadatumMap=MetadatumMap;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o,n,d,c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.TransactionMetadatum=void 0;const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumMap.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatumKind.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const g=0xffffffffffffffffn;const check64Length=e=>{const t="string"==typeof e?a.from(e,"utf8").length:e.length;if(t>64)throw new v.SerializationError(v.SerializationFailure.MaxLengthLimit,`Metadatum value '${e}' is too long. Length is ${t}. Max length is 64 bytes`)};class TransactionMetadatum{toCbor(){if(s(this,f,"f"))return s(this,f,"f");let e;switch(s(this,u,"f")){case y.TransactionMetadatumKind.Map:e=s(this,o,"f").toCbor();break;case y.TransactionMetadatumKind.List:e=s(this,n,"f").toCbor();break;case y.TransactionMetadatumKind.Bytes:{const t=new h.CborWriter;check64Length(s(this,c,"f"));t.writeByteString(s(this,c,"f"));e=(0,w.bytesToHex)(t.encode());break}case y.TransactionMetadatumKind.Text:{const r=new h.CborWriter;check64Length(s(this,l,"f"));r.writeTextString(s(this,l,"f"));e=(0,w.bytesToHex)(r.encode());break}case y.TransactionMetadatumKind.Integer:{const a=new h.CborWriter;if(s(this,d,"f")>=0&&s(this,d,"f")<=g||s(this,d,"f")<0&&s(this,d,"f")>=-1n-g)a.writeInt(s(this,d,"f"));else a.writeBigInteger(s(this,d,"f"));e=(0,w.bytesToHex)(a.encode());break}default:throw new Error("Unsupported TransactionMetadatum kind")}return e}static fromCbor(e){const t=new TransactionMetadatum;const r=new h.CborReader(e);const a=r.peekState();switch(a){case h.CborReaderState.Tag:{const s=r.peekTag();switch(s){case h.CborTag.UnsignedBigNum:{r.readTag();const v=r.readByteString();i(t,d,TransactionMetadatum.bufferToBigint(v),"f");i(t,u,y.TransactionMetadatumKind.Integer,"f");break}case h.CborTag.NegativeBigNum:{r.readTag();const w=r.readByteString();i(t,d,TransactionMetadatum.bufferToBigint(w)*-1n,"f");i(t,u,y.TransactionMetadatumKind.Integer,"f");break}}break}case h.CborReaderState.NegativeInteger:case h.CborReaderState.UnsignedInteger:i(t,d,r.readInt(),"f");i(t,u,y.TransactionMetadatumKind.Integer,"f");break;case h.CborReaderState.StartIndefiniteLengthByteString:case h.CborReaderState.ByteString:i(t,c,r.readByteString(),"f");i(t,u,y.TransactionMetadatumKind.Bytes,"f");break;case h.CborReaderState.StartIndefiniteLengthTextString:case h.CborReaderState.TextString:i(t,l,r.readTextString(),"f");i(t,u,y.TransactionMetadatumKind.Text,"f");break;case h.CborReaderState.StartArray:i(t,n,m.MetadatumList.fromCbor(p.HexBlob.fromBytes(r.readEncodedValue())),"f");i(t,u,y.TransactionMetadatumKind.List,"f");break;case h.CborReaderState.StartMap:i(t,o,_.MetadatumMap.fromCbor(p.HexBlob.fromBytes(r.readEncodedValue())),"f");i(t,u,y.TransactionMetadatumKind.Map,"f");break;default:throw new Error("Invalid Plutus Data")}i(t,f,e,"f");return t}toCore(){switch(s(this,u,"f")){case y.TransactionMetadatumKind.Bytes:return new Uint8Array(s(this,c,"f"));case y.TransactionMetadatumKind.Text:return s(this,l,"f");case y.TransactionMetadatumKind.Integer:return s(this,d,"f");case y.TransactionMetadatumKind.List:return TransactionMetadatum.mapToCoreMetadatumList(s(this,n,"f"));case y.TransactionMetadatumKind.Map:{const e=s(this,o,"f");const t=new Map;const r=e.getKeys();for(let a=0;a<r.getLength();a++){const i=r.get(a);t.set(i.toCore(),e.get(i).toCore())}return t}default:throw new v.NotImplementedError(`TransactionMetadatum mapping for kind ${s(this,u,"f")}`)}}static fromCore(e){if(null===e)throw new v.SerializationError(v.SerializationFailure.InvalidType);switch(typeof e){case"number":case"boolean":case"undefined":throw new v.SerializationError(v.SerializationFailure.InvalidType);case"bigint":return TransactionMetadatum.newInteger(e);case"string":check64Length(e);return TransactionMetadatum.newText(e);default:{if(Array.isArray(e)){const t=new m.MetadatumList;for(const r of e)t.add(TransactionMetadatum.fromCore(r));return TransactionMetadatum.newList(t)}if(ArrayBuffer.isView(e)){check64Length(e);return TransactionMetadatum.newBytes(e)}const a=new _.MetadatumMap;for(const[s,i]of e.entries())a.insert(TransactionMetadatum.fromCore(s),TransactionMetadatum.fromCore(i));return TransactionMetadatum.newMap(a)}}}static newMap(e){const t=new TransactionMetadatum;i(t,o,e,"f");i(t,u,y.TransactionMetadatumKind.Map,"f");return t}static newList(e){const t=new TransactionMetadatum;i(t,n,e,"f");i(t,u,y.TransactionMetadatumKind.List,"f");return t}static newInteger(e){const t=new TransactionMetadatum;i(t,d,e,"f");i(t,u,y.TransactionMetadatumKind.Integer,"f");return t}static newBytes(e){const t=new TransactionMetadatum;i(t,c,e,"f");i(t,u,y.TransactionMetadatumKind.Bytes,"f");return t}static newText(e){const t=new TransactionMetadatum;i(t,l,e,"f");i(t,u,y.TransactionMetadatumKind.Text,"f");return t}getKind(){return s(this,u,"f")}asMap(){return s(this,o,"f")}asList(){return s(this,n,"f")}asInteger(){return s(this,d,"f")}asBytes(){return s(this,c,"f")}asText(){return s(this,l,"f")}equals(e){let t=false;switch(s(this,u,"f")){case y.TransactionMetadatumKind.Bytes:if(s(this,c,"f")&&s(e,c,"f")){return s(this,c,"f").length===s(e,c,"f").length&&s(this,c,"f").every((t,r)=>t===s(e,c,"f")[r])}return false;case y.TransactionMetadatumKind.Integer:return s(this,d,"f")===s(e,d,"f");case y.TransactionMetadatumKind.Text:return s(this,l,"f")===s(e,l,"f");case y.TransactionMetadatumKind.List:if(s(this,n,"f")&&s(e,n,"f")){return s(this,n,"f").equals(s(e,n,"f"))}return false;case y.TransactionMetadatumKind.Map:if(s(this,o,"f")&&s(e,o,"f")){return s(this,o,"f").equals(s(e,o,"f"))}return false;default:t=false}return t}static mapToCoreMetadatumList(e){const t=[];for(let r=0;r<e.getLength();r++){const a=e.get(r);t.push(a.toCore())}return t}static bufferToBigint(e){let t=0n;for(const r of e.values()){const a=BigInt(r);t=(t<<8n)+a}return t}constructor(){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,y.TransactionMetadatumKind.Map);f.set(this,void 0)}}t.TransactionMetadatum=TransactionMetadatum;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatumKind.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TransactionMetadatumKind=void 0;var r;(function(e){e[e["Map"]=0]="Map";e[e["List"]=1]="List";e[e["Integer"]=2]="Integer";e[e["Bytes"]=3]="Bytes";e[e["Text"]=4]="Text"})(r=t.TransactionMetadatumKind||(t.TransactionMetadatumKind={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/MetadatumMap.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatumKind.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/TransactionMetadata/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/AuxiliaryData.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborAdditionalInfo.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CborAdditionalInfo=void 0;var r;(function(e){e[e["AdditionalFalse"]=20]="AdditionalFalse";e[e["AdditionalTrue"]=21]="AdditionalTrue";e[e["AdditionalNull"]=22]="AdditionalNull";e[e["Additional8BitData"]=24]="Additional8BitData";e[e["Additional16BitData"]=25]="Additional16BitData";e[e["Additional32BitData"]=26]="Additional32BitData";e[e["Additional64BitData"]=27]="Additional64BitData";e[e["IndefiniteLength"]=31]="IndefiniteLength"})(r=t.CborAdditionalInfo||(t.CborAdditionalInfo={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborInitialByte.js":function(e,t){"use strict";var r=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s;Object.defineProperty(t,"__esModule",{value:true});t.CborInitialByte=void 0;class CborInitialByte{CborInitialByte(e,t){r(this,s,e<<5|t,"f")}static from(e){const t=new CborInitialByte;r(t,s,e,"f");return t}getInitialByte(){return a(this,s,"f")}getMajorType(){return a(this,s,"f")>>5}getAdditionalInfo(){return a(this,s,"f")&CborInitialByte.AdditionalInformationMask}constructor(){s.set(this,void 0)}}t.CborInitialByte=CborInitialByte;s=new WeakMap;CborInitialByte.IndefiniteLengthBreakByte=255;CborInitialByte.AdditionalInformationMask=31},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborMajorType.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CborMajorType=void 0;var r;(function(e){e[e["UnsignedInteger"]=0]="UnsignedInteger";e[e["NegativeInteger"]=1]="NegativeInteger";e[e["ByteString"]=2]="ByteString";e[e["Utf8String"]=3]="Utf8String";e[e["Array"]=4]="Array";e[e["Map"]=5]="Map";e[e["Tag"]=6]="Tag";e[e["Simple"]=7]="Simple"})(r=t.CborMajorType||(t.CborMajorType={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborReader.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c,l,u,f,h,p,m,_,v,y,w,g,b,P,C,S,T,E,k,A,I,j,x;Object.defineProperty(t,"__esModule",{value:true});t.CborReader=void 0;const R=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborAdditionalInfo.js");const B=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/errors.js");const O=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborInitialByte.js");const D=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborMajorType.js");const M=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborReaderState.js");const F=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/Half.js");const N="Unexpected end of buffer";class CborReader{peekState(){if(i(this,h,"f")===M.CborReaderState.Undefined)s(this,h,i(this,o,"m",S).call(this),"f");return i(this,h,"f")}getBytesRemaining(){return i(this,d,"f").length-i(this,c,"f")}skipValue(){this.readEncodedValue()}readEncodedValue(){const e=i(this,c,"f");let t=0;do{t=i(this,o,"m",x).call(this,t)}while(t>0)return i(this,d,"f").slice(e,i(this,c,"f"))}readStartArray(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Array);if(e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength){i(this,o,"m",P).call(this,1);i(this,o,"m",v).call(this,D.CborMajorType.Array);return null}const t=i(this,o,"m",g).call(this);const{length:r,bytesRead:a}=i(CborReader,n,"m",T).call(CborReader,e,t);i(this,o,"m",P).call(this,a);i(this,o,"m",v).call(this,D.CborMajorType.Array,r);return r}readEndArray(){if(void 0===i(this,f,"f").definiteLength){i(this,o,"m",_).call(this);i(this,o,"m",y).call(this,D.CborMajorType.Array);i(this,o,"m",b).call(this);i(this,o,"m",P).call(this,1)}else{i(this,o,"m",y).call(this,D.CborMajorType.Array);i(this,o,"m",b).call(this)}}readInt(){const e=i(this,o,"m",k).call(this);i(this,o,"m",P).call(this,e.bytesRead);i(this,o,"m",b).call(this);return e.signedInt}readUInt(){const e=i(this,o,"m",E).call(this);i(this,o,"m",P).call(this,e.bytesRead);i(this,o,"m",b).call(this);return e.unsignedInt}readDouble(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Simple);let t;const r=i(this,o,"m",g).call(this);switch(e.getAdditionalInfo()){case R.CborAdditionalInfo.Additional16BitData:i(this,o,"m",C).call(this,3);t=(0,F.decodeHalf)(r.slice(1));i(this,o,"m",P).call(this,3);i(this,o,"m",b).call(this);return t;case R.CborAdditionalInfo.Additional32BitData:i(this,o,"m",C).call(this,5);t=a.from(r).readFloatBE(1);i(this,o,"m",P).call(this,5);i(this,o,"m",b).call(this);return t;case R.CborAdditionalInfo.Additional64BitData:i(this,o,"m",C).call(this,9);t=a.from(r).readDoubleBE(1);i(this,o,"m",P).call(this,9);i(this,o,"m",b).call(this);return t;default:throw new B.CborInvalidOperationException("Not a float encoding")}}readSimpleValue(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Simple);if((e.getInitialByte()&O.CborInitialByte.AdditionalInformationMask)<R.CborAdditionalInfo.Additional8BitData){i(this,o,"m",P).call(this,1);i(this,o,"m",b).call(this);return e.getAdditionalInfo().valueOf()}if(e.getAdditionalInfo()===R.CborAdditionalInfo.Additional8BitData){i(this,o,"m",C).call(this,2);const t=i(this,d,"f")[i(this,c,"f")+1];i(this,o,"m",P).call(this,2);i(this,o,"m",b).call(this);return t}throw new B.CborInvalidOperationException("Not a simple value encoding")}readCborNegativeIntegerRepresentation(){const e=i(this,o,"m",p).call(this,D.CborMajorType.NegativeInteger);const t=i(CborReader,n,"m",j).call(CborReader,e,i(this,o,"m",g).call(this));i(this,o,"m",P).call(this,t.bytesRead);i(this,o,"m",b).call(this);return t.unsignedInt}readStartMap(){let e=null;const t=i(this,o,"m",p).call(this,D.CborMajorType.Map);if(t.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength){i(this,o,"m",P).call(this,1);i(this,o,"m",v).call(this,D.CborMajorType.Map);e=null}else{const r=i(this,o,"m",g).call(this);const a=i(CborReader,n,"m",T).call(CborReader,t,r);if(2*a.length>r.length-a.bytesRead)throw new B.CborContentException("Definite length exceeds buffer size");i(this,o,"m",P).call(this,a.bytesRead);i(this,o,"m",v).call(this,D.CborMajorType.Map,2*a.length);e=a.length}i(this,f,"f").currentKeyOffset=i(this,c,"f");return e}readEndMap(){if(void 0===i(this,f,"f").definiteLength){i(this,o,"m",_).call(this);if(i(this,f,"f").itemsRead%2!==0)throw new B.CborContentException("Key missing value");i(this,o,"m",y).call(this,D.CborMajorType.Map);i(this,o,"m",b).call(this);i(this,o,"m",P).call(this,1)}else{i(this,o,"m",y).call(this,D.CborMajorType.Map);i(this,o,"m",b).call(this)}}readBoolean(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Simple);const t=e.getAdditionalInfo();if(t!==R.CborAdditionalInfo.AdditionalTrue&&t!==R.CborAdditionalInfo.AdditionalFalse)throw new B.CborContentException("Not a boolean encoding");const r=t===R.CborAdditionalInfo.AdditionalTrue;i(this,o,"m",P).call(this,1);i(this,o,"m",b).call(this);return r}readNull(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Simple);const t=e.getAdditionalInfo();if(t!==R.CborAdditionalInfo.AdditionalNull)throw new B.CborContentException("Not a null encoding");i(this,o,"m",P).call(this,1);i(this,o,"m",b).call(this)}readStartIndefiniteLengthByteString(){const e=i(this,o,"m",p).call(this,D.CborMajorType.ByteString);if(e.getAdditionalInfo()!==R.CborAdditionalInfo.IndefiniteLength)throw new B.CborInvalidOperationException("Not indefinite length string");i(this,o,"m",P).call(this,1);i(this,o,"m",v).call(this,D.CborMajorType.ByteString)}readEndIndefiniteLengthByteString(){i(this,o,"m",_).call(this);i(this,o,"m",y).call(this,D.CborMajorType.ByteString);i(this,o,"m",b).call(this);i(this,o,"m",P).call(this,1)}readByteString(){const e=i(this,o,"m",p).call(this,D.CborMajorType.ByteString);if(e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength){const{val:t,encodingLength:r}=i(this,o,"m",A).call(this,D.CborMajorType.ByteString);i(this,o,"m",P).call(this,r);i(this,o,"m",b).call(this);return t}const a=i(this,o,"m",g).call(this);const{length:s,bytesRead:d}=i(CborReader,n,"m",T).call(CborReader,e,a);i(this,o,"m",C).call(this,d+s);i(this,o,"m",P).call(this,d+s);i(this,o,"m",b).call(this);return a.slice(d,d+s)}readDefiniteLengthByteString(){const e=i(this,o,"m",p).call(this,D.CborMajorType.ByteString);if(e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength){throw new B.CborInvalidOperationException("Expected definite length array and got indefinite length")}const t=i(this,o,"m",g).call(this);const{length:r,bytesRead:a}=i(CborReader,n,"m",T).call(CborReader,e,t);i(this,o,"m",C).call(this,a+r);i(this,o,"m",P).call(this,a+r);i(this,o,"m",b).call(this);return t.slice(a,a+r)}readStartIndefiniteLengthTextString(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Utf8String);if(e.getAdditionalInfo()!==R.CborAdditionalInfo.IndefiniteLength)throw new B.CborInvalidOperationException("Not indefinite length string");i(this,o,"m",P).call(this,1);i(this,o,"m",v).call(this,D.CborMajorType.Utf8String)}readEndIndefiniteLengthTextString(){i(this,o,"m",_).call(this);i(this,o,"m",y).call(this,D.CborMajorType.Utf8String);i(this,o,"m",b).call(this);i(this,o,"m",P).call(this,1)}readTextString(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Utf8String);if(e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength){const{val:t,encodingLength:r}=i(this,o,"m",A).call(this,D.CborMajorType.Utf8String);i(this,o,"m",P).call(this,r);i(this,o,"m",b).call(this);return a.from(t).toString("utf8")}const s=i(this,o,"m",g).call(this);const{length:d,bytesRead:c}=i(CborReader,n,"m",T).call(CborReader,e,s);i(this,o,"m",C).call(this,c+d);i(this,o,"m",P).call(this,c+d);i(this,o,"m",b).call(this);return a.from(s.slice(c,c+d)).toString("utf8")}readDefiniteLengthTextString(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Utf8String);if(e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength){throw new B.CborInvalidOperationException("Expected definite length string and got indefinite length")}const t=i(this,o,"m",g).call(this);const{length:r,bytesRead:s}=i(CborReader,n,"m",T).call(CborReader,e,t);i(this,o,"m",C).call(this,s+r);i(this,o,"m",P).call(this,s+r);i(this,o,"m",b).call(this);return a.from(t.slice(s,s+r)).toString("utf8")}readTag(){const{tag:e,bytesRead:t}=i(this,o,"m",I).call(this);i(this,o,"m",P).call(this,t);s(this,u,true,"f");return e}peekTag(){const{tag:e}=i(this,o,"m",I).call(this);return e}static ensureReadCapacityInArray(e,t){if(e.length<t){throw new B.CborContentException(N)}}static mapSimpleValueDataToReaderState(e){switch(e){case R.CborAdditionalInfo.AdditionalNull:return M.CborReaderState.Null;case R.CborAdditionalInfo.AdditionalFalse:case R.CborAdditionalInfo.AdditionalTrue:return M.CborReaderState.Boolean;case R.CborAdditionalInfo.Additional16BitData:return M.CborReaderState.HalfPrecisionFloat;case R.CborAdditionalInfo.Additional32BitData:return M.CborReaderState.SinglePrecisionFloat;case R.CborAdditionalInfo.Additional64BitData:return M.CborReaderState.DoublePrecisionFloat;default:return M.CborReaderState.SimpleValue}}constructor(e){o.add(this);d.set(this,void 0);c.set(this,0);l.set(this,new Array);u.set(this,false);f.set(this,void 0);h.set(this,M.CborReaderState.Undefined);s(this,d,new Uint8Array(a.from(e,"hex")),"f");s(this,f,{currentKeyOffset:null,frameOffset:0,itemsRead:0,type:null},"f")}}t.CborReader=CborReader;n=CborReader,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,o=new WeakSet,p=function _CborReader_peekInitialByte(e){if(void 0!==i(this,f,"f").definiteLength&&i(this,f,"f").definiteLength-i(this,f,"f").itemsRead===0)throw new B.CborInvalidOperationException("No more data items to read");if(i(this,c,"f")===i(this,d,"f").length){if(null===i(this,f,"f").type&&void 0===i(this,f,"f").definiteLength&&i(this,c,"f")>0)throw new B.CborInvalidOperationException("End of root-level. No more data items to read");throw new B.CborContentException(N)}const t=O.CborInitialByte.from(i(this,d,"f")[i(this,c,"f")]);switch(i(this,f,"f").type){case D.CborMajorType.ByteString:case D.CborMajorType.Utf8String:if(t.getInitialByte()===O.CborInitialByte.IndefiniteLengthBreakByte||t.getMajorType()===i(this,f,"f").type&&t.getAdditionalInfo()!==R.CborAdditionalInfo.IndefiniteLength){break}throw new B.CborContentException(`Indefinite length string contains invalid data item, ${t.getMajorType()}`)}if(e&&e!==t.getMajorType())throw new B.CborInvalidOperationException(`Major type mismatch, expected type ${e} but got ${t.getMajorType()}`);return t},m=function _CborReader_peekNextInitialByte(e,t){CborReader.ensureReadCapacityInArray(e,1);const r=O.CborInitialByte.from(e[0]);if(r.getInitialByte()!==O.CborInitialByte.IndefiniteLengthBreakByte&&r.getMajorType()!==t)throw new B.CborContentException("Indefinite length string contains invalid data item");return r},_=function _CborReader_validateNextByteIsBreakByte(){const e=i(this,o,"m",p).call(this);if(e.getInitialByte()!==O.CborInitialByte.IndefiniteLengthBreakByte)throw new B.CborInvalidOperationException("Not at end of indefinite length data item")},v=function _CborReader_pushDataItem(e,t){const r={currentKeyOffset:i(this,f,"f").currentKeyOffset,definiteLength:i(this,f,"f").definiteLength,frameOffset:i(this,f,"f").frameOffset,itemsRead:i(this,f,"f").itemsRead,type:i(this,f,"f").type};i(this,l,"f").push(r);i(this,f,"f").type=e;i(this,f,"f").definiteLength=t;i(this,f,"f").itemsRead=0;i(this,f,"f").frameOffset=i(this,c,"f");s(this,u,false,"f");i(this,f,"f").currentKeyOffset=null},y=function _CborReader_popDataItem(e){if(null===i(this,f,"f").type||i(this,l,"f").length<=0)throw new B.CborInvalidOperationException("Is at root context");if(e!==i(this,f,"f").type)throw new B.CborInvalidOperationException(`Pop major type mismatch, expected ${e} but got ${i(this,f,"f").type}`);if(void 0!==i(this,f,"f").definiteLength&&i(this,f,"f").definiteLength-i(this,f,"f").itemsRead>0)throw new B.CborInvalidOperationException("Not at end of definite length data item");if(i(this,u,"f"))throw new B.CborContentException("Tag not followed by value");const t=i(this,l,"f").pop();i(this,o,"m",w).call(this,t)},w=function _CborReader_restoreStackFrame(e){i(this,f,"f").type=e.type;i(this,f,"f").frameOffset=e.frameOffset;i(this,f,"f").definiteLength=e.definiteLength;i(this,f,"f").itemsRead=e.itemsRead;i(this,f,"f").currentKeyOffset=e.currentKeyOffset;s(this,h,M.CborReaderState.Undefined,"f")},g=function _CborReader_getRemainingBytes(){return i(this,d,"f").slice(i(this,c,"f"))},b=function _CborReader_advanceDataItemCounters(){++i(this,f,"f").itemsRead;s(this,u,false,"f")},P=function _CborReader_advanceBuffer(e){if(i(this,c,"f")+e>i(this,d,"f").length)throw new B.CborContentException("Buffer offset out of bounds");s(this,c,i(this,c,"f")+e,"f");s(this,h,M.CborReaderState.Undefined,"f")},C=function _CborReader_ensureReadCapacity(e){if(i(this,d,"f").length-i(this,c,"f")<e){throw new B.CborContentException(N)}},S=function _CborReader_peekStateCore(){if(void 0!==i(this,f,"f").definiteLength&&i(this,f,"f").definiteLength-i(this,f,"f").itemsRead===0){if(null===i(this,f,"f").type)return M.CborReaderState.Finished;switch(i(this,f,"f").type){case D.CborMajorType.Array:return M.CborReaderState.EndArray;case D.CborMajorType.Map:return M.CborReaderState.EndMap;default:throw new B.CborInvalidOperationException("Invalid CBOR major type pushed to stack.")}}if(i(this,c,"f")===i(this,d,"f").length){if(null===i(this,f,"f").type&&void 0===i(this,f,"f").definiteLength){return M.CborReaderState.Finished}throw new B.CborInvalidOperationException(N)}const e=O.CborInitialByte.from(i(this,d,"f")[i(this,c,"f")]);if(e.getInitialByte()===O.CborInitialByte.IndefiniteLengthBreakByte){if(i(this,u,"f")){throw new B.CborContentException("Tag not followed by value")}if(void 0===i(this,f,"f").definiteLength){switch(i(this,f,"f").type){case null:throw new B.CborContentException("Unexpected break byte");case D.CborMajorType.ByteString:return M.CborReaderState.EndIndefiniteLengthByteString;case D.CborMajorType.Utf8String:return M.CborReaderState.EndIndefiniteLengthTextString;case D.CborMajorType.Array:return M.CborReaderState.EndArray;case D.CborMajorType.Map:if(i(this,f,"f").itemsRead%2===0)return M.CborReaderState.EndMap;throw new B.CborContentException("Key missing value");default:throw new B.CborInvalidOperationException("Invalid CBOR major type pushed to stack.")}}else{throw new B.CborContentException("Unexpected break byte")}}if(null!==i(this,f,"f").type&&null!==i(this,f,"f").definiteLength){switch(i(this,f,"f").type){case D.CborMajorType.ByteString:case D.CborMajorType.Utf8String:if(e.getMajorType()!==i(this,f,"f").type){throw new B.CborContentException("Indefinite length string contains invalid data item")}break}}switch(e.getMajorType()){case D.CborMajorType.UnsignedInteger:return M.CborReaderState.UnsignedInteger;case D.CborMajorType.NegativeInteger:return M.CborReaderState.NegativeInteger;case D.CborMajorType.ByteString:return e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength?M.CborReaderState.StartIndefiniteLengthByteString:M.CborReaderState.ByteString;case D.CborMajorType.Utf8String:return e.getAdditionalInfo()===R.CborAdditionalInfo.IndefiniteLength?M.CborReaderState.StartIndefiniteLengthTextString:M.CborReaderState.TextString;case D.CborMajorType.Array:return M.CborReaderState.StartArray;case D.CborMajorType.Map:return M.CborReaderState.StartMap;case D.CborMajorType.Tag:return M.CborReaderState.Tag;case D.CborMajorType.Simple:return CborReader.mapSimpleValueDataToReaderState(e.getAdditionalInfo());default:throw new B.CborContentException("Invalid CBOR major type.")}},T=function _CborReader_peekDefiniteLength(e,t){const{unsignedInt:r,bytesRead:a}=i(CborReader,n,"m",j).call(CborReader,e,t);return{bytesRead:a,length:Number(r)}},E=function _CborReader_peekUnsignedInteger(){const e=i(this,o,"m",p).call(this);switch(e.getMajorType()){case D.CborMajorType.UnsignedInteger:return i(CborReader,n,"m",j).call(CborReader,e,i(this,o,"m",g).call(this));case D.CborMajorType.NegativeInteger:throw new B.CborContentException("Integer overflow");default:throw new B.CborInvalidOperationException(`Reader type mismatch, expected ${D.CborMajorType.UnsignedInteger} but got ${e.getMajorType()}`)}},k=function _CborReader_peekSignedInteger(){const e=i(this,o,"m",p).call(this);switch(e.getMajorType()){case D.CborMajorType.UnsignedInteger:{const{unsignedInt:t,bytesRead:r}=i(CborReader,n,"m",j).call(CborReader,e,i(this,o,"m",g).call(this));return{bytesRead:r,signedInt:BigInt(t)}}case D.CborMajorType.NegativeInteger:{const{unsignedInt:a,bytesRead:s}=i(CborReader,n,"m",j).call(CborReader,e,i(this,o,"m",g).call(this));return{bytesRead:s,signedInt:BigInt(-1)-a}}default:throw new B.CborInvalidOperationException(`Reader type mismatch, expected ${D.CborMajorType.UnsignedInteger} or ${D.CborMajorType.NegativeInteger} but got ${e.getMajorType()}`)}},A=function _CborReader_readIndefiniteLengthByteStringConcatenated(e){const t=i(this,o,"m",g).call(this);let r=a.from([]);let s=0;let d=1;let c=i(CborReader,n,"m",m).call(CborReader,t.slice(d),e);while(c.getInitialByte()!==O.CborInitialByte.IndefiniteLengthBreakByte){const{length:l,bytesRead:u}=i(CborReader,n,"m",T).call(CborReader,c,t.slice(d));const f=u+Number(l);r=a.concat([r,t.slice(d+(f-l),d+f)]);d+=f;c=i(CborReader,n,"m",m).call(CborReader,t.slice(d),e)}s=d+1;return{encodingLength:s,val:new Uint8Array(r)}},I=function _CborReader_peekTagCore(){const e=i(this,o,"m",p).call(this,D.CborMajorType.Tag);const{unsignedInt:t,bytesRead:r}=i(CborReader,n,"m",j).call(CborReader,e,i(this,o,"m",g).call(this));return{bytesRead:r,tag:Number(t)}},j=function _CborReader_decodeUnsignedInteger(e,t){if((e.getInitialByte()&O.CborInitialByte.AdditionalInformationMask)<R.CborAdditionalInfo.Additional8BitData)return{bytesRead:1,unsignedInt:BigInt(e.getAdditionalInfo())};switch(e.getAdditionalInfo()){case R.CborAdditionalInfo.Additional8BitData:CborReader.ensureReadCapacityInArray(t,2);return{bytesRead:2,unsignedInt:BigInt(t[1])};case R.CborAdditionalInfo.Additional16BitData:{CborReader.ensureReadCapacityInArray(t,3);const r=a.from(t.slice(1));const s=r.readUInt16BE();return{bytesRead:3,unsignedInt:BigInt(s)}}case R.CborAdditionalInfo.Additional32BitData:{CborReader.ensureReadCapacityInArray(t,5);const i=a.from(t.slice(1));const o=i.readUInt32BE();return{bytesRead:5,unsignedInt:BigInt(o)}}case R.CborAdditionalInfo.Additional64BitData:{CborReader.ensureReadCapacityInArray(t,9);const n=a.from(t.slice(1,9));let d=BigInt(0);for(const c of n)d=(d<<BigInt(8))+BigInt(c);return{bytesRead:9,unsignedInt:d}}default:throw new B.CborContentException("Invalid integer encoding")}},x=function _CborReader_skipNextNode(e){let t;let r=e;while((t=i(this,o,"m",S).call(this))===M.CborReaderState.Tag)this.readTag();switch(t){case M.CborReaderState.UnsignedInteger:this.readUInt();break;case M.CborReaderState.NegativeInteger:this.readCborNegativeIntegerRepresentation();break;case M.CborReaderState.ByteString:this.readByteString();break;case M.CborReaderState.TextString:this.readTextString();break;case M.CborReaderState.StartIndefiniteLengthByteString:this.readStartIndefiniteLengthByteString();r++;break;case M.CborReaderState.EndIndefiniteLengthByteString:this.readEndIndefiniteLengthByteString();r--;break;case M.CborReaderState.StartIndefiniteLengthTextString:this.readStartIndefiniteLengthTextString();r++;break;case M.CborReaderState.EndIndefiniteLengthTextString:if(0===r)throw new B.CborInvalidOperationException(`Skip invalid state: ${t}`);this.readEndIndefiniteLengthTextString();r--;break;case M.CborReaderState.StartArray:this.readStartArray();r++;break;case M.CborReaderState.EndArray:if(0===r)throw new B.CborInvalidOperationException(`Skip invalid state: ${t}`);this.readEndArray();r--;break;case M.CborReaderState.StartMap:this.readStartMap();r++;break;case M.CborReaderState.EndMap:if(0===r)throw new B.CborInvalidOperationException(`Skip invalid state: ${t}`);this.readEndMap();r--;break;case M.CborReaderState.HalfPrecisionFloat:case M.CborReaderState.SinglePrecisionFloat:case M.CborReaderState.DoublePrecisionFloat:this.readDouble();break;case M.CborReaderState.Null:case M.CborReaderState.Boolean:case M.CborReaderState.SimpleValue:this.readSimpleValue();break;default:throw new B.CborInvalidOperationException(`Skip invalid state: ${t}`)}return r}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborReaderState.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CborReaderState=void 0;var r;(function(e){e[e["Undefined"]=0]="Undefined";e[e["UnsignedInteger"]=1]="UnsignedInteger";e[e["NegativeInteger"]=2]="NegativeInteger";e[e["ByteString"]=3]="ByteString";e[e["StartIndefiniteLengthByteString"]=4]="StartIndefiniteLengthByteString";e[e["EndIndefiniteLengthByteString"]=5]="EndIndefiniteLengthByteString";e[e["TextString"]=6]="TextString";e[e["StartIndefiniteLengthTextString"]=7]="StartIndefiniteLengthTextString";e[e["EndIndefiniteLengthTextString"]=8]="EndIndefiniteLengthTextString";e[e["StartArray"]=9]="StartArray";e[e["EndArray"]=10]="EndArray";e[e["StartMap"]=11]="StartMap";e[e["EndMap"]=12]="EndMap";e[e["Tag"]=13]="Tag";e[e["SimpleValue"]=14]="SimpleValue";e[e["HalfPrecisionFloat"]=15]="HalfPrecisionFloat";e[e["SinglePrecisionFloat"]=16]="SinglePrecisionFloat";e[e["DoublePrecisionFloat"]=17]="DoublePrecisionFloat";e[e["Null"]=18]="Null";e[e["Boolean"]=19]="Boolean";e[e["Finished"]=20]="Finished"})(r=t.CborReaderState||(t.CborReaderState={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborSimpleValue.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CborSimpleValue=void 0;var r;(function(e){e[e["False"]=20]="False";e[e["True"]=21]="True";e[e["Null"]=22]="Null";e[e["Undefined"]=23]="Undefined"})(r=t.CborSimpleValue||(t.CborSimpleValue={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborTag.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CborTag=void 0;var r;(function(e){e[e["DateTimeString"]=0]="DateTimeString";e[e["UnixTimeSeconds"]=1]="UnixTimeSeconds";e[e["UnsignedBigNum"]=2]="UnsignedBigNum";e[e["NegativeBigNum"]=3]="NegativeBigNum";e[e["DecimalFraction"]=4]="DecimalFraction";e[e["BigFloat"]=5]="BigFloat";e[e["Base64UrlLaterEncoding"]=21]="Base64UrlLaterEncoding";e[e["Base64StringLaterEncoding"]=22]="Base64StringLaterEncoding";e[e["Base16StringLaterEncoding"]=23]="Base16StringLaterEncoding";e[e["EncodedCborDataItem"]=24]="EncodedCborDataItem";e[e["RationalNumber"]=30]="RationalNumber";e[e["Uri"]=32]="Uri";e[e["Base64Url"]=33]="Base64Url";e[e["Base64"]=34]="Base64";e[e["Regex"]=35]="Regex";e[e["MimeMessage"]=36]="MimeMessage";e[e["Set"]=258]="Set";e[e["SelfDescribeCbor"]=55799]="SelfDescribeCbor"})(r=t.CborTag||(t.CborTag={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborWriter.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o,n,d,c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.CborWriter=void 0;const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborInitialByte.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborMajorType.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborTag.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/Half.js");const _=BigInt(-1);const v=BigInt("0x100000000");const y=24;const w=25;const g=26;const b=27;const P=244;const C=245;const S=246;const T=247;const E=159;const k=191;const A=249;const I=250;const j=251;const x=a.from("ffc00000","hex");const R=a.from("fff0000000000000","hex");const B=a.from("7ff0000000000000","hex");class CborWriter{writeBigInteger(e){let t=p.CborTag.UnsignedBigNum;if(e<0){e=-e+_;t=p.CborTag.NegativeBigNum}let r=e.toString(16);if(r.length%2)r=`0${r}`;const c=a.from(r,"hex");this.writeTag(t);s(this,o,"m",d).call(this,h.CborMajorType.ByteString,c.length);i(this,n,a.concat([s(this,n,"f"),c]),"f");return this}writeBoolean(e){s(this,o,"m",c).call(this,e?C:P);return this}writeByteString(e){s(this,o,"m",d).call(this,h.CborMajorType.ByteString,e.length);i(this,n,a.concat([s(this,n,"f"),e]),"f");return this}writeTextString(e){s(this,o,"m",d).call(this,h.CborMajorType.Utf8String,a.from(e,"utf8").length);i(this,n,a.concat([s(this,n,"f"),a.from(e,"utf8")]),"f");return this}writeEncodedValue(e){i(this,n,a.concat([s(this,n,"f"),e]),"f");return this}writeStartArray(e){if(void 0!==e)s(this,o,"m",d).call(this,h.CborMajorType.Array,e);else s(this,o,"m",c).call(this,E);return this}writeEndArray(){s(this,o,"m",c).call(this,f.CborInitialByte.IndefiniteLengthBreakByte);return this}writeStartMap(e){if(void 0!==e)s(this,o,"m",d).call(this,h.CborMajorType.Map,e);else s(this,o,"m",c).call(this,k);return this}writeEndMap(){s(this,o,"m",c).call(this,f.CborInitialByte.IndefiniteLengthBreakByte);return this}writeInt(e){if(e<0)s(this,o,"m",d).call(this,h.CborMajorType.NegativeInteger,-(BigInt(e)+1n));else s(this,o,"m",d).call(this,h.CborMajorType.UnsignedInteger,e);return this}writeFloat(e){let t;if(e===Number.NEGATIVE_INFINITY){s(this,o,"m",c).call(this,j);this.writeEncodedValue(R);return this}if(e===Number.POSITIVE_INFINITY){s(this,o,"m",c).call(this,j);this.writeEncodedValue(B);return this}if(Number.isNaN(e)){s(this,o,"m",c).call(this,I);this.writeEncodedValue(x);return this}try{t=(0,m.encodeHalf)(e);s(this,o,"m",c).call(this,A);this.writeEncodedValue(t)}catch{const r=a.allocUnsafe(4);r.writeFloatBE(e,0);if(r.readFloatBE(0)===e){s(this,o,"m",c).call(this,I);this.writeEncodedValue(r.valueOf())}else{const i=a.allocUnsafe(8);i.writeFloatBE(e,0);s(this,o,"m",c).call(this,j);this.writeEncodedValue(i.valueOf())}}return this}writeNull(){s(this,o,"m",c).call(this,S);return this}writeUndefined(){s(this,o,"m",c).call(this,T);return this}writeTag(e){s(this,o,"m",d).call(this,h.CborMajorType.Tag,e);return this}encodeAsHex(){return s(this,n,"f").toString("hex")}encode(){return new Uint8Array(s(this,n,"f"))}reset(){i(this,n,a.from([]),"f")}constructor(){o.add(this);n.set(this,a.from([]))}}t.CborWriter=CborWriter;n=new WeakMap,o=new WeakSet,d=function _CborWriter_writeTypeValue(e,t){const r=e<<5;if(t<24)s(this,o,"m",c).call(this,r|Number(t));else if(t<256){s(this,o,"m",c).call(this,r|y);s(this,o,"m",c).call(this,Number(t))}else if(t<65536){s(this,o,"m",c).call(this,r|w);s(this,o,"m",l).call(this,Number(t))}else if(t<4294967296){s(this,o,"m",c).call(this,r|g);s(this,o,"m",u).call(this,Number(t))}else{s(this,o,"m",c).call(this,r|b);s(this,o,"m",u).call(this,Number(BigInt(t)/v));s(this,o,"m",u).call(this,Number(BigInt(t)%v))}},c=function _CborWriter_pushUInt8(e){const t=a.allocUnsafe(1);t.writeUInt8(e,0);i(this,n,a.concat([s(this,n,"f"),t]),"f")},l=function _CborWriter_pushUInt16(e){const t=a.allocUnsafe(2);t.writeUInt16BE(e,0);i(this,n,a.concat([s(this,n,"f"),t]),"f")},u=function _CborWriter_pushUInt32(e){const t=a.allocUnsafe(4);t.writeUInt32BE(e,0);i(this,n,a.concat([s(this,n,"f"),t]),"f")}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/Half.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.encodeHalf=t.decodeHalf=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/errors.js");const i="Invalid conversion. Loss of precision";const ldexp=(e,t)=>{const r=Math.min(3,Math.ceil(Math.abs(t)/1023));let a=e;for(let s=0;s<r;s++)a*=Math.pow(2,Math.floor((t+s)/r));return a};const decodeHalf=e=>{const t=(e[0]<<8)+e[1];const r=t>>10&31;const a=1023&t;let s;s=0===r?ldexp(a,-24):31!==r?ldexp(a+1024,r-25):0===a?Number.POSITIVE_INFINITY:Number.NaN;return 32768&t?-s:s};t.decodeHalf=decodeHalf;const encodeHalf=e=>{const t=a.allocUnsafe(4);t.writeFloatBE(e,0);const r=t.readUInt32BE(0);if((8191&r)!==0){throw new s.LossOfPrecisionException(i)}let o=r>>16&32768;const n=r>>23&255;const d=8388607&r;if(n>=113&&n<=142)o+=(n-112<<10)+(d>>13);else if(n>=103&&n<113){if(d&(1<<126-n)-1){throw new s.LossOfPrecisionException(i)}o+=d+8388608>>126-n}else{throw new s.LossOfPrecisionException(i)}const c=new Uint8Array(2);c[0]=o>>>8&255;c[1]=255&o;return c};t.encodeHalf=encodeHalf},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/errors.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LossOfPrecisionException=t.CborContentException=t.CborInvalidOperationException=void 0;const a=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");class CborInvalidOperationException extends a.CustomError{constructor(e){super(e)}}t.CborInvalidOperationException=CborInvalidOperationException;class CborContentException extends a.CustomError{constructor(e){super(e)}}t.CborContentException=CborContentException;class LossOfPrecisionException extends a.CustomError{constructor(e){super(e)}}t.LossOfPrecisionException=LossOfPrecisionException},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborAdditionalInfo.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborInitialByte.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborMajorType.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborReader.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborReaderState.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborSimpleValue.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborTag.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/CborWriter.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/errors.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/AuthCommitteeHot.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.AuthCommitteeHot=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=2;class AuthCommitteeHot{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(p.CertificateKind.AuthCommitteeHot);e.writeStartArray(v);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeStartArray(v);e.writeInt(d(this,l,"f").type);e.writeByteString(a.from(d(this,l,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(3!==r)throw new _.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.AuthCommitteeHot)throw new _.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.AuthCommitteeHot}, but got ${a}`);const s=t.readStartArray();if(s!==v)throw new _.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=t.readStartArray();if(d!==v)throw new _.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const c=Number(t.readInt());const l=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();t.readEndArray();const m=new AuthCommitteeHot({hash:o,type:i},{hash:l,type:c});n(m,u,e,"f");return m}toCore(){return{__typename:m.CertificateType.AuthorizeCommitteeHot,coldCredential:d(this,c,"f"),hotCredential:d(this,l,"f")}}static fromCore(e){return new AuthCommitteeHot(e.coldCredential,e.hotCredential)}coldCredential(){return d(this,c,"f")}hotCredential(){return d(this,l,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.AuthCommitteeHot=AuthCommitteeHot;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Certificate.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o,n,d,c,l,u,f,h,p,m,_,v,y,w,g,b,P,C,S,T;Object.defineProperty(t,"__esModule",{value:true});t.Certificate=void 0;const E=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/AuthCommitteeHot.js");const k=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const A=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const I=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const j=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/GenesisKeyDelegation.js");const x=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const R=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/index.js");const B=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolRegistration.js");const O=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolRetirement.js");const D=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/RegisterDelegateRepresentative.js");const M=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Registration.js");const F=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/ResignCommitteeCold.js");const N=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeDelegation.js");const H=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeDeregistration.js");const G=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeRegistration.js");const V=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeRegistrationDelegation.js");const K=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeVoteDelegation.js");const L=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeVoteRegistrationDelegation.js");const z=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/UnregisterDelegateRepresentative.js");const U=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Unregistration.js");const W=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/UpdateDelegateRepresentative.js");const $=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/VoteDelegation.js");const q=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/VoteRegistrationDelegation.js");class Certificate{toCbor(){if(a(this,T,"f"))return a(this,T,"f");let e;switch(a(this,i,"f")){case A.CertificateKind.StakeRegistration:e=a(this,f,"f").toCbor();break;case A.CertificateKind.StakeDeregistration:e=a(this,u,"f").toCbor();break;case A.CertificateKind.StakeDelegation:e=a(this,l,"f").toCbor();break;case A.CertificateKind.PoolRetirement:e=a(this,c,"f").toCbor();break;case A.CertificateKind.PoolRegistration:e=a(this,d,"f").toCbor();break;case A.CertificateKind.MoveInstantaneousRewards:e=a(this,n,"f").toCbor();break;case A.CertificateKind.GenesisKeyDelegation:e=a(this,o,"f").toCbor();break;case A.CertificateKind.Registration:e=a(this,h,"f").toCbor();break;case A.CertificateKind.Unregistration:e=a(this,p,"f").toCbor();break;case A.CertificateKind.VoteDelegation:e=a(this,m,"f").toCbor();break;case A.CertificateKind.StakeVoteDelegation:e=a(this,_,"f").toCbor();break;case A.CertificateKind.StakeRegistrationDelegation:e=a(this,v,"f").toCbor();break;case A.CertificateKind.VoteRegistrationDelegation:e=a(this,y,"f").toCbor();break;case A.CertificateKind.StakeVoteRegistrationDelegation:e=a(this,w,"f").toCbor();break;case A.CertificateKind.AuthCommitteeHot:e=a(this,g,"f").toCbor();break;case A.CertificateKind.ResignCommitteeCold:e=a(this,b,"f").toCbor();break;case A.CertificateKind.DrepRegistration:e=a(this,P,"f").toCbor();break;case A.CertificateKind.DrepUnregistration:e=a(this,C,"f").toCbor();break;case A.CertificateKind.UpdateDrep:e=a(this,S,"f").toCbor();break;default:throw new x.InvalidStateError(`Unexpected kind value: ${a(this,i,"f")}`)}return e}static fromCbor(e){let t;const r=new k.CborReader(e);r.readStartArray();const a=Number(r.readInt());switch(a){case A.CertificateKind.StakeRegistration:t=Certificate.newStakeRegistration(G.StakeRegistration.fromCbor(e));break;case A.CertificateKind.StakeDeregistration:t=Certificate.newStakeDeregistration(H.StakeDeregistration.fromCbor(e));break;case A.CertificateKind.StakeDelegation:t=Certificate.newStakeDelegation(N.StakeDelegation.fromCbor(e));break;case A.CertificateKind.PoolRetirement:t=Certificate.newPoolRetirement(O.PoolRetirement.fromCbor(e));break;case A.CertificateKind.PoolRegistration:t=Certificate.newPoolRegistration(B.PoolRegistration.fromCbor(e));break;case A.CertificateKind.MoveInstantaneousRewards:t=Certificate.newMoveInstantaneousRewardsCert(R.MoveInstantaneousReward.fromCbor(e));break;case A.CertificateKind.GenesisKeyDelegation:t=Certificate.newGenesisKeyDelegation(j.GenesisKeyDelegation.fromCbor(e));break;case A.CertificateKind.Registration:t=Certificate.newRegistrationCert(M.Registration.fromCbor(e));break;case A.CertificateKind.Unregistration:t=Certificate.newUnregistrationCert(U.Unregistration.fromCbor(e));break;case A.CertificateKind.VoteDelegation:t=Certificate.newVoteDelegationCert($.VoteDelegation.fromCbor(e));break;case A.CertificateKind.StakeVoteDelegation:t=Certificate.newStakeVoteDelegationCert(K.StakeVoteDelegation.fromCbor(e));break;case A.CertificateKind.StakeRegistrationDelegation:t=Certificate.newStakeRegistrationDelegationCert(V.StakeRegistrationDelegation.fromCbor(e));break;case A.CertificateKind.VoteRegistrationDelegation:t=Certificate.newVoteRegistrationDelegationCert(q.VoteRegistrationDelegation.fromCbor(e));break;case A.CertificateKind.StakeVoteRegistrationDelegation:t=Certificate.newStakeVoteRegistrationDelegationCert(L.StakeVoteRegistrationDelegation.fromCbor(e));break;case A.CertificateKind.AuthCommitteeHot:t=Certificate.newAuthCommitteeHotCert(E.AuthCommitteeHot.fromCbor(e));break;case A.CertificateKind.ResignCommitteeCold:t=Certificate.newResignCommitteeColdCert(F.ResignCommitteeCold.fromCbor(e));break;case A.CertificateKind.DrepRegistration:t=Certificate.newRegisterDelegateRepresentativeCert(D.RegisterDelegateRepresentative.fromCbor(e));break;case A.CertificateKind.DrepUnregistration:t=Certificate.newUnregisterDelegateRepresentativeCert(z.UnregisterDelegateRepresentative.fromCbor(e));break;case A.CertificateKind.UpdateDrep:t=Certificate.newUpdateDelegateRepresentativeCert(W.UpdateDelegateRepresentative.fromCbor(e));break;default:throw new x.InvalidStateError(`Unexpected kind value: ${a}`)}s(t,T,e,"f");return t}toCore(){let e;switch(a(this,i,"f")){case A.CertificateKind.StakeRegistration:e=a(this,f,"f").toCore();break;case A.CertificateKind.StakeDeregistration:e=a(this,u,"f").toCore();break;case A.CertificateKind.StakeDelegation:e=a(this,l,"f").toCore();break;case A.CertificateKind.PoolRetirement:e=a(this,c,"f").toCore();break;case A.CertificateKind.PoolRegistration:e=a(this,d,"f").toCore();break;case A.CertificateKind.MoveInstantaneousRewards:e=a(this,n,"f").toCore();break;case A.CertificateKind.GenesisKeyDelegation:e=a(this,o,"f").toCore();break;case A.CertificateKind.Registration:e=a(this,h,"f").toCore();break;case A.CertificateKind.Unregistration:e=a(this,p,"f").toCore();break;case A.CertificateKind.VoteDelegation:e=a(this,m,"f").toCore();break;case A.CertificateKind.StakeVoteDelegation:e=a(this,_,"f").toCore();break;case A.CertificateKind.StakeRegistrationDelegation:e=a(this,v,"f").toCore();break;case A.CertificateKind.VoteRegistrationDelegation:e=a(this,y,"f").toCore();break;case A.CertificateKind.StakeVoteRegistrationDelegation:e=a(this,w,"f").toCore();break;case A.CertificateKind.AuthCommitteeHot:e=a(this,g,"f").toCore();break;case A.CertificateKind.ResignCommitteeCold:e=a(this,b,"f").toCore();break;case A.CertificateKind.DrepRegistration:e=a(this,P,"f").toCore();break;case A.CertificateKind.DrepUnregistration:e=a(this,C,"f").toCore();break;case A.CertificateKind.UpdateDrep:e=a(this,S,"f").toCore();break;default:throw new x.InvalidStateError(`Unexpected kind value: ${a(this,i,"f")}`)}return e}static fromCore(e){let t;switch(e.__typename){case I.CertificateType.StakeRegistration:t=Certificate.newStakeRegistration(G.StakeRegistration.fromCore(e));break;case I.CertificateType.StakeDeregistration:t=Certificate.newStakeDeregistration(H.StakeDeregistration.fromCore(e));break;case I.CertificateType.StakeDelegation:t=Certificate.newStakeDelegation(N.StakeDelegation.fromCore(e));break;case I.CertificateType.PoolRetirement:t=Certificate.newPoolRetirement(O.PoolRetirement.fromCore(e));break;case I.CertificateType.PoolRegistration:t=Certificate.newPoolRegistration(B.PoolRegistration.fromCore(e));break;case I.CertificateType.MIR:t=Certificate.newMoveInstantaneousRewardsCert(R.MoveInstantaneousReward.fromCore(e));break;case I.CertificateType.GenesisKeyDelegation:t=Certificate.newGenesisKeyDelegation(j.GenesisKeyDelegation.fromCore(e));break;case I.CertificateType.Registration:t=Certificate.newRegistrationCert(M.Registration.fromCore(e));break;case I.CertificateType.Unregistration:t=Certificate.newUnregistrationCert(U.Unregistration.fromCore(e));break;case I.CertificateType.VoteDelegation:t=Certificate.newVoteDelegationCert($.VoteDelegation.fromCore(e));break;case I.CertificateType.StakeVoteDelegation:t=Certificate.newStakeVoteDelegationCert(K.StakeVoteDelegation.fromCore(e));break;case I.CertificateType.StakeRegistrationDelegation:t=Certificate.newStakeRegistrationDelegationCert(V.StakeRegistrationDelegation.fromCore(e));break;case I.CertificateType.VoteRegistrationDelegation:t=Certificate.newVoteRegistrationDelegationCert(q.VoteRegistrationDelegation.fromCore(e));break;case I.CertificateType.StakeVoteRegistrationDelegation:t=Certificate.newStakeVoteRegistrationDelegationCert(L.StakeVoteRegistrationDelegation.fromCore(e));break;case I.CertificateType.AuthorizeCommitteeHot:t=Certificate.newAuthCommitteeHotCert(E.AuthCommitteeHot.fromCore(e));break;case I.CertificateType.ResignCommitteeCold:t=Certificate.newResignCommitteeColdCert(F.ResignCommitteeCold.fromCore(e));break;case I.CertificateType.RegisterDelegateRepresentative:t=Certificate.newRegisterDelegateRepresentativeCert(D.RegisterDelegateRepresentative.fromCore(e));break;case I.CertificateType.UnregisterDelegateRepresentative:t=Certificate.newUnregisterDelegateRepresentativeCert(z.UnregisterDelegateRepresentative.fromCore(e));break;case I.CertificateType.UpdateDelegateRepresentative:t=Certificate.newUpdateDelegateRepresentativeCert(W.UpdateDelegateRepresentative.fromCore(e));break;default:throw new x.InvalidStateError("Unexpected certificate type")}return t}static newStakeRegistration(e){const t=new Certificate;s(t,f,e,"f");s(t,i,A.CertificateKind.StakeRegistration,"f");return t}static newStakeDeregistration(e){const t=new Certificate;s(t,u,e,"f");s(t,i,A.CertificateKind.StakeDeregistration,"f");return t}static newStakeDelegation(e){const t=new Certificate;s(t,l,e,"f");s(t,i,A.CertificateKind.StakeDelegation,"f");return t}static newPoolRegistration(e){const t=new Certificate;s(t,d,e,"f");s(t,i,A.CertificateKind.PoolRegistration,"f");return t}static newPoolRetirement(e){const t=new Certificate;s(t,c,e,"f");s(t,i,A.CertificateKind.PoolRetirement,"f");return t}static newGenesisKeyDelegation(e){const t=new Certificate;s(t,o,e,"f");s(t,i,A.CertificateKind.GenesisKeyDelegation,"f");return t}static newMoveInstantaneousRewardsCert(e){const t=new Certificate;s(t,n,e,"f");s(t,i,A.CertificateKind.MoveInstantaneousRewards,"f");return t}static newRegistrationCert(e){const t=new Certificate;s(t,h,e,"f");s(t,i,A.CertificateKind.Registration,"f");return t}static newUnregistrationCert(e){const t=new Certificate;s(t,p,e,"f");s(t,i,A.CertificateKind.Unregistration,"f");return t}static newVoteDelegationCert(e){const t=new Certificate;s(t,m,e,"f");s(t,i,A.CertificateKind.VoteDelegation,"f");return t}static newStakeVoteDelegationCert(e){const t=new Certificate;s(t,_,e,"f");s(t,i,A.CertificateKind.StakeVoteDelegation,"f");return t}static newStakeRegistrationDelegationCert(e){const t=new Certificate;s(t,v,e,"f");s(t,i,A.CertificateKind.StakeRegistrationDelegation,"f");return t}static newVoteRegistrationDelegationCert(e){const t=new Certificate;s(t,y,e,"f");s(t,i,A.CertificateKind.VoteRegistrationDelegation,"f");return t}static newStakeVoteRegistrationDelegationCert(e){const t=new Certificate;s(t,w,e,"f");s(t,i,A.CertificateKind.StakeVoteRegistrationDelegation,"f");return t}static newAuthCommitteeHotCert(e){const t=new Certificate;s(t,g,e,"f");s(t,i,A.CertificateKind.AuthCommitteeHot,"f");return t}static newResignCommitteeColdCert(e){const t=new Certificate;s(t,b,e,"f");s(t,i,A.CertificateKind.ResignCommitteeCold,"f");return t}static newRegisterDelegateRepresentativeCert(e){const t=new Certificate;s(t,P,e,"f");s(t,i,A.CertificateKind.DrepRegistration,"f");return t}static newUnregisterDelegateRepresentativeCert(e){const t=new Certificate;s(t,C,e,"f");s(t,i,A.CertificateKind.DrepUnregistration,"f");return t}static newUpdateDelegateRepresentativeCert(e){const t=new Certificate;s(t,S,e,"f");s(t,i,A.CertificateKind.UpdateDrep,"f");return t}kind(){return a(this,i,"f")}asStakeRegistration(){return a(this,f,"f")}asStakeDeregistration(){return a(this,u,"f")}asStakeDelegation(){return a(this,l,"f")}asPoolRegistration(){return a(this,d,"f")}asPoolRetirement(){return a(this,c,"f")}asGenesisKeyDelegation(){return a(this,o,"f")}asMoveInstantaneousRewardsCert(){return a(this,n,"f")}asRegistrationCert(){return a(this,h,"f")}asUnregistrationCert(){return a(this,p,"f")}asVoteDelegationCert(){return a(this,m,"f")}asStakeVoteDelegationCert(){return a(this,_,"f")}asStakeRegistrationDelegationCert(){return a(this,v,"f")}asVoteRegistrationDelegationCert(){return a(this,y,"f")}asStakeVoteRegistrationDelegationCert(){return a(this,w,"f")}asAuthCommitteeHotCert(){return a(this,g,"f")}asResignCommitteeColdCert(){return a(this,b,"f")}asRegisterDelegateRepresentativeCert(){return a(this,P,"f")}asUnregisterDelegateRepresentativeCert(){return a(this,C,"f")}asUpdateDelegateRepresentativeCert(){return a(this,S,"f")}constructor(){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,void 0);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0)}}t.Certificate=Certificate;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CertificateKind=void 0;var r;(function(e){e[e["StakeRegistration"]=0]="StakeRegistration";e[e["StakeDeregistration"]=1]="StakeDeregistration";e[e["StakeDelegation"]=2]="StakeDelegation";e[e["PoolRegistration"]=3]="PoolRegistration";e[e["PoolRetirement"]=4]="PoolRetirement";e[e["GenesisKeyDelegation"]=5]="GenesisKeyDelegation";e[e["MoveInstantaneousRewards"]=6]="MoveInstantaneousRewards";e[e["Registration"]=7]="Registration";e[e["Unregistration"]=8]="Unregistration";e[e["VoteDelegation"]=9]="VoteDelegation";e[e["StakeVoteDelegation"]=10]="StakeVoteDelegation";e[e["StakeRegistrationDelegation"]=11]="StakeRegistrationDelegation";e[e["VoteRegistrationDelegation"]=12]="VoteRegistrationDelegation";e[e["StakeVoteRegistrationDelegation"]=13]="StakeVoteRegistrationDelegation";e[e["AuthCommitteeHot"]=14]="AuthCommitteeHot";e[e["ResignCommitteeCold"]=15]="ResignCommitteeCold";e[e["DrepRegistration"]=16]="DrepRegistration";e[e["DrepUnregistration"]=17]="DrepUnregistration";e[e["UpdateDrep"]=18]="UpdateDrep"})(r=t.CertificateKind||(t.CertificateKind={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/DRep.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.DRep=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/DRepKind.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");class DRep{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");if(d(this,l,"f")===m.DRepKind.KeyHash||d(this,l,"f")===m.DRepKind.ScriptHash){e.writeStartArray(2);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));return e.encodeAsHex()}e.writeStartArray(1);e.writeInt(d(this,l,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);t.readStartArray();const r=Number(t.readInt());if(r===m.DRepKind.KeyHash||r===m.DRepKind.ScriptHash){const a=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));if(r===m.DRepKind.KeyHash){return DRep.newKeyHash(a)}return DRep.newScriptHash(a)}t.readEndArray();if(r===m.DRepKind.Abstain)return DRep.newAlwaysAbstain();return DRep.newAlwaysNoConfidence()}toCore(){if(d(this,l,"f")===m.DRepKind.KeyHash||d(this,l,"f")===m.DRepKind.ScriptHash)return d(this,c,"f");if(d(this,l,"f")===m.DRepKind.Abstain)return{__typename:"AlwaysAbstain"};return{__typename:"AlwaysNoConfidence"}}static fromCore(e){if((0,v.isDRepAlwaysAbstain)(e))return DRep.newAlwaysAbstain();if((0,v.isDRepAlwaysNoConfidence)(e))return DRep.newAlwaysNoConfidence();if(e.type===p.CredentialType.KeyHash)return DRep.newKeyHash(e.hash);return DRep.newScriptHash(e.hash)}static newKeyHash(e){return new DRep(m.DRepKind.KeyHash,{hash:e,type:p.CredentialType.KeyHash})}static newScriptHash(e){return new DRep(m.DRepKind.ScriptHash,{hash:e,type:p.CredentialType.ScriptHash})}static newAlwaysAbstain(){return new DRep(m.DRepKind.Abstain,void 0)}static newAlwaysNoConfidence(){return new DRep(m.DRepKind.NoConfidence,void 0)}kind(){return d(this,l,"f")}toKeyHash(){var e;if(d(this,l,"f")!==m.DRepKind.KeyHash)return;return null===(e=d(this,c,"f"))||void 0===e?void 0:e.hash}toScriptHash(){var e;if(d(this,l,"f")!==m.DRepKind.ScriptHash)return;return null===(e=d(this,c,"f"))||void 0===e?void 0:e.hash}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,t,"f");n(this,l,e,"f")}}t.DRep=DRep;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/DRepKind.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DRepKind=void 0;var r;(function(e){e[e["KeyHash"]=0]="KeyHash";e[e["ScriptHash"]=1]="ScriptHash";e[e["Abstain"]=2]="Abstain";e[e["NoConfidence"]=3]="NoConfidence"})(r=t.DRepKind||(t.DRepKind={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/DRepKind.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/DRep.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/GenesisKeyDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.GenesisKeyDelegation=void 0;const h=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=4;class GenesisKeyDelegation{toCbor(){const e=new p.CborWriter;if(d(this,f,"f"))return d(this,f,"f");e.writeStartArray(y);e.writeInt(m.CertificateKind.GenesisKeyDelegation);e.writeByteString(a.from(d(this,c,"f"),"hex"));e.writeByteString(a.from(d(this,l,"f"),"hex"));e.writeByteString(a.from(d(this,u,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(r!==y)throw new v.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==m.CertificateKind.GenesisKeyDelegation)throw new v.InvalidArgumentError("cbor",`Expected certificate kind ${m.CertificateKind.GenesisKeyDelegation}, but got ${a}`);const s=h.Hash28ByteBase16(v.HexBlob.fromBytes(t.readByteString()));const i=h.Hash28ByteBase16(v.HexBlob.fromBytes(t.readByteString()));const o=h.Hash32ByteBase16(v.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=new GenesisKeyDelegation(s,i,o);n(d,f,e,"f");return d}toCore(){return{__typename:_.CertificateType.GenesisKeyDelegation,genesisDelegateHash:d(this,l,"f"),genesisHash:d(this,c,"f"),vrfKeyHash:d(this,u,"f")}}static fromCore(e){return new GenesisKeyDelegation(e.genesisHash,e.genesisDelegateHash,e.vrfKeyHash)}genesisHash(){return d(this,c,"f")}setGenesisHash(e){n(this,c,e,"f");n(this,f,void 0,"f")}genesisDelegateHash(){return d(this,l,"f")}setGenesisDelegateHash(e){n(this,l,e,"f");n(this,f,void 0,"f")}vrfKeyHash(){return d(this,u,"f")}setVrfKeyHash(e){n(this,u,e,"f");n(this,f,void 0,"f")}constructor(e,t,r){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f");n(this,u,r,"f")}}t.GenesisKeyDelegation=GenesisKeyDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousReward.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.MoveInstantaneousReward=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const f=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToOtherPot.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToStakeCreds.js");const _=2;class MoveInstantaneousReward{toCbor(){if(s(this,c,"f"))return s(this,c,"f");let e;switch(s(this,d,"f")){case h.MirCertificateKind.ToOtherPot:e=s(this,o,"f").toCbor();break;case h.MirCertificateKind.ToStakeCreds:e=s(this,n,"f").toCbor();break;default:throw new f.InvalidStateError(`Unexpected kind value: ${s(this,d,"f")}`)}const t=new l.CborWriter;t.writeStartArray(_);t.writeInt(u.CertificateKind.MoveInstantaneousRewards);t.writeEncodedValue(a.from(e,"hex"));return t.encodeAsHex()}static fromCbor(e){const t=new l.CborReader(e);let r=t.readStartArray();if(r!==_)throw new f.InvalidArgumentError("cbor",`Expected elements size ${_}, but got ${r}`);const a=Number(t.readInt());if(a!==u.CertificateKind.MoveInstantaneousRewards)throw new f.InvalidArgumentError("cbor",`Expected certificate kind ${u.CertificateKind.MoveInstantaneousRewards}, but got ${a}`);const s=f.HexBlob.fromBytes(t.readEncodedValue());const v=new l.CborReader(s);r=v.readStartArray();if(r!==_)throw new f.InvalidArgumentError("cbor",`Expected elements size ${_}, but got ${r}`);const y=new MoveInstantaneousReward;v.readInt();if(v.peekState()===l.CborReaderState.UnsignedInteger){i(y,o,p.MoveInstantaneousRewardToOtherPot.fromCbor(s),"f");i(y,d,h.MirCertificateKind.ToOtherPot,"f")}else if(v.peekState()===l.CborReaderState.StartArray||v.peekState()===l.CborReaderState.StartMap){i(y,n,m.MoveInstantaneousRewardToStakeCreds.fromCbor(s),"f");i(y,d,h.MirCertificateKind.ToStakeCreds,"f")}else{throw new f.InvalidArgumentError("cbor","Invalid CBOR string")}i(y,c,e,"f");return y}toCore(){let e;switch(s(this,d,"f")){case h.MirCertificateKind.ToOtherPot:e=s(this,o,"f").toCore();break;case h.MirCertificateKind.ToStakeCreds:e=s(this,n,"f").toCore();break;default:throw new f.InvalidStateError(`Unexpected kind value: ${s(this,d,"f")}`)}return e}static fromCore(e){const t=new MoveInstantaneousReward;switch(e.kind){case h.MirCertificateKind.ToOtherPot:i(t,o,p.MoveInstantaneousRewardToOtherPot.fromCore(e),"f");i(t,d,h.MirCertificateKind.ToOtherPot,"f");break;case h.MirCertificateKind.ToStakeCreds:i(t,n,m.MoveInstantaneousRewardToStakeCreds.fromCore(e),"f");i(t,d,h.MirCertificateKind.ToStakeCreds,"f");break;default:throw new f.InvalidStateError(`Unexpected kind value: ${e.kind}`)}return t}static newToOtherPot(e){const t=new MoveInstantaneousReward;i(t,o,e,"f");i(t,d,h.MirCertificateKind.ToOtherPot,"f");return t}static newToStakeCreds(e){const t=new MoveInstantaneousReward;i(t,n,e,"f");i(t,d,h.MirCertificateKind.ToStakeCreds,"f");return t}kind(){return s(this,d,"f")}asToOtherPot(){return s(this,o,"f")}asToStakeCreds(){return s(this,n,"f")}constructor(){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0)}}t.MoveInstantaneousReward=MoveInstantaneousReward;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToOtherPot.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.MoveInstantaneousRewardToOtherPot=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=2;class MoveInstantaneousRewardToOtherPot{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(u);e.writeInt(s(this,i,"f")===c.MirCertificatePot.Reserves?0:1);e.writeInt(s(this,o,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==u)throw new l.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const s=Number(t.readInt());const i=t.readInt();if(s<0||s>1)throw new l.InvalidArgumentError("cbor",`Expected a pot value between 0 and 1, but got ${s}`);const o=new MoveInstantaneousRewardToOtherPot(0===s?c.MirCertificatePot.Reserves:c.MirCertificatePot.Treasury,i);a(o,n,e,"f");return o}toCore(){return{__typename:c.CertificateType.MIR,kind:c.MirCertificateKind.ToOtherPot,pot:s(this,i,"f"),quantity:s(this,o,"f")}}static fromCore(e){if(e.kind!==c.MirCertificateKind.ToOtherPot)throw new l.InvalidArgumentError("cert",`Expected a MIR certificate kind 'ToOtherPot', but got ${e.kind}`);if(void 0===e.quantity)throw new l.InvalidArgumentError("cert","Amount field of the given MIR certificate is undefined");return new MoveInstantaneousRewardToOtherPot(e.pot,e.quantity)}pot(){return s(this,i,"f")}setPot(e){a(this,i,e,"f");a(this,n,void 0,"f")}getAmount(){return s(this,o,"f")}setAmount(e){a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.MoveInstantaneousRewardToOtherPot=MoveInstantaneousRewardToOtherPot;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToStakeCreds.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.MoveInstantaneousRewardToStakeCreds=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const m=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const _=2;class MoveInstantaneousRewardToStakeCreds{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(_);e.writeInt(d(this,c,"f")===p.MirCertificatePot.Reserves?0:1);const t=new Map([...d(this,l,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,s]of t){e.writeStartArray(_);e.writeInt(r.type);e.writeByteString(a.from(r.hash,"hex"));e.writeInt(s)}return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(r!==_)throw new m.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a<0||a>1)throw new m.InvalidArgumentError("cbor",`Expected a pot value between 0 and 1, but got an array of ${a} elements`);t.readStartMap();const s=new Map;while(t.peekState()!==h.CborReaderState.EndMap){t.readStartArray();const i=Number(t.readInt());if(i<0||i>1)throw new m.InvalidArgumentError("cbor",`Expected a credential type value between 0 and 1, but got ${i}`);const o=f.Hash28ByteBase16(m.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=t.readInt();s.set({hash:o,type:i},d)}t.readEndMap();const c=new MoveInstantaneousRewardToStakeCreds(0===a?p.MirCertificatePot.Reserves:p.MirCertificatePot.Treasury,s);n(c,u,e,"f");return c}toCore(){if(0===d(this,l,"f").size)throw new m.InvalidStateError("The credential map is empty.");const[[e,t]]=d(this,l,"f");return{__typename:p.CertificateType.MIR,kind:p.MirCertificateKind.ToStakeCreds,pot:d(this,c,"f"),quantity:t,stakeCredential:e}}static fromCore(e){if(e.kind!==p.MirCertificateKind.ToStakeCreds)throw new m.InvalidArgumentError("cert",`Expected a MIR certificate kind 'ToStakeCreds', but got ${e.kind}`);if(void 0===e.stakeCredential)throw new m.InvalidArgumentError("cert","stakeCredential field of the given MIR certificate is undefined");return new MoveInstantaneousRewardToStakeCreds(e.pot,new Map([[e.stakeCredential,e.quantity]]))}pot(){return d(this,c,"f")}setPot(e){n(this,c,e,"f");n(this,u,void 0,"f")}getStakeCreds(){return d(this,l,"f")}setStakeCreds(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.MoveInstantaneousRewardToStakeCreds=MoveInstantaneousRewardToStakeCreds;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousReward.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToStakeCreds.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToOtherPot.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/PoolMetadata.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.PoolMetadata=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const m=64;const _=2;class PoolMetadata{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(_);e.writeTextString(d(this,c,"f"));e.writeByteString(a.from(d(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(r!==_)throw new p.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const a=t.readTextString();const s=f.Hash32ByteBase16(p.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const i=new PoolMetadata(a,s);n(i,u,e,"f");return i}toCore(){return{hash:d(this,l,"f"),url:d(this,c,"f")}}static fromCore(e){return new PoolMetadata(e.url,e.hash)}url(){return d(this,c,"f")}setUrl(e){n(this,c,e,"f");n(this,u,void 0,"f")}poolMetadataHash(){return d(this,l,"f")}setPoolMetadataHash(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);if(e.length>m)throw new p.InvalidArgumentError("url",`url must be less or equal to 64 characters long, actual size ${e.length}`);n(this,c,e,"f");n(this,l,t,"f")}}t.PoolMetadata=PoolMetadata;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/PoolParams.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f,h,p,m,_,v,y;Object.defineProperty(t,"__esModule",{value:true});t.PoolParams=void 0;const w=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/Address.js");const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const P=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const C=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const S=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js");const T=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/PoolMetadata.js");const E=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/index.js");const k=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/UnitInterval.js");const A=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/RewardAccount.js");class PoolParams{toCbor(){const e=new b.CborWriter;if(d(this,y,"f"))return d(this,y,"f");e.writeStartArray(PoolParams.subgroupCount);return this.toFlattenedCbor(e)}toFlattenedCbor(e){e.writeByteString(a.from(d(this,c,"f"),"hex"));e.writeByteString(a.from(d(this,l,"f"),"hex"));e.writeInt(d(this,u,"f"));e.writeInt(d(this,f,"f"));e.writeEncodedValue(a.from(d(this,h,"f").toCbor(),"hex"));e.writeByteString(a.from(d(this,p,"f").toAddress().toBytes(),"hex"));e.writeEncodedValue(a.from(d(this,m,"f").toCbor(),"hex"));e.writeStartArray(d(this,_,"f").length);for(const t of d(this,_,"f"))e.writeEncodedValue(a.from(t.toCbor(),"hex"));if(d(this,v,"f"))e.writeEncodedValue(a.from(d(this,v,"f").toCbor(),"hex"));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new b.CborReader(e);const r=t.readStartArray();if(r!==PoolParams.subgroupCount)throw new C.InvalidArgumentError("cbor",`Expected an array of ${PoolParams.subgroupCount} elements, but got an array of ${r} elements`);const a=PoolParams.fromFlattenedCbor(t);n(a,y,e,"f");return a}static fromFlattenedCbor(e){const t=w.Ed25519KeyHashHex(C.HexBlob.fromBytes(e.readByteString()));const r=(0,S.VrfVkHex)(C.HexBlob.fromBytes(e.readByteString()));const a=e.readInt();const s=e.readInt();const i=k.UnitInterval.fromCbor(C.HexBlob.fromBytes(e.readEncodedValue()));const o=g.Address.fromBytes(C.HexBlob.fromBytes(e.readByteString())).asReward();const n=new Array;let d;const c=P.CborSet.fromCbor(C.HexBlob.fromBytes(e.readEncodedValue()),P.Hash.fromCbor);e.readStartArray();while(e.peekState()!==b.CborReaderState.EndArray)n.push(E.Relay.fromCbor(C.HexBlob.fromBytes(e.readEncodedValue())));e.readEndArray();if(e.peekState()!==b.CborReaderState.Null)d=T.PoolMetadata.fromCbor(C.HexBlob.fromBytes(e.readEncodedValue()));else e.readNull();return new PoolParams(t,r,a,s,i,o,c,n,d)}toCore(){const e=d(this,p,"f").toAddress();const t={cost:d(this,f,"f"),id:S.PoolId.fromKeyHash(d(this,c,"f")),margin:d(this,h,"f").toCore(),owners:d(this,m,"f").toCore().map(t=>(0,A.createRewardAccount)(t,e.getNetworkId())),pledge:d(this,u,"f"),relays:d(this,_,"f").map(e=>e.toCore()),rewardAccount:d(this,p,"f").toAddress().toBech32(),vrf:d(this,l,"f")};if(d(this,v,"f"))t.metadataJson=d(this,v,"f").toCore();return t}static fromCore(e){return new PoolParams(S.PoolId.toKeyHash(e.id),e.vrf,e.pledge,e.cost,k.UnitInterval.fromCore(e.margin),g.Address.fromBech32(e.rewardAccount).asReward(),P.CborSet.fromCore(e.owners.map(e=>w.Ed25519KeyHashHex(g.Address.fromBech32(e).asReward().getPaymentCredential().hash)),P.Hash.fromCore),e.relays.map(e=>E.Relay.fromCore(e)),e.metadataJson?T.PoolMetadata.fromCore(e.metadataJson):void 0)}operator(){return d(this,c,"f")}setOperator(e){n(this,c,e,"f");n(this,y,void 0,"f")}vrfKeyHash(){return d(this,l,"f")}setVrfKeyHash(e){n(this,l,e,"f");n(this,y,void 0,"f")}pledge(){return d(this,u,"f")}setPledge(e){n(this,u,e,"f");n(this,y,void 0,"f")}cost(){return d(this,f,"f")}setCost(e){n(this,f,e,"f");n(this,y,void 0,"f")}margin(){return d(this,h,"f")}setMargin(e){n(this,h,e,"f");n(this,y,void 0,"f")}rewardAccount(){return d(this,p,"f")}setRewardAccount(e){n(this,p,e,"f");n(this,y,void 0,"f")}poolOwners(){return d(this,m,"f")}setPoolOwners(e){n(this,m,e,"f");n(this,y,void 0,"f")}relays(){return d(this,_,"f")}setRelays(e){n(this,_,[...e],"f");n(this,y,void 0,"f")}poolMetadata(){return d(this,v,"f")}setPoolMetadata(e){n(this,v,e,"f");n(this,y,void 0,"f")}constructor(e,t,r,a,s,i,o,d,w){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f");n(this,u,r,"f");n(this,f,a,"f");n(this,h,s,"f");n(this,p,i,"f");n(this,m,o,"f");n(this,_,d,"f");n(this,v,w,"f")}}t.PoolParams=PoolParams;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap;PoolParams.subgroupCount=9},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/MultiHostName.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.MultiHostName=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=2;const l=2;const u=64;class MultiHostName{toCbor(){const e=new n.CborWriter;if(s(this,o,"f"))return s(this,o,"f");e.writeStartArray(c);e.writeInt(l);e.writeTextString(s(this,i,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);const r=t.readStartArray();if(r!==c)throw new d.InvalidArgumentError("cbor",`Expected an array of ${c} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==l)throw new d.InvalidArgumentError("cbor",`Expected MultiHostName id ${l}, but got ${s}`);const i=t.readTextString();const u=new MultiHostName(i);a(u,o,e,"f");return u}toCore(){return{__typename:"RelayByNameMultihost",dnsName:s(this,i,"f")}}static fromCore(e){return new MultiHostName(e.dnsName)}dnsName(){return s(this,i,"f")}setDnsName(e){if(e.length>u)throw new d.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);a(this,i,e,"f");a(this,o,void 0,"f")}constructor(e){i.set(this,void 0);o.set(this,void 0);if(e.length>u)throw new d.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);a(this,i,e,"f")}}t.MultiHostName=MultiHostName;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/Relay.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.Relay=t.RelayKind=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/MultiHostName.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/SingleHostAddr.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/SingleHostName.js");var m;(function(e){e[e["SingleHostAddress"]=0]="SingleHostAddress";e[e["SingleHostDnsName"]=1]="SingleHostDnsName";e[e["MultiHostDnsName"]=2]="MultiHostDnsName"})(m=t.RelayKind||(t.RelayKind={}));class Relay{toCbor(){if(a(this,c,"f"))return a(this,c,"f");let e;switch(a(this,d,"f")){case m.SingleHostAddress:e=a(this,i,"f").toCbor();break;case m.SingleHostDnsName:e=a(this,o,"f").toCbor();break;case m.MultiHostDnsName:e=a(this,n,"f").toCbor();break;default:throw new u.InvalidStateError(`Unexpected kind value: ${a(this,d,"f")}`)}return e}static fromCbor(e){let t;const r=new l.CborReader(e);r.readStartArray();const a=Number(r.readInt());switch(a){case m.SingleHostAddress:t=Relay.newSingleHostAddr(h.SingleHostAddr.fromCbor(e));break;case m.SingleHostDnsName:t=Relay.newSingleHostName(p.SingleHostName.fromCbor(e));break;case m.MultiHostDnsName:t=Relay.newMultiHostName(f.MultiHostName.fromCbor(e));break;default:throw new u.InvalidStateError(`Unexpected kind value: ${a}`)}s(t,c,e,"f");return t}toCore(){let e;switch(a(this,d,"f")){case m.SingleHostAddress:e=a(this,i,"f").toCore();break;case m.SingleHostDnsName:e=a(this,o,"f").toCore();break;case m.MultiHostDnsName:e=a(this,n,"f").toCore();break;default:throw new u.InvalidStateError(`Unexpected kind value: ${a(this,d,"f")}`)}return e}static fromCore(e){let t;switch(e.__typename){case"RelayByAddress":t=Relay.newSingleHostAddr(h.SingleHostAddr.fromCore(e));break;case"RelayByName":t=Relay.newSingleHostName(p.SingleHostName.fromCore(e));break;case"RelayByNameMultihost":t=Relay.newMultiHostName(f.MultiHostName.fromCore(e));break;default:throw new u.InvalidStateError("Unexpected kind value")}return t}static newSingleHostAddr(e){const t=new Relay;s(t,i,e,"f");s(t,d,m.SingleHostAddress,"f");return t}static newSingleHostName(e){const t=new Relay;s(t,o,e,"f");s(t,d,m.SingleHostDnsName,"f");return t}static newMultiHostName(e){const t=new Relay;s(t,n,e,"f");s(t,d,m.MultiHostDnsName,"f");return t}kind(){return a(this,d,"f")}asSingleHostAddr(){return a(this,i,"f")}asSingleHostName(){return a(this,o,"f")}asMultiHostName(){return a(this,n,"f")}constructor(){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0)}}t.Relay=Relay;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/SingleHostAddr.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.SingleHostAddr=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/ipUtils.js");const f=4;const h=0;class SingleHostAddr{toCbor(){const e=new c.CborWriter;if(s(this,d,"f"))return s(this,d,"f");e.writeStartArray(f);e.writeInt(h);s(this,i,"f")?e.writeInt(s(this,i,"f")):e.writeNull();s(this,o,"f")?e.writeByteString((0,u.ipV4StringToByteArray)(s(this,o,"f"))):e.writeNull();s(this,n,"f")?e.writeByteString((0,u.ipV6StringToByteArray)(s(this,n,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==f)throw new l.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==h)throw new l.InvalidArgumentError("cbor",`Expected SingleHostAddr id ${h}, but got ${s}`);let i;let o;let n;if(t.peekState()===c.CborReaderState.Null){t.readNull();i=void 0}else{i=t.readInt()}if(t.peekState()===c.CborReaderState.Null){t.readNull();o=void 0}else{o=(0,u.byteArrayToIpV4String)(t.readByteString())}if(t.peekState()===c.CborReaderState.Null){t.readNull();n=void 0}else{n=(0,u.byteArrayToIPv6String)(t.readByteString())}const p=new SingleHostAddr(i?Number(i):void 0,o,n);a(p,d,e,"f");return p}toCore(){return{__typename:"RelayByAddress",ipv4:s(this,o,"f"),ipv6:s(this,n,"f"),port:s(this,i,"f")}}static fromCore(e){return new SingleHostAddr(e.port,e.ipv4,e.ipv6)}port(){return s(this,i,"f")}setPort(e){a(this,i,e,"f");a(this,d,void 0,"f")}ipv4(){return s(this,o,"f")}setIpv4(e){a(this,o,e,"f");a(this,d,void 0,"f")}ipv6(){return s(this,n,"f")}setIpv6(e){a(this,n,e,"f");a(this,d,void 0,"f")}constructor(e,t,r){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f");a(this,n,r,"f")}}t.SingleHostAddr=SingleHostAddr;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/SingleHostName.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.SingleHostName=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=3;const u=1;const f=64;class SingleHostName{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(l);e.writeInt(u);s(this,i,"f")?e.writeInt(s(this,i,"f")):e.writeNull();e.writeTextString(s(this,o,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==l)throw new c.InvalidArgumentError("cbor",`Expected an array of ${l} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==u)throw new c.InvalidArgumentError("cbor",`Expected SingleHostName id ${u}, but got ${s}`);let i;if(t.peekState()===d.CborReaderState.Null){t.readNull();i=void 0}else{i=t.readInt()}const o=t.readTextString();const f=new SingleHostName(o,i?Number(i):void 0);a(f,n,e,"f");return f}toCore(){return{__typename:"RelayByName",hostname:s(this,o,"f"),port:s(this,i,"f")}}static fromCore(e){return new SingleHostName(e.hostname,e.port)}port(){return s(this,i,"f")}setPort(e){a(this,i,e,"f");a(this,n,void 0,"f")}dnsName(){return s(this,o,"f")}setDnsName(e){if(e.length>f)throw new c.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,t,"f");if(e.length>f)throw new c.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);a(this,o,e,"f")}}t.SingleHostName=SingleHostName;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/MultiHostName.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/SingleHostName.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/Relay.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/SingleHostAddr.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/ipUtils.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.byteArrayToIPv6String=t.ipV6StringToByteArray=t.byteArrayToIpV4String=t.ipV4StringToByteArray=void 0;const a=r("../../node_modules/ip-address/dist/ip-address.js");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const ipV4StringToByteArray=e=>{if(!a.Address4.isValid(e))throw new s.InvalidArgumentError("address",`Invalid IP V4 string: ${e}`);return new Uint8Array(e.split(".").map(e=>Number.parseInt(e)))};t.ipV4StringToByteArray=ipV4StringToByteArray;const byteArrayToIpV4String=e=>{if(4!==e.length)throw new s.InvalidArgumentError("byteArray",`Invalid IP V4 byte array, expected 4 bytes, but got ${e.length}`);return[...e].map(e=>e.toString()).join(".")};t.byteArrayToIpV4String=byteArrayToIpV4String;const ipV6StringToByteArray=e=>{if(!a.Address6.isValid(e))throw new s.InvalidArgumentError("address",`Invalid IP V6 string: ${e}`);const t=new a.Address6(e).toUnsignedByteArray();const r=Array.from({length:16}).fill(0,0,16).slice(0,16-t.length);return new Uint8Array([...r,...t])};t.ipV6StringToByteArray=ipV6StringToByteArray;const byteArrayToIPv6String=e=>{const t=a.Address6.fromUnsignedByteArray([...e]);return t.canonicalForm()};t.byteArrayToIPv6String=byteArrayToIPv6String},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/PoolMetadata.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/PoolParams.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/Relay/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolRegistration.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.PoolRegistration=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/index.js");const f=u.PoolParams.subgroupCount+1;class PoolRegistration{toCbor(){const e=new n.CborWriter;if(s(this,o,"f"))return s(this,o,"f");e.writeStartArray(f);e.writeInt(d.CertificateKind.PoolRegistration);return s(this,i,"f").toFlattenedCbor(e)}static fromCbor(e){const t=new n.CborReader(e);const r=t.readStartArray();if(r!==f)throw new l.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==d.CertificateKind.PoolRegistration)throw new l.InvalidArgumentError("cbor",`Expected certificate kind ${d.CertificateKind.PoolRegistration}, but got ${s}`);const i=u.PoolParams.fromFlattenedCbor(t);t.readEndArray();const c=new PoolRegistration(i);a(c,o,e,"f");return c}toCore(){return{__typename:c.CertificateType.PoolRegistration,poolParameters:s(this,i,"f").toCore()}}static fromCore(e){return new PoolRegistration(u.PoolParams.fromCore(e.poolParameters))}poolParameters(){return s(this,i,"f")}setPoolParameters(e){a(this,i,e,"f");a(this,o,void 0,"f")}constructor(e){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f")}}t.PoolRegistration=PoolRegistration;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolRetirement.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.PoolRetirement=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js");const w=3;class PoolRetirement{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(w);e.writeInt(p.CertificateKind.PoolRetirement);e.writeByteString(a.from(d(this,c,"f"),"hex"));e.writeInt(d(this,l,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(r!==w)throw new v.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.PoolRetirement)throw new v.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.PoolRetirement}, but got ${a}`);const s=f.Ed25519KeyHashHex(v.HexBlob.fromBytes(t.readByteString()));const i=t.readInt();t.readEndArray();const o=new PoolRetirement(s,(0,_.EpochNo)(Number(i)));n(o,u,e,"f");return o}toCore(){return{__typename:m.CertificateType.PoolRetirement,epoch:d(this,l,"f"),poolId:y.PoolId.fromKeyHash(d(this,c,"f"))}}static fromCore(e){return new PoolRetirement(y.PoolId.toKeyHash(e.poolId),e.epoch)}poolKeyHash(){return d(this,c,"f")}setPoolKeyHash(e){n(this,c,e,"f");n(this,u,void 0,"f")}epoch(){return d(this,l,"f")}setEpoch(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.PoolRetirement=PoolRetirement;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/RegisterDelegateRepresentative.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.RegisterDelegateRepresentative=void 0;const h=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const y=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const g=2;class RegisterDelegateRepresentative{toCbor(){const e=new m.CborWriter;if(d(this,f,"f"))return d(this,f,"f");e.writeStartArray(4);e.writeInt(_.CertificateKind.DrepRegistration);e.writeStartArray(g);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeInt(d(this,l,"f"));if(d(this,u,"f"))e.writeEncodedValue((0,w.hexToBytes)(d(this,u,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new m.CborReader(e);const r=t.readStartArray();if(4!==r)throw new y.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==_.CertificateKind.DrepRegistration)throw new y.InvalidArgumentError("cbor",`Expected certificate kind ${_.CertificateKind.DrepRegistration}, but got ${a}`);const s=t.readStartArray();if(s!==g)throw new y.InvalidArgumentError("cbor",`Expected an array of ${g} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=h.Hash28ByteBase16(y.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=t.readInt();let c;if(t.peekState()===m.CborReaderState.Null)t.readNull();else c=p.Anchor.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const l=new RegisterDelegateRepresentative({hash:o,type:i},d,c);n(l,f,e,"f");return l}toCore(){return{__typename:v.CertificateType.RegisterDelegateRepresentative,anchor:d(this,u,"f")?d(this,u,"f").toCore():null,dRepCredential:d(this,c,"f"),deposit:d(this,l,"f")}}static fromCore(e){return new RegisterDelegateRepresentative(e.dRepCredential,e.deposit,e.anchor?p.Anchor.fromCore(e.anchor):void 0)}credential(){return d(this,c,"f")}deposit(){return d(this,l,"f")}anchor(){return d(this,u,"f")}constructor(e,t,r){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f");n(this,u,r,"f")}}t.RegisterDelegateRepresentative=RegisterDelegateRepresentative;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Registration.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.Registration=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=2;class Registration{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(p.CertificateKind.Registration);e.writeStartArray(v);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeInt(d(this,l,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(3!==r)throw new _.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.Registration)throw new _.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.Registration}, but got ${a}`);const s=t.readStartArray();if(s!==v)throw new _.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=t.readInt();t.readEndArray();const c=new Registration({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:m.CertificateType.Registration,deposit:d(this,l,"f"),stakeCredential:d(this,c,"f")}}static fromCore(e){return new Registration(e.stakeCredential,e.deposit)}stakeCredential(){return d(this,c,"f")}setStakeCredential(e){n(this,c,e,"f");n(this,u,void 0,"f")}deposit(){return d(this,l,"f")}setDeposit(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.Registration=Registration;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/ResignCommitteeCold.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.ResignCommitteeCold=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const w=2;class ResignCommitteeCold{toCbor(){const e=new p.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(m.CertificateKind.ResignCommitteeCold);e.writeStartArray(w);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));if(d(this,l,"f"))e.writeEncodedValue((0,y.hexToBytes)(d(this,l,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(3!==r)throw new v.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==m.CertificateKind.ResignCommitteeCold)throw new v.InvalidArgumentError("cbor",`Expected certificate kind ${m.CertificateKind.ResignCommitteeCold}, but got ${a}`);const s=t.readStartArray();if(s!==w)throw new v.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(v.HexBlob.fromBytes(t.readByteString()));t.readEndArray();let d;if(t.peekState()===p.CborReaderState.Null)t.readNull();else d=h.Anchor.fromCbor(v.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const c=new ResignCommitteeCold({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:_.CertificateType.ResignCommitteeCold,anchor:d(this,l,"f")?d(this,l,"f").toCore():null,coldCredential:d(this,c,"f")}}static fromCore(e){return new ResignCommitteeCold(e.coldCredential,e.anchor?h.Anchor.fromCore(e.anchor):void 0)}coldCredential(){return d(this,c,"f")}anchor(){return d(this,l,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.ResignCommitteeCold=ResignCommitteeCold;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.StakeDelegation=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js");const y=3;const w=2;class StakeDelegation{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(y);e.writeInt(p.CertificateKind.StakeDelegation);e.writeStartArray(w);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeByteString(a.from(d(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(r!==y)throw new _.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.StakeDelegation)throw new _.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.StakeDelegation}, but got ${a}`);const s=t.readStartArray();if(s!==w)throw new _.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=f.Ed25519KeyHashHex(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const c=new StakeDelegation({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:m.CertificateType.StakeDelegation,poolId:v.PoolId.fromKeyHash(d(this,l,"f")),stakeCredential:d(this,c,"f")}}static fromCore(e){return new StakeDelegation(e.stakeCredential,v.PoolId.toKeyHash(e.poolId))}stakeCredential(){return d(this,c,"f")}setStakeCredential(e){n(this,c,e,"f");n(this,u,void 0,"f")}poolKeyHash(){return d(this,l,"f")}setPoolKeyHash(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.StakeDelegation=StakeDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeDeregistration.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.StakeDeregistration=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const m=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const _=2;class StakeDeregistration{toCbor(){const e=new f.CborWriter;if(d(this,l,"f"))return d(this,l,"f");e.writeStartArray(_);e.writeInt(h.CertificateKind.StakeDeregistration);e.writeStartArray(_);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readStartArray();if(r!==_)throw new m.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==h.CertificateKind.StakeDeregistration)throw new m.InvalidArgumentError("cbor",`Expected certificate kind ${h.CertificateKind.StakeDeregistration}, but got ${a}`);const s=t.readStartArray();if(s!==_)throw new m.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=u.Hash28ByteBase16(m.HexBlob.fromBytes(t.readByteString()));t.readEndArray();t.readEndArray();const d=new StakeDeregistration({hash:o,type:i});n(d,l,e,"f");return d}toCore(){return{__typename:p.CertificateType.StakeDeregistration,stakeCredential:d(this,c,"f")}}static fromCore(e){return new StakeDeregistration(e.stakeCredential)}stakeCredential(){return d(this,c,"f")}setStakeCredential(e){n(this,c,e,"f");n(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);n(this,c,e,"f")}}t.StakeDeregistration=StakeDeregistration;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeRegistration.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.StakeRegistration=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const m=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const _=2;class StakeRegistration{toCbor(){const e=new f.CborWriter;if(d(this,l,"f"))return d(this,l,"f");e.writeStartArray(_);e.writeInt(h.CertificateKind.StakeRegistration);e.writeStartArray(_);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readStartArray();if(r!==_)throw new m.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==h.CertificateKind.StakeRegistration)throw new m.InvalidArgumentError("cbor",`Expected certificate kind ${h.CertificateKind.StakeRegistration}, but got ${a}`);const s=t.readStartArray();if(s!==_)throw new m.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=u.Hash28ByteBase16(m.HexBlob.fromBytes(t.readByteString()));t.readEndArray();t.readEndArray();const d=new StakeRegistration({hash:o,type:i});n(d,l,e,"f");return d}toCore(){return{__typename:p.CertificateType.StakeRegistration,stakeCredential:d(this,c,"f")}}static fromCore(e){return new StakeRegistration(e.stakeCredential)}stakeCredential(){return d(this,c,"f")}setStakeCredential(e){n(this,c,e,"f");n(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);n(this,c,e,"f")}}t.StakeRegistration=StakeRegistration;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeRegistrationDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.StakeRegistrationDelegation=void 0;const h=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js");const w=2;class StakeRegistrationDelegation{toCbor(){const e=new p.CborWriter;if(d(this,f,"f"))return d(this,f,"f");e.writeStartArray(4);e.writeInt(m.CertificateKind.StakeRegistrationDelegation);e.writeStartArray(w);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeByteString(a.from(d(this,l,"f"),"hex"));e.writeInt(d(this,u,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(4!==r)throw new v.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==m.CertificateKind.StakeRegistrationDelegation)throw new v.InvalidArgumentError("cbor",`Expected certificate kind ${m.CertificateKind.StakeRegistrationDelegation}, but got ${a}`);const s=t.readStartArray();if(s!==w)throw new v.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=h.Hash28ByteBase16(v.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=h.Ed25519KeyHashHex(v.HexBlob.fromBytes(t.readByteString()));const c=t.readInt();t.readEndArray();const l=new StakeRegistrationDelegation({hash:o,type:i},c,d);n(l,f,e,"f");return l}toCore(){return{__typename:_.CertificateType.StakeRegistrationDelegation,deposit:d(this,u,"f"),poolId:y.PoolId.fromKeyHash(d(this,l,"f")),stakeCredential:d(this,c,"f")}}static fromCore(e){return new StakeRegistrationDelegation(e.stakeCredential,e.deposit,y.PoolId.toKeyHash(e.poolId))}stakeCredential(){return d(this,c,"f")}deposit(){return d(this,u,"f")}poolKeyHash(){return d(this,l,"f")}constructor(e,t,r){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);n(this,c,e,"f");n(this,u,t,"f");n(this,l,r,"f")}}t.StakeRegistrationDelegation=StakeRegistrationDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeVoteDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.StakeVoteDelegation=void 0;const h=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/index.js");const y=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js");const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const b=2;class StakeVoteDelegation{toCbor(){const e=new p.CborWriter;if(d(this,f,"f"))return d(this,f,"f");e.writeStartArray(4);e.writeInt(m.CertificateKind.StakeVoteDelegation);e.writeStartArray(b);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeByteString(a.from(d(this,l,"f"),"hex"));e.writeEncodedValue((0,g.hexToBytes)(d(this,u,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(4!==r)throw new y.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==m.CertificateKind.StakeVoteDelegation)throw new y.InvalidArgumentError("cbor",`Expected certificate kind ${m.CertificateKind.StakeVoteDelegation}, but got ${a}`);const s=t.readStartArray();if(s!==b)throw new y.InvalidArgumentError("cbor",`Expected an array of ${b} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=h.Hash28ByteBase16(y.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=h.Ed25519KeyHashHex(y.HexBlob.fromBytes(t.readByteString()));const c=v.DRep.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const l=new StakeVoteDelegation({hash:o,type:i},c,d);n(l,f,e,"f");return l}toCore(){return{__typename:_.CertificateType.StakeVoteDelegation,dRep:d(this,u,"f").toCore(),poolId:w.PoolId.fromKeyHash(d(this,l,"f")),stakeCredential:d(this,c,"f")}}static fromCore(e){return new StakeVoteDelegation(e.stakeCredential,v.DRep.fromCore(e.dRep),w.PoolId.toKeyHash(e.poolId))}stakeCredential(){return d(this,c,"f")}drep(){return d(this,u,"f")}poolKeyHash(){return d(this,l,"f")}constructor(e,t,r){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);n(this,c,e,"f");n(this,u,t,"f");n(this,l,r,"f")}}t.StakeVoteDelegation=StakeVoteDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeVoteRegistrationDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f,h;Object.defineProperty(t,"__esModule",{value:true});t.StakeVoteRegistrationDelegation=void 0;const p=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/index.js");const w=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/StakePool/index.js");const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const P=2;class StakeVoteRegistrationDelegation{toCbor(){const e=new m.CborWriter;if(d(this,h,"f"))return d(this,h,"f");e.writeStartArray(5);e.writeInt(_.CertificateKind.StakeVoteRegistrationDelegation);e.writeStartArray(P);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeByteString(a.from(d(this,u,"f"),"hex"));e.writeEncodedValue((0,b.hexToBytes)(d(this,l,"f").toCbor()));e.writeInt(d(this,f,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new m.CborReader(e);const r=t.readStartArray();if(5!==r)throw new w.InvalidArgumentError("cbor",`Expected an array of 5 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==_.CertificateKind.StakeVoteRegistrationDelegation)throw new w.InvalidArgumentError("cbor",`Expected certificate kind ${_.CertificateKind.StakeVoteRegistrationDelegation}, but got ${a}`);const s=t.readStartArray();if(s!==P)throw new w.InvalidArgumentError("cbor",`Expected an array of ${P} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=p.Hash28ByteBase16(w.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=p.Ed25519KeyHashHex(w.HexBlob.fromBytes(t.readByteString()));const c=y.DRep.fromCbor(w.HexBlob.fromBytes(t.readEncodedValue()));const l=t.readInt();t.readEndArray();const u=new StakeVoteRegistrationDelegation({hash:o,type:i},l,c,d);n(u,h,e,"f");return u}toCore(){return{__typename:v.CertificateType.StakeVoteRegistrationDelegation,dRep:d(this,l,"f").toCore(),deposit:d(this,f,"f"),poolId:g.PoolId.fromKeyHash(d(this,u,"f")),stakeCredential:d(this,c,"f")}}static fromCore(e){return new StakeVoteRegistrationDelegation(e.stakeCredential,e.deposit,y.DRep.fromCore(e.dRep),g.PoolId.toKeyHash(e.poolId))}stakeCredential(){return d(this,c,"f")}deposit(){return d(this,f,"f")}dRep(){return d(this,l,"f")}poolKeyHash(){return d(this,u,"f")}constructor(e,t,r,a){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);n(this,c,e,"f");n(this,f,t,"f");n(this,l,r,"f");n(this,u,a,"f")}}t.StakeVoteRegistrationDelegation=StakeVoteRegistrationDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/UnregisterDelegateRepresentative.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.UnregisterDelegateRepresentative=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=2;class UnregisterDelegateRepresentative{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(p.CertificateKind.DrepUnregistration);e.writeStartArray(v);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeInt(d(this,l,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(3!==r)throw new _.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.DrepUnregistration)throw new _.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.DrepUnregistration}, but got ${a}`);const s=t.readStartArray();if(s!==v)throw new _.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=t.readInt();t.readEndArray();const c=new UnregisterDelegateRepresentative({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:m.CertificateType.UnregisterDelegateRepresentative,dRepCredential:d(this,c,"f"),deposit:d(this,l,"f")}}static fromCore(e){return new UnregisterDelegateRepresentative(e.dRepCredential,e.deposit)}credential(){return d(this,c,"f")}deposit(){return d(this,l,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.UnregisterDelegateRepresentative=UnregisterDelegateRepresentative;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Unregistration.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.Unregistration=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=2;class Unregistration{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(p.CertificateKind.Unregistration);e.writeStartArray(v);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeInt(d(this,l,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(3!==r)throw new _.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.Unregistration)throw new _.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.Unregistration}, but got ${a}`);const s=t.readStartArray();if(s!==v)throw new _.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(_.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=t.readInt();t.readEndArray();const c=new Unregistration({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:m.CertificateType.Unregistration,deposit:d(this,l,"f"),stakeCredential:d(this,c,"f")}}static fromCore(e){return new Unregistration(e.stakeCredential,e.deposit)}stakeCredential(){return d(this,c,"f")}setStakeCredential(e){n(this,c,e,"f");n(this,u,void 0,"f")}deposit(){return d(this,l,"f")}setDeposit(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.Unregistration=Unregistration;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/UpdateDelegateRepresentative.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.UpdateDelegateRepresentative=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const w=2;class UpdateDelegateRepresentative{toCbor(){const e=new p.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(m.CertificateKind.UpdateDrep);e.writeStartArray(w);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));if(d(this,l,"f"))e.writeEncodedValue((0,y.hexToBytes)(d(this,l,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(3!==r)throw new v.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==m.CertificateKind.UpdateDrep)throw new v.InvalidArgumentError("cbor",`Expected certificate kind ${m.CertificateKind.UpdateDrep}, but got ${a}`);const s=t.readStartArray();if(s!==w)throw new v.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(v.HexBlob.fromBytes(t.readByteString()));t.readEndArray();let d;if(t.peekState()===p.CborReaderState.Null)t.readNull();else d=h.Anchor.fromCbor(v.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const c=new UpdateDelegateRepresentative({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:_.CertificateType.UpdateDelegateRepresentative,anchor:d(this,l,"f")?d(this,l,"f").toCore():null,dRepCredential:d(this,c,"f")}}static fromCore(e){return new UpdateDelegateRepresentative(e.dRepCredential,e.anchor?h.Anchor.fromCore(e.anchor):void 0)}credential(){return d(this,c,"f")}anchor(){return d(this,l,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.UpdateDelegateRepresentative=UpdateDelegateRepresentative;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/VoteDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.VoteDelegation=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/index.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const w=2;class VoteDelegation{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(3);e.writeInt(p.CertificateKind.VoteDelegation);e.writeStartArray(w);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeEncodedValue((0,y.hexToBytes)(d(this,l,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(3!==r)throw new v.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.CertificateKind.VoteDelegation)throw new v.InvalidArgumentError("cbor",`Expected certificate kind ${p.CertificateKind.VoteDelegation}, but got ${a}`);const s=t.readStartArray();if(s!==w)throw new v.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=f.Hash28ByteBase16(v.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=_.DRep.fromCbor(v.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const c=new VoteDelegation({hash:o,type:i},d);n(c,u,e,"f");return c}toCore(){return{__typename:m.CertificateType.VoteDelegation,dRep:d(this,l,"f").toCore(),stakeCredential:d(this,c,"f")}}static fromCore(e){return new VoteDelegation(e.stakeCredential,_.DRep.fromCore(e.dRep))}stakeCredential(){return d(this,c,"f")}dRep(){return d(this,l,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);n(this,c,e,"f");n(this,l,t,"f")}}t.VoteDelegation=VoteDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/VoteRegistrationDelegation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.VoteRegistrationDelegation=void 0;const h=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/CertificateKind.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Certificate.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/index.js");const y=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const g=2;class VoteRegistrationDelegation{toCbor(){const e=new p.CborWriter;if(d(this,f,"f"))return d(this,f,"f");e.writeStartArray(4);e.writeInt(m.CertificateKind.VoteRegistrationDelegation);e.writeStartArray(g);e.writeInt(d(this,c,"f").type);e.writeByteString(a.from(d(this,c,"f").hash,"hex"));e.writeEncodedValue((0,w.hexToBytes)(d(this,l,"f").toCbor()));e.writeInt(d(this,u,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(4!==r)throw new y.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==m.CertificateKind.VoteRegistrationDelegation)throw new y.InvalidArgumentError("cbor",`Expected certificate kind ${m.CertificateKind.VoteRegistrationDelegation}, but got ${a}`);const s=t.readStartArray();if(s!==g)throw new y.InvalidArgumentError("cbor",`Expected an array of ${g} elements, but got an array of ${r} elements`);const i=Number(t.readInt());const o=h.Hash28ByteBase16(y.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const d=v.DRep.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const c=t.readInt();t.readEndArray();const l=new VoteRegistrationDelegation({hash:o,type:i},c,d);n(l,f,e,"f");return l}toCore(){return{__typename:_.CertificateType.VoteRegistrationDelegation,dRep:d(this,l,"f").toCore(),deposit:d(this,u,"f"),stakeCredential:d(this,c,"f")}}static fromCore(e){return new VoteRegistrationDelegation(e.stakeCredential,e.deposit,v.DRep.fromCore(e.dRep))}stakeCredential(){return d(this,c,"f")}deposit(){return d(this,u,"f")}dRep(){return d(this,l,"f")}constructor(e,t,r){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);n(this,c,e,"f");n(this,u,t,"f");n(this,l,r,"f")}}t.VoteRegistrationDelegation=VoteRegistrationDelegation;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Certificate.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/GenesisKeyDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolRegistration.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolRetirement.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeDeregistration.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeRegistration.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/PoolParams/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/MoveInstantaneousReward/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/DRep/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Registration.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/Unregistration.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/VoteDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeVoteDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeRegistrationDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/VoteRegistrationDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/StakeVoteRegistrationDelegation.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/AuthCommitteeHot.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/ResignCommitteeCold.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/RegisterDelegateRepresentative.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/UnregisterDelegateRepresentative.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/UpdateDelegateRepresentative.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Anchor.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.Anchor=void 0;const f=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const p=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const m=2;const _=128;class Anchor{toCbor(){const e=new h.CborWriter;if(d(this,u,"f"))return d(this,u,"f");e.writeStartArray(m);e.writeTextString(d(this,c,"f"));e.writeByteString(a.from(d(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new h.CborReader(e);const r=t.readStartArray();if(r!==m)throw new p.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const a=t.readTextString();const s=f.Hash32ByteBase16(p.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const i=new Anchor(a,s);n(i,u,e,"f");return i}toCore(){return{dataHash:d(this,l,"f"),url:d(this,c,"f")}}static fromCore(e){return new Anchor(e.url,e.dataHash)}url(){return d(this,c,"f")}setUrl(e){n(this,c,e,"f");n(this,u,void 0,"f")}dataHash(){return d(this,l,"f")}setDataHash(e){n(this,l,e,"f");n(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);if(e.length>_)throw new p.InvalidArgumentError("url",`url must be less or equal to 64 characters long, actual size ${e.length}`);n(this,c,e,"f");n(this,l,t,"f")}}t.Anchor=Anchor;c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/CborSet.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n;Object.defineProperty(t,"__esModule",{value:true});t.CborSet=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/conwayEra.js");class CborSet{static fromCbor(e,t){const r=new d.CborReader(e);const a=new CborSet([]);if(r.peekState()===d.CborReaderState.Tag&&r.peekTag()===d.CborTag.Set)r.readTag();r.readStartArray();while(r.peekState()!==d.CborReaderState.EndArray){i(a,o,"f").push(t(c.HexBlob.fromBytes(r.readEncodedValue())))}s(a,n,e,"f");return a}toCbor(){if(i(this,n,"f"))return i(this,n,"f");const e=new d.CborWriter;if(l.inConwayEra)e.writeTag(d.CborTag.Set);e.writeStartArray(this.size());for(const t of this.values())e.writeEncodedValue(a.from(t.toCbor(),"hex"));return e.encodeAsHex()}toCore(){return i(this,o,"f").map(e=>e.toCore())}static fromCore(e,t){return new CborSet(e.map(e=>t(e)))}values(){return i(this,o,"f")}setValues(e){s(this,o,[...e],"f");s(this,n,void 0,"f")}size(){return i(this,o,"f").length}constructor(e){o.set(this,void 0);n.set(this,void 0);s(this,o,[...e],"f")}}t.CborSet=CborSet;o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Credential.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i;Object.defineProperty(t,"__esModule",{value:true});t.Credential=void 0;const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const n=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const c=2;class Credential{toCbor(){const e=new o.CborWriter;e.writeStartArray(c);e.writeInt(s(this,i,"f").type);e.writeByteString((0,d.hexToBytes)(s(this,i,"f").hash));return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);if(t.readStartArray()!==c)throw new n.InvalidArgumentError("cbor",`Expected an array of ${c} elements, but got an array of ${length} elements`);const r=Number(t.readUInt());const a=n.HexBlob.fromBytes(t.readByteString());t.readEndArray();return new Credential({hash:a,type:r})}toCore(){return{...s(this,i,"f")}}static fromCore(e){return new Credential({...e})}value(){return{...s(this,i,"f")}}constructor(e){i.set(this,void 0);a(this,i,e,"f")}}t.Credential=Credential;i=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Datum.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.Datum=t.DatumKind=t.isDatumHash=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/index.js");const h=2;const isDatumHash=e=>null!==e&&"string"==typeof e;t.isDatumHash=isDatumHash;var p;(function(e){e[e["DataHash"]=0]="DataHash";e[e["InlineData"]=1]="InlineData"})(p=t.DatumKind||(t.DatumKind={}));class Datum{toCbor(){const e=new l.CborWriter;if(i(this,c,"f"))return i(this,c,"f");e.writeStartArray(h);e.writeInt(i(this,o,"f"));if(i(this,o,"f")===p.DataHash)e.writeByteString(a.from(i(this,n,"f"),"hex").valueOf());else e.writeEncodedValue(a.from(i(this,d,"f").toCbor(),"hex").valueOf());return e.encodeAsHex()}static fromCbor(e){const t=new l.CborReader(e);const r=t.readStartArray();if(r!==h)throw new u.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());let i;let o;switch(a){case p.DataHash:i=u.HexBlob.fromBytes(t.readByteString());break;case p.InlineData:o=f.PlutusData.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));break;default:throw new u.InvalidArgumentError("cbor",`Unexpected datum kind ${a}`)}t.readEndArray();const n=new Datum(i,o);s(n,c,e,"f");return n}toCore(){let e;switch(i(this,o,"f")){case p.DataHash:e=i(this,n,"f");break;case p.InlineData:e=i(this,d,"f").toCore();break;default:throw new u.InvalidStateError(`Unexpected datum kind ${i(this,o,"f")}`)}return e}static fromCore(e){if((0,t.isDatumHash)(e))return new Datum(e);return new Datum(void 0,f.PlutusData.fromCore(e))}kind(){return i(this,o,"f")}asDataHash(){return i(this,n,"f")}asInlineData(){return i(this,d,"f")}static newDataHash(e){return new Datum(e)}static newInlineData(e){return new Datum(void 0,e)}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);if(e&&t)throw new u.InvalidStateError("Datum can only be DataHash or PlutusData but not both");if(!e&&!t)throw new u.InvalidStateError("Datum must be either DataHash or PlutusData");if(e)s(this,o,p.DataHash,"f");if(t)s(this,o,p.InlineData,"f");s(this,n,e,"f");s(this,d,t,"f")}}t.Datum=Datum;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/ExUnits.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.ExUnits=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=2;class ExUnits{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(l);e.writeInt(s(this,i,"f"));e.writeInt(s(this,o,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==l)throw new c.InvalidArgumentError("cbor",`Expected an array of ${l} elements, but got an array of ${r} elements`);const s=t.readUInt();const i=t.readUInt();t.readEndArray();const o=new ExUnits(s,i);a(o,n,e,"f");return o}toCore(){return{memory:Number(s(this,i,"f")),steps:Number(s(this,o,"f"))}}static fromCore(e){return new ExUnits(BigInt(e.memory),BigInt(e.steps))}mem(){return s(this,i,"f")}setMem(e){a(this,i,e,"f");a(this,n,void 0,"f")}steps(){return s(this,o,"f")}setSteps(e){a(this,o,e,"f");a(this,n,void 0,"f")}add(e){const t=s(this,i,"f")+s(e,i,"f");const r=s(this,o,"f")+s(e,o,"f");return new ExUnits(t,r)}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.ExUnits=ExUnits;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.GovernanceActionId=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=2;class GovernanceActionId{toCbor(){if(i(this,d,"f"))return i(this,d,"f");const e=new c.CborWriter;e.writeStartArray(u);e.writeByteString(a.from(i(this,o,"f"),"hex"));e.writeInt(i(this,n,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==u)throw new l.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=t.readByteString();const i=t.readInt();const o=new GovernanceActionId(l.HexBlob.fromBytes(a),i);s(o,d,e,"f");return o}toCore(){return{actionIndex:Number(i(this,n,"f")),id:i(this,o,"f")}}static fromCore(e){return new GovernanceActionId(e.id,BigInt(e.actionIndex))}transactionId(){return i(this,o,"f")}setTransactionId(e){s(this,o,e,"f");s(this,d,void 0,"f")}index(){return i(this,n,"f")}setIndex(e){s(this,n,e,"f");s(this,d,void 0,"f")}equals(e){return i(this,n,"f")===i(e,n,"f")&&i(this,o,"f")===i(e,o,"f")}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f")}}t.GovernanceActionId=GovernanceActionId;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Hash.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o;Object.defineProperty(t,"__esModule",{value:true});t.Hash=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");class Hash{toCbor(){const e=new n.CborWriter;e.writeByteString(a.from(i(this,o,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);return new Hash(d.HexBlob.fromBytes(t.readByteString()))}toCore(){return i(this,o,"f")}static fromCore(e){return new Hash(e)}value(){return i(this,o,"f")}constructor(e){o.set(this,void 0);s(this,o,e,"f")}}t.Hash=Hash;o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/ProtocolVersion.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.ProtocolVersion=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=2;class ProtocolVersion{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(l);e.writeInt(s(this,i,"f"));e.writeInt(s(this,o,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==l)throw new c.InvalidArgumentError("cbor",`Expected an array of ${l} elements, but got an array of ${r} elements`);const s=Number(t.readInt());const i=Number(t.readInt());t.readEndArray();const o=new ProtocolVersion(s,i);a(o,n,e,"f");return o}toCore(){return{major:Number(s(this,i,"f")),minor:Number(s(this,o,"f"))}}static fromCore(e){return new ProtocolVersion(e.major,e.minor)}major(){return s(this,i,"f")}setMajor(e){a(this,i,e,"f");a(this,n,void 0,"f")}minor(){return s(this,o,"f")}setMinor(e){a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.ProtocolVersion=ProtocolVersion;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/UnitInterval.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.UnitInterval=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=i(r("../../node_modules/fraction.js/fraction.js"));const f=2;class UnitInterval{static fromFloat(e){if(void 0===e)return;const t=new u.default(e);return new UnitInterval(BigInt(t.n),BigInt(t.d))}toCbor(){const e=new c.CborWriter;if(s(this,d,"f"))return s(this,d,"f");e.writeTag(c.CborTag.RationalNumber);e.writeStartArray(f);e.writeInt(s(this,o,"f"));e.writeInt(s(this,n,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);if(t.readTag()!==c.CborTag.RationalNumber)throw new l.InvalidArgumentError("cbor",`Expected tag ${c.CborTag.RationalNumber}, but got ${t.peekTag()}`);const r=t.readStartArray();if(r!==f)throw new l.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const s=t.readInt();const i=t.readInt();t.readEndArray();const o=new UnitInterval(s,i);a(o,d,e,"f");return o}toCore(){return{denominator:Number(s(this,n,"f")),numerator:Number(s(this,o,"f"))}}static fromCore(e){return new UnitInterval(BigInt(e.numerator),BigInt(e.denominator))}numerator(){return s(this,o,"f")}setNumerator(e){a(this,o,e,"f");a(this,d,void 0,"f")}denominator(){return s(this,n,"f")}setDenominator(e){a(this,n,e,"f");a(this,d,void 0,"f")}toFloat(){return Number(s(this,o,"f"))/Number(s(this,n,"f"))}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);a(this,o,e,"f");a(this,n,t,"f")}}t.UnitInterval=UnitInterval;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/UnitInterval.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/ExUnits.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/ProtocolVersion.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Datum.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Anchor.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/CborSet.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Hash.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Credential.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/ConstrPlutusData.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.ConstrPlutusData=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusList.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const u=102n;const f=7n;class ConstrPlutusData{toCbor(){const e=new n.CborWriter;const t=ConstrPlutusData.alternativeToCompactCborTag(s(this,i,"f"));e.writeTag(Number(t));if(t!==u)e.writeEncodedValue((0,l.hexToBytes)(s(this,o,"f").toCbor()));else{e.writeStartArray(2);e.writeInt(s(this,i,"f"));e.writeEncodedValue((0,l.hexToBytes)(s(this,o,"f").toCbor()))}return d.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new n.CborReader(e);const r=t.readTag();if(r===Number(u)){t.readStartArray();const a=t.readInt();const s=t.readEncodedValue();const i=c.PlutusList.fromCbor(d.HexBlob.fromBytes(s));t.readEndArray();return new ConstrPlutusData(a,i)}const o=ConstrPlutusData.compactCborTagToAlternative(BigInt(r));const l=t.readEncodedValue();const f=c.PlutusList.fromCbor(d.HexBlob.fromBytes(l));return new ConstrPlutusData(o,f)}getAlternative(){return s(this,i,"f")}getData(){return s(this,o,"f")}equals(e){if(s(this,i,"f")!==s(e,i,"f"))return false;return s(this,o,"f").equals(s(e,o,"f"))}static compactCborTagToAlternative(e){if(e>=121n&&e<=127)return e-121n;if(e>=1280n&&e<=1400)return e-1280n+f;return u}static alternativeToCompactCborTag(e){if(e<=6n)return 121n+e;if(e>=7n&&e<=127n)return 1280n-f+e;return u}constructor(e,t){i.set(this,0n);o.set(this,new c.PlutusList);a(this,i,e,"f");a(this,o,t,"f")}}t.ConstrPlutusData=ConstrPlutusData;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusData.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var c,l,u,f,h,p,m;Object.defineProperty(t,"__esModule",{value:true});t.PlutusData=void 0;const _=o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/plutusDataUtils.js"));const v=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/ConstrPlutusData.js");const g=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const P=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusDataKind.js");const C=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusList.js");const S=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusMap.js");const T=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const E=0xffffffffffffffffn;const k=new Uint8Array([95]);const A=64;const I=32;const j=BigInt(-1);class PlutusData{toCbor(){if(n(this,m,"f"))return n(this,m,"f");let e;switch(n(this,p,"f")){case P.PlutusDataKind.ConstrPlutusData:e=n(this,h,"f").toCbor();break;case P.PlutusDataKind.Map:e=n(this,c,"f").toCbor();break;case P.PlutusDataKind.List:e=n(this,l,"f").toCbor();break;case P.PlutusDataKind.Bytes:{const t=new y.CborWriter;if(n(this,f,"f").length<=A)t.writeByteString(n(this,f,"f"));else{t.writeEncodedValue(k);for(let r=0;r<n(this,f,"f").length;r+=A){const a=n(this,f,"f").slice(r,r+A);t.writeByteString(a)}t.writeEndArray()}e=(0,T.bytesToHex)(t.encode());break}case P.PlutusDataKind.Integer:{const s=new y.CborWriter;if(n(this,u,"f")>=0&&n(this,u,"f")<=E||n(this,u,"f")<0&&n(this,u,"f")>=-1n-E)s.writeInt(n(this,u,"f"));else{const i=PlutusData.bigintToBuffer(n(this,u,"f"));s.writeTag(n(this,u,"f")<0?y.CborTag.NegativeBigNum:y.CborTag.UnsignedBigNum);if(i.length<=A)s.writeByteString(i);else{s.writeEncodedValue(k);for(let o=0;o<i.length;o+=A){const d=i.slice(o,o+A);s.writeByteString(d)}s.writeEndArray()}}e=(0,T.bytesToHex)(s.encode());break}default:throw new Error("Unsupported PlutusData kind")}return e}static fromCbor(e){const t=new PlutusData;const r=new y.CborReader(e);const a=r.peekState();switch(a){case y.CborReaderState.Tag:{const s=r.peekTag();switch(s){case y.CborTag.UnsignedBigNum:{r.readTag();const i=r.readByteString();d(t,u,PlutusData.bufferToBigint(i),"f");d(t,p,P.PlutusDataKind.Integer,"f");break}case y.CborTag.NegativeBigNum:{r.readTag();const o=r.readByteString();d(t,u,PlutusData.bufferToBigint(o)*-1n,"f");d(t,p,P.PlutusDataKind.Integer,"f");break}default:d(t,h,w.ConstrPlutusData.fromCbor(g.HexBlob.fromBytes(r.readEncodedValue())),"f");d(t,p,P.PlutusDataKind.ConstrPlutusData,"f")}break}case y.CborReaderState.NegativeInteger:case y.CborReaderState.UnsignedInteger:d(t,u,r.readInt(),"f");d(t,p,P.PlutusDataKind.Integer,"f");break;case y.CborReaderState.StartIndefiniteLengthByteString:case y.CborReaderState.ByteString:d(t,f,r.readByteString(),"f");d(t,p,P.PlutusDataKind.Bytes,"f");break;case y.CborReaderState.StartArray:d(t,l,C.PlutusList.fromCbor(g.HexBlob.fromBytes(r.readEncodedValue())),"f");d(t,p,P.PlutusDataKind.List,"f");break;case y.CborReaderState.StartMap:d(t,c,S.PlutusMap.fromCbor(g.HexBlob.fromBytes(r.readEncodedValue())),"f");d(t,p,P.PlutusDataKind.Map,"f");break;default:throw new Error("Invalid Plutus Data")}d(t,m,e,"f");return t}toCore(){switch(n(this,p,"f")){case P.PlutusDataKind.Bytes:return n(this,f,"f");case P.PlutusDataKind.ConstrPlutusData:{const e=n(this,h,"f");return{cbor:this.toCbor(),constructor:e.getAlternative(),fields:PlutusData.mapToCorePlutusList(e.getData())}}case P.PlutusDataKind.Integer:return n(this,u,"f");case P.PlutusDataKind.List:return PlutusData.mapToCorePlutusList(n(this,l,"f"));case P.PlutusDataKind.Map:{const t=n(this,c,"f");const r=new Map;const a=t.getKeys();for(let s=0;s<a.getLength();s++){const i=a.get(s);r.set(i.toCore(),t.get(i).toCore())}return{cbor:this.toCbor(),data:r}}default:throw new b.NotImplementedError(`PlutusData mapping for kind ${n(this,p,"f")}`)}}hash(){return v.blake2b.hash(this.toCbor(),I)}static fromCore(e){if(_.isPlutusBoundedBytes(e)){return PlutusData.newBytes(e)}if(_.isPlutusBigInt(e)){return PlutusData.newInteger(e)}if(e.cbor)return PlutusData.fromCbor(e.cbor);if(_.isPlutusList(e)){return PlutusData.newList(PlutusData.mapToPlutusList(e.items))}if(_.isPlutusMap(e)){const t=new S.PlutusMap;for(const[r,a]of e.data)t.insert(PlutusData.fromCore(r),PlutusData.fromCore(a));return PlutusData.newMap(t)}if(_.isConstrPlutusData(e)){const s=e.constructor;const i=new w.ConstrPlutusData(s,PlutusData.mapToPlutusList(e.fields.items));return PlutusData.newConstrPlutusData(i)}throw new b.NotImplementedError("PlutusData type not implemented")}static newConstrPlutusData(e){const t=new PlutusData;d(t,h,e,"f");d(t,p,P.PlutusDataKind.ConstrPlutusData,"f");return t}static newMap(e){const t=new PlutusData;d(t,c,e,"f");d(t,p,P.PlutusDataKind.Map,"f");return t}static newList(e){const t=new PlutusData;d(t,l,e,"f");d(t,p,P.PlutusDataKind.List,"f");return t}static newInteger(e){const t=new PlutusData;d(t,u,e,"f");d(t,p,P.PlutusDataKind.Integer,"f");return t}static newBytes(e){const t=new PlutusData;d(t,f,e,"f");d(t,p,P.PlutusDataKind.Bytes,"f");return t}getKind(){return n(this,p,"f")}asConstrPlutusData(){return n(this,h,"f")}asMap(){return n(this,c,"f")}asList(){return n(this,l,"f")}asInteger(){return n(this,u,"f")}asBoundedBytes(){return n(this,f,"f")}equals(e){switch(n(this,p,"f")){case P.PlutusDataKind.Bytes:if(n(this,f,"f")&&n(e,f,"f")){return n(this,f,"f").length===n(e,f,"f").length&&n(this,f,"f").every((t,r)=>t===n(e,f,"f")[r])}return false;case P.PlutusDataKind.Integer:return n(this,u,"f")===n(e,u,"f");case P.PlutusDataKind.ConstrPlutusData:if(n(this,h,"f")&&n(e,h,"f")){return n(this,h,"f").equals(n(e,h,"f"))}return false;case P.PlutusDataKind.List:if(n(this,l,"f")&&n(e,l,"f")){return n(this,l,"f").equals(n(e,l,"f"))}return false;case P.PlutusDataKind.Map:if(n(this,c,"f")&&n(e,c,"f")){return n(this,c,"f").equals(n(e,c,"f"))}return false;default:return false}}static mapToPlutusList(e){const t=new C.PlutusList;for(const r of e)t.add(PlutusData.fromCore(r));return t}static mapToCorePlutusList(e){const t=[];for(let r=0;r<e.getLength();r++){const a=e.get(r);t.push(a.toCore())}return{cbor:e.toCbor(),items:t}}static bufferToBigint(e){let t=0n;for(const r of e.values()){const a=BigInt(r);t=(t<<8n)+a}return t}static bigintToBuffer(e){if(e<0)e=-e+j;let t=e.toString(16);if(t.length%2)t=`0${t}`;return a.from(t,"hex")}constructor(){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,P.PlutusDataKind.ConstrPlutusData);m.set(this,void 0)}}t.PlutusData=PlutusData;c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusDataKind.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PlutusDataKind=void 0;var r;(function(e){e[e["ConstrPlutusData"]=0]="ConstrPlutusData";e[e["Map"]=1]="Map";e[e["List"]=2]="List";e[e["Integer"]=3]="Integer";e[e["Bytes"]=4]="Bytes"})(r=t.PlutusDataKind||(t.PlutusDataKind={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusList.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s;Object.defineProperty(t,"__esModule",{value:true});t.PlutusList=void 0;const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const o=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusData.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");class PlutusList{toCbor(){const e=new i.CborWriter;const t=a(this,s,"f").length>0;if(t)e.writeStartArray();else e.writeStartArray(a(this,s,"f").length);for(const r of a(this,s,"f"))e.writeEncodedValue((0,d.hexToBytes)(r.toCbor()));if(t)e.writeEndArray();return o.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new PlutusList;const r=new i.CborReader(e);r.readStartArray();while(r.peekState()!==i.CborReaderState.EndArray){t.add(n.PlutusData.fromCbor((0,d.bytesToHex)(r.readEncodedValue())))}r.readEndArray();return t}getLength(){return a(this,s,"f").length}get(e){return a(this,s,"f")[e]}add(e){a(this,s,"f").push(e)}equals(e){if(a(this,s,"f").length!==a(e,s,"f").length)return false;for(let t=0;t<a(this,s,"f").length;++t)if(!a(this,s,"f")[t].equals(a(e,s,"f")[t]))return false;return true}constructor(){s.set(this,new Array)}}t.PlutusList=PlutusList;s=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusMap.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.PlutusMap=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusData.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusList.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");class PlutusMap{toCbor(){const e=new n.CborWriter;if(a(this,o,"f"))e.writeStartMap();else e.writeStartMap(a(this,i,"f").size);for(const[t,r]of a(this,i,"f").entries()){e.writeEncodedValue((0,u.hexToBytes)(t.toCbor()));e.writeEncodedValue((0,u.hexToBytes)(r.toCbor()))}if(a(this,o,"f"))e.writeEndMap();return d.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new PlutusMap;const r=new n.CborReader(e);const a=r.readStartMap();if(null===a)s(t,o,true,"f");while(r.peekState()!==n.CborReaderState.EndMap){const i=c.PlutusData.fromCbor((0,u.bytesToHex)(r.readEncodedValue()));const d=c.PlutusData.fromCbor((0,u.bytesToHex)(r.readEncodedValue()));t.insert(i,d)}r.readEndMap();return t}getLength(){return a(this,i,"f").size}insert(e,t){a(this,i,"f").set(e,t)}get(e){if(!a(this,i,"f"))return;const t=[...a(this,i,"f").entries()].find(t=>t[0].equals(e));if(!t)return;return t[1]}getKeys(){const e=new l.PlutusList;for(const t of a(this,i,"f").keys())e.add(t);return e}equals(e){if(a(this,o,"f")!==a(e,o,"f"))return false;if(a(this,i,"f").size!==a(e,i,"f").size)return false;const t=[...a(this,i,"f").entries()];const r=[...a(e,i,"f").entries()];for(let s=0;s<a(this,i,"f").size;++s){if(!t[s][0].equals(r[s][0]))return false;if(!t[s][1].equals(r[s][1]))return false}return true}constructor(){i.set(this,new Map);o.set(this,false)}}t.PlutusMap=PlutusMap;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/ConstrPlutusData.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusData.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusDataKind.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusList.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusMap.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/NativeScript.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d,c,l,u,f,h,p,m;Object.defineProperty(t,"__esModule",{value:true});t.NativeScript=void 0;const _=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const y=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptAll.js");const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptAny.js");const P=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptNOfK.js");const C=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptPubkey.js");const S=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/TimelockExpiry.js");const T=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/TimelockStart.js");const E=28;class NativeScript{toCbor(){if(o(this,m,"f"))return o(this,m,"f");let e;switch(o(this,p,"f")){case w.NativeScriptKind.RequireSignature:e=o(this,u,"f").toCbor();break;case w.NativeScriptKind.RequireAllOf:e=o(this,d,"f").toCbor();break;case w.NativeScriptKind.RequireAnyOf:e=o(this,c,"f").toCbor();break;case w.NativeScriptKind.RequireNOf:e=o(this,l,"f").toCbor();break;case w.NativeScriptKind.RequireTimeAfter:e=o(this,h,"f").toCbor();break;case w.NativeScriptKind.RequireTimeBefore:e=o(this,f,"f").toCbor();break;default:throw new y.InvalidStateError(`Unexpected kind value: ${o(this,p,"f")}`)}return e}static fromCbor(e){let t;const r=new v.CborReader(e);r.readStartArray();const a=Number(r.readInt());switch(a){case w.NativeScriptKind.RequireSignature:t=NativeScript.newScriptPubkey(C.ScriptPubkey.fromCbor(e));break;case w.NativeScriptKind.RequireAllOf:t=NativeScript.newScriptAll(g.ScriptAll.fromCbor(e));break;case w.NativeScriptKind.RequireAnyOf:t=NativeScript.newScriptAny(b.ScriptAny.fromCbor(e));break;case w.NativeScriptKind.RequireNOf:t=NativeScript.newScriptNOfK(P.ScriptNOfK.fromCbor(e));break;case w.NativeScriptKind.RequireTimeAfter:t=NativeScript.newTimelockStart(T.TimelockStart.fromCbor(e));break;case w.NativeScriptKind.RequireTimeBefore:t=NativeScript.newTimelockExpiry(S.TimelockExpiry.fromCbor(e));break;default:throw new y.InvalidStateError(`Unexpected kind value: ${a}`)}n(t,m,e,"f");return t}toCore(){let e;switch(o(this,p,"f")){case w.NativeScriptKind.RequireSignature:e=o(this,u,"f").toCore();break;case w.NativeScriptKind.RequireAllOf:e=o(this,d,"f").toCore();break;case w.NativeScriptKind.RequireAnyOf:e=o(this,c,"f").toCore();break;case w.NativeScriptKind.RequireNOf:e=o(this,l,"f").toCore();break;case w.NativeScriptKind.RequireTimeAfter:e=o(this,h,"f").toCore();break;case w.NativeScriptKind.RequireTimeBefore:e=o(this,f,"f").toCore();break;default:throw new y.InvalidStateError(`Unexpected kind value: ${o(this,p,"f")}`)}return e}static fromCore(e){let t;switch(e.kind){case w.NativeScriptKind.RequireSignature:t=NativeScript.newScriptPubkey(C.ScriptPubkey.fromCore(e));break;case w.NativeScriptKind.RequireAllOf:t=NativeScript.newScriptAll(g.ScriptAll.fromCore(e));break;case w.NativeScriptKind.RequireAnyOf:t=NativeScript.newScriptAny(b.ScriptAny.fromCore(e));break;case w.NativeScriptKind.RequireNOf:t=NativeScript.newScriptNOfK(P.ScriptNOfK.fromCore(e));break;case w.NativeScriptKind.RequireTimeAfter:t=NativeScript.newTimelockStart(T.TimelockStart.fromCore(e));break;case w.NativeScriptKind.RequireTimeBefore:t=NativeScript.newTimelockExpiry(S.TimelockExpiry.fromCore(e));break;default:throw new y.InvalidStateError("Unexpected kind value")}return t}hash(){const e=`00${this.toCbor()}`;return _.blake2b.hash(e,E)}kind(){return o(this,p,"f")}static newScriptPubkey(e){const t=new NativeScript;n(t,u,e,"f");n(t,p,w.NativeScriptKind.RequireSignature,"f");return t}static newScriptAll(e){const t=new NativeScript;n(t,d,e,"f");n(t,p,w.NativeScriptKind.RequireAllOf,"f");return t}static newScriptAny(e){const t=new NativeScript;n(t,c,e,"f");n(t,p,w.NativeScriptKind.RequireAnyOf,"f");return t}static newScriptNOfK(e){const t=new NativeScript;n(t,l,e,"f");n(t,p,w.NativeScriptKind.RequireNOf,"f");return t}static newTimelockStart(e){const t=new NativeScript;n(t,h,e,"f");n(t,p,w.NativeScriptKind.RequireTimeAfter,"f");return t}static newTimelockExpiry(e){const t=new NativeScript;n(t,f,e,"f");n(t,p,w.NativeScriptKind.RequireTimeBefore,"f");return t}asScriptPubkey(){return o(this,u,"f")}asScriptAll(){return o(this,d,"f")}asScriptAny(){return o(this,c,"f")}asScriptNOfK(){return o(this,l,"f")}asTimelockStart(){return o(this,h,"f")}asTimelockExpiry(){return o(this,f,"f")}constructor(){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0)}}t.NativeScript=NativeScript;d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptAll.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n;Object.defineProperty(t,"__esModule",{value:true});t.ScriptAll=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/NativeScript.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const f=2;class ScriptAll{toCbor(){const e=new d.CborWriter;if(i(this,n,"f"))return i(this,n,"f");e.writeStartArray(f);e.writeInt(u.NativeScriptKind.RequireAllOf);e.writeStartArray(i(this,o,"f").length);for(const t of i(this,o,"f"))e.writeEncodedValue(a.from(t.toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==f)throw new c.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==u.NativeScriptKind.RequireAllOf)throw new c.InvalidArgumentError("cbor",`Expected kind ${u.NativeScriptKind.RequireAllOf}, but got kind ${a}`);const i=new Array;t.readStartArray();while(t.peekState()!==d.CborReaderState.EndArray)i.push(l.NativeScript.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue())));t.readEndArray();const o=new ScriptAll(i);s(o,n,e,"f");return o}toCore(){return{__type:u.ScriptType.Native,kind:u.NativeScriptKind.RequireAllOf,scripts:i(this,o,"f").map(e=>e.toCore())}}static fromCore(e){return new ScriptAll(e.scripts.map(e=>l.NativeScript.fromCore(e)))}nativeScripts(){return i(this,o,"f")}setNativeScripts(e){s(this,o,e,"f");s(this,n,void 0,"f")}constructor(e){o.set(this,void 0);n.set(this,void 0);s(this,o,e,"f")}}t.ScriptAll=ScriptAll;o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptAny.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n;Object.defineProperty(t,"__esModule",{value:true});t.ScriptAny=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/NativeScript.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const f=2;class ScriptAny{toCbor(){const e=new d.CborWriter;if(i(this,n,"f"))return i(this,n,"f");e.writeStartArray(f);e.writeInt(u.NativeScriptKind.RequireAnyOf);e.writeStartArray(i(this,o,"f").length);for(const t of i(this,o,"f"))e.writeEncodedValue(a.from(t.toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==f)throw new c.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==u.NativeScriptKind.RequireAnyOf)throw new c.InvalidArgumentError("cbor",`Expected kind ${u.NativeScriptKind.RequireAnyOf}, but got kind ${a}`);const i=new Array;t.readStartArray();while(t.peekState()!==d.CborReaderState.EndArray)i.push(l.NativeScript.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue())));t.readEndArray();const o=new ScriptAny(i);s(o,n,e,"f");return o}toCore(){return{__type:u.ScriptType.Native,kind:u.NativeScriptKind.RequireAnyOf,scripts:i(this,o,"f").map(e=>e.toCore())}}static fromCore(e){return new ScriptAny(e.scripts.map(e=>l.NativeScript.fromCore(e)))}nativeScripts(){return i(this,o,"f")}setNativeScripts(e){s(this,o,e,"f");s(this,n,void 0,"f")}constructor(e){o.set(this,void 0);n.set(this,void 0);s(this,o,e,"f")}}t.ScriptAny=ScriptAny;o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptNOfK.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.ScriptNOfK=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/NativeScript.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const h=3;class ScriptNOfK{toCbor(){const e=new c.CborWriter;if(i(this,d,"f"))return i(this,d,"f");e.writeStartArray(h);e.writeInt(f.NativeScriptKind.RequireNOf);e.writeInt(i(this,n,"f"));e.writeStartArray(i(this,o,"f").length);for(const t of i(this,o,"f"))e.writeEncodedValue(a.from(t.toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==h)throw new l.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==f.NativeScriptKind.RequireNOf)throw new l.InvalidArgumentError("cbor",`Expected kind ${f.NativeScriptKind.RequireNOf}, but got kind ${a}`);const i=t.readInt();const o=new Array;t.readStartArray();while(t.peekState()!==c.CborReaderState.EndArray)o.push(u.NativeScript.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue())));t.readEndArray();const n=new ScriptNOfK(o,Number(i));s(n,d,e,"f");return n}toCore(){return{__type:f.ScriptType.Native,kind:f.NativeScriptKind.RequireNOf,required:i(this,n,"f"),scripts:i(this,o,"f").map(e=>e.toCore())}}static fromCore(e){return new ScriptNOfK(e.scripts.map(e=>u.NativeScript.fromCore(e)),e.required)}required(){return i(this,n,"f")}setRequired(e){s(this,n,e,"f");s(this,d,void 0,"f")}nativeScripts(){return i(this,o,"f")}setNativeScripts(e){s(this,o,e,"f");s(this,d,void 0,"f")}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f")}}t.ScriptNOfK=ScriptNOfK;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptPubkey.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.ScriptPubkey=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const m=2;class ScriptPubkey{toCbor(){const e=new f.CborWriter;if(d(this,l,"f"))return d(this,l,"f");e.writeStartArray(m);e.writeInt(p.NativeScriptKind.RequireSignature);e.writeByteString(a.from(d(this,c,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readStartArray();if(r!==m)throw new h.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==p.NativeScriptKind.RequireSignature)throw new h.InvalidArgumentError("cbor",`Expected kind ${p.NativeScriptKind.RequireSignature}, but got kind ${a}`);const s=u.Ed25519KeyHashHex(h.HexBlob.fromBytes(t.readByteString()));const i=new ScriptPubkey(s);n(i,l,e,"f");return i}toCore(){return{__type:p.ScriptType.Native,keyHash:d(this,c,"f"),kind:p.NativeScriptKind.RequireSignature}}static fromCore(e){return new ScriptPubkey(e.keyHash)}keyHash(){return d(this,c,"f")}setKeyHash(e){n(this,c,e,"f");n(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);n(this,c,e,"f")}}t.ScriptPubkey=ScriptPubkey;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/TimelockExpiry.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.TimelockExpiry=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const u=2;class TimelockExpiry{toCbor(){const e=new n.CborWriter;if(s(this,o,"f"))return s(this,o,"f");e.writeStartArray(u);e.writeInt(c.NativeScriptKind.RequireTimeBefore);e.writeInt(s(this,i,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);const r=t.readStartArray();if(r!==u)throw new d.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==c.NativeScriptKind.RequireTimeBefore)throw new d.InvalidArgumentError("cbor",`Expected kind ${c.NativeScriptKind.RequireTimeBefore}, but got kind ${s}`);const i=(0,l.Slot)(Number(t.readInt()));const f=new TimelockExpiry(i);a(f,o,e,"f");return f}toCore(){return{__type:c.ScriptType.Native,kind:c.NativeScriptKind.RequireTimeBefore,slot:s(this,i,"f")}}static fromCore(e){return new TimelockExpiry(e.slot)}slot(){return s(this,i,"f")}setSlot(e){a(this,i,e,"f");a(this,o,void 0,"f")}constructor(e){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f")}}t.TimelockExpiry=TimelockExpiry;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/TimelockStart.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.TimelockStart=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const u=2;class TimelockStart{toCbor(){if(s(this,o,"f"))return s(this,o,"f");const e=new n.CborWriter;e.writeStartArray(u);e.writeInt(c.NativeScriptKind.RequireTimeAfter);e.writeInt(s(this,i,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);const r=t.readStartArray();if(r!==u)throw new d.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==c.NativeScriptKind.RequireTimeAfter)throw new d.InvalidArgumentError("cbor",`Expected kind ${c.NativeScriptKind.RequireTimeAfter}, but got kind ${s}`);const i=(0,l.Slot)(Number(t.readInt()));const f=new TimelockStart(i);a(f,o,e,"f");return f}toCore(){return{__type:c.ScriptType.Native,kind:c.NativeScriptKind.RequireTimeAfter,slot:s(this,i,"f")}}static fromCore(e){return new TimelockStart(e.slot)}slot(){return s(this,i,"f")}setSlot(e){a(this,i,e,"f");a(this,o,void 0,"f")}constructor(e){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f")}}t.TimelockStart=TimelockStart;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/NativeScript.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptAll.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptAny.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptNOfK.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/ScriptPubkey.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/TimelockExpiry.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/TimelockStart.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/PlutusV1Script.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.PlutusV1Script=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const m=28;class PlutusV1Script{toCbor(){if(d(this,l,"f"))return d(this,l,"f");const e=new f.CborWriter;e.writeByteString(a.from(d(this,c,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readByteString();const a=new PlutusV1Script(h.HexBlob.fromBytes(r));n(a,l,e,"f");return a}toCore(){return{__type:p.ScriptType.Plutus,bytes:this.rawBytes(),version:p.PlutusLanguageVersion.V1}}static fromCore(e){if(e.version!==p.PlutusLanguageVersion.V1)throw new h.InvalidArgumentError("script","Wrong plutus language version.");return new PlutusV1Script(e.bytes)}hash(){const e=`01${this.rawBytes()}`;return u.blake2b.hash(e,m)}rawBytes(){return d(this,c,"f")}setRawBytes(e){n(this,c,e,"f");n(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);n(this,c,e,"f")}}t.PlutusV1Script=PlutusV1Script;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/PlutusV2Script.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.PlutusV2Script=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const m=28;class PlutusV2Script{toCbor(){if(d(this,l,"f"))return d(this,l,"f");const e=new f.CborWriter;e.writeByteString(a.from(d(this,c,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readByteString();const a=new PlutusV2Script(h.HexBlob.fromBytes(r));n(a,l,e,"f");return a}toCore(){return{__type:p.ScriptType.Plutus,bytes:this.rawBytes(),version:p.PlutusLanguageVersion.V2}}static fromCore(e){if(e.version!==p.PlutusLanguageVersion.V2)throw new h.InvalidArgumentError("script","Wrong plutus language version.");return new PlutusV2Script(e.bytes)}hash(){const e=`02${this.rawBytes()}`;return u.blake2b.hash(e,m)}rawBytes(){return d(this,c,"f")}setRawBytes(e){n(this,c,e,"f");n(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);n(this,c,e,"f")}}t.PlutusV2Script=PlutusV2Script;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/PlutusV3Script.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.PlutusV3Script=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const m=28;class PlutusV3Script{toCbor(){if(d(this,l,"f"))return d(this,l,"f");const e=new f.CborWriter;e.writeByteString(a.from(d(this,c,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readByteString();const a=new PlutusV3Script(h.HexBlob.fromBytes(r));n(a,l,e,"f");return a}toCore(){return{__type:p.ScriptType.Plutus,bytes:this.rawBytes(),version:p.PlutusLanguageVersion.V3}}static fromCore(e){if(e.version!==p.PlutusLanguageVersion.V3)throw new h.InvalidArgumentError("script","Wrong plutus language version.");return new PlutusV3Script(e.bytes)}hash(){const e=`03${this.rawBytes()}`;return u.blake2b.hash(e,m)}rawBytes(){return d(this,c,"f")}setRawBytes(e){n(this,c,e,"f");n(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);n(this,c,e,"f")}}t.PlutusV3Script=PlutusV3Script;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/PlutusV1Script.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/PlutusV2Script.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/PlutusV3Script.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/Script.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o,n,d,c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.Script=void 0;const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/ScriptLanguage.js");const y=2;class Script{toCbor(){if(s(this,u,"f"))return s(this,u,"f");const e=new f.CborWriter;let t;switch(s(this,l,"f")){case v.ScriptLanguage.Native:t=s(this,o,"f").toCbor();break;case v.ScriptLanguage.PlutusV1:t=s(this,n,"f").toCbor();break;case v.ScriptLanguage.PlutusV2:t=s(this,d,"f").toCbor();break;case v.ScriptLanguage.PlutusV3:t=s(this,c,"f").toCbor();break;default:throw new h.InvalidStateError(`Unexpected language value: ${s(this,l,"f")}`)}e.writeStartArray(y);e.writeInt(s(this,l,"f"));e.writeEncodedValue(a.from(t,"hex"));return e.encodeAsHex()}static fromCbor(e){let t;const r=new f.CborReader(e);r.readStartArray();const a=Number(r.readInt());const s=h.HexBlob.fromBytes(r.readEncodedValue());switch(a){case v.ScriptLanguage.Native:t=Script.newNativeScript(p.NativeScript.fromCbor(s));break;case v.ScriptLanguage.PlutusV1:t=Script.newPlutusV1Script(_.PlutusV1Script.fromCbor(s));break;case v.ScriptLanguage.PlutusV2:t=Script.newPlutusV2Script(_.PlutusV2Script.fromCbor(s));break;case v.ScriptLanguage.PlutusV3:t=Script.newPlutusV3Script(_.PlutusV3Script.fromCbor(s));break;default:throw new h.InvalidStateError(`Unexpected language value: ${a}`)}i(t,u,e,"f");return t}toCore(){let e;switch(s(this,l,"f")){case v.ScriptLanguage.Native:e=s(this,o,"f").toCore();break;case v.ScriptLanguage.PlutusV1:e=s(this,n,"f").toCore();break;case v.ScriptLanguage.PlutusV2:e=s(this,d,"f").toCore();break;case v.ScriptLanguage.PlutusV3:e=s(this,c,"f").toCore();break;default:throw new h.InvalidStateError(`Unexpected language: ${s(this,l,"f")}`)}return e}static fromCore(e){let t;if((0,m.isNativeScript)(e))t=Script.newNativeScript(p.NativeScript.fromCore(e));else{switch(e.version){case m.PlutusLanguageVersion.V1:t=Script.newPlutusV1Script(_.PlutusV1Script.fromCore(e));break;case m.PlutusLanguageVersion.V2:t=Script.newPlutusV2Script(_.PlutusV2Script.fromCore(e));break;case m.PlutusLanguageVersion.V3:t=Script.newPlutusV3Script(_.PlutusV3Script.fromCore(e));break;default:throw new h.InvalidStateError("Unexpected Plutus language version")}}return t}language(){return s(this,l,"f")}static newNativeScript(e){const t=new Script;i(t,o,e,"f");i(t,l,v.ScriptLanguage.Native,"f");return t}static newPlutusV1Script(e){const t=new Script;i(t,n,e,"f");i(t,l,v.ScriptLanguage.PlutusV1,"f");return t}static newPlutusV2Script(e){const t=new Script;i(t,d,e,"f");i(t,l,v.ScriptLanguage.PlutusV2,"f");return t}static newPlutusV3Script(e){const t=new Script;i(t,c,e,"f");i(t,l,v.ScriptLanguage.PlutusV3,"f");return t}asNative(){return s(this,o,"f")}asPlutusV1(){return s(this,n,"f")}asPlutusV2(){return s(this,d,"f")}asPlutusV3(){return s(this,c,"f")}hash(){let e;switch(s(this,l,"f")){case v.ScriptLanguage.Native:e=s(this,o,"f").hash();break;case v.ScriptLanguage.PlutusV1:e=s(this,n,"f").hash();break;case v.ScriptLanguage.PlutusV2:e=s(this,d,"f").hash();break;case v.ScriptLanguage.PlutusV3:e=s(this,c,"f").hash();break;default:throw new h.InvalidStateError(`Unexpected script language ${s(this,l,"f")}`)}return e}constructor(){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0)}}t.Script=Script;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/ScriptLanguage.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ScriptLanguage=void 0;var r;(function(e){e[e["Native"]=0]="Native";e[e["PlutusV1"]=1]="PlutusV1";e[e["PlutusV2"]=2]="PlutusV2";e[e["PlutusV3"]=3]="PlutusV3"})(r=t.ScriptLanguage||(t.ScriptLanguage={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/Script.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/PlutusScript/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Transaction.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c,l;Object.defineProperty(t,"__esModule",{value:true});t.deserializeTx=t.TxBodyCBOR=t.TxCBOR=t.Transaction=void 0;const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/index.js");const _=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const v=4;class Transaction{toCbor(){const e=new f.CborWriter;if(i(this,l,"f"))return i(this,l,"f");e.writeStartArray(v);e.writeEncodedValue((0,_.hexToBytes)(i(this,o,"f").toCbor()));e.writeEncodedValue((0,_.hexToBytes)(i(this,n,"f").toCbor()));e.writeBoolean(i(this,c,"f"));if(i(this,d,"f"))e.writeEncodedValue((0,_.hexToBytes)(i(this,d,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readStartArray();const a=t.readEncodedValue();const i=p.TransactionBody.fromCbor(h.HexBlob.fromBytes(a));const o=m.TransactionWitnessSet.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));let n=true;if(r===v)n=t.readBoolean();let d;if(t.peekState()!==f.CborReaderState.Null)d=u.AuxiliaryData.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const _=new Transaction(i,o,d);s(_,c,n,"f");s(_,l,e,"f");return _}toCore(){const e={body:i(this,o,"f").toCore(),id:this.getId(),isValid:i(this,c,"f"),witness:i(this,n,"f").toCore()};if(i(this,d,"f"))e.auxiliaryData=i(this,d,"f").toCore();return e}static fromCore(e){const t=new Transaction(p.TransactionBody.fromCore(e.body),m.TransactionWitnessSet.fromCore(e.witness),e.auxiliaryData?u.AuxiliaryData.fromCore(e.auxiliaryData):void 0);if(void 0!==e.isValid)t.setIsValid(e.isValid);return t}body(){return p.TransactionBody.fromCbor(i(this,o,"f").toCbor())}setBody(e){s(this,o,e,"f");s(this,l,void 0,"f")}witnessSet(){return m.TransactionWitnessSet.fromCbor(i(this,n,"f").toCbor())}setWitnessSet(e){s(this,n,e,"f");s(this,l,void 0,"f")}isValid(){return i(this,c,"f")}setIsValid(e){s(this,l,void 0,"f");s(this,c,e,"f")}auxiliaryData(){if(i(this,d,"f")){return u.AuxiliaryData.fromCbor(i(this,d,"f").toCbor())}return}setAuxiliaryData(e){s(this,d,e,"f");s(this,l,void 0,"f")}getId(){return i(this,o,"f").hash()}clone(){const e=this.toCbor();return Transaction.fromCbor(e)}constructor(e,t,r){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,true);l.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f");s(this,d,r,"f")}}t.Transaction=Transaction;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap;const TxCBOR=e=>(0,h.HexBlob)(e);t.TxCBOR=TxCBOR;t.TxCBOR.serialize=e=>Transaction.fromCore(e).toCbor();const TxBodyCBOR=e=>(0,h.HexBlob)(e);t.TxBodyCBOR=TxBodyCBOR;t.TxBodyCBOR.fromTxCBOR=e=>Transaction.fromCbor(e).body().toCbor();t.deserializeTx=e=>{const r=e instanceof a?e.toString("hex"):e instanceof Uint8Array?a.from(e).toString("hex"):e;const s=Transaction.fromCbor((0,t.TxCBOR)(r));return s.toCore()};t.TxCBOR.deserialize=e=>(0,t.deserializeTx)(e)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/Committee.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.Committee=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const f=2;const h=2;const p=0;const m=1;class Committee{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");if(0===s(this,o,"f").length)throw new c.InvalidStateError("There must be at least one Committee member");e.writeStartArray(f);e.writeStartMap(s(this,o,"f").length);for(const t of s(this,o,"f")){e.writeStartArray(h);e.writeInt(t[p].type);e.writeByteString((0,u.hexToBytes)(t[p].hash));e.writeInt(t[m])}e.writeEncodedValue((0,u.hexToBytes)(s(this,i,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==f)throw new c.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);t.readStartMap();const s=[];while(t.peekState()!==d.CborReaderState.EndMap){if(t.readStartArray()!==h)throw new c.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const i=Number(t.readUInt());const o=c.HexBlob.fromBytes(t.readByteString());t.readEndArray();const u=Number(t.readUInt());s.push([{hash:o,type:i},u])}t.readEndMap();const _=l.UnitInterval.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));const v=new Committee(_);for(const y of s)v.addMember(y[p],y[m]);a(v,n,e,"f");return v}toCore(){if(0===s(this,o,"f").length)throw new c.InvalidStateError("There must be at least one Committee member");const e=s(this,o,"f").map(e=>({coldCredential:e[p],epoch:e[m]}));return{members:e,quorumThreshold:s(this,i,"f").toCore()}}static fromCore(e){const t=new Committee(l.UnitInterval.fromCore(e.quorumThreshold));for(const r of e.members)t.addMember(r.coldCredential,r.epoch);return t}membersKeys(){return s(this,o,"f").map(e=>e[0])}quorumThreshold(){return s(this,i,"f")}addMember(e,t){const r=s(this,o,"f").find(t=>t[p].type===e.type&&t[p].hash===e.hash);if(r)throw new c.InvalidArgumentError("committeeColdCredential","The given credential is already present");s(this,o,"f").push([e,t])}getMemberEpoch(e){const t=s(this,o,"f").find(t=>t[p].type===e.type&&t[p].hash===e.hash);if(t)return t[m];return}constructor(e){i.set(this,void 0);o.set(this,[]);n.set(this,void 0);a(this,i,e,"f")}}t.Committee=Committee;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/Constitution.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.Constitution=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Anchor.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const f=2;class Constitution{toCbor(){const e=new c.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(f);e.writeEncodedValue((0,u.hexToBytes)(s(this,i,"f").toCbor()));s(this,o,"f")?e.writeByteString((0,u.hexToBytes)(s(this,o,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==f)throw new l.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const s=d.Anchor.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));let i;if(t.peekState()===c.CborReaderState.Null)t.readNull();else i=l.HexBlob.fromBytes(t.readByteString());t.readEndArray();const o=new Constitution(s,i);a(o,n,e,"f");return o}toCore(){return{anchor:s(this,i,"f").toCore(),scriptHash:s(this,o,"f")?s(this,o,"f"):null}}static fromCore(e){return new Constitution(d.Anchor.fromCore(e.anchor),null!==e.scriptHash?e.scriptHash:void 0)}anchor(){return s(this,i,"f")}setAnchor(e){a(this,i,e,"f");a(this,n,void 0,"f")}scriptHash(){return s(this,o,"f")}setScriptHash(e){a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.Constitution=Constitution;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GovernanceActionKind=void 0;var r;(function(e){e[e["ParameterChange"]=0]="ParameterChange";e[e["HardForkInitiation"]=1]="HardForkInitiation";e[e["TreasuryWithdrawals"]=2]="TreasuryWithdrawals";e[e["NoConfidence"]=3]="NoConfidence";e[e["UpdateCommittee"]=4]="UpdateCommittee";e[e["NewConstitution"]=5]="NewConstitution";e[e["Info"]=6]="Info"})(r=t.GovernanceActionKind||(t.GovernanceActionKind={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/HardForkInitiationAction.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.HardForkInitiationAction=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const f=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const m=3;class HardForkInitiationAction{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(m);e.writeInt(l.GovernanceActionKind.HardForkInitiation);s(this,o,"f")?e.writeEncodedValue((0,p.hexToBytes)(s(this,o,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,p.hexToBytes)(s(this,i,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==m)throw new f.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const s=Number(t.readUInt());if(s!==l.GovernanceActionKind.HardForkInitiation)throw new f.InvalidArgumentError("cbor",`Expected action kind, expected ${l.GovernanceActionKind.HardForkInitiation} but got ${s}`);let i;if(t.peekState()===d.CborReaderState.Null)t.readNull();else i=c.GovernanceActionId.fromCbor(f.HexBlob.fromBytes(t.readEncodedValue()));const o=h.ProtocolVersion.fromCbor(f.HexBlob.fromBytes(t.readEncodedValue()));const u=new HardForkInitiationAction(o,i);a(u,n,e,"f");return u}toCore(){return{__typename:u.GovernanceActionType.hard_fork_initiation_action,governanceActionId:s(this,o,"f")?s(this,o,"f").toCore():null,protocolVersion:s(this,i,"f").toCore()}}static fromCore(e){return new HardForkInitiationAction(h.ProtocolVersion.fromCore(e.protocolVersion),null!==e.governanceActionId?c.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return s(this,o,"f")}protocolVersion(){return s(this,i,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.HardForkInitiationAction=HardForkInitiationAction;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/InfoAction.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i;Object.defineProperty(t,"__esModule",{value:true});t.InfoAction=void 0;const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=1;class InfoAction{toCbor(){const e=new o.CborWriter;if(a(this,i,"f"))return a(this,i,"f");e.writeStartArray(l);e.writeInt(n.GovernanceActionKind.Info);return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(r!==l)throw new c.InvalidArgumentError("cbor",`Expected an array of ${l} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==n.GovernanceActionKind.Info)throw new c.InvalidArgumentError("cbor",`Expected action kind, expected ${n.GovernanceActionKind.Info} but got ${a}`);const d=new InfoAction;s(d,i,e,"f");return d}toCore(){return{__typename:d.GovernanceActionType.info_action}}static fromCore(e){return new InfoAction}constructor(){i.set(this,void 0)}}t.InfoAction=InfoAction;i=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/NewConstitution.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.NewConstitution=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/Constitution.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const m=3;class NewConstitution{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(m);e.writeInt(u.GovernanceActionKind.NewConstitution);s(this,o,"f")?e.writeEncodedValue((0,p.hexToBytes)(s(this,o,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,p.hexToBytes)(s(this,i,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==m)throw new h.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const s=Number(t.readUInt());if(s!==u.GovernanceActionKind.NewConstitution)throw new h.InvalidArgumentError("cbor",`Expected action kind, expected ${u.GovernanceActionKind.NewConstitution} but got ${s}`);let i;if(t.peekState()===d.CborReaderState.Null)t.readNull();else i=l.GovernanceActionId.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const o=c.Constitution.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const f=new NewConstitution(o,i);a(f,n,e,"f");return f}toCore(){return{__typename:f.GovernanceActionType.new_constitution,constitution:s(this,i,"f").toCore(),governanceActionId:s(this,o,"f")?s(this,o,"f").toCore():null}}static fromCore(e){return new NewConstitution(c.Constitution.fromCore(e.constitution),null!==e.governanceActionId?l.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return s(this,o,"f")}constitution(){return s(this,i,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.NewConstitution=NewConstitution;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/NoConfidence.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.NoConfidence=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const h=2;class NoConfidence{toCbor(){const e=new n.CborWriter;if(s(this,o,"f"))return s(this,o,"f");e.writeStartArray(h);e.writeInt(c.GovernanceActionKind.NoConfidence);s(this,i,"f")?e.writeEncodedValue((0,f.hexToBytes)(s(this,i,"f").toCbor())):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);const r=t.readStartArray();if(r!==h)throw new u.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const s=Number(t.readUInt());if(s!==c.GovernanceActionKind.NoConfidence)throw new u.InvalidArgumentError("cbor",`Expected action kind, expected ${c.GovernanceActionKind.NoConfidence}  but got ${s}`);let i;if(t.peekState()===n.CborReaderState.Null)t.readNull();else i=d.GovernanceActionId.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));const l=new NoConfidence(i);a(l,o,e,"f");return l}toCore(){return{__typename:l.GovernanceActionType.no_confidence,governanceActionId:s(this,i,"f")?s(this,i,"f").toCore():null}}static fromCore(e){return new NoConfidence(null!==e.governanceActionId?d.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return s(this,i,"f")}constructor(e){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f")}}t.NoConfidence=NoConfidence;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/ParameterChangeAction.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.ParameterChangeAction=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const _=4;class ParameterChangeAction{toCbor(){const e=new c.CborWriter;if(s(this,d,"f"))return s(this,d,"f");e.writeStartArray(_);e.writeInt(u.GovernanceActionKind.ParameterChange);s(this,o,"f")?e.writeEncodedValue((0,m.hexToBytes)(s(this,o,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,m.hexToBytes)(s(this,i,"f").toCbor()));s(this,n,"f")?e.writeByteString((0,m.hexToBytes)(s(this,n,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==_)throw new h.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const s=Number(t.readUInt());if(s!==u.GovernanceActionKind.ParameterChange)throw new h.InvalidArgumentError("cbor",`Expected action kind, expected ${u.GovernanceActionKind.ParameterChange} but got ${s}`);let i;if(t.peekState()===c.CborReaderState.Null)t.readNull();else i=l.GovernanceActionId.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const o=p.ProtocolParamUpdate.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));let n;if(t.peekState()===c.CborReaderState.Null)t.readNull();else n=h.HexBlob.fromBytes(t.readByteString());t.readEndArray();const f=new ParameterChangeAction(o,i,n);a(f,d,e,"f");return f}toCore(){return{__typename:f.GovernanceActionType.parameter_change_action,governanceActionId:s(this,o,"f")?s(this,o,"f").toCore():null,policyHash:s(this,n,"f")?s(this,n,"f"):null,protocolParamUpdate:s(this,i,"f").toCore()}}static fromCore(e){return new ParameterChangeAction(p.ProtocolParamUpdate.fromCore(e.protocolParamUpdate),null!==e.governanceActionId?l.GovernanceActionId.fromCore(e.governanceActionId):void 0,null!==e.policyHash?e.policyHash:void 0)}govActionId(){return s(this,o,"f")}protocolParamUpdate(){return s(this,i,"f")}policyHash(){return s(this,n,"f")}constructor(e,t,r){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f");a(this,n,r,"f")}}t.ParameterChangeAction=ParameterChangeAction;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/ProposalProcedure.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o,n,d,c,l,u,f,h,p,m,_,v;Object.defineProperty(t,"__esModule",{value:true});t.ProposalProcedure=void 0;const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Anchor.js");const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const P=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const C=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/HardForkInitiationAction.js");const S=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const T=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/InfoAction.js");const E=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/NewConstitution.js");const k=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/NoConfidence.js");const A=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/ParameterChangeAction.js");const I=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const j=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/TreasuryWithdrawalsAction.js");const x=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/UpdateCommittee.js");const R=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const B=4;class ProposalProcedure{toCbor(){const e=new g.CborWriter;if(s(this,v,"f"))return s(this,v,"f");let t;switch(s(this,h,"f")){case b.GovernanceActionKind.ParameterChange:t=s(this,o,"f").toCbor();break;case b.GovernanceActionKind.HardForkInitiation:t=s(this,n,"f").toCbor();break;case b.GovernanceActionKind.TreasuryWithdrawals:t=s(this,d,"f").toCbor();break;case b.GovernanceActionKind.NoConfidence:t=s(this,c,"f").toCbor();break;case b.GovernanceActionKind.UpdateCommittee:t=s(this,l,"f").toCbor();break;case b.GovernanceActionKind.NewConstitution:t=s(this,u,"f").toCbor();break;case b.GovernanceActionKind.Info:t=s(this,f,"f").toCbor();break;default:throw new S.InvalidStateError(`Unexpected kind value: ${s(this,h,"f")}`)}e.writeStartArray(B);e.writeInt(s(this,p,"f"));const r=y.RewardAddress.fromAddress(y.Address.fromBech32(s(this,m,"f")));if(!r){throw new I.SerializationError(I.SerializationFailure.InvalidAddress,`Invalid withdrawal address: ${s(this,m,"f")}`)}e.writeByteString(a.from(r.toAddress().toBytes(),"hex"));e.writeEncodedValue((0,R.hexToBytes)(t));e.writeEncodedValue((0,R.hexToBytes)(s(this,_,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){let t;const r=new g.CborReader(e);r.readStartArray();const a=r.readInt();const s=y.Address.fromBytes(S.HexBlob.fromBytes(r.readByteString())).toBech32();const o=S.HexBlob.fromBytes(r.readEncodedValue());const n=w.Anchor.fromCbor(S.HexBlob.fromBytes(r.readEncodedValue()));r.readEndArray();const d=new g.CborReader(o);d.readStartArray();let c;const l=Number(d.readInt());switch(l){case b.GovernanceActionKind.ParameterChange:c=A.ParameterChangeAction.fromCbor(o);t=ProposalProcedure.newParameterChangeAction(a,s,n,c);break;case b.GovernanceActionKind.HardForkInitiation:c=C.HardForkInitiationAction.fromCbor(o);t=ProposalProcedure.newHardForkInitiationAction(a,s,n,c);break;case b.GovernanceActionKind.TreasuryWithdrawals:c=j.TreasuryWithdrawalsAction.fromCbor(o);t=ProposalProcedure.newTreasuryWithdrawalsAction(a,s,n,c);break;case b.GovernanceActionKind.NoConfidence:c=k.NoConfidence.fromCbor(o);t=ProposalProcedure.newNoConfidence(a,s,n,c);break;case b.GovernanceActionKind.UpdateCommittee:c=x.UpdateCommittee.fromCbor(o);t=ProposalProcedure.newUpdateCommittee(a,s,n,c);break;case b.GovernanceActionKind.NewConstitution:c=E.NewConstitution.fromCbor(o);t=ProposalProcedure.newNewConstitution(a,s,n,c);break;case b.GovernanceActionKind.Info:c=T.InfoAction.fromCbor(o);t=ProposalProcedure.newInfoAction(a,s,n,c);break;default:throw new S.InvalidStateError(`Unexpected kind value: ${l}`)}i(t,v,e,"f");return t}toCore(){let e;switch(s(this,h,"f")){case b.GovernanceActionKind.ParameterChange:e=s(this,o,"f").toCore();break;case b.GovernanceActionKind.HardForkInitiation:e=s(this,n,"f").toCore();break;case b.GovernanceActionKind.TreasuryWithdrawals:e=s(this,d,"f").toCore();break;case b.GovernanceActionKind.NoConfidence:e=s(this,c,"f").toCore();break;case b.GovernanceActionKind.UpdateCommittee:e=s(this,l,"f").toCore();break;case b.GovernanceActionKind.NewConstitution:e=s(this,u,"f").toCore();break;case b.GovernanceActionKind.Info:e=s(this,f,"f").toCore();break;default:throw new S.InvalidStateError(`Unexpected kind value: ${s(this,h,"f")}`)}return{anchor:s(this,_,"f").toCore(),deposit:s(this,p,"f"),governanceAction:e,rewardAccount:s(this,m,"f")}}static fromCore(e){let t;let r;const a=w.Anchor.fromCore(e.anchor);switch(e.governanceAction.__typename){case P.GovernanceActionType.parameter_change_action:t=A.ParameterChangeAction.fromCore(e.governanceAction);r=ProposalProcedure.newParameterChangeAction(e.deposit,e.rewardAccount,a,t);break;case P.GovernanceActionType.hard_fork_initiation_action:t=C.HardForkInitiationAction.fromCore(e.governanceAction);r=ProposalProcedure.newHardForkInitiationAction(e.deposit,e.rewardAccount,a,t);break;case P.GovernanceActionType.treasury_withdrawals_action:t=j.TreasuryWithdrawalsAction.fromCore(e.governanceAction);r=ProposalProcedure.newTreasuryWithdrawalsAction(e.deposit,e.rewardAccount,a,t);break;case P.GovernanceActionType.no_confidence:t=k.NoConfidence.fromCore(e.governanceAction);r=ProposalProcedure.newNoConfidence(e.deposit,e.rewardAccount,a,t);break;case P.GovernanceActionType.update_committee:t=x.UpdateCommittee.fromCore(e.governanceAction);r=ProposalProcedure.newUpdateCommittee(e.deposit,e.rewardAccount,a,t);break;case P.GovernanceActionType.new_constitution:t=E.NewConstitution.fromCore(e.governanceAction);r=ProposalProcedure.newNewConstitution(e.deposit,e.rewardAccount,a,t);break;case P.GovernanceActionType.info_action:t=T.InfoAction.fromCore(e.governanceAction);r=ProposalProcedure.newInfoAction(e.deposit,e.rewardAccount,a,t);break;default:throw new S.InvalidStateError("Unexpected ProposalProcedure type")}return r}static newParameterChangeAction(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.ParameterChange,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,o,a,"f");return s}static newHardForkInitiationAction(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.HardForkInitiation,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,n,a,"f");return s}static newTreasuryWithdrawalsAction(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.TreasuryWithdrawals,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,d,a,"f");return s}static newNoConfidence(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.NoConfidence,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,c,a,"f");return s}static newUpdateCommittee(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.UpdateCommittee,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,l,a,"f");return s}static newNewConstitution(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.NewConstitution,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,u,a,"f");return s}static newInfoAction(e,t,r,a){const s=new ProposalProcedure;i(s,h,b.GovernanceActionKind.Info,"f");i(s,p,e,"f");i(s,m,t,"f");i(s,_,r,"f");i(s,f,a,"f");return s}kind(){return s(this,h,"f")}deposit(){return s(this,p,"f")}rewardAccount(){return s(this,m,"f")}anchor(){return s(this,_,"f")}getParameterChangeAction(){return s(this,o,"f")}getHardForkInitiationAction(){return s(this,n,"f")}getTreasuryWithdrawalsAction(){return s(this,d,"f")}getNoConfidence(){return s(this,c,"f")}getUpdateCommittee(){return s(this,l,"f")}getNewConstitution(){return s(this,u,"f")}getInfoAction(){return s(this,f,"f")}constructor(){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0)}}t.ProposalProcedure=ProposalProcedure;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/TreasuryWithdrawalsAction.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.TreasuryWithdrawalsAction=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const _=3;class TreasuryWithdrawalsAction{toCbor(){const e=new l.CborWriter;if(i(this,d,"f"))return i(this,d,"f");e.writeStartArray(_);e.writeInt(u.GovernanceActionKind.TreasuryWithdrawals);const t=new Map([...i(this,o,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,s]of t){const f=c.RewardAddress.fromAddress(c.Address.fromBech32(r));if(!f){throw new p.SerializationError(p.SerializationFailure.InvalidAddress,`Invalid withdrawal address: ${r}`)}e.writeByteString(a.from(f.toAddress().toBytes(),"hex"));e.writeInt(s)}i(this,n,"f")?e.writeByteString((0,m.hexToBytes)(i(this,n,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new l.CborReader(e);const r=t.readStartArray();if(r!==_)throw new h.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==u.GovernanceActionKind.TreasuryWithdrawals)throw new h.InvalidArgumentError("cbor",`Expected action kind, expected ${u.GovernanceActionKind.TreasuryWithdrawals} but got ${a}`);t.readStartMap();const i=new Map;while(t.peekState()!==l.CborReaderState.EndMap){const o=c.Address.fromBytes(h.HexBlob.fromBytes(t.readByteString())).toBech32();const n=t.readInt();i.set(o,n)}t.readEndMap();let f;if(t.peekState()===l.CborReaderState.Null)t.readNull();else f=h.HexBlob.fromBytes(t.readByteString());t.readEndArray();const p=new TreasuryWithdrawalsAction(i,f);s(p,d,e,"f");return p}toCore(){const e=new Set([...i(this,o,"f").entries()].map(e=>({coin:e[1],rewardAccount:e[0]})));return{__typename:f.GovernanceActionType.treasury_withdrawals_action,policyHash:i(this,n,"f")?i(this,n,"f"):null,withdrawals:e}}static fromCore(e){return new TreasuryWithdrawalsAction(new Map([...e.withdrawals].map(e=>[e.rewardAccount,e.coin])),null!==e.policyHash?e.policyHash:void 0)}withdrawals(){return i(this,o,"f")}policyHash(){return i(this,n,"f")}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f")}}t.TreasuryWithdrawalsAction=TreasuryWithdrawalsAction;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/UpdateCommittee.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.UpdateCommittee=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const y=5;const w=2;const g=0;const b=1;class UpdateCommittee{toCbor(){const e=new l.CborWriter;if(s(this,c,"f"))return s(this,c,"f");e.writeStartArray(y);e.writeInt(m.GovernanceActionKind.UpdateCommittee);s(this,i,"f")?e.writeEncodedValue((0,v.hexToBytes)(s(this,i,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,v.hexToBytes)(s(this,o,"f").toCbor()));e.writeStartMap(s(this,n,"f").length);for(const t of s(this,n,"f")){e.writeStartArray(w);e.writeInt(t[g].type);e.writeByteString((0,v.hexToBytes)(t[g].hash));e.writeInt(t[b])}e.writeEncodedValue((0,v.hexToBytes)(s(this,d,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new l.CborReader(e);const r=t.readStartArray();if(r!==y)throw new _.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const s=Number(t.readUInt());if(s!==m.GovernanceActionKind.UpdateCommittee)throw new _.InvalidArgumentError("cbor",`Expected action kind, expected ${m.GovernanceActionKind.UpdateCommittee} but got ${s}`);let i;if(t.peekState()===l.CborReaderState.Null)t.readNull();else i=p.GovernanceActionId.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()));const o=u.CborSet.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()),u.Credential.fromCbor);t.readStartMap();const n=[];while(t.peekState()!==l.CborReaderState.EndMap){if(t.readStartArray()!==w)throw new _.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const d=Number(t.readUInt());const f=_.HexBlob.fromBytes(t.readByteString());t.readEndArray();const h=Number(t.readUInt());n.push([{hash:f,type:d},h])}t.readEndMap();const v=u.UnitInterval.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()));const g=new UpdateCommittee(o,n,v,i);a(g,c,e,"f");return g}toCore(){return{__typename:f.GovernanceActionType.update_committee,governanceActionId:s(this,i,"f")?s(this,i,"f").toCore():null,membersToBeAdded:new Set(s(this,n,"f").map(e=>({coldCredential:e[g],epoch:(0,h.EpochNo)(e[b])}))),membersToBeRemoved:new Set(s(this,o,"f").toCore()),newQuorumThreshold:s(this,d,"f").toCore()}}static fromCore(e){return new UpdateCommittee(u.CborSet.fromCore([...e.membersToBeRemoved],u.Credential.fromCore),[...e.membersToBeAdded].map(e=>[e.coldCredential,e.epoch]),u.UnitInterval.fromCore(e.newQuorumThreshold),null!==e.governanceActionId?p.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return s(this,i,"f")}membersToBeRemoved(){return s(this,o,"f").toCore()}membersToBeAdded(){return s(this,n,"f")}newQuorum(){return s(this,d,"f")}constructor(e,t,r,s){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);a(this,o,e,"f");a(this,n,t,"f");a(this,d,r,"f");a(this,i,s,"f")}}t.UpdateCommittee=UpdateCommittee;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/Committee.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/Constitution.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/HardForkInitiationAction.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/InfoAction.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/NewConstitution.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/NoConfidence.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/ParameterChangeAction.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/TreasuryWithdrawalsAction.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/UpdateCommittee.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/ProposalProcedure.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionBody.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f,h,p,m,_,v,y,w,g,b,P,C,S,T,E,k,A,I,j,x,R;Object.defineProperty(t,"__esModule",{value:true});t.TransactionBody=void 0;const B=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const O=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const D=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const M=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const F=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/index.js");const N=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const H=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/index.js");const G=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const V=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const K=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionInput.js");const L=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionOutput.js");const z=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/index.js");const U=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/index.js");const W=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const $=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/Utils.js");class TransactionBody{toCbor(){var e;const t=new D.CborWriter;if(d(this,x,"f"))return d(this,x,"f");t.writeStartMap(d(this,c,"m",R).call(this));if(void 0!==d(this,l,"f")&&d(this,l,"f").size()>0){t.writeInt(0n);t.writeEncodedValue((0,W.hexToBytes)(d(this,l,"f").toCbor()))}if(void 0!==d(this,u,"f")){t.writeInt(1n);t.writeStartArray(d(this,u,"f").length);for(const r of d(this,u,"f"))t.writeEncodedValue(a.from(r.toCbor(),"hex"))}if(void 0!==d(this,f,"f")){t.writeInt(2n);t.writeInt(d(this,f,"f"))}if(void 0!==d(this,h,"f")){t.writeInt(3n);t.writeInt(d(this,h,"f"))}if(void 0!==d(this,p,"f")&&d(this,p,"f").size()>0){t.writeInt(4n);t.writeEncodedValue((0,W.hexToBytes)(d(this,p,"f").toCbor()))}if(void 0!==d(this,m,"f")&&d(this,m,"f").size>0){t.writeInt(5n);const s=new Map;for(const[i,o]of d(this,m,"f")){const n=O.RewardAddress.fromAddress(O.Address.fromBech32(i));if(!n){throw new G.SerializationError(G.SerializationFailure.InvalidAddress,`Invalid withdrawal address: ${i}`)}const B=n.toAddress().toBytes();s.set(B,o)}const M=[...s].sort((e,t)=>e>t?1:-1);t.writeStartMap(M.length);for(const[F,N]of M){t.writeByteString(a.from(F,"hex"));t.writeInt(N)}}if(void 0!==d(this,_,"f")){t.writeInt(6n);t.writeEncodedValue(a.from(d(this,_,"f").toCbor(),"hex"))}if(void 0!==d(this,v,"f")){t.writeInt(7n);t.writeByteString(a.from(d(this,v,"f"),"hex"))}if(void 0!==d(this,y,"f")){t.writeInt(8n);t.writeInt(d(this,y,"f"))}if(void 0!==d(this,w,"f")&&d(this,w,"f").size>0){t.writeInt(9n);const H=(0,$.tokenMapToMultiAsset)(d(this,w,"f"));t.writeStartMap(H.size);const V=new Map([...H.entries()].sort($.sortCanonically));for(const[K,L]of V.entries()){t.writeByteString(a.from(K,"hex"));const z=new Map([...L.entries()].sort($.sortCanonically));t.writeStartMap(z.size);for(const[U,q]of z.entries()){t.writeByteString(a.from(U,"hex"));t.writeInt(q)}}}if(void 0!==d(this,g,"f")){t.writeInt(11n);t.writeByteString(a.from(d(this,g,"f"),"hex"))}if(void 0!==d(this,b,"f")&&d(this,b,"f").size()>0){t.writeInt(13n);t.writeEncodedValue((0,W.hexToBytes)(d(this,b,"f").toCbor()))}if((null===(e=d(this,P,"f"))||void 0===e?void 0:e.values())!==void 0&&d(this,P,"f").size()>0){t.writeInt(14n);t.writeEncodedValue((0,W.hexToBytes)(d(this,P,"f").toCbor()))}if(void 0!==d(this,C,"f")){t.writeInt(15n);t.writeInt(d(this,C,"f"))}if(void 0!==d(this,S,"f")){t.writeInt(16n);t.writeEncodedValue(a.from(d(this,S,"f").toCbor(),"hex"))}if(void 0!==d(this,T,"f")){t.writeInt(17n);t.writeInt(d(this,T,"f"))}if(void 0!==d(this,E,"f")&&d(this,E,"f").size()>0){t.writeInt(18n);t.writeEncodedValue((0,W.hexToBytes)(d(this,E,"f").toCbor()))}if(void 0!==d(this,k,"f")){t.writeInt(19n);t.writeEncodedValue(a.from(d(this,k,"f").toCbor(),"hex"))}if(void 0!==d(this,A,"f")&&d(this,A,"f").size()>0){t.writeInt(20n);t.writeEncodedValue((0,W.hexToBytes)(d(this,A,"f").toCbor()))}if(void 0!==d(this,I,"f")){t.writeInt(21n);t.writeInt(d(this,I,"f"))}if(void 0!==d(this,j,"f")){t.writeInt(22n);t.writeInt(d(this,j,"f"))}return t.encodeAsHex()}static fromCbor(e){const t=new D.CborReader(e);const r=M.CborSet.fromCore([],K.TransactionInput.fromCore);const s=new Array;const i=0n;const o=new TransactionBody(r,s,i);t.readStartMap();while(t.peekState()!==D.CborReaderState.EndMap){const d=t.readInt();switch(d){case 0n:{const c=t.readEncodedValue();o.setInputs(M.CborSet.fromCbor(N.HexBlob.fromBytes(c),K.TransactionInput.fromCbor));break}case 1n:t.readStartArray();while(t.peekState()!==D.CborReaderState.EndArray){o.outputs().push(L.TransactionOutput.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray();break;case 2n:o.setFee(t.readInt());break;case 3n:o.setTtl((0,V.Slot)(Number(t.readInt())));break;case 4n:o.setCerts(M.CborSet.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue()),F.Certificate.fromCbor));break;case 5n:t.readStartMap();o.setWithdrawals(new Map);while(t.peekState()!==D.CborReaderState.EndMap){const l=O.Address.fromBytes(N.HexBlob.fromBytes(t.readByteString())).toBech32();const u=t.readInt();o.withdrawals().set(l,u)}t.readEndMap();break;case 6n:o.setUpdate(z.Update.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue())));break;case 7n:o.setAuxiliaryDataHash(N.HexBlob.fromBytes(t.readByteString()));break;case 8n:o.setValidityStartInterval((0,V.Slot)(Number(t.readInt())));break;case 9n:{const f=new Map;t.readStartMap();while(t.peekState()!==D.CborReaderState.EndMap){const h=N.HexBlob.fromBytes(t.readByteString());if(!f.has(h))f.set(h,new Map);t.readStartMap();while(t.peekState()!==D.CborReaderState.EndMap){const p=a.from(t.readByteString()).toString("hex");const m=t.readInt();f.get(h).set(p,m)}t.readEndMap()}t.readEndMap();o.setMint((0,$.multiAssetsToTokenMap)(f));break}case 11n:o.setScriptDataHash(N.HexBlob.fromBytes(t.readByteString()));break;case 13n:o.setCollateral(M.CborSet.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue()),K.TransactionInput.fromCbor));break;case 14n:o.setRequiredSigners(M.CborSet.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue()),M.Hash.fromCbor));break;case 15n:o.setNetworkId(Number(t.readInt()));break;case 16n:o.setCollateralReturn(L.TransactionOutput.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue())));break;case 17n:o.setTotalCollateral(t.readInt());break;case 18n:o.setReferenceInputs(M.CborSet.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue()),K.TransactionInput.fromCbor));break;case 19n:o.setVotingProcedures(U.VotingProcedures.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue())));break;case 20n:o.setProposalProcedures(M.CborSet.fromCbor(N.HexBlob.fromBytes(t.readEncodedValue()),H.ProposalProcedure.fromCbor));break;case 21n:o.setCurrentTreasuryValue(t.readInt());break;case 22n:o.setDonation(t.readInt());break}}t.readEndMap();n(o,x,e,"f");return o}toCore(){var e,t,r,a,s,i;return{auxiliaryDataHash:d(this,v,"f"),certificates:(null===(e=d(this,p,"f"))||void 0===e?void 0:e.values())?d(this,p,"f").toCore():void 0,collateralReturn:null===(t=d(this,S,"f"))||void 0===t?void 0:t.toCore(),collaterals:(null===(r=d(this,b,"f"))||void 0===r?void 0:r.values())?d(this,b,"f").toCore():void 0,donation:d(this,j,"f"),fee:d(this,f,"f"),inputs:d(this,l,"f").toCore(),mint:d(this,w,"f"),networkId:d(this,C,"f"),outputs:d(this,u,"f").map(e=>e.toCore()),proposalProcedures:(null===(a=d(this,A,"f"))||void 0===a?void 0:a.values())?d(this,A,"f").toCore():void 0,referenceInputs:(null===(s=d(this,E,"f"))||void 0===s?void 0:s.size())?d(this,E,"f").toCore():void 0,requiredExtraSignatures:null===(i=d(this,P,"f"))||void 0===i?void 0:i.toCore(),scriptIntegrityHash:d(this,g,"f"),totalCollateral:d(this,T,"f"),treasuryValue:d(this,I,"f"),update:d(this,_,"f")?d(this,_,"f").toCore():void 0,validityInterval:void 0!==d(this,h,"f")||void 0!==d(this,y,"f")?{invalidBefore:d(this,y,"f"),invalidHereafter:d(this,h,"f")}:void 0,votingProcedures:d(this,k,"f")?d(this,k,"f").toCore():void 0,withdrawals:d(this,m,"f")?[...d(this,m,"f")].map(([e,t])=>({quantity:t,stakeAddress:e})):void 0}}static fromCore(e){const t=new TransactionBody(M.CborSet.fromCore(e.inputs,K.TransactionInput.fromCore),e.outputs.map(e=>L.TransactionOutput.fromCore(e)),e.fee);if(e.auxiliaryDataHash)t.setAuxiliaryDataHash(e.auxiliaryDataHash);if(e.certificates)t.setCerts(M.CborSet.fromCore(e.certificates,F.Certificate.fromCore));if(e.collateralReturn)t.setCollateralReturn(L.TransactionOutput.fromCore(e.collateralReturn));if(e.collaterals)t.setCollateral(M.CborSet.fromCore(e.collaterals,K.TransactionInput.fromCore));if(e.mint)t.setMint(e.mint);if(void 0!==e.networkId)t.setNetworkId(e.networkId);if(e.referenceInputs)t.setReferenceInputs(M.CborSet.fromCore(e.referenceInputs,K.TransactionInput.fromCore));if(e.requiredExtraSignatures)t.setRequiredSigners(M.CborSet.fromCore(e.requiredExtraSignatures,M.Hash.fromCore));if(e.scriptIntegrityHash)t.setScriptDataHash(e.scriptIntegrityHash);if(void 0!==e.totalCollateral)t.setTotalCollateral(e.totalCollateral);if(e.update)t.setUpdate(z.Update.fromCore(e.update));if(e.validityInterval){if(void 0!==e.validityInterval.invalidHereafter)t.setTtl(e.validityInterval.invalidHereafter);if(void 0!==e.validityInterval.invalidBefore)t.setValidityStartInterval(e.validityInterval.invalidBefore)}if(e.withdrawals){t.setWithdrawals(new Map);for(const r of e.withdrawals)t.withdrawals().set(r.stakeAddress,r.quantity)}if(void 0!==e.donation)t.setDonation(e.donation);if(void 0!==e.treasuryValue)t.setCurrentTreasuryValue(e.treasuryValue);if(e.votingProcedures)t.setVotingProcedures(U.VotingProcedures.fromCore(e.votingProcedures));if(e.proposalProcedures)t.setProposalProcedures(M.CborSet.fromCore(e.proposalProcedures,H.ProposalProcedure.fromCore));return t}setInputs(e){n(this,l,e,"f");n(this,x,void 0,"f")}inputs(){return d(this,l,"f")}setOutputs(e){n(this,u,e,"f");n(this,x,void 0,"f")}outputs(){return d(this,u,"f")}setFee(e){n(this,f,e,"f");n(this,x,void 0,"f")}fee(){return d(this,f,"f")}setTtl(e){n(this,h,e,"f");n(this,x,void 0,"f")}ttl(){return d(this,h,"f")}setCerts(e){n(this,p,e,"f");n(this,x,void 0,"f")}certs(){return d(this,p,"f")}setWithdrawals(e){n(this,m,e,"f");n(this,x,void 0,"f")}withdrawals(){return d(this,m,"f")}setUpdate(e){n(this,_,e,"f");n(this,x,void 0,"f")}update(){return d(this,_,"f")}setAuxiliaryDataHash(e){n(this,v,e,"f");n(this,x,void 0,"f")}auxiliaryDataHash(){return d(this,v,"f")}setValidityStartInterval(e){n(this,y,e,"f");n(this,x,void 0,"f")}validityStartInterval(){return d(this,y,"f")}setMint(e){n(this,w,(0,$.multiAssetsToTokenMap)(new Map([...(0,$.tokenMapToMultiAsset)(e).entries()].sort($.sortCanonically))),"f");n(this,x,void 0,"f")}mint(){return d(this,w,"f")}setScriptDataHash(e){n(this,g,e,"f");n(this,x,void 0,"f")}scriptDataHash(){return d(this,g,"f")}setCollateral(e){n(this,b,e,"f");n(this,x,void 0,"f")}collateral(){return d(this,b,"f")}setRequiredSigners(e){n(this,P,e,"f");n(this,x,void 0,"f")}requiredSigners(){return d(this,P,"f")}setNetworkId(e){n(this,C,e,"f");n(this,x,void 0,"f")}networkId(){return d(this,C,"f")}setCollateralReturn(e){n(this,S,e,"f");n(this,x,void 0,"f")}collateralReturn(){return d(this,S,"f")}setTotalCollateral(e){n(this,T,e,"f");n(this,x,void 0,"f")}totalCollateral(){return d(this,T,"f")}setReferenceInputs(e){n(this,E,e,"f");n(this,x,void 0,"f")}referenceInputs(){return d(this,E,"f")}setVotingProcedures(e){n(this,k,e,"f");n(this,x,void 0,"f")}votingProcedures(){return d(this,k,"f")}setProposalProcedures(e){n(this,A,e,"f");n(this,x,void 0,"f")}proposalProcedures(){return d(this,A,"f")}setCurrentTreasuryValue(e){n(this,I,e,"f");n(this,x,void 0,"f")}currentTreasuryValue(){return d(this,I,"f")}setDonation(e){n(this,j,e,"f");n(this,x,void 0,"f")}donation(){return d(this,j,"f")}hash(){return B.blake2b.hash(this.toCbor(),32)}hasTaggedSets(){const e=new D.CborReader(d(this,l,"f").toCbor());return e.peekState()===D.CborReaderState.Tag&&e.peekTag()===D.CborTag.Set}hasBabbageOutput(){if(0===d(this,u,"f").length)return false;const e=new D.CborReader(d(this,u,"f")[0].toCbor());return e.peekState()===D.CborReaderState.StartMap}constructor(e,t,r,a){c.add(this);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,void 0);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0);n(this,l,e,"f");n(this,u,t,"f");n(this,f,r,"f");n(this,h,a,"f")}}t.TransactionBody=TransactionBody;l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,c=new WeakSet,R=function _TransactionBody_getMapSize(){var e;let t=0;if(void 0!==d(this,l,"f")&&d(this,l,"f").size()>0)++t;if(void 0!==d(this,u,"f"))++t;if(void 0!==d(this,f,"f"))++t;if(void 0!==d(this,h,"f"))++t;if(void 0!==d(this,p,"f")&&d(this,p,"f").size()>0)++t;if(void 0!==d(this,m,"f")&&d(this,m,"f").size>0)++t;if(void 0!==d(this,_,"f"))++t;if(void 0!==d(this,v,"f"))++t;if(void 0!==d(this,y,"f"))++t;if(void 0!==d(this,w,"f")&&d(this,w,"f").size>0)++t;if(void 0!==d(this,g,"f"))++t;if(void 0!==d(this,b,"f")&&d(this,b,"f").size()>0)++t;if((null===(e=d(this,P,"f"))||void 0===e?void 0:e.values())!==void 0&&d(this,P,"f").size()>0)++t;if(void 0!==d(this,C,"f"))++t;if(void 0!==d(this,S,"f"))++t;if(void 0!==d(this,T,"f"))++t;if(void 0!==d(this,E,"f")&&d(this,E,"f").size()>0)++t;if(void 0!==d(this,k,"f"))++t;if(void 0!==d(this,A,"f")&&d(this,A,"f").size()>0)++t;if(void 0!==d(this,I,"f"))++t;if(void 0!==d(this,j,"f"))++t;return t}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionInput.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.TransactionInput=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=2;class TransactionInput{toCbor(){if(i(this,d,"f"))return i(this,d,"f");const e=new c.CborWriter;e.writeStartArray(u);e.writeByteString(a.from(i(this,o,"f"),"hex"));e.writeInt(i(this,n,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==u)throw new l.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=t.readByteString();const i=t.readInt();const o=new TransactionInput(l.HexBlob.fromBytes(a),i);s(o,d,e,"f");return o}toCore(){return{index:Number(i(this,n,"f")),txId:i(this,o,"f")}}static fromCore(e){return new TransactionInput(e.txId,BigInt(e.index))}transactionId(){return i(this,o,"f")}setTransactionId(e){s(this,o,e,"f");s(this,d,void 0,"f")}index(){return i(this,n,"f")}setIndex(e){s(this,n,e,"f");s(this,d,void 0,"f")}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f")}}t.TransactionInput=TransactionInput;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionOutput.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.TransactionOutput=t.REQUIRED_FIELDS_COUNT=void 0;const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Datum.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/Value.js");t.REQUIRED_FIELDS_COUNT=2;class TransactionOutput{toCbor(){if(i(this,u,"f"))return i(this,u,"f");const e=new p.CborWriter;const r=i(this,o,"m",f).call(this);if(r===t.REQUIRED_FIELDS_COUNT||3===r&&void 0!==i(this,c,"f")&&i(this,c,"f").kind()===m.DatumKind.DataHash){e.writeStartArray(r);e.writeByteString(a.from(i(this,n,"f").toBytes(),"hex"));e.writeEncodedValue(a.from(i(this,d,"f").toCbor(),"hex"));if(void 0!==i(this,c,"f"))e.writeByteString(a.from(i(this,c,"f").asDataHash(),"hex"))}else{e.writeStartMap(r);e.writeInt(0n);e.writeByteString(a.from(i(this,n,"f").toBytes(),"hex"));e.writeInt(1n);e.writeEncodedValue(a.from(i(this,d,"f").toCbor(),"hex"));if(void 0!==i(this,c,"f")){e.writeInt(2n);e.writeStartArray(2);e.writeInt(i(this,c,"f").kind());switch(i(this,c,"f").kind()){case m.DatumKind.DataHash:e.writeByteString(a.from(i(this,c,"f").asDataHash(),"hex"));break;case m.DatumKind.InlineData:e.writeTag(p.CborTag.EncodedCborDataItem);e.writeByteString(a.from(i(this,c,"f").asInlineData().toCbor(),"hex"));break}}if(void 0!==i(this,l,"f")){e.writeInt(3n);e.writeTag(p.CborTag.EncodedCborDataItem);e.writeByteString(a.from(i(this,l,"f").toCbor(),"hex"))}}return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);let r;let a;let i;let o;if(t.peekState()===p.CborReaderState.StartMap){t.readStartMap();while(t.peekState()!==p.CborReaderState.EndMap){const n=t.readInt();switch(n){case 0n:r=h.Address.fromBytes(_.HexBlob.fromBytes(t.readByteString()));break;case 1n:a=w.Value.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()));break;case 2n:{const d=new p.CborReader(_.HexBlob.fromBytes(t.readEncodedValue()));d.readStartArray();const c=Number(d.readInt());if(c===m.DatumKind.InlineData){const l=d.readTag();if(l!==p.CborTag.EncodedCborDataItem)throw new _.InvalidArgumentError("cbor",`Expected tag ${p.CborTag.EncodedCborDataItem} but got ${l}`)}const f=d.readByteString();let g;let b;if(c===m.DatumKind.DataHash)g=_.HexBlob.fromBytes(f);if(c===m.DatumKind.InlineData)b=v.PlutusData.fromCbor(_.HexBlob.fromBytes(f));i=new m.Datum(g,b);break}case 3n:{const P=new p.CborReader(_.HexBlob.fromBytes(t.readEncodedValue()));const C=P.readTag();if(C!==p.CborTag.EncodedCborDataItem)throw new _.InvalidArgumentError("cbor",`Expected tag ${p.CborTag.EncodedCborDataItem} but got ${C}`);const S=P.readByteString();o=y.Script.fromCbor(_.HexBlob.fromBytes(S));break}}}t.readEndMap()}else{const T=t.readStartArray();r=h.Address.fromBytes(_.HexBlob.fromBytes(t.readByteString()));a=w.Value.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()));if(3===T){const E=t.readByteString();i=m.Datum.newDataHash(_.HexBlob.fromBytes(E))}}if(!r)throw new _.InvalidArgumentError("cbor","Transaction output does not contain an address.");if(!a)throw new _.InvalidArgumentError("cbor","Transaction output does not contain a value.");const k=new TransactionOutput(r,a);if(i)k.setDatum(i);if(o)k.setScriptRef(o);s(k,u,e,"f");return k}toCore(){var e;const t=i(this,d,"f").toCore();if(!t.assets)delete t.assets;const r={address:i(this,n,"f").asByron()?i(this,n,"f").toBase58():i(this,n,"f").toBech32(),value:t};if(i(this,c,"f")&&i(this,c,"f").kind()===m.DatumKind.InlineData)r.datum=null===(e=i(this,c,"f").asInlineData())||void 0===e?void 0:e.toCore();if(i(this,c,"f")&&i(this,c,"f").kind()===m.DatumKind.DataHash)r.datumHash=i(this,c,"f").asDataHash();if(i(this,l,"f"))r.scriptReference=i(this,l,"f").toCore();return r}static fromCore(e){const t=h.Address.fromString(e.address);if(!t)throw new _.InvalidArgumentError("coreTransactionOutput",`Invalid address ${t}`);const r=new TransactionOutput(t,w.Value.fromCore(e.value));if(e.datum)r.setDatum(m.Datum.fromCore(e.datum));if(e.datumHash)r.setDatum(m.Datum.fromCore(e.datumHash));if(e.scriptReference)r.setScriptRef(y.Script.fromCore(e.scriptReference));return r}address(){return i(this,n,"f")}amount(){return i(this,d,"f")}datum(){return i(this,c,"f")}setDatum(e){s(this,c,e,"f")}scriptRef(){return i(this,l,"f")}setScriptRef(e){s(this,l,e,"f")}isBabbageOutput(){const e=new p.CborReader(this.toCbor());return e.peekState()===p.CborReaderState.StartMap}constructor(e,t){o.add(this);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);s(this,n,e,"f");s(this,d,t,"f")}}t.TransactionOutput=TransactionOutput;n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,o=new WeakSet,f=function _TransactionOutput_getMapSize(){let e=t.REQUIRED_FIELDS_COUNT;if(i(this,c,"f"))++e;if(i(this,l,"f"))++e;return e}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/Utils.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.multiAssetsToTokenMap=t.tokenMapToMultiAsset=t.sortCanonically=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js");const sortCanonically=(e,t)=>{if(e[0].length===t[0].length){return e[0]>t[0]?1:-1}if(e[0].length>t[0].length)return 1;return -1};t.sortCanonically=sortCanonically;const tokenMapToMultiAsset=e=>{const r=new Map;const s=new Map([...e.entries()].sort(t.sortCanonically));for(const[i,o]of s.entries()){const n=a.AssetId.getPolicyId(i);const d=a.AssetId.getAssetName(i);if(!r.has(n))r.set(n,new Map);r.get(n).set(d,o)}return r};t.tokenMapToMultiAsset=tokenMapToMultiAsset;const multiAssetsToTokenMap=e=>{const t=new Map;for(const[r,s]of e.entries()){for(const[i,o]of s.entries()){const n=a.AssetId.fromParts(r,i);t.set(n,o)}}return t};t.multiAssetsToTokenMap=multiAssetsToTokenMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/Value.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.Value=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/Utils.js");const f=2;class Value{toCbor(){if(i(this,d,"f"))return i(this,d,"f");const e=new c.CborWriter;if(!i(this,n,"f")||i(this,n,"f").size<=0)e.writeInt(i(this,o,"f"));else{e.writeStartArray(f);e.writeInt(i(this,o,"f"));const t=(0,u.tokenMapToMultiAsset)(i(this,n,"f"));const r=new Map([...t.entries()].sort(u.sortCanonically));e.writeStartMap(r.size);for(const[s,l]of r.entries()){e.writeByteString(a.from(s,"hex"));const h=new Map([...l.entries()].sort(u.sortCanonically));e.writeStartMap(h.size);for(const[p,m]of h.entries()){e.writeByteString(a.from(p,"hex"));e.writeInt(m)}}}return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);if(t.peekState()===c.CborReaderState.UnsignedInteger){const r=t.readUInt();return new Value(r)}const i=t.readStartArray();if(i!==f)throw new l.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${i} elements`);const o=t.readUInt();const n=new Map;t.readStartMap();while(t.peekState()!==c.CborReaderState.EndMap){const h=l.HexBlob.fromBytes(t.readByteString());if(!n.has(h))n.set(h,new Map);t.readStartMap();while(t.peekState()!==c.CborReaderState.EndMap){const p=a.from(t.readByteString()).toString("hex");const m=t.readUInt();n.get(h).set(p,m)}t.readEndMap()}t.readEndMap();const _=new Map([...(0,u.multiAssetsToTokenMap)(n)].sort(u.sortCanonically));const v=new Value(o,_);s(v,d,e,"f");return v}toCore(){return{assets:i(this,n,"f"),coins:i(this,o,"f")}}static fromCore(e){return new Value(e.coins,e.assets)}coin(){return i(this,o,"f")}setCoin(e){s(this,o,e,"f");s(this,d,void 0,"f")}multiasset(){return i(this,n,"f")}setMultiasset(e){s(this,n,(0,u.multiAssetsToTokenMap)(new Map([...(0,u.tokenMapToMultiAsset)(e).entries()].sort(u.sortCanonically))),"f");s(this,d,void 0,"f")}constructor(e,t){o.set(this,0n);n.set(this,void 0);d.set(this,void 0);s(this,o,e,"f");s(this,n,t?(0,u.multiAssetsToTokenMap)(new Map([...(0,u.tokenMapToMultiAsset)(t).entries()].sort(u.sortCanonically))):void 0,"f")}}t.Value=Value;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/Voter.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.Voter=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VoterKind.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Governance.js");const p=2;class Voter{toCbor(){if(i(this,d,"f"))return i(this,d,"f");const e=new c.CborWriter;e.writeStartArray(p);e.writeInt(i(this,o,"f"));e.writeByteString(a.from(i(this,n,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){let t;const r=new c.CborReader(e);const a=r.readStartArray();if(a!==p)throw new u.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${a} elements`);const i=Number(r.readInt());const o=u.HexBlob.fromBytes(r.readByteString());switch(i){case f.VoterKind.ConstitutionalCommitteeKeyHash:case f.VoterKind.DrepKeyHash:case f.VoterKind.StakePoolKeyHash:t={hash:o,type:l.CredentialType.KeyHash};break;case f.VoterKind.ConstitutionalCommitteeScriptHash:case f.VoterKind.DRepScriptHash:t={hash:o,type:l.CredentialType.ScriptHash};break;default:throw new u.InvalidStateError(`Unexpected kind value: ${i}`)}const n=new Voter(i,t);s(n,d,e,"f");return n}toCore(){switch(i(this,o,"f")){case f.VoterKind.ConstitutionalCommitteeKeyHash:return{__typename:h.VoterType.ccHotKeyHash,credential:{hash:i(this,n,"f").hash,type:l.CredentialType.KeyHash}};case f.VoterKind.ConstitutionalCommitteeScriptHash:return{__typename:h.VoterType.ccHotScriptHash,credential:{hash:i(this,n,"f").hash,type:l.CredentialType.ScriptHash}};case f.VoterKind.DrepKeyHash:return{__typename:h.VoterType.dRepKeyHash,credential:{hash:i(this,n,"f").hash,type:l.CredentialType.KeyHash}};case f.VoterKind.DRepScriptHash:return{__typename:h.VoterType.dRepScriptHash,credential:{hash:i(this,n,"f").hash,type:l.CredentialType.ScriptHash}};case f.VoterKind.StakePoolKeyHash:return{__typename:h.VoterType.stakePoolKeyHash,credential:{hash:i(this,n,"f").hash,type:l.CredentialType.KeyHash}};default:throw new u.InvalidStateError(`Unexpected kind value: ${i(this,o,"f")}`)}}static fromCore(e){let t;switch(e.__typename){case h.VoterType.ccHotKeyHash:case h.VoterType.ccHotScriptHash:t=Voter.newConstitutionalCommitteeHotKey(e.credential);break;case h.VoterType.dRepKeyHash:case h.VoterType.dRepScriptHash:t=Voter.newDrep(e.credential);break;case h.VoterType.stakePoolKeyHash:t=Voter.newStakingPool(e.credential.hash);break;default:throw new u.InvalidStateError("Unexpected Voter type")}return t}static newConstitutionalCommitteeHotKey(e){const t=e.type===l.CredentialType.KeyHash?f.VoterKind.ConstitutionalCommitteeKeyHash:f.VoterKind.ConstitutionalCommitteeScriptHash;return new Voter(t,e)}static newDrep(e){const t=e.type===l.CredentialType.KeyHash?f.VoterKind.DrepKeyHash:f.VoterKind.DRepScriptHash;return new Voter(t,e)}static newStakingPool(e){return new Voter(f.VoterKind.StakePoolKeyHash,{hash:e,type:l.CredentialType.KeyHash})}kind(){return i(this,o,"f")}toConstitutionalCommitteeHotCred(){if(i(this,o,"f")===f.VoterKind.ConstitutionalCommitteeKeyHash||i(this,o,"f")===f.VoterKind.ConstitutionalCommitteeScriptHash)return i(this,n,"f");return}toDrepCred(){if(i(this,o,"f")===f.VoterKind.DrepKeyHash||i(this,o,"f")===f.VoterKind.DRepScriptHash)return i(this,n,"f");return}toStakingPoolKeyHash(){if(i(this,o,"f")===f.VoterKind.StakePoolKeyHash)return i(this,n,"f").hash;return}equals(e){return i(this,o,"f")===i(e,o,"f")&&i(this,n,"f").type===i(e,n,"f").type&&i(this,n,"f").hash===i(e,n,"f").hash}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f")}}t.Voter=Voter;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VoterKind.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.VoterKind=void 0;var r;(function(e){e[e["ConstitutionalCommitteeKeyHash"]=0]="ConstitutionalCommitteeKeyHash";e[e["ConstitutionalCommitteeScriptHash"]=1]="ConstitutionalCommitteeScriptHash";e[e["DrepKeyHash"]=2]="DrepKeyHash";e[e["DRepScriptHash"]=3]="DRepScriptHash";e[e["StakePoolKeyHash"]=4]="StakePoolKeyHash"})(r=t.VoterKind||(t.VoterKind={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VotingProcedure.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.VotingProcedure=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/Anchor.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const f=2;class VotingProcedure{toCbor(){if(s(this,n,"f"))return s(this,n,"f");const e=new c.CborWriter;e.writeStartArray(f);e.writeInt(s(this,i,"f"));s(this,o,"f")?e.writeEncodedValue((0,u.hexToBytes)(s(this,o,"f").toCbor())):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);t.readStartArray();const r=Number(t.readInt());let s;if(t.peekState()===c.CborReaderState.Null){t.readNull();s=void 0}else{s=d.Anchor.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()))}const i=new VotingProcedure(r,s);a(i,n,e,"f");return i}toCore(){return{anchor:s(this,o,"f")?s(this,o,"f").toCore():null,vote:s(this,i,"f")}}static fromCore(e){return new VotingProcedure(e.vote,e.anchor?d.Anchor.fromCore(e.anchor):void 0)}vote(){return s(this,i,"f")}setVote(e){a(this,i,e,"f");a(this,n,void 0,"f")}anchor(){return s(this,o,"f")}setAnchor(e){a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.VotingProcedure=VotingProcedure;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VotingProcedures.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.VotingProcedures=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/GovernanceActionId.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/Voter.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VotingProcedure.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");class VotingProcedures{toCbor(){if(a(this,o,"f"))return a(this,o,"f");const e=new n.CborWriter;const t=this.getVoters();if(0===t.length)throw new c.InvalidStateError("Empty VotingProcedures. There must be at least one VotingProcedure in the map");e.writeStartMap(t.length);for(const r of t){const s=this.getGovernanceActionIdsByVoter(r);if(0===s.length)throw new c.InvalidStateError("Each voter must at least be associated to a GovernanceActionId");e.writeEncodedValue((0,f.hexToBytes)(r.toCbor()));e.writeStartMap(s.length);for(const i of s){e.writeEncodedValue((0,f.hexToBytes)(i.toCbor()));const d=this.get(r,i);if(!d)throw new c.InvalidStateError("Each governanceActionIds must at least be associated to a vote");e.writeEncodedValue((0,f.hexToBytes)(d.toCbor()))}}return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);const r=new VotingProcedures;t.readStartMap();while(t.peekState()!==n.CborReaderState.EndMap){const a=l.Voter.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));t.readStartMap();while(t.peekState()!==n.CborReaderState.EndMap){const i=d.GovernanceActionId.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));const f=u.VotingProcedure.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));r.insert(a,i,f)}t.readEndMap()}t.readEndMap();s(r,o,e,"f");return r}toCore(){return a(this,i,"f").map(e=>{const t=e.voter.toCore();const r=e.votes.map(e=>({actionId:e.actionId.toCore(),votingProcedure:e.votingProcedure.toCore()}));return{voter:t,votes:r}})}static fromCore(e){const t=new VotingProcedures;s(t,i,e.map(e=>{const t=l.Voter.fromCore(e.voter);const r=e.votes.map(e=>({actionId:d.GovernanceActionId.fromCore(e.actionId),votingProcedure:u.VotingProcedure.fromCore(e.votingProcedure)}));return{voter:t,votes:r}}),"f");return t}insert(e,t,r){const n=a(this,i,"f").find(t=>t.voter.equals(e));if(!n){a(this,i,"f").push({voter:e,votes:[{actionId:t,votingProcedure:r}]});return}const d=n.votes.find(e=>e.actionId.equals(t));if(d)throw new c.InvalidArgumentError("actionId","Voter already has a voting procedure for the given actionId");n.votes.push({actionId:t,votingProcedure:r});s(this,o,void 0,"f")}get(e,t){const r=a(this,i,"f").find(t=>t.voter.equals(e));if(!r)return;const s=r.votes.find(e=>e.actionId.equals(t));if(!s)return;return s.votingProcedure}getVoters(){return a(this,i,"f").map(e=>e.voter)}getGovernanceActionIdsByVoter(e){const t=a(this,i,"f").find(t=>t.voter.equals(e));if(!t)return[];return t.votes.map(e=>e.actionId)}constructor(){i.set(this,[]);o.set(this,void 0)}}t.VotingProcedures=VotingProcedures;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VoterKind.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/Voter.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VotingProcedure.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/VotingProcedures.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionBody.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionInput.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/TransactionOutput.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/Value.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/VotingProcedures/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/ProposalProcedure/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionUnspentOutput.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.TransactionUnspentOutput=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const f=2;class TransactionUnspentOutput{toCbor(){if(s(this,n,"f"))return s(this,n,"f");const e=new d.CborWriter;e.writeStartArray(f);e.writeEncodedValue((0,u.hexToBytes)(s(this,i,"f").toCbor()));e.writeEncodedValue((0,u.hexToBytes)(s(this,o,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==f)throw new c.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const s=l.TransactionInput.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));const i=l.TransactionOutput.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));const o=new TransactionUnspentOutput(s,i);a(o,n,e,"f");return o}toCore(){return[s(this,i,"f").toCore(),s(this,o,"f").toCore()]}static fromCore(e){return new TransactionUnspentOutput(l.TransactionInput.fromCore(e[0]),l.TransactionOutput.fromCore(e[1]))}input(){return s(this,i,"f")}setInput(e){a(this,i,e,"f");a(this,n,void 0,"f")}output(){return s(this,o,"f")}setOutput(e){a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.TransactionUnspentOutput=TransactionUnspentOutput;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/BootstrapWitness.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.BootstrapWitness=void 0;const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const h=4;const p=(0,l.HexBlob)("a0");class BootstrapWitness{toCbor(){const e=new u.CborWriter;if(s(this,c,"f"))return s(this,c,"f");if(s(this,n,"f").length/2!==32)throw new l.InvalidStateError(`Chaincode must be 32 bytes long, but got ${s(this,n,"f").length/2} bytes long`);e.writeStartArray(h);e.writeByteString((0,f.hexToBytes)(s(this,i,"f")));e.writeByteString((0,f.hexToBytes)(s(this,o,"f")));e.writeByteString((0,f.hexToBytes)(s(this,n,"f")));e.writeByteString((0,f.hexToBytes)(s(this,d,"f")));return e.encodeAsHex()}static fromCbor(e){const t=new u.CborReader(e);const r=t.readStartArray();if(r!==h)throw new l.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const s=l.HexBlob.fromBytes(t.readByteString());const i=l.HexBlob.fromBytes(t.readByteString());const o=l.HexBlob.fromBytes(t.readByteString());const n=l.HexBlob.fromBytes(t.readByteString());t.readEndArray();const d=new BootstrapWitness(s,i,o,n);a(d,c,e,"f");return d}toCore(){return{addressAttributes:l.Base64Blob.fromBytes((0,f.hexToBytes)(s(this,d,"f"))),chainCode:s(this,n,"f"),key:s(this,i,"f"),signature:s(this,o,"f")}}static fromCore(e){if(!e.chainCode)throw new l.InvalidStateError("Chaincode must be present");if(e.chainCode.length/2!==32)throw new l.InvalidStateError(`Chaincode must be 32 bytes long, but got ${e.chainCode.length/2} bytes long`);return new BootstrapWitness(e.key,e.signature,e.chainCode,e.addressAttributes?l.HexBlob.fromBase64(e.addressAttributes):p)}vkey(){return s(this,i,"f")}setVkey(e){a(this,i,e,"f");a(this,c,void 0,"f")}signature(){return s(this,o,"f")}setSignature(e){a(this,o,e,"f");a(this,c,void 0,"f")}chainCode(){return s(this,n,"f")}setChainCode(e){if(e.length/2!==32)throw new l.InvalidStateError(`Chaincode must be 32 bytes long, but got ${e.length/2} bytes long`);a(this,n,e,"f");a(this,c,void 0,"f")}attributes(){return s(this,d,"f")}setAttributes(e){a(this,d,e,"f");a(this,c,void 0,"f")}constructor(e,t,r,s){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f");a(this,n,r,"f");a(this,d,s,"f")}}t.BootstrapWitness=BootstrapWitness;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var n=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.Redeemer=void 0;const h=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const _=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/index.js");const y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Transaction.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/RedeemerTag.js");const g=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const b=4;const P=32;class Redeemer{toCbor(){const e=new p.CborWriter;if(n(this,f,"f"))return n(this,f,"f");e.writeStartArray(b);e.writeInt(n(this,d,"f"));e.writeInt(n(this,c,"f"));e.writeEncodedValue((0,g.hexToBytes)(n(this,l,"f").toCbor()));e.writeEncodedValue((0,g.hexToBytes)(n(this,u,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new p.CborReader(e);const r=t.readStartArray();if(r!==b)throw new _.InvalidArgumentError("cbor",`Expected an array of ${b} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());const s=t.readUInt();const i=v.PlutusData.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()));const n=m.ExUnits.fromCbor(_.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const d=new Redeemer(a,s,i,n);o(d,f,e,"f");return d}toCore(){let e;switch(n(this,d,"f")){case w.RedeemerTag.Spend:e=y.RedeemerPurpose.spend;break;case w.RedeemerTag.Mint:e=y.RedeemerPurpose.mint;break;case w.RedeemerTag.Cert:e=y.RedeemerPurpose.certificate;break;case w.RedeemerTag.Reward:e=y.RedeemerPurpose.withdrawal;break;case w.RedeemerTag.Voting:e=y.RedeemerPurpose.vote;break;case w.RedeemerTag.Proposing:e=y.RedeemerPurpose.propose;break;default:throw new _.InvalidStateError(`Invalid redeemer type ${n(this,d,"f")}`)}return{data:n(this,l,"f").toCore(),executionUnits:n(this,u,"f").toCore(),index:Number(n(this,c,"f")),purpose:e}}static fromCore(e){let t;switch(e.purpose){case y.RedeemerPurpose.spend:t=w.RedeemerTag.Spend;break;case y.RedeemerPurpose.mint:t=w.RedeemerTag.Mint;break;case y.RedeemerPurpose.certificate:t=w.RedeemerTag.Cert;break;case y.RedeemerPurpose.withdrawal:t=w.RedeemerTag.Reward;break;case y.RedeemerPurpose.vote:t=w.RedeemerTag.Voting;break;case y.RedeemerPurpose.propose:t=w.RedeemerTag.Proposing;break;default:throw new _.InvalidStateError(`Invalid redeemer type ${e.purpose}`)}return new Redeemer(t,BigInt(e.index),v.PlutusData.fromCore(e.data),m.ExUnits.fromCore(e.executionUnits))}tag(){return n(this,d,"f")}setTag(e){o(this,d,e,"f");o(this,f,void 0,"f")}index(){return n(this,c,"f")}setIndex(e){o(this,c,e,"f");o(this,f,void 0,"f")}data(){return n(this,l,"f")}setData(e){o(this,l,e,"f");o(this,f,void 0,"f")}exUnits(){return n(this,u,"f")}setExUnits(e){o(this,u,e,"f");o(this,f,void 0,"f")}hash(){return h.blake2b.hash(this.toCbor(),P)}constructor(e,t,r,a){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);o(this,d,e,"f");o(this,c,t,"f");o(this,l,r,"f");o(this,u,a,"f")}}t.Redeemer=Redeemer;d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/RedeemerTag.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RedeemerTag=void 0;var r;(function(e){e[e["Spend"]=0]="Spend";e[e["Mint"]=1]="Mint";e[e["Cert"]=2]="Cert";e[e["Reward"]=3]="Reward";e[e["Voting"]=4]="Voting";e[e["Proposing"]=5]="Proposing"})(r=t.RedeemerTag||(t.RedeemerTag={}))},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/Redeemers.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n;Object.defineProperty(t,"__esModule",{value:true});t.Redeemers=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/conwayEra.js");const m=2;const _=2;class Redeemers{toCbor(){if(i(this,n,"f"))return i(this,n,"f");const e=new d.CborWriter;if(p.inConwayEra){const t=new Map(i(this,o,"f").map(e=>[`${e.tag()}:${e.index()}`,e]));e.writeStartMap(t.size);for(const r of t.values()){e.writeStartArray(2);e.writeInt(r.tag());e.writeInt(r.index());e.writeStartArray(2);e.writeEncodedValue((0,h.hexToBytes)(r.data().toCbor()));e.writeEncodedValue((0,h.hexToBytes)(r.exUnits().toCbor()))}}else{e.writeStartArray(i(this,o,"f").length);for(const s of i(this,o,"f"))e.writeEncodedValue(a.from(s.toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=[];const r=new d.CborReader(e);if(r.peekState()===d.CborReaderState.StartMap){r.readStartMap();while(r.peekState()!==d.CborReaderState.EndMap){const a=r.readStartArray();if(a!==m)throw new l.InvalidArgumentError("cbor",`Redeemers map index should be an array of ${m} elements, but got an array of ${a} elements`);const i=Number(r.readUInt());const o=r.readUInt();r.readEndArray();const h=r.readStartArray();if(h!==_)throw new l.InvalidArgumentError("cbor",`Redeemers map value should be an array of ${_} elements, but got an array of ${h} elements`);const p=u.PlutusData.fromCbor(l.HexBlob.fromBytes(r.readEncodedValue()));const v=c.ExUnits.fromCbor(l.HexBlob.fromBytes(r.readEncodedValue()));r.readEndArray();t.push(new f.Redeemer(i,o,p,v))}r.readEndMap()}else{r.readStartArray();while(r.peekState()!==d.CborReaderState.EndArray){t.push(f.Redeemer.fromCbor(l.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray()}const y=new Redeemers(t);s(y,n,e,"f");return y}toCore(){return i(this,o,"f").map(e=>e.toCore())}static fromCore(e){return new Redeemers(e.map(e=>f.Redeemer.fromCore(e)))}values(){return i(this,o,"f")}setValues(e){s(this,o,[...e],"f");s(this,n,void 0,"f")}size(){return i(this,o,"f").length}constructor(e){o.set(this,void 0);n.set(this,void 0);s(this,o,[...e],"f")}}t.Redeemers=Redeemers;o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/RedeemerTag.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/Redeemers.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/TransactionWitnessSet.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var n,d,c,l,u,f,h,p,m,_,v,y,w,g;Object.defineProperty(t,"__esModule",{value:true});t.TransactionWitnessSet=void 0;const b=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/BootstrapWitness.js");const P=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const C=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const S=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const T=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/index.js");const E=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/PlutusData.js");const k=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const A=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/index.js");const I=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const j=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/VkeyWitness.js");const x=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const R=o(r("../../node_modules/lodash/uniqWith.js"));class TransactionWitnessSet{toCbor(){const e=new P.CborWriter;if(s(this,v,"f"))return s(this,v,"f");e.writeStartMap(s(this,n,"m",g).call(this));if(void 0!==s(this,c,"f")&&s(this,c,"f").size()>0){s(this,c,"f").setValues((0,R.default)(s(this,c,"f").values(),(e,t)=>e.vkey()===t.vkey()));e.writeInt(0n);e.writeEncodedValue(a.from(s(this,c,"f").toCbor(),"hex"))}if(void 0!==s(this,l,"f")&&s(this,l,"f").size()>0){e.writeInt(1n);e.writeEncodedValue(a.from(s(this,l,"f").toCbor(),"hex"))}if(void 0!==s(this,u,"f")&&s(this,u,"f").size()>0){s(this,u,"f").setValues((0,R.default)(s(this,u,"f").values(),(e,t)=>e.vkey()===t.vkey()));e.writeInt(2n);e.writeEncodedValue(a.from(s(this,u,"f").toCbor(),"hex"))}if(void 0!==s(this,f,"f")&&s(this,f,"f").size()>0){e.writeInt(3n);e.writeEncodedValue(a.from(s(this,f,"f").toCbor(),"hex"))}if(void 0!==s(this,h,"f")&&s(this,h,"f").size()>0){e.writeInt(4n);e.writeEncodedValue(a.from(s(this,h,"f").toCbor(),"hex"))}if(void 0!==s(this,p,"f")&&s(this,p,"f").size()>0){e.writeInt(5n);e.writeEncodedValue((0,x.hexToBytes)(s(this,p,"f").toCbor()))}if(void 0!==s(this,m,"f")&&s(this,m,"f").size()>0){e.writeInt(6n);e.writeEncodedValue(a.from(s(this,m,"f").toCbor(),"hex"))}if(void 0!==s(this,_,"f")&&s(this,_,"f").size()>0){e.writeInt(7n);e.writeEncodedValue(a.from(s(this,_,"f").toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=new P.CborReader(e);const r=new TransactionWitnessSet;t.readStartMap();while(t.peekState()!==P.CborReaderState.EndMap){const a=t.readInt();switch(a){case 0n:r.setVkeys(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),j.VkeyWitness.fromCbor));break;case 1n:r.setNativeScripts(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),T.NativeScript.fromCbor));break;case 2n:r.setBootstraps(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),b.BootstrapWitness.fromCbor));break;case 3n:r.setPlutusV1Scripts(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),T.PlutusV1Script.fromCbor));break;case 4n:r.setPlutusData(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),E.PlutusData.fromCbor));break;case 5n:r.setRedeemers(A.Redeemers.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue())));break;case 6n:r.setPlutusV2Scripts(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),T.PlutusV2Script.fromCbor));break;case 7n:r.setPlutusV3Scripts(C.CborSet.fromCbor(S.HexBlob.fromBytes(t.readEncodedValue()),T.PlutusV3Script.fromCbor));break}}t.readEndMap();i(r,v,e,"f");return r}toCore(){var e;const t=s(this,n,"m",y).call(this);return{bootstrap:s(this,u,"f")?s(this,u,"f").toCore():void 0,datums:s(this,h,"f")?s(this,h,"f").toCore():void 0,redeemers:(null===(e=s(this,p,"f"))||void 0===e?void 0:e.size())?s(this,p,"f").toCore():void 0,scripts:t.length>0?t:void 0,signatures:s(this,c,"f")?new Map(s(this,c,"f").toCore()):new Map}}static fromCore(e){const t=new TransactionWitnessSet;if(e.signatures)t.setVkeys(C.CborSet.fromCore([...e.signatures],j.VkeyWitness.fromCore));if(e.scripts){const r=s(TransactionWitnessSet,d,"m",w).call(TransactionWitnessSet,e.scripts);if(r.native)t.setNativeScripts(r.native);if(r.plutusV1)t.setPlutusV1Scripts(r.plutusV1);if(r.plutusV2)t.setPlutusV2Scripts(r.plutusV2);if(r.plutusV3)t.setPlutusV3Scripts(r.plutusV3)}if(e.redeemers)t.setRedeemers(A.Redeemers.fromCore(e.redeemers));if(e.datums)t.setPlutusData(C.CborSet.fromCore(e.datums,E.PlutusData.fromCore));if(e.bootstrap)t.setBootstraps(C.CborSet.fromCore(e.bootstrap,b.BootstrapWitness.fromCore));return t}setVkeys(e){i(this,c,e,"f");i(this,v,void 0,"f")}vkeys(){return s(this,c,"f")}setNativeScripts(e){i(this,l,e,"f");i(this,v,void 0,"f")}nativeScripts(){return s(this,l,"f")}setBootstraps(e){i(this,u,e,"f");i(this,v,void 0,"f")}bootstraps(){return s(this,u,"f")}setPlutusV1Scripts(e){i(this,f,e,"f");i(this,v,void 0,"f")}plutusV1Scripts(){return s(this,f,"f")}setPlutusData(e){i(this,h,e,"f");i(this,v,void 0,"f")}plutusData(){return s(this,h,"f")}setRedeemers(e){i(this,p,e,"f");i(this,v,void 0,"f")}redeemers(){return s(this,p,"f")}setPlutusV2Scripts(e){i(this,m,e,"f");i(this,v,void 0,"f")}plutusV2Scripts(){return s(this,m,"f")}setPlutusV3Scripts(e){i(this,_,e,"f");i(this,v,void 0,"f")}plutusV3Scripts(){return s(this,_,"f")}constructor(){n.add(this);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0)}}t.TransactionWitnessSet=TransactionWitnessSet;d=TransactionWitnessSet,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,n=new WeakSet,y=function _TransactionWitnessSet_getCoreScripts(){const e=s(this,f,"f")?s(this,f,"f").toCore():[];const t=s(this,m,"f")?s(this,m,"f").toCore():[];const r=s(this,_,"f")?s(this,_,"f").toCore():[];const a=s(this,l,"f")?s(this,l,"f").toCore():[];return[...e,...t,...r,...a]},w=function _TransactionWitnessSet_getCddlScripts(e){const[t,r,a,s]=e.reduce(([e,t,r,a],s)=>{if(s.__type===k.ScriptType.Native)e?e.push(s):e=[s];else{switch(s.version){case k.PlutusLanguageVersion.V1:t?t.push(s):t=[s];break;case k.PlutusLanguageVersion.V2:r?r.push(s):r=[s];break;case k.PlutusLanguageVersion.V3:a?a.push(s):a=[s];break;default:throw new I.SerializationError(I.SerializationFailure.InvalidScriptType,`Script '${s}' is not supported.`)}}return[e,t,r,a]},[null,null,null,null]);return{...t&&{native:C.CborSet.fromCore(t,T.NativeScript.fromCore)},...r&&{plutusV1:C.CborSet.fromCore(r,T.PlutusV1Script.fromCore)},...a&&{plutusV2:C.CborSet.fromCore(a,T.PlutusV2Script.fromCore)},...s&&{plutusV3:C.CborSet.fromCore(s,T.PlutusV3Script.fromCore)}}},g=function _TransactionWitnessSet_getMapSize(){let e=0;if(void 0!==s(this,c,"f")&&s(this,c,"f").size()>0)++e;if(void 0!==s(this,l,"f")&&s(this,l,"f").size()>0)++e;if(void 0!==s(this,u,"f")&&s(this,u,"f").size()>0)++e;if(void 0!==s(this,f,"f")&&s(this,f,"f").size()>0)++e;if(void 0!==s(this,h,"f")&&s(this,h,"f").size()>0)++e;if(void 0!==s(this,p,"f")&&s(this,p,"f").size()>0)++e;if(void 0!==s(this,m,"f")&&s(this,m,"f").size()>0)++e;if(void 0!==s(this,_,"f")&&s(this,_,"f").size()>0)++e;return e}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/VkeyWitness.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.VkeyWitness=void 0;const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js");const u=2;class VkeyWitness{toCbor(){const e=new d.CborWriter;if(s(this,n,"f"))return s(this,n,"f");e.writeStartArray(u);e.writeByteString((0,l.hexToBytes)(s(this,i,"f")));e.writeByteString((0,l.hexToBytes)(s(this,o,"f")));return e.encodeAsHex()}static fromCbor(e){const t=new d.CborReader(e);const r=t.readStartArray();if(r!==u)throw new c.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const s=c.HexBlob.fromBytes(t.readByteString());const i=c.HexBlob.fromBytes(t.readByteString());t.readEndArray();const o=new VkeyWitness(s,i);a(o,n,e,"f");return o}toCore(){return[s(this,i,"f"),s(this,o,"f")]}static fromCore(e){return new VkeyWitness(e[0],e[1])}vkey(){return s(this,i,"f")}setVkey(e){a(this,i,e,"f");a(this,n,void 0,"f")}signature(){return s(this,o,"f")}setSignature(e){a(this,o,e,"f");a(this,n,void 0,"f")}constructor(e,t){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.VkeyWitness=VkeyWitness;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/Redeemer/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/BootstrapWitness.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/TransactionWitnessSet.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/VkeyWitness.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/CostModel.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.CostModel=void 0;const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");class CostModel{static newPlutusV1(e){return new CostModel(l.PlutusLanguageVersion.V1,e)}static newPlutusV2(e){return new CostModel(l.PlutusLanguageVersion.V2,e)}static newPlutusV3(e){return new CostModel(l.PlutusLanguageVersion.V3,e)}set(e,t){if(!s(this,i,"m",d).call(this,e))throw new c.InvalidArgumentError("operation",`The given operation ${e} is invalid for the current Language version ${s(this,o,"f")}.`);s(this,n,"f")[e]=t}get(e){if(!s(this,i,"m",d).call(this,e))throw new c.InvalidArgumentError("operation",`The given operation ${e} is invalid for the current Language version ${s(this,o,"f")}.`);return s(this,n,"f")[e]}costs(){return s(this,n,"f")}language(){return s(this,o,"f")}constructor(e,t){i.add(this);o.set(this,void 0);n.set(this,void 0);a(this,o,e,"f");a(this,n,t,"f")}}t.CostModel=CostModel;o=new WeakMap,n=new WeakMap,i=new WeakSet,d=function _CostModel_isOperationValid(e){return e>=0}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/Costmdls.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.Costmdls=void 0;const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/CostModel.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");class Costmdls{toCbor(){const e=new n.CborWriter;if(s(this,o,"f"))return s(this,o,"f");const t=new Map([...s(this,i,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,a]of t){e.writeInt(r);e.writeStartArray(a.costs().length);for(const d of a.costs())e.writeInt(d)}return e.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);t.readStartMap();const r=new Map;while(t.peekState()!==n.CborReaderState.EndMap){const s=Number(t.readInt());const i=new Array;t.readStartArray();while(t.peekState()!==n.CborReaderState.EndArray){i.push(Number(t.readInt()))}t.readEndArray();r.set(s,new d.CostModel(s,i))}t.readEndMap();const c=new Costmdls(r);a(c,o,e,"f");return c}toCore(){const e=new Map;for(const[t,r]of s(this,i,"f"))e.set(t,r.costs());return e}static fromCore(e){const t=new Map;for(const[r,a]of e)t.set(r,new d.CostModel(r,a));return new Costmdls(t)}size(){return s(this,i,"f").size}insert(e){s(this,i,"f").set(e.language(),e);a(this,o,void 0,"f")}get(e){return s(this,i,"f").get(e)}keys(){return[...s(this,i,"f").keys()]}languageViewsEncoding(){const e=new n.CborWriter;const t=new Map([...s(this,i,"f")].sort((e,t)=>{const r=e[0]===l.PlutusLanguageVersion.V1?65:e[0];const a=t[0]===l.PlutusLanguageVersion.V1?65:t[0];return r>a?1:-1}));e.writeStartMap(t.size);for(const[r,a]of t){switch(r){case l.PlutusLanguageVersion.V1:{const o=new n.CborWriter;o.writeStartArray();for(const d of a.costs())o.writeInt(d);o.writeEndArray();const u=o.encode();e.writeByteString(new Uint8Array([0]));e.writeByteString(u);break}case l.PlutusLanguageVersion.V2:case l.PlutusLanguageVersion.V3:e.writeInt(r);e.writeStartArray(a.costs().length);for(const f of a.costs())e.writeInt(f);break;default:throw new c.InvalidStateError("Invalid plutus language version.")}}return e.encodeAsHex()}constructor(e=new Map){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f")}}t.Costmdls=Costmdls;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/Costmdls.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/CostModel.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/DrepVotingThresholds.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c,l,u,f,h,p,m,_;Object.defineProperty(t,"__esModule",{value:true});t.DrepVotingThresholds=void 0;const v=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const y=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const w=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const g=10;class DrepVotingThresholds{toCbor(){const e=new v.CborWriter;if(i(this,_,"f"))return i(this,_,"f");e.writeStartArray(g);e.writeEncodedValue(a.from(i(this,o,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,n,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,d,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,c,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,l,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,u,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,f,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,h,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,p,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,m,"f").toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new v.CborReader(e);const r=t.readStartArray();if(r!==g)throw new y.InvalidArgumentError("cbor",`Expected an array of ${g} elements, but got an array of ${r} elements`);const a=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const i=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const o=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const n=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const d=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const c=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const l=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const u=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const f=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));const h=w.UnitInterval.fromCbor(y.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const p=new DrepVotingThresholds(a,i,o,n,d,c,l,u,f,h);s(p,_,e,"f");return p}toCore(){return{committeeNoConfidence:i(this,d,"f").toCore(),committeeNormal:i(this,n,"f").toCore(),hardForkInitiation:i(this,l,"f").toCore(),motionNoConfidence:i(this,o,"f").toCore(),ppEconomicGroup:i(this,f,"f").toCore(),ppGovernanceGroup:i(this,p,"f").toCore(),ppNetworkGroup:i(this,u,"f").toCore(),ppTechnicalGroup:i(this,h,"f").toCore(),treasuryWithdrawal:i(this,m,"f").toCore(),updateConstitution:i(this,c,"f").toCore()}}static fromCore(e){return new DrepVotingThresholds(w.UnitInterval.fromCore(e.motionNoConfidence),w.UnitInterval.fromCore(e.committeeNormal),w.UnitInterval.fromCore(e.committeeNoConfidence),w.UnitInterval.fromCore(e.updateConstitution),w.UnitInterval.fromCore(e.hardForkInitiation),w.UnitInterval.fromCore(e.ppNetworkGroup),w.UnitInterval.fromCore(e.ppEconomicGroup),w.UnitInterval.fromCore(e.ppTechnicalGroup),w.UnitInterval.fromCore(e.ppGovernanceGroup),w.UnitInterval.fromCore(e.treasuryWithdrawal))}setMotionNoConfidence(e){s(this,o,e,"f");s(this,_,void 0,"f")}setCommitteeNormal(e){s(this,n,e,"f");s(this,_,void 0,"f")}setCommitteeNoConfidence(e){s(this,d,e,"f");s(this,_,void 0,"f")}setUpdateConstitution(e){s(this,c,e,"f");s(this,_,void 0,"f")}setHardForkInitiation(e){s(this,l,e,"f");s(this,_,void 0,"f")}setPpNetworkGroup(e){s(this,u,e,"f");s(this,_,void 0,"f")}setPpEconomicGroup(e){s(this,f,e,"f");s(this,_,void 0,"f")}setPpTechnicalGroup(e){s(this,h,e,"f");s(this,_,void 0,"f")}setPpGovernanceGroup(e){s(this,p,e,"f");s(this,_,void 0,"f")}setTreasuryWithdrawal(e){s(this,m,e,"f");s(this,_,void 0,"f")}motionNoConfidence(){return i(this,o,"f")}committeeNormal(){return i(this,n,"f")}committeeNoConfidence(){return i(this,d,"f")}updateConstitution(){return i(this,c,"f")}hardForkInitiation(){return i(this,l,"f")}ppNetworkGroup(){return i(this,u,"f")}ppEconomicGroup(){return i(this,f,"f")}ppTechnicalGroup(){return i(this,h,"f")}ppGovernanceGroup(){return i(this,p,"f")}treasuryWithdrawal(){return i(this,m,"f")}constructor(e,t,r,a,i,v,y,w,g,b){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f");s(this,d,r,"f");s(this,c,a,"f");s(this,l,i,"f");s(this,u,v,"f");s(this,f,y,"f");s(this,h,w,"f");s(this,p,g,"f");s(this,m,b,"f")}}t.DrepVotingThresholds=DrepVotingThresholds;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ExUnitPrices.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var n,d,c;Object.defineProperty(t,"__esModule",{value:true});t.ExUnitPrices=void 0;const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const h=o(r("../../node_modules/fraction.js/fraction.js"));const p=2;class ExUnitPrices{toCbor(){const e=new l.CborWriter;if(i(this,c,"f"))return i(this,c,"f");e.writeStartArray(p);e.writeEncodedValue(a.from(i(this,n,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,d,"f").toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new l.CborReader(e);const r=t.readStartArray();if(r!==p)throw new u.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const a=f.UnitInterval.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));const i=f.UnitInterval.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const o=new ExUnitPrices(a,i);s(o,c,e,"f");return o}toCore(){return{memory:Number(i(this,n,"f").numerator())/Number(i(this,n,"f").denominator()),steps:Number(i(this,d,"f").numerator())/Number(i(this,d,"f").denominator())}}static fromCore(e){const t=new h.default(e.memory);const r=new h.default(e.steps);return new ExUnitPrices(new f.UnitInterval(BigInt(t.n),BigInt(t.d)),new f.UnitInterval(BigInt(r.n),BigInt(r.d)))}memPrice(){return i(this,n,"f")}setMemPrice(e){s(this,n,e,"f");s(this,c,void 0,"f")}stepsPrice(){return i(this,d,"f")}setStepsPrice(e){s(this,d,e,"f");s(this,c,void 0,"f")}constructor(e,t){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);s(this,n,e,"f");s(this,d,t,"f")}}t.ExUnitPrices=ExUnitPrices;n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/PoolVotingThresholds.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d,c,l,u;Object.defineProperty(t,"__esModule",{value:true});t.PoolVotingThresholds=void 0;const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const m=5;class PoolVotingThresholds{toCbor(){const e=new f.CborWriter;if(i(this,u,"f"))return i(this,u,"f");e.writeStartArray(m);e.writeEncodedValue(a.from(i(this,o,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,n,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,d,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,c,"f").toCbor(),"hex"));e.writeEncodedValue(a.from(i(this,l,"f").toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=t.readStartArray();if(r!==m)throw new h.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const a=p.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const i=p.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const o=p.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const n=p.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));const d=p.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const c=new PoolVotingThresholds(a,i,o,n,d);s(c,u,e,"f");return c}toCore(){return{committeeNoConfidence:i(this,d,"f").toCore(),committeeNormal:i(this,n,"f").toCore(),hardForkInitiation:i(this,c,"f").toCore(),motionNoConfidence:i(this,o,"f").toCore(),securityRelevantParamVotingThreshold:i(this,l,"f").toCore()}}static fromCore(e){return new PoolVotingThresholds(p.UnitInterval.fromCore(e.motionNoConfidence),p.UnitInterval.fromCore(e.committeeNormal),p.UnitInterval.fromCore(e.committeeNoConfidence),p.UnitInterval.fromCore(e.hardForkInitiation),p.UnitInterval.fromCore(e.securityRelevantParamVotingThreshold))}setMotionNoConfidence(e){s(this,o,e,"f");s(this,u,void 0,"f")}setCommitteeNormal(e){s(this,n,e,"f");s(this,u,void 0,"f")}setCommitteeNoConfidence(e){s(this,d,e,"f");s(this,u,void 0,"f")}setHardForkInitiation(e){s(this,c,e,"f");s(this,u,void 0,"f")}motionNoConfidence(){return i(this,o,"f")}committeeNormal(){return i(this,n,"f")}committeeNoConfidence(){return i(this,d,"f")}hardForkInitiation(){return i(this,c,"f")}securityRelevantParam(){return i(this,l,"f")}constructor(e,t,r,a,i){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);s(this,o,e,"f");s(this,n,t,"f");s(this,d,r,"f");s(this,c,a,"f");s(this,l,i,"f")}}t.PoolVotingThresholds=PoolVotingThresholds;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ProposedProtocolParameterUpdates.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.ProposedProtocolParameterUpdates=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const h=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ProtocolParamUpdate.js");class ProposedProtocolParameterUpdates{toCbor(){const e=new f.CborWriter;if(d(this,l,"f"))return d(this,l,"f");const t=new Map([...d(this,c,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,s]of t){e.writeByteString(a.from(r,"hex"));e.writeEncodedValue(a.from(s.toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=new f.CborReader(e);const r=new Map;t.readStartMap();while(t.peekState()!==f.CborReaderState.EndMap){const a=u.Hash28ByteBase16(h.HexBlob.fromBytes(t.readByteString()));const s=p.ProtocolParamUpdate.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()));r.set(a,s)}t.readEndMap();const i=new ProposedProtocolParameterUpdates(r);n(i,l,e,"f");return i}toCore(){return new Map([...d(this,c,"f")].map(([e,t])=>[e,t.toCore()]))}static fromCore(e){return new ProposedProtocolParameterUpdates(new Map([...e].map(([e,t])=>[e,p.ProtocolParamUpdate.fromCore(t)])))}size(){return d(this,c,"f").size}insert(e,t){d(this,c,"f").set(e,t)}get(e){return d(this,c,"f").get(e)}keys(){return[...d(this,c,"f").keys()]}constructor(e){c.set(this,new Map);l.set(this,void 0);n(this,c,e,"f")}}t.ProposedProtocolParameterUpdates=ProposedProtocolParameterUpdates;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ProtocolParamUpdate.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var o,n,d,c,l,u,f,h,p,m,_,v,y,w,g,b,P,C,S,T,E,k,A,I,j,x,R,B,O,D,M,F,N,H,G,V;Object.defineProperty(t,"__esModule",{value:true});t.ProtocolParamUpdate=void 0;const K=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const L=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/index.js");const z=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/DrepVotingThresholds.js");const U=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const W=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ExUnitPrices.js");const $=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js");const q=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const Y=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/PoolVotingThresholds.js");class ProtocolParamUpdate{toCbor(){const e=new K.CborWriter;if(s(this,G,"f"))return s(this,G,"f");e.writeStartMap(s(this,o,"m",V).call(this));if(void 0!==s(this,n,"f")){e.writeInt(0n);e.writeInt(s(this,n,"f"))}if(void 0!==s(this,d,"f")){e.writeInt(1n);e.writeInt(s(this,d,"f"))}if(void 0!==s(this,c,"f")){e.writeInt(2n);e.writeInt(s(this,c,"f"))}if(void 0!==s(this,l,"f")){e.writeInt(3n);e.writeInt(s(this,l,"f"))}if(void 0!==s(this,u,"f")){e.writeInt(4n);e.writeInt(s(this,u,"f"))}if(void 0!==s(this,f,"f")){e.writeInt(5n);e.writeInt(s(this,f,"f"))}if(void 0!==s(this,h,"f")){e.writeInt(6n);e.writeInt(s(this,h,"f"))}if(void 0!==s(this,p,"f")){e.writeInt(7n);e.writeInt(s(this,p,"f"))}if(void 0!==s(this,m,"f")){e.writeInt(8n);e.writeInt(s(this,m,"f"))}if(void 0!==s(this,_,"f")){e.writeInt(9n);e.writeEncodedValue(a.from(s(this,_,"f").toCbor(),"hex"))}if(void 0!==s(this,v,"f")){e.writeInt(10n);e.writeEncodedValue(a.from(s(this,v,"f").toCbor(),"hex"))}if(void 0!==s(this,y,"f")){e.writeInt(11n);e.writeEncodedValue(a.from(s(this,y,"f").toCbor(),"hex"))}if(void 0!==s(this,w,"f")){e.writeInt(12n);e.writeEncodedValue(a.from(s(this,w,"f").toCbor(),"hex"))}if(void 0!==s(this,g,"f"))if(0===s(this,g,"f").length){e.writeInt(13n);e.writeStartArray(1);e.writeInt(0)}else{e.writeInt(13n);e.writeStartArray(2);e.writeInt(1);e.writeByteString(a.from(s(this,g,"f"),"hex"))}if(void 0!==s(this,b,"f")){e.writeInt(14n);e.writeEncodedValue(a.from(s(this,b,"f").toCbor(),"hex"))}if(void 0!==s(this,P,"f")){e.writeInt(16n);e.writeInt(s(this,P,"f"))}if(void 0!==s(this,C,"f")){e.writeInt(17n);e.writeInt(s(this,C,"f"))}if(void 0!==s(this,S,"f")){e.writeInt(18n);e.writeEncodedValue(a.from(s(this,S,"f").toCbor(),"hex"))}if(void 0!==s(this,T,"f")){e.writeInt(19n);e.writeEncodedValue(a.from(s(this,T,"f").toCbor(),"hex"))}if(void 0!==s(this,E,"f")){e.writeInt(20n);e.writeEncodedValue(a.from(s(this,E,"f").toCbor(),"hex"))}if(void 0!==s(this,k,"f")){e.writeInt(21n);e.writeEncodedValue(a.from(s(this,k,"f").toCbor(),"hex"))}if(void 0!==s(this,A,"f")){e.writeInt(22n);e.writeInt(s(this,A,"f"))}if(void 0!==s(this,I,"f")){e.writeInt(23n);e.writeInt(s(this,I,"f"))}if(void 0!==s(this,j,"f")){e.writeInt(24n);e.writeInt(s(this,j,"f"))}if(void 0!==s(this,x,"f")){e.writeInt(25n);e.writeEncodedValue(a.from(s(this,x,"f").toCbor(),"hex"))}if(void 0!==s(this,R,"f")){e.writeInt(26n);e.writeEncodedValue(a.from(s(this,R,"f").toCbor(),"hex"))}if(void 0!==s(this,B,"f")){e.writeInt(27n);e.writeInt(s(this,B,"f"))}if(void 0!==s(this,O,"f")){e.writeInt(28n);e.writeInt(s(this,O,"f"))}if(void 0!==s(this,D,"f")){e.writeInt(29n);e.writeInt(s(this,D,"f"))}if(void 0!==s(this,M,"f")){e.writeInt(30n);e.writeInt(s(this,M,"f"))}if(void 0!==s(this,F,"f")){e.writeInt(31n);e.writeInt(s(this,F,"f"))}if(void 0!==s(this,N,"f")){e.writeInt(32n);e.writeInt(s(this,N,"f"))}if(void 0!==s(this,H,"f")){e.writeInt(33n);e.writeEncodedValue(a.from(s(this,H,"f").toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=new K.CborReader(e);const r=new ProtocolParamUpdate;t.readStartMap();while(t.peekState()!==K.CborReaderState.EndMap){const a=t.readInt();switch(a){case 0n:i(r,n,t.readInt(),"f");break;case 1n:i(r,d,t.readInt(),"f");break;case 2n:i(r,c,Number(t.readInt()),"f");break;case 3n:i(r,l,Number(t.readInt()),"f");break;case 4n:i(r,u,Number(t.readInt()),"f");break;case 5n:i(r,f,t.readInt(),"f");break;case 6n:i(r,h,t.readInt(),"f");break;case 7n:i(r,p,Number(t.readInt()),"f");break;case 8n:i(r,m,Number(t.readInt()),"f");break;case 9n:i(r,_,$.UnitInterval.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 10n:i(r,v,$.UnitInterval.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 11n:i(r,y,$.UnitInterval.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 12n:i(r,w,$.UnitInterval.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 13n:if(1===t.readStartArray()){t.readEncodedValue();i(r,g,"","f");t.readEndArray()}else{t.readEncodedValue();i(r,g,q.HexBlob.fromBytes(t.readByteString()),"f");t.readEndArray()}break;case 14n:i(r,b,$.ProtocolVersion.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 16n:i(r,P,t.readInt(),"f");break;case 17n:i(r,C,t.readInt(),"f");break;case 18n:i(r,S,L.Costmdls.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 19n:i(r,T,W.ExUnitPrices.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 20n:i(r,E,$.ExUnits.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 21n:i(r,k,$.ExUnits.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 22n:i(r,A,Number(t.readInt()),"f");break;case 23n:i(r,I,Number(t.readInt()),"f");break;case 24n:i(r,j,Number(t.readInt()),"f");break;case 25n:i(r,x,Y.PoolVotingThresholds.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 26n:i(r,R,z.DrepVotingThresholds.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 27n:i(r,B,Number(t.readInt()),"f");break;case 28n:i(r,O,Number(t.readInt()),"f");break;case 29n:i(r,D,Number(t.readInt()),"f");break;case 30n:i(r,M,Number(t.readInt()),"f");break;case 31n:i(r,F,Number(t.readInt()),"f");break;case 32n:i(r,N,Number(t.readInt()),"f");break;case 33n:i(r,H,$.UnitInterval.fromCbor(q.HexBlob.fromBytes(t.readEncodedValue())),"f");break}}t.readEndMap();i(r,G,e,"f");return r}toCore(){var e,t,r,a,i,o;const G={coinsPerUtxoByte:void 0!==s(this,C,"f")?Number(s(this,C,"f")):void 0,collateralPercentage:s(this,I,"f"),committeeTermLimit:void 0!==s(this,O,"f")?(0,U.EpochNo)(s(this,O,"f")):void 0,costModels:null===(e=s(this,S,"f"))||void 0===e?void 0:e.toCore(),dRepDeposit:s(this,F,"f"),dRepInactivityPeriod:void 0!==s(this,N,"f")?(0,U.EpochNo)(s(this,N,"f")):void 0,dRepVotingThresholds:null===(t=s(this,R,"f"))||void 0===t?void 0:t.toCore(),desiredNumberOfPools:s(this,m,"f"),governanceActionDeposit:s(this,M,"f"),governanceActionValidityPeriod:void 0!==s(this,D,"f")?(0,U.EpochNo)(s(this,D,"f")):void 0,maxBlockBodySize:s(this,c,"f"),maxBlockHeaderSize:s(this,u,"f"),maxCollateralInputs:s(this,j,"f"),maxExecutionUnitsPerBlock:null===(r=s(this,k,"f"))||void 0===r?void 0:r.toCore(),maxExecutionUnitsPerTransaction:null===(a=s(this,E,"f"))||void 0===a?void 0:a.toCore(),maxTxSize:void 0!==s(this,l,"f")?Number(s(this,l,"f")):void 0,maxValueSize:s(this,A,"f"),minCommitteeSize:s(this,B,"f"),minFeeCoefficient:void 0!==s(this,n,"f")?Number(s(this,n,"f")):void 0,minFeeConstant:void 0!==s(this,d,"f")?Number(s(this,d,"f")):void 0,minFeeRefScriptCostPerByte:s(this,H,"f")?s(this,H,"f").toFloat().toString():void 0,minPoolCost:void 0!==s(this,P,"f")?Number(s(this,P,"f")):void 0,monetaryExpansion:s(this,v,"f")?s(this,v,"f").toFloat().toString():void 0,poolDeposit:void 0!==s(this,h,"f")?Number(s(this,h,"f")):void 0,poolInfluence:s(this,_,"f")?s(this,_,"f").toFloat().toString():void 0,poolRetirementEpochBound:s(this,p,"f"),poolVotingThresholds:null===(i=s(this,x,"f"))||void 0===i?void 0:i.toCore(),prices:null===(o=s(this,T,"f"))||void 0===o?void 0:o.toCore(),stakeKeyDeposit:void 0!==s(this,f,"f")?Number(s(this,f,"f")):void 0,treasuryExpansion:s(this,y,"f")?s(this,y,"f").toFloat().toString():void 0};if(s(this,w,"f"))G.decentralizationParameter=s(this,w,"f").toFloat().toString();if(void 0!==s(this,g,"f"))G.extraEntropy=s(this,g,"f");if(s(this,b,"f"))G.protocolVersion=s(this,b,"f").toCore();return G}static fromCore(e){const t=new ProtocolParamUpdate;i(t,n,void 0!==e.minFeeCoefficient?BigInt(e.minFeeCoefficient):void 0,"f");i(t,c,e.maxBlockBodySize,"f");i(t,d,void 0!==e.minFeeConstant?BigInt(e.minFeeConstant):void 0,"f");i(t,u,e.maxBlockHeaderSize,"f");i(t,f,void 0!==e.stakeKeyDeposit?BigInt(e.stakeKeyDeposit):void 0,"f");i(t,h,void 0!==e.poolDeposit&&null!==e.poolDeposit?BigInt(e.poolDeposit):void 0,"f");i(t,p,e.poolRetirementEpochBound,"f");i(t,m,e.desiredNumberOfPools,"f");i(t,_,e.poolInfluence?$.UnitInterval.fromFloat(Number(e.poolInfluence)):void 0,"f");i(t,v,e.monetaryExpansion?$.UnitInterval.fromFloat(Number(e.monetaryExpansion)):void 0,"f");i(t,y,e.treasuryExpansion?$.UnitInterval.fromFloat(Number(e.treasuryExpansion)):void 0,"f");i(t,P,void 0!==e.minPoolCost?BigInt(e.minPoolCost):void 0,"f");i(t,A,e.maxValueSize,"f");i(t,l,e.maxTxSize,"f");i(t,I,e.collateralPercentage,"f");i(t,j,e.maxCollateralInputs,"f");i(t,S,e.costModels?L.Costmdls.fromCore(e.costModels):void 0,"f");i(t,T,e.prices?W.ExUnitPrices.fromCore(e.prices):void 0,"f");i(t,E,e.maxExecutionUnitsPerTransaction?$.ExUnits.fromCore(e.maxExecutionUnitsPerTransaction):void 0,"f");i(t,k,e.maxExecutionUnitsPerBlock?$.ExUnits.fromCore(e.maxExecutionUnitsPerBlock):void 0,"f");i(t,C,void 0!==e.coinsPerUtxoByte?BigInt(e.coinsPerUtxoByte):void 0,"f");i(t,x,e.poolVotingThresholds?Y.PoolVotingThresholds.fromCore(e.poolVotingThresholds):void 0,"f");i(t,R,e.dRepVotingThresholds?z.DrepVotingThresholds.fromCore(e.dRepVotingThresholds):void 0,"f");i(t,B,e.minCommitteeSize,"f");i(t,O,e.committeeTermLimit,"f");i(t,D,e.governanceActionValidityPeriod,"f");i(t,M,e.governanceActionDeposit,"f");i(t,F,e.dRepDeposit,"f");i(t,N,e.dRepInactivityPeriod,"f");i(t,H,e.minFeeRefScriptCostPerByte?$.UnitInterval.fromFloat(Number(e.minFeeRefScriptCostPerByte)):void 0,"f");const{protocolVersion:r,extraEntropy:a,decentralizationParameter:s}=e;if(void 0!==r||void 0!==a||s){i(t,w,s?$.UnitInterval.fromFloat(Number(s)):void 0,"f");i(t,b,r?$.ProtocolVersion.fromCore(r):void 0,"f");i(t,g,a?(0,q.HexBlob)(a):void 0,"f")}return t}setMinFeeA(e){i(this,n,e,"f")}minFeeA(){return s(this,n,"f")}setMinFeeB(e){i(this,d,e,"f");i(this,G,void 0,"f")}minFeeB(){return s(this,d,"f")}setMaxBlockBodySize(e){i(this,c,e,"f");i(this,G,void 0,"f")}maxBlockBodySize(){return s(this,c,"f")}setMaxTxSize(e){i(this,l,e,"f");i(this,G,void 0,"f")}maxTxSize(){return s(this,l,"f")}setMaxBlockHeaderSize(e){i(this,u,e,"f");i(this,G,void 0,"f")}maxBlockHeaderSize(){return s(this,u,"f")}setKeyDeposit(e){i(this,f,e,"f");i(this,G,void 0,"f")}keyDeposit(){return s(this,f,"f")}setPoolDeposit(e){i(this,h,e,"f");i(this,G,void 0,"f")}poolDeposit(){return s(this,h,"f")}setMaxEpoch(e){i(this,p,e,"f");i(this,G,void 0,"f")}maxEpoch(){return s(this,p,"f")}setNOpt(e){i(this,m,e,"f");i(this,G,void 0,"f")}nOpt(){return s(this,m,"f")}setPoolPledgeInfluence(e){i(this,_,e,"f");i(this,G,void 0,"f")}poolPledgeInfluence(){return s(this,_,"f")}setExpansionRate(e){i(this,v,e,"f");i(this,G,void 0,"f")}expansionRate(){return s(this,v,"f")}setTreasuryGrowthRate(e){i(this,y,e,"f");i(this,G,void 0,"f")}treasuryGrowthRate(){return s(this,y,"f")}setD(e){i(this,w,e,"f");i(this,G,void 0,"f")}d(){return s(this,w,"f")}setExtraEntropy(e){i(this,g,e,"f");i(this,G,void 0,"f")}extraEntropy(){return s(this,g,"f")}setProtocolVersion(e){i(this,b,e,"f");i(this,G,void 0,"f")}protocolVersion(){return s(this,b,"f")}setMinPoolCost(e){i(this,P,e,"f");i(this,G,void 0,"f")}minPoolCost(){return s(this,P,"f")}setAdaPerUtxoByte(e){i(this,C,e,"f");i(this,G,void 0,"f")}adaPerUtxoByte(){return s(this,C,"f")}setCostModels(e){i(this,S,e,"f");i(this,G,void 0,"f")}costModels(){return s(this,S,"f")}setExecutionCosts(e){i(this,T,e,"f");i(this,G,void 0,"f")}executionCosts(){return s(this,T,"f")}setMaxTxExUnits(e){i(this,E,e,"f");i(this,G,void 0,"f")}maxTxExUnits(){return s(this,E,"f")}setMaxBlockExUnits(e){i(this,k,e,"f");i(this,G,void 0,"f")}maxBlockExUnits(){return s(this,k,"f")}setMaxValueSize(e){i(this,A,e,"f");i(this,G,void 0,"f")}maxValueSize(){return s(this,A,"f")}setCollateralPercentage(e){i(this,I,e,"f");i(this,G,void 0,"f")}collateralPercentage(){return s(this,I,"f")}setMaxCollateralInputs(e){i(this,j,e,"f");i(this,G,void 0,"f")}maxCollateralInputs(){return s(this,j,"f")}setPoolVotingThresholds(e){i(this,x,e,"f");i(this,G,void 0,"f")}poolVotingThresholds(){return s(this,x,"f")}setDrepVotingThresholds(e){i(this,R,e,"f");i(this,G,void 0,"f")}drepVotingThresholds(){return s(this,R,"f")}setMinCommitteeSize(e){i(this,B,e,"f");i(this,G,void 0,"f")}minCommitteeSize(){return s(this,B,"f")}setCommitteeTermLimit(e){i(this,O,e,"f");i(this,G,void 0,"f")}committeeTermLimit(){return s(this,O,"f")}setGovernanceActionValidityPeriod(e){i(this,D,e,"f");i(this,G,void 0,"f")}governanceActionValidityPeriod(){return s(this,D,"f")}setGovernanceActionDeposit(e){i(this,M,e,"f");i(this,G,void 0,"f")}governanceActionDeposit(){return s(this,M,"f")}setDrepDeposit(e){i(this,F,e,"f");i(this,G,void 0,"f")}drepDeposit(){return s(this,F,"f")}setDrepInactivityPeriod(e){i(this,N,e,"f");i(this,G,void 0,"f")}drepInactivityPeriod(){return s(this,N,"f")}minFeeRefScriptCostPerByte(){return s(this,H,"f")}constructor(){o.add(this);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,void 0);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0);R.set(this,void 0);B.set(this,void 0);O.set(this,void 0);D.set(this,void 0);M.set(this,void 0);F.set(this,void 0);N.set(this,void 0);H.set(this,void 0);G.set(this,void 0)}}t.ProtocolParamUpdate=ProtocolParamUpdate;n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,R=new WeakMap,B=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,F=new WeakMap,N=new WeakMap,H=new WeakMap,G=new WeakMap,o=new WeakSet,V=function _ProtocolParamUpdate_getMapSize(){let e=0;if(void 0!==s(this,n,"f"))++e;if(void 0!==s(this,d,"f"))++e;if(void 0!==s(this,c,"f"))++e;if(void 0!==s(this,l,"f"))++e;if(void 0!==s(this,u,"f"))++e;if(void 0!==s(this,f,"f"))++e;if(void 0!==s(this,h,"f"))++e;if(void 0!==s(this,p,"f"))++e;if(void 0!==s(this,m,"f"))++e;if(void 0!==s(this,_,"f"))++e;if(void 0!==s(this,v,"f"))++e;if(void 0!==s(this,y,"f"))++e;if(void 0!==s(this,w,"f"))++e;if(void 0!==s(this,g,"f"))++e;if(void 0!==s(this,b,"f"))++e;if(void 0!==s(this,P,"f"))++e;if(void 0!==s(this,C,"f"))++e;if(void 0!==s(this,S,"f"))++e;if(void 0!==s(this,T,"f"))++e;if(void 0!==s(this,E,"f"))++e;if(void 0!==s(this,k,"f"))++e;if(void 0!==s(this,A,"f"))++e;if(void 0!==s(this,I,"f"))++e;if(void 0!==s(this,j,"f"))++e;if(void 0!==s(this,x,"f"))++e;if(void 0!==s(this,R,"f"))++e;if(void 0!==s(this,B,"f"))++e;if(void 0!==s(this,O,"f"))++e;if(void 0!==s(this,D,"f"))++e;if(void 0!==s(this,M,"f"))++e;if(void 0!==s(this,F,"f"))++e;if(void 0!==s(this,N,"f"))++e;if(void 0!==s(this,H,"f"))++e;return e}},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Update.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.Update=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ProposedProtocolParameterUpdates.js");const h=2;class Update{toCbor(){const e=new c.CborWriter;if(i(this,d,"f"))return i(this,d,"f");e.writeStartArray(h);e.writeEncodedValue(a.from(i(this,n,"f").toCbor(),"hex"));e.writeInt(i(this,o,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new c.CborReader(e);const r=t.readStartArray();if(r!==h)throw new u.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const a=f.ProposedProtocolParameterUpdates.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));const i=t.readInt();t.readEndArray();const o=new Update(a,(0,l.EpochNo)(Number(i)));s(o,d,e,"f");return o}toCore(){return{epoch:i(this,o,"f"),proposedProtocolParameterUpdates:i(this,n,"f").toCore()}}static fromCore(e){const t=e.epoch;const r=f.ProposedProtocolParameterUpdates.fromCore(e.proposedProtocolParameterUpdates);return new Update(r,t)}epoch(){return i(this,o,"f")}setEpoch(e){s(this,o,e,"f");s(this,d,void 0,"f")}proposedProtocolParameterUpdates(){return i(this,n,"f")}setProposedProtocolParameterUpdates(e){s(this,n,e,"f");s(this,d,void 0,"f")}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);s(this,o,t,"f");s(this,n,e,"f")}}t.Update=Update;o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Costmdls/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ProposedProtocolParameterUpdates.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ProtocolParamUpdate.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/Update.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/ExUnitPrices.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/DrepVotingThresholds.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/PoolVotingThresholds.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Transaction.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Common/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/PlutusData/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/CBOR/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Certificates/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Update/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionBody/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionWitnessSet/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/AuxiliaryData/index.js"),t);s(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/TransactionUnspentOutput.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/const.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HD_WALLET_CIP_ID=t.MULTISIG_CIP_ID=void 0;t.MULTISIG_CIP_ID=1854;t.HD_WALLET_CIP_ID=1852},"../../node_modules/@cardano-sdk/core/dist/cjs/errors.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TimeoutError=t.NotImplementedError=t.InvalidProtocolParametersError=t.SerializationError=t.SerializationFailure=t.HandleOwnerChangeError=t.ProviderError=t.reasonToProviderFailure=t.statusCodeMapToProviderFailure=t.providerFailureToStatusCodeMap=t.ProviderFailure=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");var i;(function(e){e["Conflict"]="CONFLICT";e["NotFound"]="NOT_FOUND";e["Unknown"]="UNKNOWN";e["Forbidden"]="FORBIDDEN";e["InvalidResponse"]="INVALID_RESPONSE";e["NotImplemented"]="NOT_IMPLEMENTED";e["Unhealthy"]="UNHEALTHY";e["ConnectionFailure"]="CONNECTION_FAILURE";e["BadRequest"]="BAD_REQUEST";e["ServerUnavailable"]="SERVER_UNAVAILABLE"})(i=t.ProviderFailure||(t.ProviderFailure={}));t.providerFailureToStatusCodeMap={[i.BadRequest]:400,[i.Forbidden]:403,[i.NotFound]:404,[i.Conflict]:409,[i.Unhealthy]:500,[i.Unknown]:500,[i.InvalidResponse]:500,[i.NotImplemented]:500,[i.ConnectionFailure]:500,[i.ServerUnavailable]:500};t.statusCodeMapToProviderFailure=new Map(Object.entries(t.providerFailureToStatusCodeMap).map(([e,t])=>[t,e]));const isProviderFailure=e=>Object.values(i).includes(e);const reasonToProviderFailure=e=>isProviderFailure(e)?e:i.Unknown;t.reasonToProviderFailure=reasonToProviderFailure;class ProviderError extends a.ComposableError{constructor(e,t,r){super((0,a.formatErrorMessage)(e,r),t);this.reason=e;this.detail=r}}t.ProviderError=ProviderError;class HandleOwnerChangeError extends s.CustomError{constructor(e,t,r){super(`Expected: ${t} for handle $${e}. Actual: ${r}`);this.handle=e;this.expectedAddress=t;this.actualAddress=r}}t.HandleOwnerChangeError=HandleOwnerChangeError;var o;(function(e){e["InvalidType"]="INVALID_TYPE";e["Overflow"]="OVERFLOW";e["InvalidAddress"]="INVALID_ADDRESS";e["MaxLengthLimit"]="MAX_LENGTH_LIMIT";e["InvalidScript"]="INVALID_SCRIPT";e["InvalidNativeScriptKind"]="INVALID_NATIVE_SCRIPT_KIND";e["InvalidScriptType"]="INVALID_SCRIPT_TYPE";e["InvalidDatum"]="INVALID_DATUM"})(o=t.SerializationFailure||(t.SerializationFailure={}));class SerializationError extends a.ComposableError{constructor(e,t,r){super((0,a.formatErrorMessage)(e,t),r);this.reason=e;this.detail=t}}t.SerializationError=SerializationError;class InvalidProtocolParametersError extends s.CustomError{constructor(e){super(e)}}t.InvalidProtocolParametersError=InvalidProtocolParametersError;class NotImplementedError extends s.CustomError{constructor(e){super(`Not implemented: ${e}`)}}t.NotImplementedError=NotImplementedError;class TimeoutError extends s.CustomError{constructor(e){super(`Timeout: ${e}`)}}t.TimeoutError=TimeoutError},"../../node_modules/@cardano-sdk/core/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.Serialization=t.Cardano=t.Asset=void 0;t.Asset=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/index.js"));t.Cardano=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/index.js"));t.Serialization=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/index.js"));o(r("../../node_modules/@cardano-sdk/core/dist/cjs/Provider/index.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/index.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/const.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/CardanoNode/index.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/util/calcStabilityWindow.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.calculateStabilityWindowSlotsCount=void 0;const calculateStabilityWindowSlotsCount=({securityParameter:e,activeSlotsCoefficient:t})=>3*e/t;t.calculateStabilityWindowSlotsCount=calculateStabilityWindowSlotsCount},"../../node_modules/@cardano-sdk/core/dist/cjs/util/coalesceValueQuantities.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.coalesceValueQuantities=void 0;const o=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/index.js"));const n=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const coalesceValueQuantities=e=>({assets:o.coalesceTokenMaps(e.map(({assets:e})=>e)),coins:n.BigIntMath.sum(e.map(({coins:e})=>e))});t.coalesceValueQuantities=coalesceValueQuantities},"../../node_modules/@cardano-sdk/core/dist/cjs/util/conwayEra.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setInConwayEra=t.inConwayEra=void 0;t.inConwayEra=false;const setInConwayEra=e=>t.inConwayEra=e;t.setInConwayEra=setInConwayEra},"../../node_modules/@cardano-sdk/core/dist/cjs/util/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.metadatum=t.util=void 0;t.util=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js"));o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/conwayEra.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/slotCalc.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/txInspector.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/tokenTransferInspector.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/transactionSummaryInspector.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/utxo.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/calcStabilityWindow.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/coalesceValueQuantities.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/subtractValueQuantities.js"),t);o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/nativeScript.js"),t);t.metadatum=i(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/metadatum.js"));o(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/time.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/util/metadatum.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.metadatumToJson=t.jsonToMetadatum=t.asMetadatumArray=t.asMetadatumMap=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const asMetadatumMap=e=>{if(e instanceof Map){return e}return null};t.asMetadatumMap=asMetadatumMap;const asMetadatumArray=e=>{if(Array.isArray(e)){return e}return null};t.asMetadatumArray=asMetadatumArray;const jsonToMetadatum=e=>{if(null===e)throw new a.InvalidArgumentError("json","JSON value can not be null");switch(typeof e){case"boolean":case"undefined":throw new a.InvalidArgumentError("json",`JSON value can not be ${typeof e}`);case"number":case"bigint":return BigInt(e);case"string":return String(e);default:{if(Array.isArray(e)){const r=[];for(const s of e)r.push((0,t.jsonToMetadatum)(s));return r}if(ArrayBuffer.isView(e)){return new Uint8Array(e.buffer)}const i=new Map;for(const o in e){const n=e[o];i.set((0,t.jsonToMetadatum)(o),(0,t.jsonToMetadatum)(n))}return i}}};t.jsonToMetadatum=jsonToMetadatum;const metadatumToJson=e=>{if(null===e)throw new a.InvalidArgumentError("data","Metadatum value can not be null");switch(typeof e){case"boolean":case"undefined":case"number":throw new a.InvalidArgumentError("metadatum",`Metadatum value can not be ${typeof e}`);case"bigint":return e;case"string":return e;default:{if(Array.isArray(e)){const r=[];for(const s of e)r.push((0,t.metadatumToJson)(s));return r}if(ArrayBuffer.isView(e)){return new Uint8Array(e)}const i={};for(const[o,n]of e.entries())i[(0,t.metadatumToJson)(o)]=(0,t.metadatumToJson)(n);return i}}};t.metadatumToJson=metadatumToJson},"../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/encoding.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.utf8ToHex=t.utf8ToBytes=t.hexToBytes=t.bytesToHex=void 0;const bytesToHex=e=>a.from(e).toString("hex");t.bytesToHex=bytesToHex;const hexToBytes=e=>a.from(e,"hex");t.hexToBytes=hexToBytes;const utf8ToBytes=e=>a.from(e,"utf8");t.utf8ToBytes=utf8ToBytes;const utf8ToHex=e=>a.from(e,"utf8").toString("hex");t.utf8ToHex=utf8ToHex},"../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/core/dist/cjs/util/misc/encoding.js"),t)},"../../node_modules/@cardano-sdk/core/dist/cjs/util/nativeScript.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.jsonToNativeScript=t.nativeScriptPolicyId=void 0;const o=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Serialization/Scripts/NativeScript/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Script.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const nativeScriptPolicyId=e=>(0,c.PolicyId)(n.NativeScript.fromCore(e).hash());t.nativeScriptPolicyId=nativeScriptPolicyId;const jsonToNativeScript=e=>{let r;if(!e.type){throw new l.SerializationError(l.SerializationFailure.InvalidScript,"Invalid Native Script. Missing 'type' field.")}switch(e.type){case"sig":r={__type:d.ScriptType.Native,keyHash:o.Ed25519KeyHashHex(e.keyHash),kind:d.NativeScriptKind.RequireSignature};break;case"all":r={__type:d.ScriptType.Native,kind:d.NativeScriptKind.RequireAllOf,scripts:new Array};for(let a=0;a<e.scripts.length;++a)r.scripts.push((0,t.jsonToNativeScript)(e.scripts[a]));break;case"any":r={__type:d.ScriptType.Native,kind:d.NativeScriptKind.RequireAnyOf,scripts:new Array};for(let s=0;s<e.scripts.length;++s)r.scripts.push((0,t.jsonToNativeScript)(e.scripts[s]));break;case"atLeast":{const i=Number.parseInt(e.required);r={__type:d.ScriptType.Native,kind:d.NativeScriptKind.RequireNOf,required:i,scripts:new Array};for(let n=0;n<e.scripts.length;++n)r.scripts.push((0,t.jsonToNativeScript)(e.scripts[n]));break}case"before":r={__type:d.ScriptType.Native,kind:d.NativeScriptKind.RequireTimeBefore,slot:(0,u.Slot)(Number.parseInt(e.slot))};break;case"after":r={__type:d.ScriptType.Native,kind:d.NativeScriptKind.RequireTimeAfter,slot:(0,u.Slot)(Number.parseInt(e.slot))};break;default:throw new l.SerializationError(l.SerializationFailure.InvalidNativeScriptKind,`Native Script value '${e.type}' is not supported.`)}return r};t.jsonToNativeScript=jsonToNativeScript},"../../node_modules/@cardano-sdk/core/dist/cjs/util/promiseTimeout.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.promiseTimeout=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const promiseTimeout=(e,t)=>{let r;return Promise.race([e,new Promise((e,s)=>r=setTimeout(()=>s(new a.TimeoutError("Failed to resolve the promise in time")),t))]).finally(()=>{if(r)clearTimeout(r)})};t.promiseTimeout=promiseTimeout},"../../node_modules/@cardano-sdk/core/dist/cjs/util/slotCalc.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.epochSlotsCalcFactory=t.epochSlotsCalc=t.createSlotEpochInfoCalc=t.createSlotTimeCalc=t.createSlotEpochCalc=t.EraSummaryError=void 0;const s=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Block.js");const o=a(r("../../node_modules/lodash/groupBy.js"));const n=a(r("../../node_modules/lodash/last.js"));const d=a(r("../../node_modules/lodash/memoize.js"));const c=a(r("../../node_modules/lodash/orderBy.js"));class EraSummaryError extends s.CustomError{}t.EraSummaryError=EraSummaryError;const createSlotEpochCalcImpl=e=>{const t=Object.values((0,o.default)(e,"start.slot")).map(n.default);const r=(0,c.default)(t,({start:e})=>e.slot);return e=>{const t=(0,c.default)(r.filter(({start:t})=>t.slot<=e),({start:e})=>e.slot);if(0===t.length){throw new EraSummaryError(`No EraSummary for slot ${e} found`)}let a=0;let s;for(let i=0;i<t.length;i++){s=t[i];const o=t[i+1];a+=Math.floor((((null==o?void 0:o.start.slot)||e)-s.start.slot)/s.parameters.epochLength)}return{epochEraSummary:s,epochNo:a}}};t.createSlotEpochCalc=(0,d.default)(e=>{const t=createSlotEpochCalcImpl(e);return e=>(0,i.EpochNo)(t(e).epochNo)});const createSlotTimeCalc=e=>{const t=Object.values((0,o.default)(e,"start.slot")).map(n.default);const r=(0,c.default)(t,({start:e})=>e.slot,"desc");return e=>{const t=r.find(({start:t})=>t.slot<=e);if(!t){throw new EraSummaryError(`No EraSummary for slot ${e} found`)}return new Date(t.start.time.getTime()+(e-t.start.slot)*t.parameters.slotLength)}};t.createSlotTimeCalc=createSlotTimeCalc;const createSlotEpochInfoCalc=e=>{const r=(0,t.createSlotTimeCalc)(e);const a=createSlotEpochCalcImpl(e);return e=>{const{epochNo:t,epochEraSummary:s}=a(e);const o=s.start.slot+Math.floor((e-s.start.slot)/s.parameters.epochLength)*s.parameters.epochLength;const n=o+s.parameters.epochLength-1;return{epochNo:(0,i.EpochNo)(t),firstSlot:{date:r((0,i.Slot)(o)),slot:(0,i.Slot)(o)},lastSlot:{date:r((0,i.Slot)(n)),slot:(0,i.Slot)(n)}}}};t.createSlotEpochInfoCalc=createSlotEpochInfoCalc;const epochSlotsCalcImplementation=(e,t)=>{let r=0;let a=t[0].start.slot;let s=0;const o=t.length-1;const checkNextEraSummary=()=>s<o&&a>=t[s+1].start.slot;const findNextEraSummary=()=>{while(checkNextEraSummary())s++};findNextEraSummary();while(r!==e){a+=t[s].parameters.epochLength;r++;if(checkNextEraSummary())findNextEraSummary()}const n=t[s];return{eraSummary:n,firstSlot:(0,i.Slot)(a),lastSlot:(0,i.Slot)(a+n.parameters.epochLength-1)}};t.epochSlotsCalc=(0,d.default)(epochSlotsCalcImplementation);t.epochSlotsCalcFactory=(0,d.default)(e=>(0,d.default)(async t=>epochSlotsCalcImplementation(t,await e.eraSummaries())))},"../../node_modules/@cardano-sdk/core/dist/cjs/util/subtractValueQuantities.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.subtractValueQuantities=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/index.js");const subtractValueQuantities=e=>({assets:s.util.subtractTokenMaps(e.map(({assets:e})=>e)),coins:a.BigIntMath.subtract(e.map(({coins:e})=>e))});t.subtractValueQuantities=subtractValueQuantities},"../../node_modules/@cardano-sdk/core/dist/cjs/util/time.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TimeSpan=t.Days=t.Hours=t.Minutes=t.Seconds=t.Milliseconds=void 0;const Milliseconds=e=>e;t.Milliseconds=Milliseconds;const Seconds=e=>e;t.Seconds=Seconds;const Minutes=e=>e;t.Minutes=Minutes;const Hours=e=>e;t.Hours=Hours;const Days=e=>e;t.Days=Days;t.Hours.toDays=e=>e/24;t.Days.toHours=e=>24*e;t.Minutes.toHours=e=>e/60;t.Hours.toMinutes=e=>60*e;t.Seconds.toMinutes=e=>e/60;t.Minutes.toSeconds=e=>60*e;t.Seconds.toMilliseconds=e=>1e3*e;t.Milliseconds.toSeconds=e=>e/1e3;class TimeSpan{static fromMilliseconds(e){return new TimeSpan(e)}static fromSeconds(e){return new TimeSpan(t.Seconds.toMilliseconds(e))}static fromMinutes(e){return new TimeSpan(t.Seconds.toMilliseconds(t.Minutes.toSeconds(e)))}static fromHours(e){return new TimeSpan(t.Seconds.toMilliseconds(t.Minutes.toSeconds(t.Hours.toMinutes(e))))}getTotalDays(){return t.Hours.toDays(this.getTotalHours())}getTotalHours(){return t.Minutes.toHours(this.getTotalMinutes())}getTotalMinutes(){return t.Seconds.toMinutes(this.getTotalSeconds())}getTotalSeconds(){return t.Milliseconds.toSeconds(this.elapsed)}getTotalMilliseconds(){return this.elapsed}getDays(){return(0,t.Days)(Math.floor(this.getTotalDays()))}getHours(){return(0,t.Hours)(Math.floor(this.getTotalHours()-24*this.getDays()))}getMinutes(){return(0,t.Minutes)(Math.floor(this.getTotalMinutes()-60*Math.floor(this.getTotalHours())))}getSeconds(){return(0,t.Seconds)(Math.floor(this.getTotalSeconds()-60*Math.floor(this.getTotalMinutes())))}getMilliseconds(){return(0,t.Milliseconds)(this.elapsed-1e3*Math.floor(this.getTotalSeconds()))}toString(){let e=this.getTotalSeconds()<0?"-P":"P";let t="";if(0!==this.getHours())t+=`${Math.abs(this.getHours()).toString()}H`;if(0!==this.getMinutes())t+=`${Math.abs(this.getMinutes()).toString()}M`;if(0!==this.getSeconds())t+=`${Math.abs(this.getSeconds()).toString()}S`;if(0!==this.getDays()||""===t)e+=`${Math.abs(this.getDays()).toString()}D`;if(""!==t)e+=`T${t}`;return e}constructor(e){this.elapsed=(0,t.Milliseconds)(0);this.elapsed=e}}t.TimeSpan=TimeSpan},"../../node_modules/@cardano-sdk/core/dist/cjs/util/tokenTransferInspector.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.tokenTransferInspector=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/txInspector.js");const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/coalesceValueQuantities.js");const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/promiseTimeout.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/subtractValueQuantities.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/tryGetAssetInfos.js");const l=a(r("../../node_modules/lodash/uniq.js"));const coalesceByAddress=e=>{const t=e.reduce((e,t)=>{var r;if(!e.has(t.address))e.set(t.address,[]);null===(r=e.get(t.address))||void 0===r?void 0:r.push(t);return e},new Map);const r=new Map;for(const[a,s]of t)r.set(a,(0,o.coalesceValueQuantities)(s.map(e=>e.value)));return r};const initializeAddressMap=e=>new Map(e.map(e=>[e,{assets:new Map,coins:0n}]));const updateFromAddressMap=(e,t,r)=>{var a;if(r.coins<0n)e.get(t).coins=r.coins;var s;for(const[i,o]of null!==(s=null===(a=r.assets)||void 0===a?void 0:a.entries())&&void 0!==s?s:[])if(o<0n){var n;null===(n=e.get(t).assets)||void 0===n?void 0:n.set(i,o)}};const updateToAddressMap=(e,t,r)=>{var a;if(r.coins>0n)e.get(t).coins=r.coins;var s;for(const[i,o]of null!==(s=null===(a=r.assets)||void 0===a?void 0:a.entries())&&void 0!==s?s:[])if(o>0n){var n;null===(n=e.get(t).assets)||void 0===n?void 0:n.set(i,o)}};const computeNetDifferences=(e,t,r,a)=>{for(const[s,i]of e.entries()){var o;const n=null!==(o=t.get(s))&&void 0!==o?o:{assets:new Map,coins:0n};const c=(0,d.subtractValueQuantities)([n,i]);updateFromAddressMap(r,s,c);updateToAddressMap(a,s,c)}for(const[l,u]of t.entries())if(!e.has(l))updateToAddressMap(a,l,u)};const removeZeroBalanceEntries=e=>{for(const[t,r]of e.entries()){var a;if(0n===r.coins&&(null===(a=r.assets)||void 0===a?void 0:a.size)===0)e.delete(t)}};const intoTokenTransferValue=async({logger:e,assetProvider:t,timeout:r,addressMap:a})=>{const s=new Map;for(const[i,o]of a.entries()){const n=o.coins;const d=(0,l.default)(o.assets&&o.assets.size>0?[...o.assets.keys()]:[]);const u=new Map;if(d.length>0){const f=await (0,c.tryGetAssetInfos)({assetIds:d,assetProvider:t,logger:e,timeout:r});for(const h of f){var p;var m;const _=null!==(m=null===(p=o.assets)||void 0===p?void 0:p.get(h.assetId))&&void 0!==m?m:0n;u.set(h.assetId,{amount:_,assetInfo:h})}}s.set(i,{assets:u,coins:n})}return s};const tokenTransferInspector=({inputResolver:e,fromAddressAssetProvider:t,toAddressAssetProvider:r,timeout:a,logger:o})=>async d=>{let c;try{const u=await (0,n.promiseTimeout)((0,s.resolveInputs)(d.body.inputs,e),a);c=u.resolvedInputs}catch(f){if(f instanceof i.TimeoutError)o.error("Error: Inputs resolution timed out");c=[]}const h=coalesceByAddress(c);const p=coalesceByAddress(d.body.outputs);const m=(0,l.default)([...h.keys(),...p.keys()]);const _=initializeAddressMap(m);const v=initializeAddressMap(m);computeNetDifferences(h,p,_,v);removeZeroBalanceEntries(_);removeZeroBalanceEntries(v);return{fromAddress:await intoTokenTransferValue({addressMap:_,assetProvider:t,logger:o,timeout:a}),toAddress:await intoTokenTransferValue({addressMap:v,assetProvider:r,logger:o,timeout:a})}};t.tokenTransferInspector=tokenTransferInspector},"../../node_modules/@cardano-sdk/core/dist/cjs/util/transactionSummaryInspector.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.transactionSummaryInspector=t.getCollateral=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/index.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/txInspector.js");const i=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/errors.js");const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/index.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/coalesceValueQuantities.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/util/index.js");const l=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/promiseTimeout.js");const u=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/subtractValueQuantities.js");const f=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/tryGetAssetInfos.js");const getCollateral=async(e,t,r)=>{if(!e.body.collaterals||0===e.body.collaterals.length)return 0n;const a=(await (0,s.resolveInputs)(e.body.collaterals,t)).resolvedInputs.filter(e=>r.includes(e.address));const o=i.BigIntMath.sum(a.map(({value:e})=>e.coins));if(e.body.collateralReturn){if(!r.includes(e.body.collateralReturn.address))return o;var n;return null!==(n=i.BigIntMath.max([o-e.body.collateralReturn.value.coins,0n]))&&void 0!==n?n:0n}return o};t.getCollateral=getCollateral;const totalInputsValue=e=>{const t=e.resolvedInputs.map(e=>e.value);return(0,d.coalesceValueQuantities)(t)};const totalOutputsValue=e=>(0,d.coalesceValueQuantities)(e.map(e=>e.value));const mintInspectionToTokenMap=e=>new Map(e.map(e=>[a.AssetId.fromParts(e.policyId,e.assetName),e.quantity]));const getImplicitAssets=async e=>{const t=mintInspectionToTokenMap(await (0,s.assetsMintedInspector)(e));const r=mintInspectionToTokenMap(await (0,s.assetsBurnedInspector)(e));return(0,n.coalesceTokenMaps)([t,r])};const getUnaccountedFunds=async(e,t,r,a,s=new Map)=>{const i=totalInputsValue(t);const o=totalOutputsValue(e.body.outputs);i.assets=(0,n.coalesceTokenMaps)([i.assets,s]);i.coins+=r;o.coins+=a;return(0,u.subtractValueQuantities)([o,i])};const intoAssetInfoWithAmount=async({assetProvider:e,logger:t,timeout:r,tokenMap:a})=>{if(!a)return new Map;const s=a&&a.size>0?[...a.keys()]:[];const i=new Map;if(s.length>0){const o=await (0,f.tryGetAssetInfos)({assetIds:s,assetProvider:e,logger:t,timeout:r});for(const n of o){var d;const c=null!==(d=null==a?void 0:a.get(n.assetId))&&void 0!==d?d:0n;i.set(n.assetId,{amount:c,assetInfo:n})}}return i};const transactionSummaryInspector=({inputResolver:e,addresses:r,rewardAccounts:a,protocolParameters:i,assetProvider:d,dRepKeyHash:u,timeout:f,logger:h})=>async p=>{let m;try{m=await (0,l.promiseTimeout)((0,s.resolveInputs)(p.body.inputs,e),f)}catch(_){if(_ instanceof o.TimeoutError)h.error("Error: Inputs resolution timed out");m={resolvedInputs:[],unresolvedInputs:p.body.inputs}}const v=p.body.fee;const y=(0,c.computeImplicitCoin)(i,{certificates:p.body.certificates,withdrawals:p.body.withdrawals},a||[],u);const w=await (0,t.getCollateral)(p,e,r);const g=y.withdrawals||0n;const b=await (0,s.totalAddressOutputsValueInspector)(r)(p);const P=await (0,s.totalAddressInputsValueInspector)(r,e)(p);const C=g+(y.reclaimDeposit||0n)-(y.deposit||0n);const S=await getImplicitAssets(p);const T={assets:(0,n.subtractTokenMaps)([b.assets,P.assets]),coins:b.coins-(P.coins+g)};return{assets:await intoAssetInfoWithAmount({assetProvider:d,logger:h,timeout:f,tokenMap:T.assets}),coins:T.coins,collateral:w,deposit:y.deposit||0n,fee:v,resolvedInputs:m.resolvedInputs,returnedDeposit:y.reclaimDeposit||0n,unresolved:{inputs:m.unresolvedInputs,value:await getUnaccountedFunds(p,m,C,v,S)}}};t.transactionSummaryInspector=transactionSummaryInspector},"../../node_modules/@cardano-sdk/core/dist/cjs/util/tryGetAssetInfos.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tryGetAssetInfos=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/Asset.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/promiseTimeout.js");const tryGetAssetInfos=async({assetIds:e,assetProvider:t,logger:r,timeout:i})=>{try{return await (0,s.promiseTimeout)(t.getAssets({assetIds:e,extraData:{nftMetadata:true,tokenMetadata:true}}),i)}catch(o){r.error("Error: Failed to retrieve assets",o);return e.map(e=>{const t=a.AssetId.getPolicyId(e);const r=a.AssetId.getAssetName(e);return{assetId:e,fingerprint:a.AssetFingerprint.fromParts(t,r),name:r,policyId:t,quantity:0n,supply:0n}})}};t.tryGetAssetInfos=tryGetAssetInfos},"../../node_modules/@cardano-sdk/core/dist/cjs/util/txInspector.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createTxInspector=t.metadataInspector=t.assetsBurnedInspector=t.assetsMintedInspector=t.mintInspector=t.withdrawalInspector=t.poolRetirementInspector=t.poolRegistrationInspector=t.stakeKeyRegistrationInspector=t.stakeKeyDeregistrationInspector=t.delegationInspector=t.valueReceivedInspector=t.valueSentInspector=t.sentInspector=t.signedCertificatesInspector=t.getCertificatesByType=t.totalAddressOutputsValueInspector=t.totalAddressInputsValueInspector=t.resolveInputs=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/types/index.js");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/Cardano/Address/index.js");const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/coalesceValueQuantities.js");const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/nativeScript.js");const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/Asset/util/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/util/subtractValueQuantities.js");const resolveInputs=async(e,t)=>{const r=[];const a=[];for(const s of e){const i=await t.resolveInput(s);if(i)r.push({address:i.address,index:s.index,txId:s.txId,value:i.value});else a.push(s)}return{resolvedInputs:r,unresolvedInputs:a}};t.resolveInputs=resolveInputs;const totalAddressInputsValueInspector=(e,r)=>async a=>{const{resolvedInputs:s}=await (0,t.resolveInputs)(a.body.inputs,r);const n=s.filter(t=>(0,i.isAddressWithin)(e)(t));const d=n.map(e=>e.value);return(0,o.coalesceValueQuantities)(d)};t.totalAddressInputsValueInspector=totalAddressInputsValueInspector;const totalAddressOutputsValueInspector=e=>async t=>{const r=t.body.outputs.filter(t=>(0,i.isAddressWithin)(e)(t));return(0,o.coalesceValueQuantities)(r.map(e=>e.value))};t.totalAddressOutputsValueInspector=totalAddressOutputsValueInspector;const getCertificatesByType=(e,t,r)=>{var s;if(!e.body.certificates||0===e.body.certificates.length)return[];const o=r?null===(s=e.body.certificates)||void 0===s?void 0:s.filter(e=>(0,a.isCertType)(e,r)):e.body.certificates;return o.filter(e=>{if((0,a.isCertType)(e,a.StakeCredentialCertificateTypes)){return t.some(t=>i.RewardAccount.toHash(t)===e.stakeCredential.hash)}if((0,a.isCertType)(e,[a.CertificateType.PoolRegistration]))return t.includes(e.poolParameters.rewardAccount);return false})};t.getCertificatesByType=getCertificatesByType;const signedCertificatesInspector=(e,r)=>async a=>(0,t.getCertificatesByType)(a,e,r);t.signedCertificatesInspector=signedCertificatesInspector;const sentInspector=({addresses:e,rewardAccounts:r,inputResolver:a})=>{return async s=>{const o=(null==r?void 0:r.length)?await (0,t.signedCertificatesInspector)(r)(s):[];let n=[];if(e){const{resolvedInputs:d}=await (0,t.resolveInputs)(s.body.inputs,a);const c=d.filter(t=>(0,i.isAddressWithin)(e)(t));n=c.map(e=>({address:e.address,index:e.index,txId:e.txId}))}return{certificates:o,inputs:n}}};t.sentInspector=sentInspector;const valueSentInspector=(e,r)=>async a=>{let s=new Map;if(0===(await (0,t.sentInspector)({addresses:e,inputResolver:r})(a)).inputs.length)return{coins:0n};const i=await (0,t.totalAddressOutputsValueInspector)(e)(a);const o=await (0,t.totalAddressInputsValueInspector)(e,r)(a);const n=(0,c.subtractValueQuantities)([o,i]);if(n.assets)s=(0,d.removeNegativesFromTokenMap)(n.assets);return{assets:s.size>0?s:void 0,coins:n.coins<0n?0n:n.coins}};t.valueSentInspector=valueSentInspector;const valueReceivedInspector=(e,r)=>async a=>{let s=new Map;const i=await (0,t.totalAddressOutputsValueInspector)(e)(a);const o=await (0,t.totalAddressInputsValueInspector)(e,r)(a);const n=(0,c.subtractValueQuantities)([i,o]);if(n.assets)s=(0,d.removeNegativesFromTokenMap)(n.assets);return{assets:s.size>0?s:void 0,coins:n.coins<0n?0n:n.coins}};t.valueReceivedInspector=valueReceivedInspector;var l;const certificateInspector=e=>{return async t=>{var r;return null!==(l=null===(r=t.body.certificates)||void 0===r?void 0:r.filter(t=>t.__typename===e))&&void 0!==l?l:[]}};t.delegationInspector=certificateInspector(a.CertificateType.StakeDelegation);t.stakeKeyDeregistrationInspector=certificateInspector(a.CertificateType.StakeDeregistration);t.stakeKeyRegistrationInspector=certificateInspector(a.CertificateType.StakeRegistration);t.poolRegistrationInspector=certificateInspector(a.CertificateType.PoolRegistration);t.poolRetirementInspector=certificateInspector(a.CertificateType.PoolRetirement);const withdrawalInspector=async e=>{var t;return(null===(t=e.body.withdrawals)||void 0===t?void 0:t.length)?s.BigIntMath.sum(e.body.withdrawals.map(({quantity:e})=>e)):0n};t.withdrawalInspector=withdrawalInspector;const mintInspector=e=>{return async t=>{var r,s;const i=[];const o=new Map;if(!t.body.mint)return i;const d=[...(null===(r=t.auxiliaryData)||void 0===r?void 0:r.scripts)||[],...(null===(s=t.witness)||void 0===s?void 0:s.scripts)||[]];for(const c of d){switch(c.__type){case a.ScriptType.Native:{const l=(0,n.nativeScriptPolicyId)(c);if(o.has(l))continue;o.set(l,c);break}case a.ScriptType.Plutus:default:}}for(const[u,f]of t.body.mint.entries()){const[h,p]=[a.AssetId.getPolicyId(u),a.AssetId.getAssetName(u)];const m={assetName:p,fingerprint:a.AssetFingerprint.fromParts(h,p),policyId:h,quantity:f,script:o.get(h)};if(e(m.quantity))i.push(m)}return i}};t.mintInspector=mintInspector;t.assetsMintedInspector=(0,t.mintInspector)(e=>e>0);t.assetsBurnedInspector=(0,t.mintInspector)(e=>e<0);var u;const metadataInspector=async e=>{var t;return null!==(u=null===(t=e.auxiliaryData)||void 0===t?void 0:t.blob)&&void 0!==u?u:new Map};t.metadataInspector=metadataInspector;const createTxInspector=e=>async t=>{const r=await Promise.all(Object.entries(e).map(async([e,r])=>{const a=await r(t);return{key:e,result:a}}));return r.reduce((e,{key:t,result:r})=>{e[t]=r;return e},{})};t.createTxInspector=createTxInspector},"../../node_modules/@cardano-sdk/core/dist/cjs/util/utxo.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createUtxoId=void 0;const createUtxoId=(e,t)=>`${e}:${t}`;t.createUtxoId=createUtxoId},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/NftMetadata/index.js":(e,t,r)=>{"use strict";r.d(t,{ImageMediaType:()=>s.ImageMediaType,InvalidFileError:()=>InvalidFileError,MediaType:()=>s.MediaType,NftMetadata:()=>h,Uri:()=>s.Uri});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/NftMetadata/types.js");var i=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");class InvalidFileError extends i.CustomError{}var o=r("../../node_modules/@cardano-sdk/core/dist/esm/util/metadatum.js");const asString=e=>"string"==typeof e?e:void 0;var n=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");var d=r("../../node_modules/lodash/difference.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];const isString=e=>"string"==typeof e;const l=/^\d+\.?\d?$/;const metadatumToString=e=>{if(Array.isArray(e)){const t=e.map(asString);if(t.some(e=>void 0===e)){return}return t.join("")}return asString(e)};const mapOtherProperties=(e,t)=>{const r=d([...e.keys()].filter(isString),t);if(0===r.length)return;return r.reduce((t,r)=>{t.set(r,e.get(r));return t},new Map)};const missingFieldLogMessage=(e,t,r)=>`Omitting cip25 ${r?"root":"file"} metadata: missing "${e}". AssetId: ${t}`;const mapFile=(e,t,r)=>{const a=(0,o.asMetadatumMap)(e);if(!a)throw new InvalidFileError;const i=asString(a.get("name"));const n=asString(a.get("mediaType"));if(!n){r.warn(missingFieldLogMessage("mediaType",t,false));return null}const d=metadatumToString(a.get("src"));if(!d){r.warn(missingFieldLogMessage("source",t,false));return null}return{mediaType:(0,s.MediaType)(n),name:i,otherProperties:mapOtherProperties(a,["mediaType","name","src"]),src:(0,s.Uri)(d)}};const getPolicyMetadata=(e,t)=>(0,o.asMetadatumMap)(e.get(t)||(()=>{for(const[r,a]of e.entries())if(ArrayBuffer.isView(r)&&c.from(r).toString("hex")===t)return a})());const getAssetMetadata=(e,t)=>(0,o.asMetadatumMap)(e.get(t)||e.get(c.from(t,"hex").toString("utf8"))||(()=>{for(const[r,a]of e.entries())if(ArrayBuffer.isView(r)&&c.from(r).toString("hex")===t)return a})());const getName=(e,t,r,s,i=false)=>{const o=asString(e.get("name"));if(o)return o;if("1.0"===t){try{return a.AssetName.toUTF8(r.name,i)}catch(n){s.warn(n)}}};const parseVersion=e=>{if(!e)return"1.0";if("bigint"==typeof e){return`${e}.0`}const t=asString(e);if(t&&l.test(t)){return`${Number(t)}.0`}};const fromMetadatum=(e,t,r,i=false)=>{const d=null==t?void 0:t.get(721n);if(!d)return null;const c=(0,o.asMetadatumMap)(d);if(!c)return null;const l=getPolicyMetadata(c,e.policyId);if(!l)return null;const u=parseVersion(l.get("version"));if(!u)return null;const f=getAssetMetadata(l,e.name);if(!f)return null;const h=getName(f,u,e,r,true);const p=metadatumToString(f.get("image"));const m=a.AssetId.fromParts(e.policyId,e.name);if(i&&!h||!p){r.warn(missingFieldLogMessage(h?"image":"name",m,true));return null}const _=asString(f.get("mediaType"));const v=(0,o.asMetadatumArray)(f.get("files"));try{return{description:metadatumToString(f.get("description")),files:null==v?void 0:v.map(e=>mapFile(e,m,r)).filter(n.isNotNil),image:(0,s.Uri)(p),mediaType:_?(0,s.ImageMediaType)(_):void 0,name:h||"",otherProperties:mapOtherProperties(f,["name","image","mediaType","description","files"]),version:u}}catch(y){r.warn("Invalid CIP-25 metadata",f,y);return null}};var u=r("../../node_modules/@cardano-sdk/util/dist/esm/logging.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/plutusDataUtils.js");const tryCoerce=(e,t,r)=>{if("string"!=typeof e)return;try{return t(e)}catch(a){r.warn(a instanceof Error?a.message:a)}};const mapOtherPropertyValue=(e,t)=>{if("string"==typeof e||(0,f.isPlutusBigInt)(e)||(0,f.isPlutusBoundedBytes)(e))return e;if((0,f.isPlutusMap)(e)){const r=fromPlutusData_mapOtherProperties((0,f.tryConvertPlutusMapToUtf8Record)(e,t),t);return new Map(Object.entries(r))}const a=(0,f.isPlutusList)(e)?e.items:e.fields.items;return a.map(e=>mapOtherPropertyValue(e,t))};const fromPlutusData_mapOtherProperties=(e,t)=>Object.entries(e).reduce((e,[r,a])=>{if(void 0!==a)e.set(r,mapOtherPropertyValue(a,t));return e},new Map);const undefinedIfEmpty=e=>e.size>0?e:void 0;const fromPlutusData_mapFile=(e,t)=>{if(!(0,f.isPlutusMap)(e)){t.warn('expected "files[n]" to be a map');return}const{mediaType:r,src:a,name:i,...o}=(0,f.tryConvertPlutusMapToUtf8Record)(e,t);const n=tryCoerce(r,s.MediaType,t);const d=tryCoerce(a,s.Uri,t);if("string"!=typeof d||"string"!=typeof n){t.warn('invalid "files[n].src" or "files[n].mediaType"');return}return{mediaType:n,name:asString(i),otherProperties:undefinedIfEmpty(fromPlutusData_mapOtherProperties(o,t)),src:d}};const mapFiles=(e,t)=>{if(!e)return;if(!(0,f.isPlutusList)(e)){t.warn('expected "files" to be a list');return}return e.items.map(e=>fromPlutusData_mapFile(e,t)).filter(n.isNotNil)};const getConditionalValidators=(e,t)=>({isNameValid:r=>{if("string"==typeof r)return true;if(void 0===r){if(e){t.debug('Invalid PlutusData: "name" is required');return false}return true}t.debug('Invalid PlutusData: "name" must be utf8 bounded bytes');return false},isValidDatumShape:r=>{const a=e?3:2;const s=(0,f.isConstrPlutusData)(r)&&0n===r.constructor&&r.fields.items.length>=a;if(!s)t.debug(`Invalid PlutusData: expecting ConstrPlutusData with 0th constructor and ${a} items`);return s}});const fromPlutusData=(e,t,r=false)=>{const a=(0,u.contextLogger)(t,"NftMetadata.fromPlutusData");const i=getConditionalValidators(r,a);if(!i.isValidDatumShape(e)){return null}const[o,n]=e.fields.items;if(!(0,f.isPlutusMap)(o)||!(0,f.isPlutusBigInt)(n)){a.debug("Invalid PlutusData: expecting a map at [0] and integer at [1]");return null}const d=(0,f.tryConvertPlutusMapToUtf8Record)(o,a);const{name:c,image:l,mediaType:h,description:p,files:m,..._}=d;if(!i.isNameValid(c)){return null}if("string"!=typeof l){a.debug('Invalid PlutusData: "image" must be UTF-8 bounded bytes');return null}const v=tryCoerce(l,s.Uri,a);if(!v){return null}return{description:asString(p),files:mapFiles(m,a),image:v,mediaType:tryCoerce(h,s.ImageMediaType,a),name:c||"",otherProperties:undefinedIfEmpty(fromPlutusData_mapOtherProperties(_,a)),version:n.toString()}};const h={fromMetadatum:fromMetadatum,fromPlutusData:fromPlutusData}},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/NftMetadata/types.js":(e,t,r)=>{"use strict";r.d(t,{ImageMediaType:()=>ImageMediaType,MediaType:()=>MediaType,Uri:()=>Uri});var a=r("../../node_modules/@biglup/is-cid/dist/esm/index.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const looksLikeIpfsUrlWithoutProtocol=e=>{const[t]=e.split("/");if(!t)return false;return a.isValid(t)};const Uri=e=>{if(/^[a-z]+:\/\/.+/.test(e)){return e}if(e.startsWith("data:")){return e}if(looksLikeIpfsUrlWithoutProtocol(e)){return`ipfs://${e}`}throw new s.InvalidStringError('Expected Uri to start with "[protocol]:", where protocol is usually "https", "ipfs" or "data"')};const ImageMediaType=e=>{if(/^image\/.+$/.test(e)){return e}throw new s.InvalidStringError('Expected media type to be "image/*"')};const MediaType=e=>{if(/^[a-z]+\/.+$/.test(e)){return e}throw new s.InvalidStringError('Expected media type to be "*/*"')}},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/cip67.js":(e,t,r)=>{"use strict";r.d(t,{AssetNameLabel:()=>AssetNameLabel,AssetNameLabelNum:()=>l});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");let i=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];if("undefined"!=typeof Int32Array)i=new Int32Array(i);const crc8=(e,t=0)=>{let r=Math.trunc(t);for(const a of e)r=255&i[(r^a)&255];return r};const o=crc8;var n=r("../../node_modules/buffer/index.js")["Buffer"];const d=8;const c="0";const AssetNameLabel=e=>e;const l={ReferenceNFT:100,UserFT:333,UserNFT:222,UserRFT:444,VirtualHandle:0};const assertLabelNumInterval=e=>{if(e<0||e>65535){throw new s.InvalidArgumentError("Label num",`Label ${e} out of range 0 - 65535.`)}};const checksum=e=>o(Uint8Array.from(n.from(e,"hex"))).toString(16).padStart(2,"0");const isInvalidChecksum=(e,t)=>t!==checksum(e);const isInvalidLength=e=>e.length!==d;const isInvalidBracket=(e,t)=>e!==c||t!==c;const assetNameLabelHexToNum=e=>{const t=e[0];const r=e[7];const a=e.slice(1,5);const s=e.slice(5,7);if(isInvalidLength(e)||isInvalidBracket(t,r)||isInvalidChecksum(a,s)){return null}return AssetNameLabel(Number.parseInt(a,16))};AssetNameLabel.decode=e=>{const t=e.slice(0,d);const r=e.slice(d);const s=assetNameLabelHexToNum(t);if(null===s){return null}return{content:(0,a.AssetName)(r),label:s}};AssetNameLabel.encode=(e,t)=>{assertLabelNumInterval(t);const r=t.toString(16).padStart(4,c);return(0,a.AssetName)(`${c}${r}${checksum(r)}${c}${e}`)}},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{AssetNameLabel:()=>d.AssetNameLabel,AssetNameLabelNum:()=>d.AssetNameLabelNum,ImageMediaType:()=>c.ImageMediaType,InvalidFileError:()=>c.InvalidFileError,MediaType:()=>c.MediaType,NftMetadata:()=>c.NftMetadata,Uri:()=>c.Uri,util:()=>a});var a={};r.r(a);r.d(a,{coalesceTokenMaps:()=>s.coalesceTokenMaps,getAssetNameAsText:()=>n.getAssetNameAsText,isValidHandle:()=>o.isValidHandle,removeNegativesFromTokenMap:()=>removeNegativesFromTokenMap,subtractMaps:()=>i.subtractMaps,subtractTokenMaps:()=>i.subtractTokenMaps});var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/coalesceTokenMaps.js");const removeNegativesFromTokenMap=e=>{const t=new Map(e);for(const[r,a]of t)if(a<0)t.delete(r);return t};var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/subtractTokenMaps.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/isValidHandle.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/getAssetNameAsText.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/cip67.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/NftMetadata/index.js")},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/coalesceTokenMaps.js":(e,t,r)=>{"use strict";r.d(t,{coalesceTokenMaps:()=>coalesceTokenMaps});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");const coalesceTokenMaps=e=>{const t=new Map;for(const r of e.filter(a.isNotNil)){for(const[s,i]of r.entries()){const o=t.get(s)||0n;t.set(s,o+i)}}if(0===t.size){return}return t}},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/getAssetNameAsText.js":(e,t,r)=>{"use strict";r.d(t,{getAssetNameAsText:()=>getAssetNameAsText});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/cip67.js");var i=r("../../node_modules/buffer/index.js")["Buffer"];const getAssetNameAsText=e=>{var t;const r=a.AssetId.getAssetName(e);const o=null===(t=s.AssetNameLabel.decode(r))||void 0===t?void 0:t.content;return i.from(o||r,"hex").toString("utf8")}},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/isValidHandle.js":(e,t,r)=>{"use strict";r.d(t,{isValidHandle:()=>isValidHandle});const a=new RegExp(/^[a-z0-9_.-]{1,15}$/);const s=new RegExp(/(?:^[a-z0-9_.-]{1,15}$)|(?:^(?!.{29})[a-z0-9_.-]+@[a-z0-9_.-]{1,15}$)/g);const isValidHandle=e=>{s.lastIndex=0;return a.test(e)||s.test(e)||"0|0"===e}},"../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/subtractTokenMaps.js":(e,t,r)=>{"use strict";r.d(t,{subtractMaps:()=>subtractMaps,subtractTokenMaps:()=>subtractTokenMaps});var a=r("../../node_modules/lodash/uniq.js");const subtractMaps=(e,t)=>{if(!t){if(!e)return;const r=new Map;for(const[s,i]of e.entries())if(0n!==i)r.set(s,i);return r}if(!e){const o=new Map;for(const[n,d]of t.entries())if(0n!==d)o.set(n,-d);return o}const c=new Map;const l=new Array;for(const[u,f]of e.entries()){if(t.has(u)){l.push(u);continue}if(0n!==f)c.set(u,f)}for(const[h,p]of t.entries()){if(e.has(h)){l.push(h);continue}if(0n!==p)c.set(h,-p)}const m=a(l);for(const _ of m){const v=e.get(_);const y=t.get(_);const w=v-y;if(0n!==w)c.set(_,w)}return c};const subtractTokenMaps=e=>{if(!e||0===e.length)return;return e.reduce(subtractMaps)}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js":(e,t,r)=>{"use strict";r.d(t,{Address:()=>Address,AddressType:()=>m,CredentialType:()=>_,isAddress:()=>isAddress});var a=r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/esm/index.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/BaseAddress.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/ByronAddress.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/EnterpriseAddress.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/ChainId.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PointerAddress.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js");var f=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h;const p=1023;var m;(function(e){e[e["BasePaymentKeyStakeKey"]=0]="BasePaymentKeyStakeKey";e[e["BasePaymentScriptStakeKey"]=1]="BasePaymentScriptStakeKey";e[e["BasePaymentKeyStakeScript"]=2]="BasePaymentKeyStakeScript";e[e["BasePaymentScriptStakeScript"]=3]="BasePaymentScriptStakeScript";e[e["PointerKey"]=4]="PointerKey";e[e["PointerScript"]=5]="PointerScript";e[e["EnterpriseKey"]=6]="EnterpriseKey";e[e["EnterpriseScript"]=7]="EnterpriseScript";e[e["Byron"]=8]="Byron";e[e["RewardKey"]=14]="RewardKey";e[e["RewardScript"]=15]="RewardScript"})(m||(m={}));var _;(function(e){e[e["KeyHash"]=0]="KeyHash";e[e["ScriptHash"]=1]="ScriptHash"})(_||(_={}));class Address{static fromBytes(e){const t=f.from(e,"hex");const r=t[0]>>4;let a;switch(r){case m.BasePaymentKeyStakeKey:case m.BasePaymentScriptStakeKey:case m.BasePaymentKeyStakeScript:case m.BasePaymentScriptStakeScript:a=s.BaseAddress.unpackParts(r,t);break;case m.PointerKey:case m.PointerScript:a=l.PointerAddress.unpackParts(r,t);break;case m.EnterpriseKey:case m.EnterpriseScript:a=o.EnterpriseAddress.unpackParts(r,t);break;case m.RewardKey:case m.RewardScript:a=u.RewardAddress.unpackParts(r,t);break;case m.Byron:a=i.ByronAddress.unpackParts(r,t);break;default:throw new n.InvalidArgumentError("data","Invalid address raw data")}return a}toBytes(){let e;switch(__classPrivateFieldGet(this,h,"f").type){case m.BasePaymentKeyStakeKey:case m.BasePaymentScriptStakeKey:case m.BasePaymentKeyStakeScript:case m.BasePaymentScriptStakeScript:e=s.BaseAddress.packParts(__classPrivateFieldGet(this,h,"f"));break;case m.PointerKey:case m.PointerScript:e=l.PointerAddress.packParts(__classPrivateFieldGet(this,h,"f"));break;case m.EnterpriseKey:case m.EnterpriseScript:e=o.EnterpriseAddress.packParts(__classPrivateFieldGet(this,h,"f"));break;case m.RewardKey:case m.RewardScript:e=u.RewardAddress.packParts(__classPrivateFieldGet(this,h,"f"));break;case m.Byron:e=i.ByronAddress.packParts(__classPrivateFieldGet(this,h,"f"));break;default:throw new Error("Invalid address")}return d.HexBlob.fromBytes(e)}static fromBase58(e){return Address.fromBytes(d.HexBlob.fromBytes(a.base58.decode(e)))}toBase58(){if(__classPrivateFieldGet(this,h,"f").type!==m.Byron)throw new Error("Only Byron addresses will be encoded in base58");return a.base58.encode(f.from(this.toBytes(),"hex"))}toBech32(){const e=a.bech32.toWords(f.from(this.toBytes(),"hex"));if(__classPrivateFieldGet(this,h,"f").type===m.Byron)throw new Error("Only Shelley addresses will be encoded in bech32");const t=Address.getBech32Prefix(__classPrivateFieldGet(this,h,"f").type,__classPrivateFieldGet(this,h,"f").networkId);const r=a.bech32.encode(t,e,p);return __classPrivateFieldGet(this,h,"f").type===m.RewardKey||(__classPrivateFieldGet(this,h,"f").type,m.RewardScript),r}static fromBech32(e){const{words:t}=a.bech32.decode(e,p);return Address.fromBytes(d.HexBlob.fromBytes(a.bech32.fromWords(t)))}static fromString(e){try{if(Address.isValidBech32(e))return Address.fromBech32(e);if(Address.isValidByron(e))return Address.fromBase58(e);return Address.fromBytes((0,d.HexBlob)(e))}catch{}return null}static isValidBech32(e){try{Address.fromBech32(e)}catch{return false}return true}static isValidByron(e){try{const t=Address.fromBase58(e);if(__classPrivateFieldGet(t,h,"f").type!==m.Byron)return false}catch{return false}return true}static isValid(e){return Address.isValidBech32(e)||Address.isValidByron(e)}asByron(){return i.ByronAddress.fromAddress(this)}asReward(){return u.RewardAddress.fromAddress(this)}asPointer(){return l.PointerAddress.fromAddress(this)}asEnterprise(){return o.EnterpriseAddress.fromAddress(this)}asBase(){return s.BaseAddress.fromAddress(this)}getType(){return __classPrivateFieldGet(this,h,"f").type}getNetworkId(){if(__classPrivateFieldGet(this,h,"f").type===m.Byron){var e;if((null===(e=__classPrivateFieldGet(this,h,"f").byronAddressContent)||void 0===e?void 0:e.attrs.magic)===void 0)return c.NetworkId.Mainnet;return c.NetworkId.Testnet}return __classPrivateFieldGet(this,h,"f").networkId}getProps(){return __classPrivateFieldGet(this,h,"f")}static getBech32Prefix(e,t){let r="";switch(e){case m.BasePaymentKeyStakeKey:case m.BasePaymentScriptStakeKey:case m.BasePaymentKeyStakeScript:case m.BasePaymentScriptStakeScript:case m.PointerKey:case m.PointerScript:case m.EnterpriseKey:case m.EnterpriseScript:r="addr";break;case m.RewardKey:case m.RewardScript:r="stake";break;default:throw new Error("Invalid address")}r+=0===t?"_test":"";return r}constructor(e){h.set(this,void 0);__classPrivateFieldSet(this,h,e,"f")}}h=new WeakMap;const isAddress=e=>Address.isValid(e)},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/BaseAddress.js":(e,t,r)=>{"use strict";r.d(t,{BaseAddress:()=>BaseAddress});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n,d,c,l;class BaseAddress{static fromCredentials(e,t,r){let s=a.AddressType.BasePaymentKeyStakeKey;if(t.type===a.CredentialType.ScriptHash)s|=1;if(r.type===a.CredentialType.ScriptHash)s|=2;return new BaseAddress({delegationPart:r,networkId:e,paymentPart:t,type:s})}getPaymentCredential(){return __classPrivateFieldGet(this,c,"f")}getStakeCredential(){return __classPrivateFieldGet(this,l,"f")}toAddress(){return new a.Address({delegationPart:__classPrivateFieldGet(this,l,"f"),networkId:__classPrivateFieldGet(this,d,"f"),paymentPart:__classPrivateFieldGet(this,c,"f"),type:__classPrivateFieldGet(this,n,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case a.AddressType.BasePaymentKeyStakeKey:case a.AddressType.BasePaymentScriptStakeKey:case a.AddressType.BasePaymentKeyStakeScript:case a.AddressType.BasePaymentScriptStakeScript:t=new BaseAddress(e.getProps());break;default:}return t}static packParts(e){return o.concat([o.from([e.type<<4|e.networkId]),o.from(e.paymentPart.hash,"hex"),o.from(e.delegationPart.hash,"hex")])}static unpackParts(e,t){if(57!==t.length)throw new i.InvalidArgumentError("data","Base address data length should be 57 bytes long.");const r=15&t[0];const n=(0,s.Hash28ByteBase16)(o.from(t.slice(1,29)).toString("hex"));const d=(0,s.Hash28ByteBase16)(o.from(t.slice(29,57)).toString("hex"));const c=e===a.AddressType.BasePaymentKeyStakeScript||e===a.AddressType.BasePaymentScriptStakeScript?a.CredentialType.ScriptHash:a.CredentialType.KeyHash;const l=e===a.AddressType.BasePaymentScriptStakeKey||e===a.AddressType.BasePaymentScriptStakeScript?a.CredentialType.ScriptHash:a.CredentialType.KeyHash;return new a.Address({delegationPart:{hash:d,type:c},networkId:r,paymentPart:{hash:n,type:l},type:e})}constructor(e){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,d,e.networkId,"f");__classPrivateFieldSet(this,c,e.paymentPart,"f");__classPrivateFieldSet(this,l,e.delegationPart,"f");__classPrivateFieldSet(this,n,e.type,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/ByronAddress.js":(e,t,r)=>{"use strict";r.d(t,{ByronAddress:()=>ByronAddress,ByronAddressType:()=>m});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@foxglove/crc/dist/esm/src/index.js");var f=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p;var m;(function(e){e[e["PubKey"]=0]="PubKey";e[e["Script"]=1]="Script";e[e["Redeem"]=2]="Redeem"})(m||(m={}));class ByronAddress{static fromCredentials(e,t,r){return new ByronAddress({byronAddressContent:{attrs:t,root:e,type:r},type:a.AddressType.Byron})}getAttributes(){return __classPrivateFieldGet(this,p,"f").attrs}getRoot(){return __classPrivateFieldGet(this,p,"f").root}getByronAddressType(){return __classPrivateFieldGet(this,p,"f").type}toAddress(){return new a.Address({byronAddressContent:__classPrivateFieldGet(this,p,"f"),type:__classPrivateFieldGet(this,h,"f")})}static fromAddress(e){return e.getProps().type===a.AddressType.Byron?new ByronAddress(e.getProps()):void 0}static packParts(e){const{root:t,attrs:r,type:a}=e.byronAddressContent;let o=0;if(r.derivationPath)++o;if(r.magic)++o;const n=new s.CborWriter;n.writeStartArray(3);n.writeByteString(f.from(t,"hex"));n.writeStartMap(o);if(r.derivationPath){const d=new s.CborWriter().writeByteString(f.from(r.derivationPath,"hex")).encode();n.writeInt(1);n.writeByteString(d)}if(r.magic){const c=new s.CborWriter().writeInt(r.magic).encode();n.writeInt(2);n.writeByteString(c)}n.writeInt(a);const l=f.from(n.encodeAsHex(),"hex");n.reset();n.writeStartArray(2);n.writeTag(i.CborTag.EncodedCborDataItem);n.writeByteString(l);n.writeInt((0,u.crc32)(l));return n.encode()}static unpackParts(e,t){let r=new o.CborReader(c.HexBlob.fromBytes(t));r.readStartArray();r.readTag();const s=r.readByteString();if(Number(r.readInt())!==(0,u.crc32)(s))throw new l.InvalidArgumentError("data","Invalid Byron raw data. Checksum doesnt match.");r=new o.CborReader(c.HexBlob.fromBytes(s));r.readStartArray();const i=(0,d.Hash28ByteBase16)(f.from(r.readByteString()).toString("hex"));r.readStartMap();let h;let p;while(r.peekState()!==n.CborReaderState.EndMap){const m=r.readInt();switch(m){case 1n:{const _=r.readByteString();p=c.HexBlob.fromBytes(new o.CborReader(c.HexBlob.fromBytes(_)).readByteString());break}case 2n:{const v=r.readByteString();h=Number(new o.CborReader(c.HexBlob.fromBytes(v)).readInt());break}}}r.readEndMap();const y=Number(r.readInt());return new a.Address({byronAddressContent:{attrs:{derivationPath:p,magic:h},root:i,type:y},type:e})}constructor(e){h.set(this,void 0);p.set(this,void 0);__classPrivateFieldSet(this,p,e.byronAddressContent,"f");__classPrivateFieldSet(this,h,e.type,"f")}}h=new WeakMap,p=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/DRepID.js":(e,t,r)=>{"use strict";r.d(t,{DRepID:()=>DRepID});var a=r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/esm/index.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];const d=1023;const c=28;const l=29;const DRepID=e=>{try{return(0,o.typedBech32)(e,["drep"],47)}catch{return(0,o.typedBech32)(e,["drep","drep_script"],45)}};DRepID.isValid=e=>{try{DRepID(e);return true}catch{return false}};DRepID.cip105FromCredential=e=>{let t="drep";if(e.type===s.CredentialType.ScriptHash)t="drep_script";const r=a.bech32.toWords(n.from(e.hash,"hex"));return a.bech32.encode(t,r,d)};DRepID.cip129FromCredential=e=>{let t="22";if(e.type===s.CredentialType.ScriptHash)t="23";const r=`${t}${e.hash}`;const i=a.bech32.toWords(n.from(r,"hex"));return a.bech32.encode("drep",i,d)};DRepID.toCredential=e=>{const{words:t}=a.bech32.decode(e,d);const r=a.bech32.fromWords(t);if(r.length!==c&&r.length!==l){throw new Error("Invalid DRepID payload")}if(r.length===c){const o=e.includes("drep_script");return{hash:(0,i.Hash28ByteBase16)(n.from(r).toString("hex")),type:o?s.CredentialType.ScriptHash:s.CredentialType.KeyHash}}const u=r[0];const f=r.slice(1);const h=(32&u)===32;const p=(3&u)===3;if(!h){throw new Error("Invalid governance credential type")}return{hash:(0,i.Hash28ByteBase16)(n.from(f).toString("hex")),type:p?s.CredentialType.ScriptHash:s.CredentialType.KeyHash}};DRepID.toCip105DRepID=e=>{const t=DRepID.toCredential(e);return DRepID.cip105FromCredential(t)};DRepID.toCip129DRepID=e=>{const t=DRepID.toCredential(e);return DRepID.cip129FromCredential(t)};DRepID.toAddress=e=>{const t=DRepID.toCredential(e);return new s.Address({paymentPart:t,type:t.type===s.CredentialType.KeyHash?s.AddressType.EnterpriseKey:s.AddressType.EnterpriseScript}).asEnterprise()}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/EnterpriseAddress.js":(e,t,r)=>{"use strict";r.d(t,{EnterpriseAddress:()=>EnterpriseAddress});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n,d,c;class EnterpriseAddress{static fromCredentials(e,t){const r=t.type===a.CredentialType.ScriptHash?a.AddressType.EnterpriseScript:a.AddressType.EnterpriseKey;return new EnterpriseAddress({networkId:e,paymentPart:t,type:r})}getPaymentCredential(){return __classPrivateFieldGet(this,c,"f")}toAddress(){return new a.Address({networkId:__classPrivateFieldGet(this,d,"f"),paymentPart:__classPrivateFieldGet(this,c,"f"),type:__classPrivateFieldGet(this,n,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case a.AddressType.EnterpriseKey:case a.AddressType.EnterpriseScript:t=new EnterpriseAddress(e.getProps());break;default:}return t}static packParts(e){return o.concat([o.from([e.type<<4|e.networkId]),o.from(e.paymentPart.hash,"hex")])}static unpackParts(e,t){if(29!==t.length)throw new i.InvalidArgumentError("data","Enterprise address data length should be 29 bytes long.");const r=15&t[0];const n=(0,s.Hash28ByteBase16)(o.from(t.slice(1,29)).toString("hex"));return new a.Address({networkId:r,paymentPart:{hash:n,type:e===a.AddressType.EnterpriseScript?a.CredentialType.ScriptHash:a.CredentialType.KeyHash},type:e})}constructor(e){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);__classPrivateFieldSet(this,d,e.networkId,"f");__classPrivateFieldSet(this,c,e.paymentPart,"f");__classPrivateFieldSet(this,n,e.type,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js":(e,t,r)=>{"use strict";r.d(t,{PaymentAddress:()=>PaymentAddress,addressNetworkId:()=>addressNetworkId,inputsWithAddresses:()=>inputsWithAddresses,isAddressWithin:()=>isAddressWithin,isRewardAccount:()=>isRewardAccount});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/DRepID.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];const isRewardAccount=e=>{try{(0,i.assertIsBech32WithPrefix)(e,["stake","stake_test"]);return true}catch{return false}};const PaymentAddress=e=>{if(a.Address.isValid(e)){if(isRewardAccount(e)||s.DRepID.isValid(e)){throw new o.InvalidStringError(e,"Address type can only be used for payment addresses")}return e}try{(0,i.assertIsHexString)(e)}catch{throw new o.InvalidStringError(e,"Expected payment address as bech32, base58 or hex-encoded bytes")}const t=a.Address.fromBytes(i.HexBlob.fromBytes(n.from(e,"hex")));return t.getType()===a.AddressType.Byron?t.toBase58():t.toBech32()};const isAddressWithin=e=>({address:t})=>e.includes(t);const inputsWithAddresses=(e,t)=>e.body.inputs.filter(isAddressWithin(t));const addressNetworkId=e=>{const t=a.Address.fromString(e);return t.getNetworkId()}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PointerAddress.js":(e,t,r)=>{"use strict";r.d(t,{CertIndex:()=>CertIndex,PointerAddress:()=>PointerAddress,TxIndex:()=>TxIndex});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n,d,c,l;const variableLengthEncode=e=>{if("bigint"!=typeof e)e=BigInt(e);if(e<0){throw new i.InvalidArgumentError("val",`Negative numbers not supported. Number supplied: ${e}`)}const t=[];let r=e.toString(2).length;t.push(Number(127n&e));while(r>7){e>>=7n;r-=7;t.unshift(Number((127n&e)+128n))}return o.from(t)};const variableLengthDecode=e=>{let t=true;let r=0n;let a=0;while(t&&a<e.length){const s=e[a];r<<=7n;r|=BigInt(127&s);t=(128&s)!==0;++a}return{bytesRead:a,value:r}};const TxIndex=e=>e;const CertIndex=e=>e;class PointerAddress{static fromCredentials(e,t,r){let s=a.AddressType.PointerKey;if(t.type===a.CredentialType.ScriptHash)s&=1;return new PointerAddress({networkId:e,paymentPart:t,pointer:r,type:s})}getPaymentCredential(){return __classPrivateFieldGet(this,c,"f")}getStakePointer(){return __classPrivateFieldGet(this,l,"f")}toAddress(){return new a.Address({networkId:__classPrivateFieldGet(this,d,"f"),paymentPart:__classPrivateFieldGet(this,c,"f"),pointer:__classPrivateFieldGet(this,l,"f"),type:__classPrivateFieldGet(this,n,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case a.AddressType.PointerKey:case a.AddressType.PointerScript:t=new PointerAddress(e.getProps());break;default:}return t}static packParts(e){const{slot:t,txIndex:r,certIndex:a}=e.pointer;return o.concat([o.from([e.type<<4|e.networkId]),o.from(e.paymentPart.hash,"hex"),o.concat([variableLengthEncode(t),variableLengthEncode(r),variableLengthEncode(a)])])}static unpackParts(e,t){if(t.length<=29)throw new i.InvalidArgumentError("data","Pointer address data length should greater than 29 bytes long.");const r=15&t[0];const n=(0,s.Hash28ByteBase16)(o.from(t.slice(1,29)).toString("hex"));let d=29;const c=o.from(t);const{value:l,bytesRead:u}=variableLengthDecode(c.subarray(d));d+=u;const{value:f,bytesRead:h}=variableLengthDecode(c.subarray(d));d+=h;const{value:p}=variableLengthDecode(c.subarray(d));return new a.Address({networkId:r,paymentPart:{hash:n,type:e===a.AddressType.PointerScript?a.CredentialType.ScriptHash:a.CredentialType.KeyHash},pointer:{certIndex:CertIndex(Number(p)),slot:l,txIndex:TxIndex(Number(f))},type:e})}constructor(e){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,d,e.networkId,"f");__classPrivateFieldSet(this,c,e.paymentPart,"f");__classPrivateFieldSet(this,l,e.pointer,"f");__classPrivateFieldSet(this,n,e.type,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js":(e,t,r)=>{"use strict";r.d(t,{RewardAccount:()=>RewardAccount,createRewardAccount:()=>createRewardAccount});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js");const RewardAccount=e=>(0,i.typedBech32)(e,["stake","stake_test"],47);RewardAccount.toHash=e=>a.Address.fromBech32(e).asReward().getPaymentCredential().hash;RewardAccount.fromCredential=(e,t)=>RewardAccount(o.RewardAddress.fromCredentials(t,{hash:e.hash,type:e.type}).toAddress().toBech32());RewardAccount.toNetworkId=e=>a.Address.fromBech32(e).asReward().toAddress().getNetworkId();const createRewardAccount=(e,t)=>RewardAccount(o.RewardAddress.fromCredentials(t,{hash:(0,s.Hash28ByteBase16)(e),type:a.CredentialType.KeyHash}).toAddress().toBech32())},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js":(e,t,r)=>{"use strict";r.d(t,{RewardAddress:()=>RewardAddress});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n,d,c;class RewardAddress{static fromCredentials(e,t){let r=a.AddressType.RewardKey;if(t.type===a.CredentialType.ScriptHash)r|=1;return new RewardAddress({networkId:e,paymentPart:t,type:r})}getPaymentCredential(){return __classPrivateFieldGet(this,c,"f")}toAddress(){return new a.Address({networkId:__classPrivateFieldGet(this,d,"f"),paymentPart:__classPrivateFieldGet(this,c,"f"),type:__classPrivateFieldGet(this,n,"f")})}static fromAddress(e){let t;switch(e.getProps().type){case a.AddressType.RewardKey:case a.AddressType.RewardScript:t=new RewardAddress(e.getProps());break;default:}return t}static packParts(e){return o.concat([o.from([e.type<<4|e.networkId]),o.from(e.paymentPart.hash,"hex")])}static unpackParts(e,t){if(29!==t.length)throw new i.InvalidArgumentError("data","Enterprise address data length should be 29 bytes long.");const r=15&t[0];const n=(0,s.Hash28ByteBase16)(o.from(t.slice(1,29)).toString("hex"));return new a.Address({networkId:r,paymentPart:{hash:n,type:e===a.AddressType.RewardScript?a.CredentialType.ScriptHash:a.CredentialType.KeyHash},type:e})}constructor(e){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);__classPrivateFieldSet(this,d,e.networkId,"f");__classPrivateFieldSet(this,c,e.paymentPart,"f");__classPrivateFieldSet(this,n,e.type,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/ChainId.js":(e,t,r)=>{"use strict";r.d(t,{ChainIds:()=>i,NetworkId:()=>a,NetworkMagics:()=>s});var a;(function(e){e[e["Mainnet"]=1]="Mainnet";e[e["Testnet"]=0]="Testnet"})(a||(a={}));var s;(function(e){e[e["Mainnet"]=764824073]="Mainnet";e[e["Preprod"]=1]="Preprod";e[e["Preview"]=2]="Preview";e[e["Sanchonet"]=4]="Sanchonet"})(s||(s={}));const i={Mainnet:{networkId:a.Mainnet,networkMagic:s.Mainnet},Preprod:{networkId:a.Testnet,networkMagic:s.Preprod},Preview:{networkId:a.Testnet,networkMagic:s.Preview},Sanchonet:{networkId:a.Testnet,networkMagic:s.Sanchonet}}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{Address:()=>A.Address,AddressType:()=>A.AddressType,AssetFingerprint:()=>g.AssetFingerprint,AssetId:()=>g.AssetId,AssetName:()=>g.AssetName,BaseAddress:()=>I.BaseAddress,BlockId:()=>w.BlockId,BlockNo:()=>w.BlockNo,BlockSize:()=>w.BlockSize,ByronAddress:()=>j.ByronAddress,ByronAddressType:()=>j.ByronAddressType,CertIndex:()=>O.CertIndex,CertificateType:()=>y.CertificateType,ChainIds:()=>s.ChainIds,Cip1854ExtendedAccountPublicKey:()=>k.Cip1854ExtendedAccountPublicKey,CredentialType:()=>A.CredentialType,DRepID:()=>x.DRepID,DelegationMetadataLabel:()=>_.DelegationMetadataLabel,EnterpriseAddress:()=>R.EnterpriseAddress,EpochNo:()=>w.EpochNo,ExtendedPoolStatus:()=>p,FractionUtils:()=>T.FractionUtils,GenesisDelegate:()=>w.GenesisDelegate,GovernanceActionType:()=>E.GovernanceActionType,InputSource:()=>v.InputSource,MirCertificateKind:()=>y.MirCertificateKind,MirCertificatePot:()=>y.MirCertificatePot,NativeScriptKind:()=>P.NativeScriptKind,NetworkId:()=>s.NetworkId,NetworkMagics:()=>s.NetworkMagics,PaymentAddress:()=>B.PaymentAddress,PlutusLanguageVersion:()=>P.PlutusLanguageVersion,PlutusListEncoding:()=>C,PlutusMapEncoding:()=>S,PointerAddress:()=>O.PointerAddress,PolicyId:()=>g.PolicyId,PoolId:()=>m.PoolId,PoolIdHex:()=>m.PoolIdHex,PoolMdVk:()=>PoolMdVk,PostConwayStakeRegistrationCertificateTypes:()=>y.PostConwayStakeRegistrationCertificateTypes,RedeemerPurpose:()=>v.RedeemerPurpose,RegAndDeregCertificateTypes:()=>y.RegAndDeregCertificateTypes,RewardAccount:()=>D.RewardAccount,RewardAddress:()=>M.RewardAddress,ScriptType:()=>P.ScriptType,Slot:()=>w.Slot,SlotLeader:()=>w.SlotLeader,StakeCredentialCertificateTypes:()=>y.StakeCredentialCertificateTypes,StakeCredentialStatus:()=>_.StakeCredentialStatus,StakeDelegationCertificateTypes:()=>y.StakeDelegationCertificateTypes,StakePoolEpochRewards:()=>f.StakePoolEpochRewards,StakePoolStatus:()=>f.StakePoolStatus,StakeRegistrationCertificateTypes:()=>y.StakeRegistrationCertificateTypes,TransactionId:()=>v.TransactionId,TxIndex:()=>O.TxIndex,Vote:()=>E.Vote,VoteDelegationCredentialCertificateTypes:()=>y.VoteDelegationCredentialCertificateTypes,VoterType:()=>E.VoterType,VrfVkBech32:()=>w.VrfVkBech32,VrfVkHex:()=>m.VrfVkHex,addressNetworkId:()=>B.addressNetworkId,cip17FromMetadatum:()=>_.cip17FromMetadatum,computeAuxiliaryDataHash:()=>b.computeAuxiliaryDataHash,createDelegationCert:()=>y.createDelegationCert,createRewardAccount:()=>D.createRewardAccount,createStakeDeregistrationCert:()=>y.createStakeDeregistrationCert,createStakeRegistrationCert:()=>y.createStakeRegistrationCert,includesAnyCertificate:()=>y.includesAnyCertificate,inputsWithAddresses:()=>B.inputsWithAddresses,isAddress:()=>A.isAddress,isAddressWithin:()=>B.isAddressWithin,isCertType:()=>y.isCertType,isDRepAlwaysAbstain:()=>E.isDRepAlwaysAbstain,isDRepAlwaysNoConfidence:()=>E.isDRepAlwaysNoConfidence,isDRepCredential:()=>E.isDRepCredential,isDrepInfo:()=>E.isDrepInfo,isNativeScript:()=>P.isNativeScript,isPlutusScript:()=>P.isPlutusScript,isRewardAccount:()=>B.isRewardAccount,portfolioMetadataFromCip17:()=>_.portfolioMetadataFromCip17,stakeKeyCertificates:()=>y.stakeKeyCertificates,util:()=>a});var a={};r.r(a);r.d(a,{addressesShareAnyKey:()=>c.addressesShareAnyKey,computeImplicitCoin:()=>i.computeImplicitCoin,computeMinUtxoValue:()=>computeMinUtxoValue,estimateStakePoolAPY:()=>estimateStakePoolAPY,isAnyPlutusDataCollection:()=>l.isAnyPlutusDataCollection,isConstrPlutusData:()=>l.isConstrPlutusData,isPhase2ValidationErrTx:()=>d.isPhase2ValidationErrTx,isPlutusBigInt:()=>l.isPlutusBigInt,isPlutusBoundedBytes:()=>l.isPlutusBoundedBytes,isPlutusList:()=>l.isPlutusList,isPlutusMap:()=>l.isPlutusMap,isScriptAddress:()=>u.isScriptAddress,resolveInputValue:()=>resolveInputValue,tryConvertPlutusMapToUtf8Record:()=>l.tryConvertPlutusMapToUtf8Record});var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/ChainId.js");const computeMinUtxoValue=e=>29n*e;var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/computeImplicitCoin.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/Percent.js");const n=864e5;const estimateStakePoolAPY=e=>{if(0===e.length)return null;const{activeStake:t,epochLength:r,memberRewards:a,pledge:s}=e.reduce((e,t)=>({activeStake:e.activeStake+t.activeStake,epochLength:e.epochLength+t.epochLength,memberRewards:e.memberRewards+t.memberRewards,pledge:e.pledge+t.activeStake}));return(0,o.Percent)(Number(a)/Number(t-s)/(r/n)*365)};const resolveInputValue=(e,t)=>{var r;const a=t.find(t=>t.id===e.txId);return null===(r=null==a?void 0:a.body.outputs[e.index])||void 0===r?void 0:r.value};var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/phase2Validation.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/addressesShareAnyKey.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/plutusDataUtils.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/isScriptAddress.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/StakePool.js");var h=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");const PoolMdVk=e=>(0,h.typedBech32)(e,"poolmd_vk",52);var p;(function(e){e["Active"]="active";e["Retired"]="retired";e["Offline"]="offline";e["Experimental"]="experimental";e["Private"]="private"})(p||(p={}));var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/DelegationsAndRewards.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var b=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/AuxiliaryData.js");var P=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var C;(function(e){e[e["FixedLength"]=0]="FixedLength";e[e["IndefiniteLength"]=159]="IndefiniteLength"})(C||(C={}));var S;(function(e){e[e["FixedLength"]=0]="FixedLength";e[e["IndefiniteLength"]=191]="IndefiniteLength"})(S||(S={}));var T=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/UtilityTypes.js");var E=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var k=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Cip1854ExtendedAccountPublicKey.js");var A=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var I=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/BaseAddress.js");var j=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/ByronAddress.js");var x=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/DRepID.js");var R=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/EnterpriseAddress.js");var B=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js");var O=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PointerAddress.js");var D=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var M=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js")},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js":(e,t,r)=>{"use strict";r.d(t,{AssetFingerprint:()=>AssetFingerprint,AssetId:()=>AssetId,AssetName:()=>AssetName,PolicyId:()=>PolicyId});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/web-encoding/src/lib.mjs");var d=r("../../node_modules/buffer/index.js")["Buffer"];const AssetName=e=>{if(e.length>0){(0,i.assertIsHexString)(e);if(e.length>64){throw new o.InvalidStringError("too long")}}return e.toLowerCase()};const c=new n.TextDecoder("utf8",{fatal:true});AssetName.toUTF8=(e,t=false)=>{const r=d.from(e,"hex");try{if(t){return c.decode(r.filter(e=>e>31))}return c.decode(r)}catch(a){throw new o.InvalidStringError(`Cannot convert AssetName '${e}' to UTF8`,a)}};const AssetId=e=>{const t=e.split(".").join("");(0,i.assertIsHexString)(t);if(t.length>120)throw new o.InvalidStringError("too long");if(t.length<56)throw new o.InvalidStringError("too short");return t};const PolicyId=e=>a.Hash28ByteBase16(e);AssetId.getPolicyId=e=>PolicyId(e.slice(0,56));AssetId.getAssetName=e=>AssetName(e.slice(56));AssetId.fromParts=(e,t)=>AssetId(e+t);const AssetFingerprint=e=>(0,i.typedBech32)(e,"asset",32);AssetFingerprint.fromParts=(e,t)=>{const r=d.from(e,"hex");const a=d.from(t,"hex");const o=s.blake2b.hash(i.HexBlob.fromBytes(new Uint8Array([...r,...a])),20);return AssetFingerprint(i.HexBlob.toTypedBech32("asset",o))}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/AuxiliaryData.js":(e,t,r)=>{"use strict";r.d(t,{computeAuxiliaryDataHash:()=>computeAuxiliaryDataHash});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/AuxiliaryData.js");const computeAuxiliaryDataHash=e=>e?a.blake2b.hash(s.AuxiliaryData.fromCore(e).toCbor(),32):void 0},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js":(e,t,r)=>{"use strict";r.d(t,{BlockId:()=>BlockId,BlockNo:()=>BlockNo,BlockSize:()=>BlockSize,EpochNo:()=>EpochNo,GenesisDelegate:()=>GenesisDelegate,Slot:()=>Slot,SlotLeader:()=>SlotLeader,VrfVkBech32:()=>VrfVkBech32});var a=r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/esm/index.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];const BlockSize=e=>e;const BlockNo=e=>e;const EpochNo=e=>e;const Slot=e=>e;const BlockId=e=>s.Hash32ByteBase16(e);const VrfVkBech32=e=>(0,i.typedBech32)(e,"vrf_vk",52);const GenesisDelegate=e=>{if(/ShelleyGenesis-[\da-f]{16}/.test(e)){return e}return s.Hash28ByteBase16(e)};const SlotLeader=e=>{try{return(0,n.PoolId)(e)}catch{try{return GenesisDelegate(e)}catch(t){throw new o.InvalidStringError("Expected either PoolId or GenesisDelegate",t)}}};VrfVkBech32.fromHex=e=>{const t=a.bech32.toWords(d.from(e,"hex"));return VrfVkBech32(a.bech32.encode("vrf_vk",t,1023))}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js":(e,t,r)=>{"use strict";r.d(t,{CertificateType:()=>o,MirCertificateKind:()=>d,MirCertificatePot:()=>n,PostConwayStakeRegistrationCertificateTypes:()=>c,RegAndDeregCertificateTypes:()=>f,StakeCredentialCertificateTypes:()=>h,StakeDelegationCertificateTypes:()=>u,StakeRegistrationCertificateTypes:()=>l,VoteDelegationCredentialCertificateTypes:()=>p,createDelegationCert:()=>createDelegationCert,createStakeDeregistrationCert:()=>createStakeDeregistrationCert,createStakeRegistrationCert:()=>createStakeRegistrationCert,includesAnyCertificate:()=>includesAnyCertificate,isCertType:()=>isCertType,stakeKeyCertificates:()=>stakeKeyCertificates});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");var o;(function(e){e["StakeRegistration"]="StakeRegistrationCertificate";e["StakeDeregistration"]="StakeDeregistrationCertificate";e["PoolRegistration"]="PoolRegistrationCertificate";e["PoolRetirement"]="PoolRetirementCertificate";e["StakeDelegation"]="StakeDelegationCertificate";e["MIR"]="MirCertificate";e["GenesisKeyDelegation"]="GenesisKeyDelegationCertificate";e["Registration"]="RegistrationCertificate";e["Unregistration"]="UnRegistrationCertificate";e["VoteDelegation"]="VoteDelegationCertificate";e["StakeVoteDelegation"]="StakeVoteDelegationCertificate";e["StakeRegistrationDelegation"]="StakeRegistrationDelegateCertificate";e["VoteRegistrationDelegation"]="VoteRegistrationDelegateCertificate";e["StakeVoteRegistrationDelegation"]="StakeVoteRegistrationDelegateCertificate";e["AuthorizeCommitteeHot"]="AuthorizeCommitteeHotCertificate";e["ResignCommitteeCold"]="ResignCommitteeColdCertificate";e["RegisterDelegateRepresentative"]="RegisterDelegateRepresentativeCertificate";e["UnregisterDelegateRepresentative"]="UnregisterDelegateRepresentativeCertificate";e["UpdateDelegateRepresentative"]="UpdateDelegateRepresentativeCertificate"})(o||(o={}));var n;(function(e){e["Reserves"]="reserve";e["Treasury"]="treasury"})(n||(n={}));var d;(function(e){e["ToOtherPot"]="toOtherPot";e["ToStakeCreds"]="ToStakeCreds"})(d||(d={}));const c=[o.Registration,o.VoteRegistrationDelegation,o.StakeRegistrationDelegation,o.StakeVoteRegistrationDelegation];const l=[o.StakeRegistration,...c];const u=[o.StakeDelegation,o.StakeVoteDelegation,o.StakeRegistrationDelegation,o.StakeVoteRegistrationDelegation];const f=[...l,o.Unregistration,o.StakeDeregistration];const h=[...f,...u,o.VoteDelegation];const p=[o.VoteDelegation,o.VoteRegistrationDelegation,o.StakeVoteDelegation,o.StakeVoteRegistrationDelegation];const isCertType=(e,t)=>t.includes(e.__typename);const createStakeRegistrationCert=e=>({__typename:o.StakeRegistration,stakeCredential:{hash:a.RewardAccount.toHash(e),type:s.CredentialType.KeyHash}});const createStakeDeregistrationCert=(e,t)=>void 0===t?{__typename:o.StakeDeregistration,stakeCredential:{hash:a.RewardAccount.toHash(e),type:s.CredentialType.KeyHash}}:{__typename:o.Unregistration,deposit:t,stakeCredential:{hash:a.RewardAccount.toHash(e),type:s.CredentialType.KeyHash}};const createDelegationCert=(e,t)=>({__typename:o.StakeDelegation,poolId:t,stakeCredential:{hash:a.RewardAccount.toHash(e),type:s.CredentialType.KeyHash}});const stakeKeyCertificates=e=>{return(null==e?void 0:e.map(e=>isCertType(e,f)?e:void 0).filter(i.isNotNil))||[]};const includesAnyCertificate=(e,t)=>e.some(({__typename:e})=>t.includes(e))||false},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Cip1854ExtendedAccountPublicKey.js":(e,t,r)=>{"use strict";r.d(t,{Cip1854ExtendedAccountPublicKey:()=>Cip1854ExtendedAccountPublicKey});var a=r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/esm/index.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];const d=1023;const c="acct_shared_xvk";const Cip1854ExtendedAccountPublicKey=e=>{try{(0,i.assertIsBech32WithPrefix)(e,[c])}catch{throw new o.InvalidStringError(e,"Expected key to be a bech32 encoded string")}return e};Cip1854ExtendedAccountPublicKey.fromBip32PublicKeyHex=e=>{const t=a.bech32.toWords(n.from(e,"hex"));return Cip1854ExtendedAccountPublicKey(a.bech32.encode(c,t,d))};Cip1854ExtendedAccountPublicKey.toBip32PublicKeyHex=e=>{const{words:t}=a.bech32.decode(e,d);return(0,s.Bip32PublicKeyHex)(n.from(a.bech32.fromWords(t)).toString("hex"))}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/DelegationsAndRewards.js":(e,t,r)=>{"use strict";r.d(t,{DelegationMetadataLabel:()=>i,StakeCredentialStatus:()=>s,cip17FromMetadatum:()=>cip17FromMetadatum,portfolioMetadataFromCip17:()=>portfolioMetadataFromCip17});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/util/metadatum.js");var s;(function(e){e["Registering"]="REGISTERING";e["Registered"]="REGISTERED";e["Unregistering"]="UNREGISTERING";e["Unregistered"]="UNREGISTERED"})(s||(s={}));const i=6862n;const portfolioMetadataFromCip17=e=>{const t={...e};t.pools=e.pools.map(e=>({id:e.id,weight:e.weight}));return t};const cip17FromMetadatum=e=>{const t=(0,a.metadatumToJson)(e);for(const r of t.pools)r.weight=Number(r.weight);return t}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js":(e,t,r)=>{"use strict";r.d(t,{GovernanceActionType:()=>a,Vote:()=>s,VoterType:()=>i,isDRepAlwaysAbstain:()=>isDRepAlwaysAbstain,isDRepAlwaysNoConfidence:()=>isDRepAlwaysNoConfidence,isDRepCredential:()=>isDRepCredential,isDrepInfo:()=>isDrepInfo});var a;(function(e){e["parameter_change_action"]="parameter_change_action";e["hard_fork_initiation_action"]="hard_fork_initiation_action";e["treasury_withdrawals_action"]="treasury_withdrawals_action";e["no_confidence"]="no_confidence";e["update_committee"]="update_committee";e["new_constitution"]="new_constitution";e["info_action"]="info_action"})(a||(a={}));var s;(function(e){e[e["no"]=0]="no";e[e["yes"]=1]="yes";e[e["abstain"]=2]="abstain"})(s||(s={}));var i;(function(e){e["ccHotKeyHash"]="ccHotKeyHash";e["ccHotScriptHash"]="ccHotScriptHash";e["dRepKeyHash"]="dRepKeyHash";e["dRepScriptHash"]="dRepScriptHash";e["stakePoolKeyHash"]="stakePoolKeyHash"})(i||(i={}));const isDrepInfo=e=>"id"in e&&"active"in e;const isDRepCredential=e=>"type"in e&&"hash"in e;const isDRepAlwaysAbstain=e=>"__typename"in e&&"AlwaysAbstain"===e.__typename;const isDRepAlwaysNoConfidence=e=>"__typename"in e&&"AlwaysNoConfidence"===e.__typename},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js":(e,t,r)=>{"use strict";r.d(t,{NativeScriptKind:()=>s,PlutusLanguageVersion:()=>i,ScriptType:()=>a,isNativeScript:()=>isNativeScript,isPlutusScript:()=>isPlutusScript});var a;(function(e){e["Native"]="native";e["Plutus"]="plutus"})(a||(a={}));var s;(function(e){e[e["RequireSignature"]=0]="RequireSignature";e[e["RequireAllOf"]=1]="RequireAllOf";e[e["RequireAnyOf"]=2]="RequireAnyOf";e[e["RequireNOf"]=3]="RequireNOf";e[e["RequireTimeAfter"]=4]="RequireTimeAfter";e[e["RequireTimeBefore"]=5]="RequireTimeBefore"})(s||(s={}));var i;(function(e){e[e["V1"]=0]="V1";e[e["V2"]=1]="V2";e[e["V3"]=2]="V3"})(i||(i={}));const isNativeScript=e=>e.__type===a.Native;const isPlutusScript=e=>e.__type===a.Plutus},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/StakePool.js":(e,t,r)=>{"use strict";r.d(t,{StakePoolEpochRewards:()=>StakePoolEpochRewards,StakePoolStatus:()=>a});var a;(function(e){e["Activating"]="activating";e["Active"]="active";e["Retired"]="retired";e["Retiring"]="retiring"})(a||(a={}));class StakePoolEpochRewards{}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js":(e,t,r)=>{"use strict";r.d(t,{PoolId:()=>PoolId,PoolIdHex:()=>PoolIdHex,VrfVkHex:()=>VrfVkHex});var a=r("../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/esm/index.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");const o=1023;const PoolId=e=>(0,i.typedBech32)(e,"pool",45);PoolId.fromKeyHash=e=>i.HexBlob.toTypedBech32("pool",e);const PoolIdHex=e=>s.Hash28ByteBase16(e);const VrfVkHex=e=>(0,i.typedHex)(e,64);PoolId.toKeyHash=e=>{const{words:t}=a.bech32.decode(e,o);return s.Ed25519KeyHashHex(i.HexBlob.fromBytes(a.bech32.fromWords(t)))}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js":(e,t,r)=>{"use strict";r.d(t,{InputSource:()=>s,RedeemerPurpose:()=>i,TransactionId:()=>TransactionId});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");const TransactionId=e=>a.Hash32ByteBase16(e);TransactionId.fromHexBlob=e=>a.Hash32ByteBase16.fromHexBlob(e);var s;(function(e){e["inputs"]="inputs";e["collaterals"]="collaterals"})(s||(s={}));var i;(function(e){e["spend"]="spend";e["mint"]="mint";e["certificate"]="certificate";e["withdrawal"]="withdrawal";e["propose"]="propose";e["vote"]="vote"})(i||(i={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/UtilityTypes.js":(e,t,r)=>{"use strict";r.d(t,{FractionUtils:()=>s});var a=r("../../node_modules/fraction.js/fraction.js");const toFractionJs=e=>{if("number"==typeof e){return new a(e)}const{numerator:t,denominator:r}=e;return new a(t,r)};const s={toFraction(e){const t=toFractionJs(e);const{n:r,d:a}=t;return{denominator:a,numerator:r}},toNumber(e){const t=toFractionJs(e);return t.valueOf()}}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/addressesShareAnyKey.js":(e,t,r)=>{"use strict";r.d(t,{addressesShareAnyKey:()=>addressesShareAnyKey});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const getAddressKeyIDs=e=>{const t="string"==typeof e?a.Address.fromString(e):e;if(!t){throw new s.InvalidStringError("Expected either bech32 or base58 address")}switch(t.getType()){case a.AddressType.BasePaymentKeyStakeKey:case a.AddressType.BasePaymentKeyStakeScript:case a.AddressType.BasePaymentScriptStakeKey:case a.AddressType.BasePaymentScriptStakeScript:{const r=t.asBase();return{paymentId:{credential:r.getPaymentCredential()},stakeId:{credential:r.getStakeCredential()}}}case a.AddressType.Byron:return{paymentId:{byronRoot:t.asByron().getRoot()}};case a.AddressType.EnterpriseKey:case a.AddressType.EnterpriseScript:{const i=t.asEnterprise();return{paymentId:{credential:i.getPaymentCredential()}}}case a.AddressType.PointerKey:case a.AddressType.PointerScript:{const o=t.asPointer();return{paymentId:{credential:o.getPaymentCredential()},stakeId:{pointer:o.getStakePointer()}}}case a.AddressType.RewardKey:case a.AddressType.RewardScript:{const n=t.asReward();return{stakeId:{credential:n.getPaymentCredential()}}}}};const isPaymentIdPresentAndEquals=(e,t)=>{if(!e||!t)return false;if("credential"in e&&"credential"in t){return e.credential.hash===t.credential.hash}if("byronRoot"in e&&"byronRoot"in t){return e.byronRoot===t.byronRoot}return false};const isStakeIdPresentAndEquals=(e,t)=>{if(!e||!t)return false;if("credential"in e&&"credential"in t){return e.credential.hash===t.credential.hash}if("pointer"in e&&"pointer"in t){return e.pointer.slot===t.pointer.slot&&e.pointer.txIndex===t.pointer.txIndex&&e.pointer.certIndex===t.pointer.certIndex}return false};const addressesShareAnyKey=(e,t)=>{if(e===t)return true;const r=getAddressKeyIDs(e);const a=getAddressKeyIDs(t);return isPaymentIdPresentAndEquals(r.paymentId,a.paymentId)||isStakeIdPresentAndEquals(r.stakeId,a.stakeId)}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/computeImplicitCoin.js":(e,t,r)=>{"use strict";r.d(t,{computeImplicitCoin:()=>computeImplicitCoin});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");var d=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");const stakeCredentialInRewardAccounts=(e,t)=>{if(0===t.length)return true;const r=a.RewardAccount.toNetworkId(t[0]);return t.includes(a.RewardAccount.fromCredential(e,r))};const computeShellyDeposits=(e,t,r)=>{let s=0n;let n=0n;const c=0===r.length;const l=new Set(r.map(e=>i.PoolId.fromKeyHash((0,d.Ed25519KeyHashHex)(a.RewardAccount.toHash(e)))));for(const u of t){switch(u.__typename){case o.CertificateType.StakeRegistration:if(stakeCredentialInRewardAccounts(u.stakeCredential,r))s+=e.stakeKeyDeposit;break;case o.CertificateType.StakeDeregistration:if(stakeCredentialInRewardAccounts(u.stakeCredential,r))n+=e.stakeKeyDeposit;break;case o.CertificateType.PoolRegistration:if(c||r.some(e=>u.poolParameters.owners.includes(e)))s+=e.poolDeposit;break;case o.CertificateType.PoolRetirement:if(c||l.has(u.poolId))n+=e.poolDeposit;break}}return{deposit:s,reclaimDeposit:n}};const computeConwayDeposits=(e,t,r,a)=>{let i=0n;let n=0n;for(const d of e){switch(d.__typename){case o.CertificateType.Registration:case o.CertificateType.StakeRegistrationDelegation:case o.CertificateType.VoteRegistrationDelegation:case o.CertificateType.StakeVoteRegistrationDelegation:if(stakeCredentialInRewardAccounts(d.stakeCredential,t))i+=d.deposit;break;case o.CertificateType.Unregistration:if(stakeCredentialInRewardAccounts(d.stakeCredential,t))n+=d.deposit;break;case o.CertificateType.RegisterDelegateRepresentative:case o.CertificateType.UnregisterDelegateRepresentative:if(!r||d.dRepCredential.type===s.CredentialType.KeyHash&&d.dRepCredential.hash===r)d.__typename===o.CertificateType.RegisterDelegateRepresentative?i+=d.deposit:n+=d.deposit;break}}if(a)for(const c of a)i+=c.deposit;return{deposit:i,reclaimDeposit:n}};const getTxDeposits=({stakeKeyDeposit:e,poolDeposit:t},r,a=[],s,i)=>{if(0===r.length&&(!i||0===i.length))return{deposit:0n,reclaimDeposit:0n};const o={poolDeposit:t?BigInt(t):0n,stakeKeyDeposit:BigInt(e)};const n=computeShellyDeposits(o,r,a);const d=computeConwayDeposits(r,a,s,i);return{deposit:n.deposit+d.deposit,reclaimDeposit:n.reclaimDeposit+d.reclaimDeposit}};const getOwnWithdrawalsTotal=(e,t)=>n.BigIntMath.sum(e.filter(({stakeAddress:e})=>t.includes(e)).map(({quantity:e})=>e));const computeImplicitCoin=({stakeKeyDeposit:e,poolDeposit:t},{certificates:r,proposalProcedures:a,withdrawals:s=[]},i,o)=>{const{deposit:d,reclaimDeposit:c}=getTxDeposits({poolDeposit:t,stakeKeyDeposit:e},null!=r?r:[],i,o,a);const l=!!(null==i?void 0:i.length);const u=n.BigIntMath.sum(s.map(({quantity:e})=>e));const f=l?getOwnWithdrawalsTotal(s,i):u;return{deposit:d,input:f+c,reclaimDeposit:c,withdrawals:f}}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/isScriptAddress.js":(e,t,r)=>{"use strict";r.d(t,{isScriptAddress:()=>isScriptAddress});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");const isScriptAddress=e=>{if(!a.Address.isValidBech32(e)){return false}const t=a.Address.fromBech32(e).asBase();const r=null==t?void 0:t.getPaymentCredential();const s=null==t?void 0:t.getStakeCredential();return(null==r?void 0:r.type)===a.CredentialType.ScriptHash&&(null==s?void 0:s.type)===a.CredentialType.ScriptHash}},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/phase2Validation.js":(e,t,r)=>{"use strict";r.d(t,{isPhase2ValidationErrTx:()=>isPhase2ValidationErrTx});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");const isPhase2ValidationErrTx=({inputSource:e})=>e===a.InputSource.collaterals},"../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/plutusDataUtils.js":(e,t,r)=>{"use strict";r.d(t,{isAnyPlutusDataCollection:()=>isAnyPlutusDataCollection,isConstrPlutusData:()=>isConstrPlutusData,isPlutusBigInt:()=>isPlutusBigInt,isPlutusBoundedBytes:()=>isPlutusBoundedBytes,isPlutusList:()=>isPlutusList,isPlutusMap:()=>isPlutusMap,tryConvertPlutusMapToUtf8Record:()=>tryConvertPlutusMapToUtf8Record});var a=r("../../node_modules/web-encoding/src/lib.mjs");const isPlutusBoundedBytes=e=>ArrayBuffer.isView(e);const isAnyPlutusDataCollection=e=>"object"==typeof e&&!isPlutusBoundedBytes(e);const isPlutusList=e=>isAnyPlutusDataCollection(e)&&"items"in e;const isPlutusMap=e=>isAnyPlutusDataCollection(e)&&"data"in e;const isConstrPlutusData=e=>isAnyPlutusDataCollection(e)&&"fields"in e;const isPlutusBigInt=e=>"bigint"==typeof e;const s=new a.TextDecoder("utf8",{fatal:true});const tryConvertPlutusDataToUtf8String=e=>{if(!isPlutusBoundedBytes(e))return e;try{return s.decode(e)}catch{return e}};const tryConvertPlutusMapToUtf8Record=(e,t)=>{const r={};for(const[a,s]of e.data.entries()){const i=tryConvertPlutusDataToUtf8String(a);if("string"!=typeof i){t.warn("Failed to decode plutus map key",a);continue}r[i]=tryConvertPlutusDataToUtf8String(s)}return r}},"../../node_modules/@cardano-sdk/core/dist/esm/CardanoNode/types/CardanoNodeErrors.js":(e,t,r)=>{"use strict";r.d(t,{ChainSyncError:()=>ChainSyncError,ChainSyncErrorCode:()=>i,GeneralCardanoNodeError:()=>GeneralCardanoNodeError,GeneralCardanoNodeErrorCode:()=>s,StateQueryError:()=>StateQueryError,StateQueryErrorCode:()=>o,TxSubmissionError:()=>TxSubmissionError,TxSubmissionErrorCode:()=>n});var a=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e[e["ServerNotReady"]=503]="ServerNotReady";e[e["Unknown"]=500]="Unknown";e[e["ConnectionFailure"]=-1]="ConnectionFailure"})(s||(s={}));var i;(function(e){e[e["IntersectionNotFound"]=1e3]="IntersectionNotFound";e[e["IntersectionInterleaved"]=1001]="IntersectionInterleaved"})(i||(i={}));var o;(function(e){e[e["AcquireLedgerStateFailure"]=2e3]="AcquireLedgerStateFailure";e[e["EraMismatch"]=2001]="EraMismatch";e[e["UnavailableInCurrentEra"]=2002]="UnavailableInCurrentEra";e[e["AcquiredExpired"]=2003]="AcquiredExpired";e[e["InvalidGenesis"]=2004]="InvalidGenesis"})(o||(o={}));var n;(function(e){e[e["EraMismatch"]=3005]="EraMismatch";e[e["InvalidSignatories"]=3100]="InvalidSignatories";e[e["MissingSignatories"]=3101]="MissingSignatories";e[e["MissingScripts"]=3102]="MissingScripts";e[e["FailingNativeScript"]=3103]="FailingNativeScript";e[e["ExtraneousScripts"]=3104]="ExtraneousScripts";e[e["MissingMetadataHash"]=3105]="MissingMetadataHash";e[e["MissingMetadata"]=3106]="MissingMetadata";e[e["MetadataHashMismatch"]=3107]="MetadataHashMismatch";e[e["InvalidMetadata"]=3108]="InvalidMetadata";e[e["MissingRedeemers"]=3109]="MissingRedeemers";e[e["ExtraneousRedeemers"]=3110]="ExtraneousRedeemers";e[e["MissingDatums"]=3111]="MissingDatums";e[e["ExtraneousDatums"]=3112]="ExtraneousDatums";e[e["ScriptIntegrityHashMismatch"]=3113]="ScriptIntegrityHashMismatch";e[e["OrphanScriptInputs"]=3114]="OrphanScriptInputs";e[e["MissingCostModels"]=3115]="MissingCostModels";e[e["MalformedScripts"]=3116]="MalformedScripts";e[e["UnknownOutputReferences"]=3117]="UnknownOutputReferences";e[e["OutsideOfValidityInterval"]=3118]="OutsideOfValidityInterval";e[e["TransactionTooLarge"]=3119]="TransactionTooLarge";e[e["ValueTooLarge"]=3120]="ValueTooLarge";e[e["EmptyInputSet"]=3121]="EmptyInputSet";e[e["TransactionFeeTooSmall"]=3122]="TransactionFeeTooSmall";e[e["ValueNotConserved"]=3123]="ValueNotConserved";e[e["NetworkMismatch"]=3124]="NetworkMismatch";e[e["InsufficientlyFundedOutputs"]=3125]="InsufficientlyFundedOutputs";e[e["BootstrapAttributesTooLarge"]=3126]="BootstrapAttributesTooLarge";e[e["MintingOrBurningAda"]=3127]="MintingOrBurningAda";e[e["InsufficientCollateral"]=3128]="InsufficientCollateral";e[e["CollateralLockedByScript"]=3129]="CollateralLockedByScript";e[e["UnforeseeableSlot"]=3130]="UnforeseeableSlot";e[e["TooManyCollateralInputs"]=3131]="TooManyCollateralInputs";e[e["MissingCollateralInputs"]=3132]="MissingCollateralInputs";e[e["NonAdaCollateral"]=3133]="NonAdaCollateral";e[e["ExecutionUnitsTooLarge"]=3134]="ExecutionUnitsTooLarge";e[e["TotalCollateralMismatch"]=3135]="TotalCollateralMismatch";e[e["SpendsMismatch"]=3136]="SpendsMismatch";e[e["UnauthorizedVote"]=3137]="UnauthorizedVote";e[e["UnknownGovernanceProposal"]=3138]="UnknownGovernanceProposal";e[e["InvalidProtocolParametersUpdate"]=3139]="InvalidProtocolParametersUpdate";e[e["UnknownStakePool"]=3140]="UnknownStakePool";e[e["IncompleteWithdrawals"]=3141]="IncompleteWithdrawals";e[e["RetirementTooLate"]=3142]="RetirementTooLate";e[e["StakePoolCostTooLow"]=3143]="StakePoolCostTooLow";e[e["MetadataHashTooLarge"]=3144]="MetadataHashTooLarge";e[e["CredentialAlreadyRegistered"]=3145]="CredentialAlreadyRegistered";e[e["UnknownCredential"]=3146]="UnknownCredential";e[e["NonEmptyRewardAccount"]=3147]="NonEmptyRewardAccount";e[e["InvalidGenesisDelegation"]=3148]="InvalidGenesisDelegation";e[e["InvalidMIRTransfer"]=3149]="InvalidMIRTransfer";e[e["ForbiddenWithdrawal"]=3150]="ForbiddenWithdrawal";e[e["CredentialDepositMismatch"]=3151]="CredentialDepositMismatch";e[e["DRepAlreadyRegistered"]=3152]="DRepAlreadyRegistered";e[e["DRepNotRegistered"]=3153]="DRepNotRegistered";e[e["UnknownConstitutionalCommitteeMember"]=3154]="UnknownConstitutionalCommitteeMember";e[e["GovernanceProposalDepositMismatch"]=3155]="GovernanceProposalDepositMismatch";e[e["ConflictingCommitteeUpdate"]=3156]="ConflictingCommitteeUpdate";e[e["InvalidCommitteeUpdate"]=3157]="InvalidCommitteeUpdate";e[e["TreasuryWithdrawalMismatch"]=3158]="TreasuryWithdrawalMismatch";e[e["InvalidOrMissingPreviousProposal"]=3159]="InvalidOrMissingPreviousProposal";e[e["VotingOnExpiredActions"]=3160]="VotingOnExpiredActions";e[e["ExecutionBudgetOutOfBounds"]=3161]="ExecutionBudgetOutOfBounds";e[e["InvalidHardForkVersionBump"]=3162]="InvalidHardForkVersionBump";e[e["ConstitutionGuardrailsHashMismatch"]=3163]="ConstitutionGuardrailsHashMismatch";e[e["ConflictingInputsAndReferences"]=3164]="ConflictingInputsAndReferences";e[e["UnauthorizedGovernanceAction"]=3165]="UnauthorizedGovernanceAction";e[e["ReferenceScriptsTooLarge"]=3166]="ReferenceScriptsTooLarge";e[e["UnknownVoters"]=3167]="UnknownVoters";e[e["EmptyTreasuryWithdrawal"]=3168]="EmptyTreasuryWithdrawal";e[e["UnexpectedMempoolError"]=3997]="UnexpectedMempoolError";e[e["UnrecognizedCertificateType"]=3998]="UnrecognizedCertificateType";e[e["DeserialisationFailure"]=-32602]="DeserialisationFailure"})(n||(n={}));class CardanoNodeError extends a.CustomError{constructor(e,t,r){super(r);this.code=e;this.data=t}}class GeneralCardanoNodeError extends CardanoNodeError{}class ChainSyncError extends CardanoNodeError{}class TxSubmissionError extends CardanoNodeError{}class StateQueryError extends CardanoNodeError{}},"../../node_modules/@cardano-sdk/core/dist/esm/CardanoNode/util/cardanoNodeErrors.js":(e,t,r)=>{"use strict";r.d(t,{isCredentialAlreadyRegistered:()=>isCredentialAlreadyRegistered,isDrepAlreadyRegistered:()=>isDrepAlreadyRegistered,isDrepNotRegistered:()=>isDrepNotRegistered,isIncompleteWithdrawalsError:()=>isIncompleteWithdrawalsError,isProviderError:()=>isProviderError,isUnknownCredential:()=>isUnknownCredential,isUnknownOutputReferences:()=>isUnknownOutputReferences,isValueNotConservedError:()=>isValueNotConservedError});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/CardanoNode/types/CardanoNodeErrors.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/environment.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const asSpecificCardanoNodeError=e=>t=>{if(Array.isArray(t)){for(const r of t)if(r instanceof e){if((0,i.isProductionEnvironment)())(0,o.stripStackTrace)(r);return r}return null}if(t instanceof e){if((0,i.isProductionEnvironment)())(0,o.stripStackTrace)(t);return t}return null};const n=asSpecificCardanoNodeError(a.TxSubmissionError);const d=asSpecificCardanoNodeError(a.ChainSyncError);const c=asSpecificCardanoNodeError(a.StateQueryError);const l=asSpecificCardanoNodeError(a.GeneralCardanoNodeError);const asCardanoNodeError=e=>l(e)||n(e)||c(e)||d(e)||new GeneralCardanoNodeError(GeneralCardanoNodeErrorCode.Unknown,e,'Unknown Cardano node error, see "data"');const u=new Set(Object.values(a.StateQueryErrorCode));const f=new Set(Object.values(a.GeneralCardanoNodeErrorCode));const h=new Set(Object.values(a.TxSubmissionErrorCode));const p=new Set(Object.values(a.ChainSyncErrorCode));const isChainSyncErrorCode=e=>"number"==typeof e&&p.has(e);const isTxSubmissionErrorCode=e=>"number"==typeof e&&h.has(e);const isStateQueryErrorCode=e=>"number"==typeof e&&u.has(e);const isGeneralCardanoNodeErrorCode=e=>"number"==typeof e&&f.has(e);const asChainSyncErrorCode=e=>isChainSyncErrorCode(e)?e:null;const asStateQueryErrorCode=e=>isStateQueryErrorCode(e)?e:null;const asGeneralCardanoNodeErrorCode=e=>isGeneralCardanoNodeErrorCode(e)?e:null;const asTxSubmissionErrorCode=e=>isTxSubmissionErrorCode(e)?e:null;const isProviderError=e=>e instanceof s.ProviderError;const isOutsideOfValidityIntervalError=e=>e instanceof TxSubmissionError&&e.code===TxSubmissionErrorCode.OutsideOfValidityInterval;const isValueNotConservedError=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.ValueNotConserved;const isIncompleteWithdrawalsError=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.IncompleteWithdrawals;const isUnknownOutputReferences=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.UnknownOutputReferences;const isCredentialAlreadyRegistered=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.CredentialAlreadyRegistered;const isDrepAlreadyRegistered=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.DRepAlreadyRegistered;const isUnknownCredential=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.UnknownCredential;const isDrepNotRegistered=e=>e instanceof a.TxSubmissionError&&e.code===a.TxSubmissionErrorCode.DRepNotRegistered},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/AuxiliaryData.js":(e,t,r)=>{"use strict";r.d(t,{ALONZO_AUX_TAG:()=>A,AuxiliaryData:()=>AuxiliaryData,SHELLEY_ERA_FIELDS_COUNT:()=>k});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV1Script.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV2Script.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV3Script.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var _,v,y,w,g,b,P,C,S,T,E;const k=2;const A=259;class AuxiliaryData{toCbor(){if(__classPrivateFieldGet(this,C,"f"))return __classPrivateFieldGet(this,C,"f");const e=new a.CborWriter;const t=__classPrivateFieldGet(this,_,"m",S).call(this);if(1===t&&void 0!==__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").metadata().size>0)e.writeEncodedValue((0,m.hexToBytes)(__classPrivateFieldGet(this,y,"f").toCbor()));else if(t===k&&void 0!==__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").metadata().size>0&&void 0!==__classPrivateFieldGet(this,w,"f")&&__classPrivateFieldGet(this,w,"f").length>0){e.writeStartArray(t);e.writeEncodedValue((0,m.hexToBytes)(__classPrivateFieldGet(this,y,"f").toCbor()));e.writeStartArray(__classPrivateFieldGet(this,w,"f").length);for(const r of __classPrivateFieldGet(this,w,"f"))e.writeEncodedValue((0,m.hexToBytes)(r.toCbor()))}else{e.writeTag(A);e.writeStartMap(t);if(void 0!==__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").metadata().size>0){e.writeInt(0n);e.writeEncodedValue((0,m.hexToBytes)(__classPrivateFieldGet(this,y,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,w,"f")&&__classPrivateFieldGet(this,w,"f").length>0){e.writeInt(1n);e.writeStartArray(__classPrivateFieldGet(this,w,"f").length);for(const s of __classPrivateFieldGet(this,w,"f"))e.writeEncodedValue((0,m.hexToBytes)(s.toCbor()))}if(void 0!==__classPrivateFieldGet(this,g,"f")&&__classPrivateFieldGet(this,g,"f").length>0){e.writeInt(2n);e.writeStartArray(__classPrivateFieldGet(this,g,"f").length);for(const i of __classPrivateFieldGet(this,g,"f"))e.writeEncodedValue((0,m.hexToBytes)(i.toCbor()))}if(void 0!==__classPrivateFieldGet(this,b,"f")&&__classPrivateFieldGet(this,b,"f").length>0){e.writeInt(3n);e.writeStartArray(__classPrivateFieldGet(this,b,"f").length);for(const o of __classPrivateFieldGet(this,b,"f"))e.writeEncodedValue((0,m.hexToBytes)(o.toCbor()))}if(void 0!==__classPrivateFieldGet(this,P,"f")&&__classPrivateFieldGet(this,P,"f").length>0){e.writeInt(4n);e.writeStartArray(__classPrivateFieldGet(this,P,"f").length);for(const n of __classPrivateFieldGet(this,P,"f"))e.writeEncodedValue((0,m.hexToBytes)(n.toCbor()))}}return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=new AuxiliaryData;const a=t.peekState();if(a===i.CborReaderState.StartMap)__classPrivateFieldSet(r,y,o.GeneralTransactionMetadata.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())),"f");else if(a===i.CborReaderState.Tag){const h=t.readTag();if(h!==A){throw new d.InvalidArgumentError("cbor",`Expected tag '${A}', but got ${h}.`)}t.readStartMap();while(t.peekState()!==i.CborReaderState.EndMap){const p=t.readInt();switch(p){case 0n:__classPrivateFieldSet(r,y,o.GeneralTransactionMetadata.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 1n:r.setNativeScripts(new Array);t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray){r.nativeScripts().push(c.NativeScript.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray();break;case 2n:r.setPlutusV1Scripts(new Array);t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray){r.plutusV1Scripts().push(l.PlutusV1Script.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray();break;case 3n:r.setPlutusV2Scripts(new Array);t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray){r.plutusV2Scripts().push(u.PlutusV2Script.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray();break;case 4n:r.setPlutusV3Scripts(new Array);t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray){r.plutusV3Scripts().push(f.PlutusV3Script.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray();break}}t.readEndMap()}else{t.readStartArray();__classPrivateFieldSet(r,y,o.GeneralTransactionMetadata.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())),"f");r.setNativeScripts(new Array);t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray){r.nativeScripts().push(c.NativeScript.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray()}__classPrivateFieldSet(r,C,e,"f");return r}toCore(){const e=__classPrivateFieldGet(this,_,"m",T).call(this);const t={blob:__classPrivateFieldGet(this,y,"f")?__classPrivateFieldGet(this,y,"f").toCore():void 0};if(e.length>0)t.scripts=e;return t}static fromCore(e){const t=new AuxiliaryData;if(e.blob)t.setMetadata(o.GeneralTransactionMetadata.fromCore(e.blob));if(e.scripts){const r=__classPrivateFieldGet(AuxiliaryData,v,"m",E).call(AuxiliaryData,e.scripts);if(r.native)t.setNativeScripts(r.native);if(r.plutusV1)t.setPlutusV1Scripts(r.plutusV1);if(r.plutusV2)t.setPlutusV2Scripts(r.plutusV2);if(r.plutusV3)t.setPlutusV3Scripts(r.plutusV3)}return t}metadata(){return __classPrivateFieldGet(this,y,"f")}setMetadata(e){__classPrivateFieldSet(this,y,e,"f");__classPrivateFieldSet(this,C,void 0,"f")}nativeScripts(){return __classPrivateFieldGet(this,w,"f")}setNativeScripts(e){__classPrivateFieldSet(this,w,e,"f");__classPrivateFieldSet(this,C,void 0,"f")}plutusV1Scripts(){return __classPrivateFieldGet(this,g,"f")}setPlutusV1Scripts(e){__classPrivateFieldSet(this,g,e,"f");__classPrivateFieldSet(this,C,void 0,"f")}plutusV2Scripts(){return __classPrivateFieldGet(this,b,"f")}setPlutusV2Scripts(e){__classPrivateFieldSet(this,b,e,"f");__classPrivateFieldSet(this,C,void 0,"f")}plutusV3Scripts(){return __classPrivateFieldGet(this,P,"f")}setPlutusV3Scripts(e){__classPrivateFieldSet(this,P,e,"f");__classPrivateFieldSet(this,C,void 0,"f")}constructor(){_.add(this);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,void 0);C.set(this,void 0)}}v=AuxiliaryData,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,_=new WeakSet,S=function _AuxiliaryData_getMapSize(){let e=0;if(void 0!==__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").metadata().size>0)++e;if(void 0!==__classPrivateFieldGet(this,w,"f")&&__classPrivateFieldGet(this,w,"f").length>0)++e;if(void 0!==__classPrivateFieldGet(this,g,"f")&&__classPrivateFieldGet(this,g,"f").length>0)++e;if(void 0!==__classPrivateFieldGet(this,b,"f")&&__classPrivateFieldGet(this,b,"f").length>0)++e;if(void 0!==__classPrivateFieldGet(this,P,"f")&&__classPrivateFieldGet(this,P,"f").length>0)++e;return e},T=function _AuxiliaryData_getCoreScripts(){const e=__classPrivateFieldGet(this,g,"f")?__classPrivateFieldGet(this,g,"f").map(e=>e.toCore()):[];const t=__classPrivateFieldGet(this,b,"f")?__classPrivateFieldGet(this,b,"f").map(e=>e.toCore()):[];const r=__classPrivateFieldGet(this,P,"f")?__classPrivateFieldGet(this,P,"f").map(e=>e.toCore()):[];const a=__classPrivateFieldGet(this,w,"f")?__classPrivateFieldGet(this,w,"f").map(e=>e.toCore()):[];return[...e,...t,...r,...a]},E=function _AuxiliaryData_getCddlScripts(e){const t={native:void 0,plutusV1:void 0,plutusV2:void 0,plutusV3:void 0};for(const r of e){switch(r.__type){case h.ScriptType.Native:if(!t.native)t.native=new Array;t.native.push(c.NativeScript.fromCore(r));break;case h.ScriptType.Plutus:if(r.version===h.PlutusLanguageVersion.V1){if(!t.plutusV1)t.plutusV1=new Array;t.plutusV1.push(l.PlutusV1Script.fromCore(r))}else if(r.version===h.PlutusLanguageVersion.V2){if(!t.plutusV2)t.plutusV2=new Array;t.plutusV2.push(u.PlutusV2Script.fromCore(r))}else if(r.version===h.PlutusLanguageVersion.V3){if(!t.plutusV3)t.plutusV3=new Array;t.plutusV3.push(f.PlutusV3Script.fromCore(r))}break;default:throw new p.SerializationError(p.SerializationFailure.InvalidScriptType,`Script '${r}' is not supported.`)}}return t}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js":(e,t,r)=>{"use strict";r.d(t,{GeneralTransactionMetadata:()=>GeneralTransactionMetadata});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;class GeneralTransactionMetadata{toCbor(){if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");const e=new a.CborWriter;e.writeStartMap(__classPrivateFieldGet(this,c,"f").size);for(const[t,r]of __classPrivateFieldGet(this,c,"f").entries()){e.writeInt(t);e.writeEncodedValue((0,d.hexToBytes)(r.toCbor()))}return e.encodeAsHex()}static fromCbor(e){const t=new Map;const r=new s.CborReader(e);r.readStartMap();while(r.peekState()!==i.CborReaderState.EndMap){const a=r.readInt();const d=n.TransactionMetadatum.fromCbor(o.HexBlob.fromBytes(r.readEncodedValue()));t.set(a,d)}r.readEndMap();return new GeneralTransactionMetadata(t)}toCore(){return new Map([...__classPrivateFieldGet(this,c,"f").entries()].map(e=>[e[0],e[1].toCore()]))}static fromCore(e){return new GeneralTransactionMetadata(new Map([...e.entries()].map(e=>[e[0],n.TransactionMetadatum.fromCore(e[1])])))}metadata(){return __classPrivateFieldGet(this,c,"f")}setMetadata(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}equals(e){if(__classPrivateFieldGet(this,l,"f")===__classPrivateFieldGet(e,l,"f"))return true;if(__classPrivateFieldGet(this,c,"f").size!==__classPrivateFieldGet(e,c,"f").size)return false;const t=[...__classPrivateFieldGet(this,c,"f").entries()];const r=[...__classPrivateFieldGet(e,c,"f").entries()];for(let a=0;a<__classPrivateFieldGet(this,c,"f").size;++a){if(t[a][0]!==r[a][0])return false;if(!t[a][1].equals(r[a][1]))return false}return true}constructor(e){c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,c,e,"f")}}c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js":(e,t,r)=>{"use strict";r.d(t,{MetadatumList:()=>MetadatumList});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var c,l;class MetadatumList{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,l,"f"))e.writeStartArray();else e.writeStartArray(__classPrivateFieldGet(this,c,"f").length);for(const t of __classPrivateFieldGet(this,c,"f"))e.writeEncodedValue((0,d.hexToBytes)(t.toCbor()));if(__classPrivateFieldGet(this,l,"f"))e.writeEndArray();return o.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new MetadatumList;const r=new s.CborReader(e);const a=r.readStartArray();if(null===a)__classPrivateFieldSet(t,l,true,"f");while(r.peekState()!==i.CborReaderState.EndArray){t.add(n.TransactionMetadatum.fromCbor((0,d.bytesToHex)(r.readEncodedValue())))}r.readEndArray();return t}getLength(){return __classPrivateFieldGet(this,c,"f").length}get(e){return __classPrivateFieldGet(this,c,"f")[e]}add(e){__classPrivateFieldGet(this,c,"f").push(e)}equals(e){if(__classPrivateFieldGet(this,c,"f").length!==__classPrivateFieldGet(e,c,"f").length)return false;for(let t=0;t<__classPrivateFieldGet(this,c,"f").length;++t)if(!__classPrivateFieldGet(this,c,"f")[t].equals(__classPrivateFieldGet(e,c,"f")[t]))return false;return true}constructor(){c.set(this,new Array);l.set(this,false)}}c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumMap.js":(e,t,r)=>{"use strict";r.d(t,{MetadatumMap:()=>MetadatumMap});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var l,u;class MetadatumMap{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,u,"f"))e.writeStartMap();else e.writeStartMap(__classPrivateFieldGet(this,l,"f").size);for(const[t,r]of __classPrivateFieldGet(this,l,"f").entries()){e.writeEncodedValue((0,c.hexToBytes)(t.toCbor()));e.writeEncodedValue((0,c.hexToBytes)(r.toCbor()))}if(__classPrivateFieldGet(this,u,"f"))e.writeEndMap();return o.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new MetadatumMap;const r=new s.CborReader(e);const a=r.readStartMap();if(null===a)__classPrivateFieldSet(t,u,true,"f");while(r.peekState()!==i.CborReaderState.EndMap){const o=d.TransactionMetadatum.fromCbor((0,c.bytesToHex)(r.readEncodedValue()));const n=d.TransactionMetadatum.fromCbor((0,c.bytesToHex)(r.readEncodedValue()));t.insert(o,n)}r.readEndMap();return t}getLength(){return __classPrivateFieldGet(this,l,"f").size}insert(e,t){__classPrivateFieldGet(this,l,"f").set(e,t)}get(e){if(!__classPrivateFieldGet(this,l,"f"))return;const t=[...__classPrivateFieldGet(this,l,"f").entries()].find(t=>t[0].equals(e));if(!t)return;return t[1]}getKeys(){const e=new n.MetadatumList;for(const t of __classPrivateFieldGet(this,l,"f").keys())e.add(t);return e}equals(e){if(__classPrivateFieldGet(this,u,"f")!==__classPrivateFieldGet(e,u,"f"))return false;if(__classPrivateFieldGet(this,l,"f").size!==__classPrivateFieldGet(e,l,"f").size)return false;const t=[...__classPrivateFieldGet(this,l,"f").entries()];const r=[...__classPrivateFieldGet(e,l,"f").entries()];for(let a=0;a<__classPrivateFieldGet(this,l,"f").size;++a){if(!t[a][0].equals(r[a][0]))return false;if(!t[a][1].equals(r[a][1]))return false}return true}constructor(){l.set(this,new Map);u.set(this,false)}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js":(e,t,r)=>{"use strict";r.d(t,{TransactionMetadatum:()=>TransactionMetadatum});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumMap.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatumKind.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var p,m,_,v,y,w,g;const b=0xffffffffffffffffn;const check64Length=e=>{const t="string"==typeof e?h.from(e,"utf8").length:e.length;if(t>64)throw new l.SerializationError(l.SerializationFailure.MaxLengthLimit,`Metadatum value '${e}' is too long. Length is ${t}. Max length is 64 bytes`)};class TransactionMetadatum{toCbor(){if(__classPrivateFieldGet(this,g,"f"))return __classPrivateFieldGet(this,g,"f");let e;switch(__classPrivateFieldGet(this,w,"f")){case u.TransactionMetadatumKind.Map:e=__classPrivateFieldGet(this,p,"f").toCbor();break;case u.TransactionMetadatumKind.List:e=__classPrivateFieldGet(this,m,"f").toCbor();break;case u.TransactionMetadatumKind.Bytes:{const t=new a.CborWriter;check64Length(__classPrivateFieldGet(this,v,"f"));t.writeByteString(__classPrivateFieldGet(this,v,"f"));e=(0,f.bytesToHex)(t.encode());break}case u.TransactionMetadatumKind.Text:{const r=new a.CborWriter;check64Length(__classPrivateFieldGet(this,y,"f"));r.writeTextString(__classPrivateFieldGet(this,y,"f"));e=(0,f.bytesToHex)(r.encode());break}case u.TransactionMetadatumKind.Integer:{const s=new a.CborWriter;if(__classPrivateFieldGet(this,_,"f")>=0&&__classPrivateFieldGet(this,_,"f")<=b||__classPrivateFieldGet(this,_,"f")<0&&__classPrivateFieldGet(this,_,"f")>=-1n-b)s.writeInt(__classPrivateFieldGet(this,_,"f"));else s.writeBigInteger(__classPrivateFieldGet(this,_,"f"));e=(0,f.bytesToHex)(s.encode());break}default:throw new Error("Unsupported TransactionMetadatum kind")}return e}static fromCbor(e){const t=new TransactionMetadatum;const r=new s.CborReader(e);const a=r.peekState();switch(a){case i.CborReaderState.Tag:{const l=r.peekTag();switch(l){case o.CborTag.UnsignedBigNum:{r.readTag();const f=r.readByteString();__classPrivateFieldSet(t,_,TransactionMetadatum.bufferToBigint(f),"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Integer,"f");break}case o.CborTag.NegativeBigNum:{r.readTag();const h=r.readByteString();__classPrivateFieldSet(t,_,TransactionMetadatum.bufferToBigint(h)*-1n,"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Integer,"f");break}}break}case i.CborReaderState.NegativeInteger:case i.CborReaderState.UnsignedInteger:__classPrivateFieldSet(t,_,r.readInt(),"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Integer,"f");break;case i.CborReaderState.StartIndefiniteLengthByteString:case i.CborReaderState.ByteString:__classPrivateFieldSet(t,v,r.readByteString(),"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Bytes,"f");break;case i.CborReaderState.StartIndefiniteLengthTextString:case i.CborReaderState.TextString:__classPrivateFieldSet(t,y,r.readTextString(),"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Text,"f");break;case i.CborReaderState.StartArray:__classPrivateFieldSet(t,m,d.MetadatumList.fromCbor(n.HexBlob.fromBytes(r.readEncodedValue())),"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.List,"f");break;case i.CborReaderState.StartMap:__classPrivateFieldSet(t,p,c.MetadatumMap.fromCbor(n.HexBlob.fromBytes(r.readEncodedValue())),"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Map,"f");break;default:throw new Error("Invalid Plutus Data")}__classPrivateFieldSet(t,g,e,"f");return t}toCore(){switch(__classPrivateFieldGet(this,w,"f")){case u.TransactionMetadatumKind.Bytes:return new Uint8Array(__classPrivateFieldGet(this,v,"f"));case u.TransactionMetadatumKind.Text:return __classPrivateFieldGet(this,y,"f");case u.TransactionMetadatumKind.Integer:return __classPrivateFieldGet(this,_,"f");case u.TransactionMetadatumKind.List:return TransactionMetadatum.mapToCoreMetadatumList(__classPrivateFieldGet(this,m,"f"));case u.TransactionMetadatumKind.Map:{const e=__classPrivateFieldGet(this,p,"f");const t=new Map;const r=e.getKeys();for(let a=0;a<r.getLength();a++){const s=r.get(a);t.set(s.toCore(),e.get(s).toCore())}return t}default:throw new l.NotImplementedError(`TransactionMetadatum mapping for kind ${__classPrivateFieldGet(this,w,"f")}`)}}static fromCore(e){if(null===e)throw new l.SerializationError(l.SerializationFailure.InvalidType);switch(typeof e){case"number":case"boolean":case"undefined":throw new l.SerializationError(l.SerializationFailure.InvalidType);case"bigint":return TransactionMetadatum.newInteger(e);case"string":check64Length(e);return TransactionMetadatum.newText(e);default:{if(Array.isArray(e)){const t=new d.MetadatumList;for(const r of e)t.add(TransactionMetadatum.fromCore(r));return TransactionMetadatum.newList(t)}if(ArrayBuffer.isView(e)){check64Length(e);return TransactionMetadatum.newBytes(e)}const a=new c.MetadatumMap;for(const[s,i]of e.entries())a.insert(TransactionMetadatum.fromCore(s),TransactionMetadatum.fromCore(i));return TransactionMetadatum.newMap(a)}}}static newMap(e){const t=new TransactionMetadatum;__classPrivateFieldSet(t,p,e,"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Map,"f");return t}static newList(e){const t=new TransactionMetadatum;__classPrivateFieldSet(t,m,e,"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.List,"f");return t}static newInteger(e){const t=new TransactionMetadatum;__classPrivateFieldSet(t,_,e,"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Integer,"f");return t}static newBytes(e){const t=new TransactionMetadatum;__classPrivateFieldSet(t,v,e,"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Bytes,"f");return t}static newText(e){const t=new TransactionMetadatum;__classPrivateFieldSet(t,y,e,"f");__classPrivateFieldSet(t,w,u.TransactionMetadatumKind.Text,"f");return t}getKind(){return __classPrivateFieldGet(this,w,"f")}asMap(){return __classPrivateFieldGet(this,p,"f")}asList(){return __classPrivateFieldGet(this,m,"f")}asInteger(){return __classPrivateFieldGet(this,_,"f")}asBytes(){return __classPrivateFieldGet(this,v,"f")}asText(){return __classPrivateFieldGet(this,y,"f")}equals(e){let t=false;switch(__classPrivateFieldGet(this,w,"f")){case u.TransactionMetadatumKind.Bytes:if(__classPrivateFieldGet(this,v,"f")&&__classPrivateFieldGet(e,v,"f")){return __classPrivateFieldGet(this,v,"f").length===__classPrivateFieldGet(e,v,"f").length&&__classPrivateFieldGet(this,v,"f").every((t,r)=>t===__classPrivateFieldGet(e,v,"f")[r])}return false;case u.TransactionMetadatumKind.Integer:return __classPrivateFieldGet(this,_,"f")===__classPrivateFieldGet(e,_,"f");case u.TransactionMetadatumKind.Text:return __classPrivateFieldGet(this,y,"f")===__classPrivateFieldGet(e,y,"f");case u.TransactionMetadatumKind.List:if(__classPrivateFieldGet(this,m,"f")&&__classPrivateFieldGet(e,m,"f")){return __classPrivateFieldGet(this,m,"f").equals(__classPrivateFieldGet(e,m,"f"))}return false;case u.TransactionMetadatumKind.Map:if(__classPrivateFieldGet(this,p,"f")&&__classPrivateFieldGet(e,p,"f")){return __classPrivateFieldGet(this,p,"f").equals(__classPrivateFieldGet(e,p,"f"))}return false;default:t=false}return t}static mapToCoreMetadatumList(e){const t=[];for(let r=0;r<e.getLength();r++){const a=e.get(r);t.push(a.toCore())}return t}static bufferToBigint(e){let t=0n;for(const r of e.values()){const a=BigInt(r);t=(t<<8n)+a}return t}constructor(){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,u.TransactionMetadatumKind.Map);g.set(this,void 0)}}p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatumKind.js":(e,t,r)=>{"use strict";r.d(t,{TransactionMetadatumKind:()=>a});var a;(function(e){e[e["Map"]=0]="Map";e[e["List"]=1]="List";e[e["Integer"]=2]="Integer";e[e["Bytes"]=3]="Bytes";e[e["Text"]=4]="Text"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborAdditionalInfo.js":(e,t,r)=>{"use strict";r.d(t,{CborAdditionalInfo:()=>a});var a;(function(e){e[e["AdditionalFalse"]=20]="AdditionalFalse";e[e["AdditionalTrue"]=21]="AdditionalTrue";e[e["AdditionalNull"]=22]="AdditionalNull";e[e["Additional8BitData"]=24]="Additional8BitData";e[e["Additional16BitData"]=25]="Additional16BitData";e[e["Additional32BitData"]=26]="Additional32BitData";e[e["Additional64BitData"]=27]="Additional64BitData";e[e["IndefiniteLength"]=31]="IndefiniteLength"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborInitialByte.js":(e,t,r)=>{"use strict";r.d(t,{CborInitialByte:()=>CborInitialByte});var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var a;class CborInitialByte{CborInitialByte(e,t){__classPrivateFieldSet(this,a,e<<5|t,"f")}static from(e){const t=new CborInitialByte;__classPrivateFieldSet(t,a,e,"f");return t}getInitialByte(){return __classPrivateFieldGet(this,a,"f")}getMajorType(){return __classPrivateFieldGet(this,a,"f")>>5}getAdditionalInfo(){return __classPrivateFieldGet(this,a,"f")&CborInitialByte.AdditionalInformationMask}constructor(){a.set(this,void 0)}}a=new WeakMap;CborInitialByte.IndefiniteLengthBreakByte=255;CborInitialByte.AdditionalInformationMask=31},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborMajorType.js":(e,t,r)=>{"use strict";r.d(t,{CborMajorType:()=>a});var a;(function(e){e[e["UnsignedInteger"]=0]="UnsignedInteger";e[e["NegativeInteger"]=1]="NegativeInteger";e[e["ByteString"]=2]="ByteString";e[e["Utf8String"]=3]="Utf8String";e[e["Array"]=4]="Array";e[e["Map"]=5]="Map";e[e["Tag"]=6]="Tag";e[e["Simple"]=7]="Simple"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js":(e,t,r)=>{"use strict";r.d(t,{CborReader:()=>CborReader});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborAdditionalInfo.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/errors.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborInitialByte.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborMajorType.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/Half.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u,f,h,p,m,_,v,y,w,g,b,P,C,S,T,E,k,A,I,j,x,R,B,O,D;const M="Unexpected end of buffer";class CborReader{peekState(){if(__classPrivateFieldGet(this,v,"f")===n.CborReaderState.Undefined)__classPrivateFieldSet(this,v,__classPrivateFieldGet(this,l,"m",A).call(this),"f");return __classPrivateFieldGet(this,v,"f")}getBytesRemaining(){return __classPrivateFieldGet(this,f,"f").length-__classPrivateFieldGet(this,h,"f")}skipValue(){this.readEncodedValue()}readEncodedValue(){const e=__classPrivateFieldGet(this,h,"f");let t=0;do{t=__classPrivateFieldGet(this,l,"m",D).call(this,t)}while(t>0)return __classPrivateFieldGet(this,f,"f").slice(e,__classPrivateFieldGet(this,h,"f"))}readStartArray(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Array);if(e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength){__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",b).call(this,o.CborMajorType.Array);return null}const t=__classPrivateFieldGet(this,l,"m",S).call(this);const{length:r,bytesRead:s}=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,e,t);__classPrivateFieldGet(this,l,"m",E).call(this,s);__classPrivateFieldGet(this,l,"m",b).call(this,o.CborMajorType.Array,r);return r}readEndArray(){if(void 0===__classPrivateFieldGet(this,_,"f").definiteLength){__classPrivateFieldGet(this,l,"m",g).call(this);__classPrivateFieldGet(this,l,"m",P).call(this,o.CborMajorType.Array);__classPrivateFieldGet(this,l,"m",T).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,1)}else{__classPrivateFieldGet(this,l,"m",P).call(this,o.CborMajorType.Array);__classPrivateFieldGet(this,l,"m",T).call(this)}}readInt(){const e=__classPrivateFieldGet(this,l,"m",x).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,e.bytesRead);__classPrivateFieldGet(this,l,"m",T).call(this);return e.signedInt}readUInt(){const e=__classPrivateFieldGet(this,l,"m",j).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,e.bytesRead);__classPrivateFieldGet(this,l,"m",T).call(this);return e.unsignedInt}readDouble(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Simple);let t;const r=__classPrivateFieldGet(this,l,"m",S).call(this);switch(e.getAdditionalInfo()){case a.CborAdditionalInfo.Additional16BitData:__classPrivateFieldGet(this,l,"m",k).call(this,3);t=(0,d.decodeHalf)(r.slice(1));__classPrivateFieldGet(this,l,"m",E).call(this,3);__classPrivateFieldGet(this,l,"m",T).call(this);return t;case a.CborAdditionalInfo.Additional32BitData:__classPrivateFieldGet(this,l,"m",k).call(this,5);t=c.from(r).readFloatBE(1);__classPrivateFieldGet(this,l,"m",E).call(this,5);__classPrivateFieldGet(this,l,"m",T).call(this);return t;case a.CborAdditionalInfo.Additional64BitData:__classPrivateFieldGet(this,l,"m",k).call(this,9);t=c.from(r).readDoubleBE(1);__classPrivateFieldGet(this,l,"m",E).call(this,9);__classPrivateFieldGet(this,l,"m",T).call(this);return t;default:throw new s.CborInvalidOperationException("Not a float encoding")}}readSimpleValue(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Simple);if((e.getInitialByte()&i.CborInitialByte.AdditionalInformationMask)<a.CborAdditionalInfo.Additional8BitData){__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",T).call(this);return e.getAdditionalInfo().valueOf()}if(e.getAdditionalInfo()===a.CborAdditionalInfo.Additional8BitData){__classPrivateFieldGet(this,l,"m",k).call(this,2);const t=__classPrivateFieldGet(this,f,"f")[__classPrivateFieldGet(this,h,"f")+1];__classPrivateFieldGet(this,l,"m",E).call(this,2);__classPrivateFieldGet(this,l,"m",T).call(this);return t}throw new s.CborInvalidOperationException("Not a simple value encoding")}readCborNegativeIntegerRepresentation(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.NegativeInteger);const t=__classPrivateFieldGet(CborReader,u,"m",O).call(CborReader,e,__classPrivateFieldGet(this,l,"m",S).call(this));__classPrivateFieldGet(this,l,"m",E).call(this,t.bytesRead);__classPrivateFieldGet(this,l,"m",T).call(this);return t.unsignedInt}readStartMap(){let e=null;const t=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Map);if(t.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength){__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",b).call(this,o.CborMajorType.Map);e=null}else{const r=__classPrivateFieldGet(this,l,"m",S).call(this);const i=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,t,r);if(2*i.length>r.length-i.bytesRead)throw new s.CborContentException("Definite length exceeds buffer size");__classPrivateFieldGet(this,l,"m",E).call(this,i.bytesRead);__classPrivateFieldGet(this,l,"m",b).call(this,o.CborMajorType.Map,2*i.length);e=i.length}__classPrivateFieldGet(this,_,"f").currentKeyOffset=__classPrivateFieldGet(this,h,"f");return e}readEndMap(){if(void 0===__classPrivateFieldGet(this,_,"f").definiteLength){__classPrivateFieldGet(this,l,"m",g).call(this);if(__classPrivateFieldGet(this,_,"f").itemsRead%2!==0)throw new s.CborContentException("Key missing value");__classPrivateFieldGet(this,l,"m",P).call(this,o.CborMajorType.Map);__classPrivateFieldGet(this,l,"m",T).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,1)}else{__classPrivateFieldGet(this,l,"m",P).call(this,o.CborMajorType.Map);__classPrivateFieldGet(this,l,"m",T).call(this)}}readBoolean(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Simple);const t=e.getAdditionalInfo();if(t!==a.CborAdditionalInfo.AdditionalTrue&&t!==a.CborAdditionalInfo.AdditionalFalse)throw new s.CborContentException("Not a boolean encoding");const r=t===a.CborAdditionalInfo.AdditionalTrue;__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",T).call(this);return r}readNull(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Simple);const t=e.getAdditionalInfo();if(t!==a.CborAdditionalInfo.AdditionalNull)throw new s.CborContentException("Not a null encoding");__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",T).call(this)}readStartIndefiniteLengthByteString(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.ByteString);if(e.getAdditionalInfo()!==a.CborAdditionalInfo.IndefiniteLength)throw new s.CborInvalidOperationException("Not indefinite length string");__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",b).call(this,o.CborMajorType.ByteString)}readEndIndefiniteLengthByteString(){__classPrivateFieldGet(this,l,"m",g).call(this);__classPrivateFieldGet(this,l,"m",P).call(this,o.CborMajorType.ByteString);__classPrivateFieldGet(this,l,"m",T).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,1)}readByteString(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.ByteString);if(e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength){const{val:t,encodingLength:r}=__classPrivateFieldGet(this,l,"m",R).call(this,o.CborMajorType.ByteString);__classPrivateFieldGet(this,l,"m",E).call(this,r);__classPrivateFieldGet(this,l,"m",T).call(this);return t}const s=__classPrivateFieldGet(this,l,"m",S).call(this);const{length:i,bytesRead:n}=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,e,s);__classPrivateFieldGet(this,l,"m",k).call(this,n+i);__classPrivateFieldGet(this,l,"m",E).call(this,n+i);__classPrivateFieldGet(this,l,"m",T).call(this);return s.slice(n,n+i)}readDefiniteLengthByteString(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.ByteString);if(e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength){throw new s.CborInvalidOperationException("Expected definite length array and got indefinite length")}const t=__classPrivateFieldGet(this,l,"m",S).call(this);const{length:r,bytesRead:i}=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,e,t);__classPrivateFieldGet(this,l,"m",k).call(this,i+r);__classPrivateFieldGet(this,l,"m",E).call(this,i+r);__classPrivateFieldGet(this,l,"m",T).call(this);return t.slice(i,i+r)}readStartIndefiniteLengthTextString(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Utf8String);if(e.getAdditionalInfo()!==a.CborAdditionalInfo.IndefiniteLength)throw new s.CborInvalidOperationException("Not indefinite length string");__classPrivateFieldGet(this,l,"m",E).call(this,1);__classPrivateFieldGet(this,l,"m",b).call(this,o.CborMajorType.Utf8String)}readEndIndefiniteLengthTextString(){__classPrivateFieldGet(this,l,"m",g).call(this);__classPrivateFieldGet(this,l,"m",P).call(this,o.CborMajorType.Utf8String);__classPrivateFieldGet(this,l,"m",T).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,1)}readTextString(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Utf8String);if(e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength){const{val:t,encodingLength:r}=__classPrivateFieldGet(this,l,"m",R).call(this,o.CborMajorType.Utf8String);__classPrivateFieldGet(this,l,"m",E).call(this,r);__classPrivateFieldGet(this,l,"m",T).call(this);return c.from(t).toString("utf8")}const s=__classPrivateFieldGet(this,l,"m",S).call(this);const{length:i,bytesRead:n}=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,e,s);__classPrivateFieldGet(this,l,"m",k).call(this,n+i);__classPrivateFieldGet(this,l,"m",E).call(this,n+i);__classPrivateFieldGet(this,l,"m",T).call(this);return c.from(s.slice(n,n+i)).toString("utf8")}readDefiniteLengthTextString(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Utf8String);if(e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength){throw new s.CborInvalidOperationException("Expected definite length string and got indefinite length")}const t=__classPrivateFieldGet(this,l,"m",S).call(this);const{length:r,bytesRead:i}=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,e,t);__classPrivateFieldGet(this,l,"m",k).call(this,i+r);__classPrivateFieldGet(this,l,"m",E).call(this,i+r);__classPrivateFieldGet(this,l,"m",T).call(this);return c.from(t.slice(i,i+r)).toString("utf8")}readTag(){const{tag:e,bytesRead:t}=__classPrivateFieldGet(this,l,"m",B).call(this);__classPrivateFieldGet(this,l,"m",E).call(this,t);__classPrivateFieldSet(this,m,true,"f");return e}peekTag(){const{tag:e}=__classPrivateFieldGet(this,l,"m",B).call(this);return e}static ensureReadCapacityInArray(e,t){if(e.length<t){throw new s.CborContentException(M)}}static mapSimpleValueDataToReaderState(e){switch(e){case a.CborAdditionalInfo.AdditionalNull:return n.CborReaderState.Null;case a.CborAdditionalInfo.AdditionalFalse:case a.CborAdditionalInfo.AdditionalTrue:return n.CborReaderState.Boolean;case a.CborAdditionalInfo.Additional16BitData:return n.CborReaderState.HalfPrecisionFloat;case a.CborAdditionalInfo.Additional32BitData:return n.CborReaderState.SinglePrecisionFloat;case a.CborAdditionalInfo.Additional64BitData:return n.CborReaderState.DoublePrecisionFloat;default:return n.CborReaderState.SimpleValue}}constructor(e){l.add(this);f.set(this,void 0);h.set(this,0);p.set(this,new Array);m.set(this,false);_.set(this,void 0);v.set(this,n.CborReaderState.Undefined);__classPrivateFieldSet(this,f,new Uint8Array(c.from(e,"hex")),"f");__classPrivateFieldSet(this,_,{currentKeyOffset:null,frameOffset:0,itemsRead:0,type:null},"f")}}u=CborReader,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,l=new WeakSet,y=function _CborReader_peekInitialByte(e){if(void 0!==__classPrivateFieldGet(this,_,"f").definiteLength&&__classPrivateFieldGet(this,_,"f").definiteLength-__classPrivateFieldGet(this,_,"f").itemsRead===0)throw new s.CborInvalidOperationException("No more data items to read");if(__classPrivateFieldGet(this,h,"f")===__classPrivateFieldGet(this,f,"f").length){if(null===__classPrivateFieldGet(this,_,"f").type&&void 0===__classPrivateFieldGet(this,_,"f").definiteLength&&__classPrivateFieldGet(this,h,"f")>0)throw new s.CborInvalidOperationException("End of root-level. No more data items to read");throw new s.CborContentException(M)}const t=i.CborInitialByte.from(__classPrivateFieldGet(this,f,"f")[__classPrivateFieldGet(this,h,"f")]);switch(__classPrivateFieldGet(this,_,"f").type){case o.CborMajorType.ByteString:case o.CborMajorType.Utf8String:if(t.getInitialByte()===i.CborInitialByte.IndefiniteLengthBreakByte||t.getMajorType()===__classPrivateFieldGet(this,_,"f").type&&t.getAdditionalInfo()!==a.CborAdditionalInfo.IndefiniteLength){break}throw new s.CborContentException(`Indefinite length string contains invalid data item, ${t.getMajorType()}`)}if(e&&e!==t.getMajorType())throw new s.CborInvalidOperationException(`Major type mismatch, expected type ${e} but got ${t.getMajorType()}`);return t},w=function _CborReader_peekNextInitialByte(e,t){CborReader.ensureReadCapacityInArray(e,1);const r=i.CborInitialByte.from(e[0]);if(r.getInitialByte()!==i.CborInitialByte.IndefiniteLengthBreakByte&&r.getMajorType()!==t)throw new s.CborContentException("Indefinite length string contains invalid data item");return r},g=function _CborReader_validateNextByteIsBreakByte(){const e=__classPrivateFieldGet(this,l,"m",y).call(this);if(e.getInitialByte()!==i.CborInitialByte.IndefiniteLengthBreakByte)throw new s.CborInvalidOperationException("Not at end of indefinite length data item")},b=function _CborReader_pushDataItem(e,t){const r={currentKeyOffset:__classPrivateFieldGet(this,_,"f").currentKeyOffset,definiteLength:__classPrivateFieldGet(this,_,"f").definiteLength,frameOffset:__classPrivateFieldGet(this,_,"f").frameOffset,itemsRead:__classPrivateFieldGet(this,_,"f").itemsRead,type:__classPrivateFieldGet(this,_,"f").type};__classPrivateFieldGet(this,p,"f").push(r);__classPrivateFieldGet(this,_,"f").type=e;__classPrivateFieldGet(this,_,"f").definiteLength=t;__classPrivateFieldGet(this,_,"f").itemsRead=0;__classPrivateFieldGet(this,_,"f").frameOffset=__classPrivateFieldGet(this,h,"f");__classPrivateFieldSet(this,m,false,"f");__classPrivateFieldGet(this,_,"f").currentKeyOffset=null},P=function _CborReader_popDataItem(e){if(null===__classPrivateFieldGet(this,_,"f").type||__classPrivateFieldGet(this,p,"f").length<=0)throw new s.CborInvalidOperationException("Is at root context");if(e!==__classPrivateFieldGet(this,_,"f").type)throw new s.CborInvalidOperationException(`Pop major type mismatch, expected ${e} but got ${__classPrivateFieldGet(this,_,"f").type}`);if(void 0!==__classPrivateFieldGet(this,_,"f").definiteLength&&__classPrivateFieldGet(this,_,"f").definiteLength-__classPrivateFieldGet(this,_,"f").itemsRead>0)throw new s.CborInvalidOperationException("Not at end of definite length data item");if(__classPrivateFieldGet(this,m,"f"))throw new s.CborContentException("Tag not followed by value");const t=__classPrivateFieldGet(this,p,"f").pop();__classPrivateFieldGet(this,l,"m",C).call(this,t)},C=function _CborReader_restoreStackFrame(e){__classPrivateFieldGet(this,_,"f").type=e.type;__classPrivateFieldGet(this,_,"f").frameOffset=e.frameOffset;__classPrivateFieldGet(this,_,"f").definiteLength=e.definiteLength;__classPrivateFieldGet(this,_,"f").itemsRead=e.itemsRead;__classPrivateFieldGet(this,_,"f").currentKeyOffset=e.currentKeyOffset;__classPrivateFieldSet(this,v,n.CborReaderState.Undefined,"f")},S=function _CborReader_getRemainingBytes(){return __classPrivateFieldGet(this,f,"f").slice(__classPrivateFieldGet(this,h,"f"))},T=function _CborReader_advanceDataItemCounters(){++__classPrivateFieldGet(this,_,"f").itemsRead;__classPrivateFieldSet(this,m,false,"f")},E=function _CborReader_advanceBuffer(e){if(__classPrivateFieldGet(this,h,"f")+e>__classPrivateFieldGet(this,f,"f").length)throw new s.CborContentException("Buffer offset out of bounds");__classPrivateFieldSet(this,h,__classPrivateFieldGet(this,h,"f")+e,"f");__classPrivateFieldSet(this,v,n.CborReaderState.Undefined,"f")},k=function _CborReader_ensureReadCapacity(e){if(__classPrivateFieldGet(this,f,"f").length-__classPrivateFieldGet(this,h,"f")<e){throw new s.CborContentException(M)}},A=function _CborReader_peekStateCore(){if(void 0!==__classPrivateFieldGet(this,_,"f").definiteLength&&__classPrivateFieldGet(this,_,"f").definiteLength-__classPrivateFieldGet(this,_,"f").itemsRead===0){if(null===__classPrivateFieldGet(this,_,"f").type)return n.CborReaderState.Finished;switch(__classPrivateFieldGet(this,_,"f").type){case o.CborMajorType.Array:return n.CborReaderState.EndArray;case o.CborMajorType.Map:return n.CborReaderState.EndMap;default:throw new s.CborInvalidOperationException("Invalid CBOR major type pushed to stack.")}}if(__classPrivateFieldGet(this,h,"f")===__classPrivateFieldGet(this,f,"f").length){if(null===__classPrivateFieldGet(this,_,"f").type&&void 0===__classPrivateFieldGet(this,_,"f").definiteLength){return n.CborReaderState.Finished}throw new s.CborInvalidOperationException(M)}const e=i.CborInitialByte.from(__classPrivateFieldGet(this,f,"f")[__classPrivateFieldGet(this,h,"f")]);if(e.getInitialByte()===i.CborInitialByte.IndefiniteLengthBreakByte){if(__classPrivateFieldGet(this,m,"f")){throw new s.CborContentException("Tag not followed by value")}if(void 0===__classPrivateFieldGet(this,_,"f").definiteLength){switch(__classPrivateFieldGet(this,_,"f").type){case null:throw new s.CborContentException("Unexpected break byte");case o.CborMajorType.ByteString:return n.CborReaderState.EndIndefiniteLengthByteString;case o.CborMajorType.Utf8String:return n.CborReaderState.EndIndefiniteLengthTextString;case o.CborMajorType.Array:return n.CborReaderState.EndArray;case o.CborMajorType.Map:if(__classPrivateFieldGet(this,_,"f").itemsRead%2===0)return n.CborReaderState.EndMap;throw new s.CborContentException("Key missing value");default:throw new s.CborInvalidOperationException("Invalid CBOR major type pushed to stack.")}}else{throw new s.CborContentException("Unexpected break byte")}}if(null!==__classPrivateFieldGet(this,_,"f").type&&null!==__classPrivateFieldGet(this,_,"f").definiteLength){switch(__classPrivateFieldGet(this,_,"f").type){case o.CborMajorType.ByteString:case o.CborMajorType.Utf8String:if(e.getMajorType()!==__classPrivateFieldGet(this,_,"f").type){throw new s.CborContentException("Indefinite length string contains invalid data item")}break}}switch(e.getMajorType()){case o.CborMajorType.UnsignedInteger:return n.CborReaderState.UnsignedInteger;case o.CborMajorType.NegativeInteger:return n.CborReaderState.NegativeInteger;case o.CborMajorType.ByteString:return e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength?n.CborReaderState.StartIndefiniteLengthByteString:n.CborReaderState.ByteString;case o.CborMajorType.Utf8String:return e.getAdditionalInfo()===a.CborAdditionalInfo.IndefiniteLength?n.CborReaderState.StartIndefiniteLengthTextString:n.CborReaderState.TextString;case o.CborMajorType.Array:return n.CborReaderState.StartArray;case o.CborMajorType.Map:return n.CborReaderState.StartMap;case o.CborMajorType.Tag:return n.CborReaderState.Tag;case o.CborMajorType.Simple:return CborReader.mapSimpleValueDataToReaderState(e.getAdditionalInfo());default:throw new s.CborContentException("Invalid CBOR major type.")}},I=function _CborReader_peekDefiniteLength(e,t){const{unsignedInt:r,bytesRead:a}=__classPrivateFieldGet(CborReader,u,"m",O).call(CborReader,e,t);return{bytesRead:a,length:Number(r)}},j=function _CborReader_peekUnsignedInteger(){const e=__classPrivateFieldGet(this,l,"m",y).call(this);switch(e.getMajorType()){case o.CborMajorType.UnsignedInteger:return __classPrivateFieldGet(CborReader,u,"m",O).call(CborReader,e,__classPrivateFieldGet(this,l,"m",S).call(this));case o.CborMajorType.NegativeInteger:throw new s.CborContentException("Integer overflow");default:throw new s.CborInvalidOperationException(`Reader type mismatch, expected ${o.CborMajorType.UnsignedInteger} but got ${e.getMajorType()}`)}},x=function _CborReader_peekSignedInteger(){const e=__classPrivateFieldGet(this,l,"m",y).call(this);switch(e.getMajorType()){case o.CborMajorType.UnsignedInteger:{const{unsignedInt:t,bytesRead:r}=__classPrivateFieldGet(CborReader,u,"m",O).call(CborReader,e,__classPrivateFieldGet(this,l,"m",S).call(this));return{bytesRead:r,signedInt:BigInt(t)}}case o.CborMajorType.NegativeInteger:{const{unsignedInt:a,bytesRead:i}=__classPrivateFieldGet(CborReader,u,"m",O).call(CborReader,e,__classPrivateFieldGet(this,l,"m",S).call(this));return{bytesRead:i,signedInt:BigInt(-1)-a}}default:throw new s.CborInvalidOperationException(`Reader type mismatch, expected ${o.CborMajorType.UnsignedInteger} or ${o.CborMajorType.NegativeInteger} but got ${e.getMajorType()}`)}},R=function _CborReader_readIndefiniteLengthByteStringConcatenated(e){const t=__classPrivateFieldGet(this,l,"m",S).call(this);let r=c.from([]);let a=0;let s=1;let o=__classPrivateFieldGet(CborReader,u,"m",w).call(CborReader,t.slice(s),e);while(o.getInitialByte()!==i.CborInitialByte.IndefiniteLengthBreakByte){const{length:n,bytesRead:d}=__classPrivateFieldGet(CborReader,u,"m",I).call(CborReader,o,t.slice(s));const f=d+Number(n);r=c.concat([r,t.slice(s+(f-n),s+f)]);s+=f;o=__classPrivateFieldGet(CborReader,u,"m",w).call(CborReader,t.slice(s),e)}a=s+1;return{encodingLength:a,val:new Uint8Array(r)}},B=function _CborReader_peekTagCore(){const e=__classPrivateFieldGet(this,l,"m",y).call(this,o.CborMajorType.Tag);const{unsignedInt:t,bytesRead:r}=__classPrivateFieldGet(CborReader,u,"m",O).call(CborReader,e,__classPrivateFieldGet(this,l,"m",S).call(this));return{bytesRead:r,tag:Number(t)}},O=function _CborReader_decodeUnsignedInteger(e,t){if((e.getInitialByte()&i.CborInitialByte.AdditionalInformationMask)<a.CborAdditionalInfo.Additional8BitData)return{bytesRead:1,unsignedInt:BigInt(e.getAdditionalInfo())};switch(e.getAdditionalInfo()){case a.CborAdditionalInfo.Additional8BitData:CborReader.ensureReadCapacityInArray(t,2);return{bytesRead:2,unsignedInt:BigInt(t[1])};case a.CborAdditionalInfo.Additional16BitData:{CborReader.ensureReadCapacityInArray(t,3);const r=c.from(t.slice(1));const o=r.readUInt16BE();return{bytesRead:3,unsignedInt:BigInt(o)}}case a.CborAdditionalInfo.Additional32BitData:{CborReader.ensureReadCapacityInArray(t,5);const n=c.from(t.slice(1));const d=n.readUInt32BE();return{bytesRead:5,unsignedInt:BigInt(d)}}case a.CborAdditionalInfo.Additional64BitData:{CborReader.ensureReadCapacityInArray(t,9);const l=c.from(t.slice(1,9));let u=BigInt(0);for(const f of l)u=(u<<BigInt(8))+BigInt(f);return{bytesRead:9,unsignedInt:u}}default:throw new s.CborContentException("Invalid integer encoding")}},D=function _CborReader_skipNextNode(e){let t;let r=e;while((t=__classPrivateFieldGet(this,l,"m",A).call(this))===n.CborReaderState.Tag)this.readTag();switch(t){case n.CborReaderState.UnsignedInteger:this.readUInt();break;case n.CborReaderState.NegativeInteger:this.readCborNegativeIntegerRepresentation();break;case n.CborReaderState.ByteString:this.readByteString();break;case n.CborReaderState.TextString:this.readTextString();break;case n.CborReaderState.StartIndefiniteLengthByteString:this.readStartIndefiniteLengthByteString();r++;break;case n.CborReaderState.EndIndefiniteLengthByteString:this.readEndIndefiniteLengthByteString();r--;break;case n.CborReaderState.StartIndefiniteLengthTextString:this.readStartIndefiniteLengthTextString();r++;break;case n.CborReaderState.EndIndefiniteLengthTextString:if(0===r)throw new s.CborInvalidOperationException(`Skip invalid state: ${t}`);this.readEndIndefiniteLengthTextString();r--;break;case n.CborReaderState.StartArray:this.readStartArray();r++;break;case n.CborReaderState.EndArray:if(0===r)throw new s.CborInvalidOperationException(`Skip invalid state: ${t}`);this.readEndArray();r--;break;case n.CborReaderState.StartMap:this.readStartMap();r++;break;case n.CborReaderState.EndMap:if(0===r)throw new s.CborInvalidOperationException(`Skip invalid state: ${t}`);this.readEndMap();r--;break;case n.CborReaderState.HalfPrecisionFloat:case n.CborReaderState.SinglePrecisionFloat:case n.CborReaderState.DoublePrecisionFloat:this.readDouble();break;case n.CborReaderState.Null:case n.CborReaderState.Boolean:case n.CborReaderState.SimpleValue:this.readSimpleValue();break;default:throw new s.CborInvalidOperationException(`Skip invalid state: ${t}`)}return r}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js":(e,t,r)=>{"use strict";r.d(t,{CborReaderState:()=>a});var a;(function(e){e[e["Undefined"]=0]="Undefined";e[e["UnsignedInteger"]=1]="UnsignedInteger";e[e["NegativeInteger"]=2]="NegativeInteger";e[e["ByteString"]=3]="ByteString";e[e["StartIndefiniteLengthByteString"]=4]="StartIndefiniteLengthByteString";e[e["EndIndefiniteLengthByteString"]=5]="EndIndefiniteLengthByteString";e[e["TextString"]=6]="TextString";e[e["StartIndefiniteLengthTextString"]=7]="StartIndefiniteLengthTextString";e[e["EndIndefiniteLengthTextString"]=8]="EndIndefiniteLengthTextString";e[e["StartArray"]=9]="StartArray";e[e["EndArray"]=10]="EndArray";e[e["StartMap"]=11]="StartMap";e[e["EndMap"]=12]="EndMap";e[e["Tag"]=13]="Tag";e[e["SimpleValue"]=14]="SimpleValue";e[e["HalfPrecisionFloat"]=15]="HalfPrecisionFloat";e[e["SinglePrecisionFloat"]=16]="SinglePrecisionFloat";e[e["DoublePrecisionFloat"]=17]="DoublePrecisionFloat";e[e["Null"]=18]="Null";e[e["Boolean"]=19]="Boolean";e[e["Finished"]=20]="Finished"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js":(e,t,r)=>{"use strict";r.d(t,{CborTag:()=>a});var a;(function(e){e[e["DateTimeString"]=0]="DateTimeString";e[e["UnixTimeSeconds"]=1]="UnixTimeSeconds";e[e["UnsignedBigNum"]=2]="UnsignedBigNum";e[e["NegativeBigNum"]=3]="NegativeBigNum";e[e["DecimalFraction"]=4]="DecimalFraction";e[e["BigFloat"]=5]="BigFloat";e[e["Base64UrlLaterEncoding"]=21]="Base64UrlLaterEncoding";e[e["Base64StringLaterEncoding"]=22]="Base64StringLaterEncoding";e[e["Base16StringLaterEncoding"]=23]="Base16StringLaterEncoding";e[e["EncodedCborDataItem"]=24]="EncodedCborDataItem";e[e["RationalNumber"]=30]="RationalNumber";e[e["Uri"]=32]="Uri";e[e["Base64Url"]=33]="Base64Url";e[e["Base64"]=34]="Base64";e[e["Regex"]=35]="Regex";e[e["MimeMessage"]=36]="MimeMessage";e[e["Set"]=258]="Set";e[e["SelfDescribeCbor"]=55799]="SelfDescribeCbor"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js":(e,t,r)=>{"use strict";r.d(t,{CborWriter:()=>CborWriter});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborInitialByte.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborMajorType.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/Half.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d,c,l,u,f,h;const p=BigInt(-1);const m=BigInt("0x100000000");const _=24;const v=25;const y=26;const w=27;const g=244;const b=245;const P=246;const C=247;const S=159;const T=191;const E=249;const k=250;const A=251;const I=n.from("ffc00000","hex");const j=n.from("fff0000000000000","hex");const x=n.from("7ff0000000000000","hex");class CborWriter{writeBigInteger(e){let t=i.CborTag.UnsignedBigNum;if(e<0){e=-e+p;t=i.CborTag.NegativeBigNum}let r=e.toString(16);if(r.length%2)r=`0${r}`;const a=n.from(r,"hex");this.writeTag(t);__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.ByteString,a.length);__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),a]),"f");return this}writeBoolean(e){__classPrivateFieldGet(this,d,"m",u).call(this,e?b:g);return this}writeByteString(e){__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.ByteString,e.length);__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),e]),"f");return this}writeTextString(e){__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.Utf8String,n.from(e,"utf8").length);__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),n.from(e,"utf8")]),"f");return this}writeEncodedValue(e){__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),e]),"f");return this}writeStartArray(e){if(void 0!==e)__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.Array,e);else __classPrivateFieldGet(this,d,"m",u).call(this,S);return this}writeEndArray(){__classPrivateFieldGet(this,d,"m",u).call(this,a.CborInitialByte.IndefiniteLengthBreakByte);return this}writeStartMap(e){if(void 0!==e)__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.Map,e);else __classPrivateFieldGet(this,d,"m",u).call(this,T);return this}writeEndMap(){__classPrivateFieldGet(this,d,"m",u).call(this,a.CborInitialByte.IndefiniteLengthBreakByte);return this}writeInt(e){if(e<0)__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.NegativeInteger,-(BigInt(e)+1n));else __classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.UnsignedInteger,e);return this}writeFloat(e){let t;if(e===Number.NEGATIVE_INFINITY){__classPrivateFieldGet(this,d,"m",u).call(this,A);this.writeEncodedValue(j);return this}if(e===Number.POSITIVE_INFINITY){__classPrivateFieldGet(this,d,"m",u).call(this,A);this.writeEncodedValue(x);return this}if(Number.isNaN(e)){__classPrivateFieldGet(this,d,"m",u).call(this,k);this.writeEncodedValue(I);return this}try{t=(0,o.encodeHalf)(e);__classPrivateFieldGet(this,d,"m",u).call(this,E);this.writeEncodedValue(t)}catch{const r=n.allocUnsafe(4);r.writeFloatBE(e,0);if(r.readFloatBE(0)===e){__classPrivateFieldGet(this,d,"m",u).call(this,k);this.writeEncodedValue(r.valueOf())}else{const a=n.allocUnsafe(8);a.writeFloatBE(e,0);__classPrivateFieldGet(this,d,"m",u).call(this,A);this.writeEncodedValue(a.valueOf())}}return this}writeNull(){__classPrivateFieldGet(this,d,"m",u).call(this,P);return this}writeUndefined(){__classPrivateFieldGet(this,d,"m",u).call(this,C);return this}writeTag(e){__classPrivateFieldGet(this,d,"m",l).call(this,s.CborMajorType.Tag,e);return this}encodeAsHex(){return __classPrivateFieldGet(this,c,"f").toString("hex")}encode(){return new Uint8Array(__classPrivateFieldGet(this,c,"f"))}reset(){__classPrivateFieldSet(this,c,n.from([]),"f")}constructor(){d.add(this);c.set(this,n.from([]))}}c=new WeakMap,d=new WeakSet,l=function _CborWriter_writeTypeValue(e,t){const r=e<<5;if(t<24)__classPrivateFieldGet(this,d,"m",u).call(this,r|Number(t));else if(t<256){__classPrivateFieldGet(this,d,"m",u).call(this,r|_);__classPrivateFieldGet(this,d,"m",u).call(this,Number(t))}else if(t<65536){__classPrivateFieldGet(this,d,"m",u).call(this,r|v);__classPrivateFieldGet(this,d,"m",f).call(this,Number(t))}else if(t<4294967296){__classPrivateFieldGet(this,d,"m",u).call(this,r|y);__classPrivateFieldGet(this,d,"m",h).call(this,Number(t))}else{__classPrivateFieldGet(this,d,"m",u).call(this,r|w);__classPrivateFieldGet(this,d,"m",h).call(this,Number(BigInt(t)/m));__classPrivateFieldGet(this,d,"m",h).call(this,Number(BigInt(t)%m))}},u=function _CborWriter_pushUInt8(e){const t=n.allocUnsafe(1);t.writeUInt8(e,0);__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),t]),"f")},f=function _CborWriter_pushUInt16(e){const t=n.allocUnsafe(2);t.writeUInt16BE(e,0);__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),t]),"f")},h=function _CborWriter_pushUInt32(e){const t=n.allocUnsafe(4);t.writeUInt32BE(e,0);__classPrivateFieldSet(this,c,n.concat([__classPrivateFieldGet(this,c,"f"),t]),"f")}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/Half.js":(e,t,r)=>{"use strict";r.d(t,{decodeHalf:()=>decodeHalf,encodeHalf:()=>encodeHalf});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/errors.js");var s=r("../../node_modules/buffer/index.js")["Buffer"];const i="Invalid conversion. Loss of precision";const ldexp=(e,t)=>{const r=Math.min(3,Math.ceil(Math.abs(t)/1023));let a=e;for(let s=0;s<r;s++)a*=Math.pow(2,Math.floor((t+s)/r));return a};const decodeHalf=e=>{const t=(e[0]<<8)+e[1];const r=t>>10&31;const a=1023&t;let s;s=0===r?ldexp(a,-24):31!==r?ldexp(a+1024,r-25):0===a?Number.POSITIVE_INFINITY:Number.NaN;return 32768&t?-s:s};const encodeHalf=e=>{const t=s.allocUnsafe(4);t.writeFloatBE(e,0);const r=t.readUInt32BE(0);if((8191&r)!==0){throw new a.LossOfPrecisionException(i)}let o=r>>16&32768;const n=r>>23&255;const d=8388607&r;if(n>=113&&n<=142)o+=(n-112<<10)+(d>>13);else if(n>=103&&n<113){if(d&(1<<126-n)-1){throw new a.LossOfPrecisionException(i)}o+=d+8388608>>126-n}else{throw new a.LossOfPrecisionException(i)}const c=new Uint8Array(2);c[0]=o>>>8&255;c[1]=255&o;return c}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/errors.js":(e,t,r)=>{"use strict";r.d(t,{CborContentException:()=>CborContentException,CborInvalidOperationException:()=>CborInvalidOperationException,LossOfPrecisionException:()=>LossOfPrecisionException});var a=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");class CborInvalidOperationException extends a.CustomError{constructor(e){super(e)}}class CborContentException extends a.CustomError{constructor(e){super(e)}}class LossOfPrecisionException extends a.CustomError{constructor(e){super(e)}}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/AuthCommitteeHot.js":(e,t,r)=>{"use strict";r.d(t,{AuthCommitteeHot:()=>AuthCommitteeHot});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=2;class AuthCommitteeHot{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(3);e.writeInt(o.CertificateKind.AuthCommitteeHot);e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,f,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,f,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(3!==r)throw new d.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.AuthCommitteeHot)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.AuthCommitteeHot}, but got ${s}`);const n=t.readStartArray();if(n!==p)throw new d.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=t.readStartArray();if(f!==p)throw new d.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const m=Number(t.readInt());const _=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();t.readEndArray();const v=new AuthCommitteeHot({hash:u,type:l},{hash:_,type:m});__classPrivateFieldSet(v,h,e,"f");return v}toCore(){return{__typename:n.CertificateType.AuthorizeCommitteeHot,coldCredential:__classPrivateFieldGet(this,u,"f"),hotCredential:__classPrivateFieldGet(this,f,"f")}}static fromCore(e){return new AuthCommitteeHot(e.coldCredential,e.hotCredential)}coldCredential(){return __classPrivateFieldGet(this,u,"f")}hotCredential(){return __classPrivateFieldGet(this,f,"f")}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Certificate.js":(e,t,r)=>{"use strict";r.d(t,{Certificate:()=>Certificate});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/AuthCommitteeHot.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/GenesisKeyDelegation.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousReward.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolRegistration.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolRetirement.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/RegisterDelegateRepresentative.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Registration.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/ResignCommitteeCold.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeDelegation.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeDeregistration.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeRegistration.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeRegistrationDelegation.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeVoteDelegation.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeVoteRegistrationDelegation.js");var b=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/UnregisterDelegateRepresentative.js");var P=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Unregistration.js");var C=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/UpdateDelegateRepresentative.js");var S=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/VoteDelegation.js");var T=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/VoteRegistrationDelegation.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var E,k,A,I,j,x,R,B,O,D,M,F,N,H,G,V,K,L,z,U,W;class Certificate{toCbor(){if(__classPrivateFieldGet(this,W,"f"))return __classPrivateFieldGet(this,W,"f");let e;switch(__classPrivateFieldGet(this,E,"f")){case i.CertificateKind.StakeRegistration:e=__classPrivateFieldGet(this,B,"f").toCbor();break;case i.CertificateKind.StakeDeregistration:e=__classPrivateFieldGet(this,R,"f").toCbor();break;case i.CertificateKind.StakeDelegation:e=__classPrivateFieldGet(this,x,"f").toCbor();break;case i.CertificateKind.PoolRetirement:e=__classPrivateFieldGet(this,j,"f").toCbor();break;case i.CertificateKind.PoolRegistration:e=__classPrivateFieldGet(this,I,"f").toCbor();break;case i.CertificateKind.MoveInstantaneousRewards:e=__classPrivateFieldGet(this,A,"f").toCbor();break;case i.CertificateKind.GenesisKeyDelegation:e=__classPrivateFieldGet(this,k,"f").toCbor();break;case i.CertificateKind.Registration:e=__classPrivateFieldGet(this,O,"f").toCbor();break;case i.CertificateKind.Unregistration:e=__classPrivateFieldGet(this,D,"f").toCbor();break;case i.CertificateKind.VoteDelegation:e=__classPrivateFieldGet(this,M,"f").toCbor();break;case i.CertificateKind.StakeVoteDelegation:e=__classPrivateFieldGet(this,F,"f").toCbor();break;case i.CertificateKind.StakeRegistrationDelegation:e=__classPrivateFieldGet(this,N,"f").toCbor();break;case i.CertificateKind.VoteRegistrationDelegation:e=__classPrivateFieldGet(this,H,"f").toCbor();break;case i.CertificateKind.StakeVoteRegistrationDelegation:e=__classPrivateFieldGet(this,G,"f").toCbor();break;case i.CertificateKind.AuthCommitteeHot:e=__classPrivateFieldGet(this,V,"f").toCbor();break;case i.CertificateKind.ResignCommitteeCold:e=__classPrivateFieldGet(this,K,"f").toCbor();break;case i.CertificateKind.DrepRegistration:e=__classPrivateFieldGet(this,L,"f").toCbor();break;case i.CertificateKind.DrepUnregistration:e=__classPrivateFieldGet(this,z,"f").toCbor();break;case i.CertificateKind.UpdateDrep:e=__classPrivateFieldGet(this,U,"f").toCbor();break;default:throw new d.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,E,"f")}`)}return e}static fromCbor(e){let t;const r=new s.CborReader(e);r.readStartArray();const o=Number(r.readInt());switch(o){case i.CertificateKind.StakeRegistration:t=Certificate.newStakeRegistration(v.StakeRegistration.fromCbor(e));break;case i.CertificateKind.StakeDeregistration:t=Certificate.newStakeDeregistration(_.StakeDeregistration.fromCbor(e));break;case i.CertificateKind.StakeDelegation:t=Certificate.newStakeDelegation(m.StakeDelegation.fromCbor(e));break;case i.CertificateKind.PoolRetirement:t=Certificate.newPoolRetirement(u.PoolRetirement.fromCbor(e));break;case i.CertificateKind.PoolRegistration:t=Certificate.newPoolRegistration(l.PoolRegistration.fromCbor(e));break;case i.CertificateKind.MoveInstantaneousRewards:t=Certificate.newMoveInstantaneousRewardsCert(c.MoveInstantaneousReward.fromCbor(e));break;case i.CertificateKind.GenesisKeyDelegation:t=Certificate.newGenesisKeyDelegation(n.GenesisKeyDelegation.fromCbor(e));break;case i.CertificateKind.Registration:t=Certificate.newRegistrationCert(h.Registration.fromCbor(e));break;case i.CertificateKind.Unregistration:t=Certificate.newUnregistrationCert(P.Unregistration.fromCbor(e));break;case i.CertificateKind.VoteDelegation:t=Certificate.newVoteDelegationCert(S.VoteDelegation.fromCbor(e));break;case i.CertificateKind.StakeVoteDelegation:t=Certificate.newStakeVoteDelegationCert(w.StakeVoteDelegation.fromCbor(e));break;case i.CertificateKind.StakeRegistrationDelegation:t=Certificate.newStakeRegistrationDelegationCert(y.StakeRegistrationDelegation.fromCbor(e));break;case i.CertificateKind.VoteRegistrationDelegation:t=Certificate.newVoteRegistrationDelegationCert(T.VoteRegistrationDelegation.fromCbor(e));break;case i.CertificateKind.StakeVoteRegistrationDelegation:t=Certificate.newStakeVoteRegistrationDelegationCert(g.StakeVoteRegistrationDelegation.fromCbor(e));break;case i.CertificateKind.AuthCommitteeHot:t=Certificate.newAuthCommitteeHotCert(a.AuthCommitteeHot.fromCbor(e));break;case i.CertificateKind.ResignCommitteeCold:t=Certificate.newResignCommitteeColdCert(p.ResignCommitteeCold.fromCbor(e));break;case i.CertificateKind.DrepRegistration:t=Certificate.newRegisterDelegateRepresentativeCert(f.RegisterDelegateRepresentative.fromCbor(e));break;case i.CertificateKind.DrepUnregistration:t=Certificate.newUnregisterDelegateRepresentativeCert(b.UnregisterDelegateRepresentative.fromCbor(e));break;case i.CertificateKind.UpdateDrep:t=Certificate.newUpdateDelegateRepresentativeCert(C.UpdateDelegateRepresentative.fromCbor(e));break;default:throw new d.InvalidStateError(`Unexpected kind value: ${o}`)}__classPrivateFieldSet(t,W,e,"f");return t}toCore(){let e;switch(__classPrivateFieldGet(this,E,"f")){case i.CertificateKind.StakeRegistration:e=__classPrivateFieldGet(this,B,"f").toCore();break;case i.CertificateKind.StakeDeregistration:e=__classPrivateFieldGet(this,R,"f").toCore();break;case i.CertificateKind.StakeDelegation:e=__classPrivateFieldGet(this,x,"f").toCore();break;case i.CertificateKind.PoolRetirement:e=__classPrivateFieldGet(this,j,"f").toCore();break;case i.CertificateKind.PoolRegistration:e=__classPrivateFieldGet(this,I,"f").toCore();break;case i.CertificateKind.MoveInstantaneousRewards:e=__classPrivateFieldGet(this,A,"f").toCore();break;case i.CertificateKind.GenesisKeyDelegation:e=__classPrivateFieldGet(this,k,"f").toCore();break;case i.CertificateKind.Registration:e=__classPrivateFieldGet(this,O,"f").toCore();break;case i.CertificateKind.Unregistration:e=__classPrivateFieldGet(this,D,"f").toCore();break;case i.CertificateKind.VoteDelegation:e=__classPrivateFieldGet(this,M,"f").toCore();break;case i.CertificateKind.StakeVoteDelegation:e=__classPrivateFieldGet(this,F,"f").toCore();break;case i.CertificateKind.StakeRegistrationDelegation:e=__classPrivateFieldGet(this,N,"f").toCore();break;case i.CertificateKind.VoteRegistrationDelegation:e=__classPrivateFieldGet(this,H,"f").toCore();break;case i.CertificateKind.StakeVoteRegistrationDelegation:e=__classPrivateFieldGet(this,G,"f").toCore();break;case i.CertificateKind.AuthCommitteeHot:e=__classPrivateFieldGet(this,V,"f").toCore();break;case i.CertificateKind.ResignCommitteeCold:e=__classPrivateFieldGet(this,K,"f").toCore();break;case i.CertificateKind.DrepRegistration:e=__classPrivateFieldGet(this,L,"f").toCore();break;case i.CertificateKind.DrepUnregistration:e=__classPrivateFieldGet(this,z,"f").toCore();break;case i.CertificateKind.UpdateDrep:e=__classPrivateFieldGet(this,U,"f").toCore();break;default:throw new d.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,E,"f")}`)}return e}static fromCore(e){let t;switch(e.__typename){case o.CertificateType.StakeRegistration:t=Certificate.newStakeRegistration(v.StakeRegistration.fromCore(e));break;case o.CertificateType.StakeDeregistration:t=Certificate.newStakeDeregistration(_.StakeDeregistration.fromCore(e));break;case o.CertificateType.StakeDelegation:t=Certificate.newStakeDelegation(m.StakeDelegation.fromCore(e));break;case o.CertificateType.PoolRetirement:t=Certificate.newPoolRetirement(u.PoolRetirement.fromCore(e));break;case o.CertificateType.PoolRegistration:t=Certificate.newPoolRegistration(l.PoolRegistration.fromCore(e));break;case o.CertificateType.MIR:t=Certificate.newMoveInstantaneousRewardsCert(c.MoveInstantaneousReward.fromCore(e));break;case o.CertificateType.GenesisKeyDelegation:t=Certificate.newGenesisKeyDelegation(n.GenesisKeyDelegation.fromCore(e));break;case o.CertificateType.Registration:t=Certificate.newRegistrationCert(h.Registration.fromCore(e));break;case o.CertificateType.Unregistration:t=Certificate.newUnregistrationCert(P.Unregistration.fromCore(e));break;case o.CertificateType.VoteDelegation:t=Certificate.newVoteDelegationCert(S.VoteDelegation.fromCore(e));break;case o.CertificateType.StakeVoteDelegation:t=Certificate.newStakeVoteDelegationCert(w.StakeVoteDelegation.fromCore(e));break;case o.CertificateType.StakeRegistrationDelegation:t=Certificate.newStakeRegistrationDelegationCert(y.StakeRegistrationDelegation.fromCore(e));break;case o.CertificateType.VoteRegistrationDelegation:t=Certificate.newVoteRegistrationDelegationCert(T.VoteRegistrationDelegation.fromCore(e));break;case o.CertificateType.StakeVoteRegistrationDelegation:t=Certificate.newStakeVoteRegistrationDelegationCert(g.StakeVoteRegistrationDelegation.fromCore(e));break;case o.CertificateType.AuthorizeCommitteeHot:t=Certificate.newAuthCommitteeHotCert(a.AuthCommitteeHot.fromCore(e));break;case o.CertificateType.ResignCommitteeCold:t=Certificate.newResignCommitteeColdCert(p.ResignCommitteeCold.fromCore(e));break;case o.CertificateType.RegisterDelegateRepresentative:t=Certificate.newRegisterDelegateRepresentativeCert(f.RegisterDelegateRepresentative.fromCore(e));break;case o.CertificateType.UnregisterDelegateRepresentative:t=Certificate.newUnregisterDelegateRepresentativeCert(b.UnregisterDelegateRepresentative.fromCore(e));break;case o.CertificateType.UpdateDelegateRepresentative:t=Certificate.newUpdateDelegateRepresentativeCert(C.UpdateDelegateRepresentative.fromCore(e));break;default:throw new d.InvalidStateError("Unexpected certificate type")}return t}static newStakeRegistration(e){const t=new Certificate;__classPrivateFieldSet(t,B,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.StakeRegistration,"f");return t}static newStakeDeregistration(e){const t=new Certificate;__classPrivateFieldSet(t,R,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.StakeDeregistration,"f");return t}static newStakeDelegation(e){const t=new Certificate;__classPrivateFieldSet(t,x,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.StakeDelegation,"f");return t}static newPoolRegistration(e){const t=new Certificate;__classPrivateFieldSet(t,I,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.PoolRegistration,"f");return t}static newPoolRetirement(e){const t=new Certificate;__classPrivateFieldSet(t,j,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.PoolRetirement,"f");return t}static newGenesisKeyDelegation(e){const t=new Certificate;__classPrivateFieldSet(t,k,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.GenesisKeyDelegation,"f");return t}static newMoveInstantaneousRewardsCert(e){const t=new Certificate;__classPrivateFieldSet(t,A,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.MoveInstantaneousRewards,"f");return t}static newRegistrationCert(e){const t=new Certificate;__classPrivateFieldSet(t,O,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.Registration,"f");return t}static newUnregistrationCert(e){const t=new Certificate;__classPrivateFieldSet(t,D,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.Unregistration,"f");return t}static newVoteDelegationCert(e){const t=new Certificate;__classPrivateFieldSet(t,M,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.VoteDelegation,"f");return t}static newStakeVoteDelegationCert(e){const t=new Certificate;__classPrivateFieldSet(t,F,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.StakeVoteDelegation,"f");return t}static newStakeRegistrationDelegationCert(e){const t=new Certificate;__classPrivateFieldSet(t,N,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.StakeRegistrationDelegation,"f");return t}static newVoteRegistrationDelegationCert(e){const t=new Certificate;__classPrivateFieldSet(t,H,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.VoteRegistrationDelegation,"f");return t}static newStakeVoteRegistrationDelegationCert(e){const t=new Certificate;__classPrivateFieldSet(t,G,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.StakeVoteRegistrationDelegation,"f");return t}static newAuthCommitteeHotCert(e){const t=new Certificate;__classPrivateFieldSet(t,V,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.AuthCommitteeHot,"f");return t}static newResignCommitteeColdCert(e){const t=new Certificate;__classPrivateFieldSet(t,K,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.ResignCommitteeCold,"f");return t}static newRegisterDelegateRepresentativeCert(e){const t=new Certificate;__classPrivateFieldSet(t,L,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.DrepRegistration,"f");return t}static newUnregisterDelegateRepresentativeCert(e){const t=new Certificate;__classPrivateFieldSet(t,z,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.DrepUnregistration,"f");return t}static newUpdateDelegateRepresentativeCert(e){const t=new Certificate;__classPrivateFieldSet(t,U,e,"f");__classPrivateFieldSet(t,E,i.CertificateKind.UpdateDrep,"f");return t}kind(){return __classPrivateFieldGet(this,E,"f")}asStakeRegistration(){return __classPrivateFieldGet(this,B,"f")}asStakeDeregistration(){return __classPrivateFieldGet(this,R,"f")}asStakeDelegation(){return __classPrivateFieldGet(this,x,"f")}asPoolRegistration(){return __classPrivateFieldGet(this,I,"f")}asPoolRetirement(){return __classPrivateFieldGet(this,j,"f")}asGenesisKeyDelegation(){return __classPrivateFieldGet(this,k,"f")}asMoveInstantaneousRewardsCert(){return __classPrivateFieldGet(this,A,"f")}asRegistrationCert(){return __classPrivateFieldGet(this,O,"f")}asUnregistrationCert(){return __classPrivateFieldGet(this,D,"f")}asVoteDelegationCert(){return __classPrivateFieldGet(this,M,"f")}asStakeVoteDelegationCert(){return __classPrivateFieldGet(this,F,"f")}asStakeRegistrationDelegationCert(){return __classPrivateFieldGet(this,N,"f")}asVoteRegistrationDelegationCert(){return __classPrivateFieldGet(this,H,"f")}asStakeVoteRegistrationDelegationCert(){return __classPrivateFieldGet(this,G,"f")}asAuthCommitteeHotCert(){return __classPrivateFieldGet(this,V,"f")}asResignCommitteeColdCert(){return __classPrivateFieldGet(this,K,"f")}asRegisterDelegateRepresentativeCert(){return __classPrivateFieldGet(this,L,"f")}asUnregisterDelegateRepresentativeCert(){return __classPrivateFieldGet(this,z,"f")}asUpdateDelegateRepresentativeCert(){return __classPrivateFieldGet(this,U,"f")}constructor(){E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0);R.set(this,void 0);B.set(this,void 0);O.set(this,void 0);D.set(this,void 0);M.set(this,void 0);F.set(this,void 0);N.set(this,void 0);H.set(this,void 0);G.set(this,void 0);V.set(this,void 0);K.set(this,void 0);L.set(this,void 0);z.set(this,void 0);U.set(this,void 0);W.set(this,void 0)}}E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,R=new WeakMap,B=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,F=new WeakMap,N=new WeakMap,H=new WeakMap,G=new WeakMap,V=new WeakMap,K=new WeakMap,L=new WeakMap,z=new WeakMap,U=new WeakMap,W=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js":(e,t,r)=>{"use strict";r.d(t,{CertificateKind:()=>a});var a;(function(e){e[e["StakeRegistration"]=0]="StakeRegistration";e[e["StakeDeregistration"]=1]="StakeDeregistration";e[e["StakeDelegation"]=2]="StakeDelegation";e[e["PoolRegistration"]=3]="PoolRegistration";e[e["PoolRetirement"]=4]="PoolRetirement";e[e["GenesisKeyDelegation"]=5]="GenesisKeyDelegation";e[e["MoveInstantaneousRewards"]=6]="MoveInstantaneousRewards";e[e["Registration"]=7]="Registration";e[e["Unregistration"]=8]="Unregistration";e[e["VoteDelegation"]=9]="VoteDelegation";e[e["StakeVoteDelegation"]=10]="StakeVoteDelegation";e[e["StakeRegistrationDelegation"]=11]="StakeRegistrationDelegation";e[e["VoteRegistrationDelegation"]=12]="VoteRegistrationDelegation";e[e["StakeVoteRegistrationDelegation"]=13]="StakeVoteRegistrationDelegation";e[e["AuthCommitteeHot"]=14]="AuthCommitteeHot";e[e["ResignCommitteeCold"]=15]="ResignCommitteeCold";e[e["DrepRegistration"]=16]="DrepRegistration";e[e["DrepUnregistration"]=17]="DrepUnregistration";e[e["UpdateDrep"]=18]="UpdateDrep"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRep.js":(e,t,r)=>{"use strict";r.d(t,{DRep:()=>DRep});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRepKind.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;class DRep{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");if(__classPrivateFieldGet(this,f,"f")===n.DRepKind.KeyHash||__classPrivateFieldGet(this,f,"f")===n.DRepKind.ScriptHash){e.writeStartArray(2);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));return e.encodeAsHex()}e.writeStartArray(1);e.writeInt(__classPrivateFieldGet(this,f,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);t.readStartArray();const r=Number(t.readInt());if(r===n.DRepKind.KeyHash||r===n.DRepKind.ScriptHash){const s=a.Hash28ByteBase16(d.HexBlob.fromBytes(t.readByteString()));if(r===n.DRepKind.KeyHash){return DRep.newKeyHash(s)}return DRep.newScriptHash(s)}t.readEndArray();if(r===n.DRepKind.Abstain)return DRep.newAlwaysAbstain();return DRep.newAlwaysNoConfidence()}toCore(){if(__classPrivateFieldGet(this,f,"f")===n.DRepKind.KeyHash||__classPrivateFieldGet(this,f,"f")===n.DRepKind.ScriptHash)return __classPrivateFieldGet(this,u,"f");if(__classPrivateFieldGet(this,f,"f")===n.DRepKind.Abstain)return{__typename:"AlwaysAbstain"};return{__typename:"AlwaysNoConfidence"}}static fromCore(e){if((0,c.isDRepAlwaysAbstain)(e))return DRep.newAlwaysAbstain();if((0,c.isDRepAlwaysNoConfidence)(e))return DRep.newAlwaysNoConfidence();if(e.type===o.CredentialType.KeyHash)return DRep.newKeyHash(e.hash);return DRep.newScriptHash(e.hash)}static newKeyHash(e){return new DRep(n.DRepKind.KeyHash,{hash:e,type:o.CredentialType.KeyHash})}static newScriptHash(e){return new DRep(n.DRepKind.ScriptHash,{hash:e,type:o.CredentialType.ScriptHash})}static newAlwaysAbstain(){return new DRep(n.DRepKind.Abstain,void 0)}static newAlwaysNoConfidence(){return new DRep(n.DRepKind.NoConfidence,void 0)}kind(){return __classPrivateFieldGet(this,f,"f")}toKeyHash(){var e;if(__classPrivateFieldGet(this,f,"f")!==n.DRepKind.KeyHash)return;return null===(e=__classPrivateFieldGet(this,u,"f"))||void 0===e?void 0:e.hash}toScriptHash(){var e;if(__classPrivateFieldGet(this,f,"f")!==n.DRepKind.ScriptHash)return;return null===(e=__classPrivateFieldGet(this,u,"f"))||void 0===e?void 0:e.hash}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,t,"f");__classPrivateFieldSet(this,f,e,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRepKind.js":(e,t,r)=>{"use strict";r.d(t,{DRepKind:()=>a});var a;(function(e){e[e["KeyHash"]=0]="KeyHash";e[e["ScriptHash"]=1]="ScriptHash";e[e["Abstain"]=2]="Abstain";e[e["NoConfidence"]=3]="NoConfidence"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/GenesisKeyDelegation.js":(e,t,r)=>{"use strict";r.d(t,{GenesisKeyDelegation:()=>GenesisKeyDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h,p;const m=4;class GenesisKeyDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,p,"f"))return __classPrivateFieldGet(this,p,"f");e.writeStartArray(m);e.writeInt(o.CertificateKind.GenesisKeyDelegation);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f"),"hex"));e.writeByteString(l.from(__classPrivateFieldGet(this,f,"f"),"hex"));e.writeByteString(l.from(__classPrivateFieldGet(this,h,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==m)throw new d.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.GenesisKeyDelegation)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.GenesisKeyDelegation}, but got ${s}`);const n=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));const l=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));const u=a.Hash32ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=new GenesisKeyDelegation(n,l,u);__classPrivateFieldSet(f,p,e,"f");return f}toCore(){return{__typename:n.CertificateType.GenesisKeyDelegation,genesisDelegateHash:__classPrivateFieldGet(this,f,"f"),genesisHash:__classPrivateFieldGet(this,u,"f"),vrfKeyHash:__classPrivateFieldGet(this,h,"f")}}static fromCore(e){return new GenesisKeyDelegation(e.genesisHash,e.genesisDelegateHash,e.vrfKeyHash)}genesisHash(){return __classPrivateFieldGet(this,u,"f")}setGenesisHash(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}genesisDelegateHash(){return __classPrivateFieldGet(this,f,"f")}setGenesisDelegateHash(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}vrfKeyHash(){return __classPrivateFieldGet(this,h,"f")}setVrfKeyHash(e){__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}constructor(e,t,r){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f");__classPrivateFieldSet(this,h,r,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousReward.js":(e,t,r)=>{"use strict";r.d(t,{MoveInstantaneousReward:()=>MoveInstantaneousReward});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToOtherPot.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToStakeCreds.js");var f=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var h,p,m,_;const v=2;class MoveInstantaneousReward{toCbor(){if(__classPrivateFieldGet(this,_,"f"))return __classPrivateFieldGet(this,_,"f");let e;switch(__classPrivateFieldGet(this,m,"f")){case c.MirCertificateKind.ToOtherPot:e=__classPrivateFieldGet(this,h,"f").toCbor();break;case c.MirCertificateKind.ToStakeCreds:e=__classPrivateFieldGet(this,p,"f").toCbor();break;default:throw new n.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,m,"f")}`)}const t=new a.CborWriter;t.writeStartArray(v);t.writeInt(o.CertificateKind.MoveInstantaneousRewards);t.writeEncodedValue(f.from(e,"hex"));return t.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);let r=t.readStartArray();if(r!==v)throw new n.InvalidArgumentError("cbor",`Expected elements size ${v}, but got ${r}`);const a=Number(t.readInt());if(a!==o.CertificateKind.MoveInstantaneousRewards)throw new n.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.MoveInstantaneousRewards}, but got ${a}`);const f=d.HexBlob.fromBytes(t.readEncodedValue());const y=new s.CborReader(f);r=y.readStartArray();if(r!==v)throw new n.InvalidArgumentError("cbor",`Expected elements size ${v}, but got ${r}`);const w=new MoveInstantaneousReward;y.readInt();if(y.peekState()===i.CborReaderState.UnsignedInteger){__classPrivateFieldSet(w,h,l.MoveInstantaneousRewardToOtherPot.fromCbor(f),"f");__classPrivateFieldSet(w,m,c.MirCertificateKind.ToOtherPot,"f")}else if(y.peekState()===i.CborReaderState.StartArray||y.peekState()===i.CborReaderState.StartMap){__classPrivateFieldSet(w,p,u.MoveInstantaneousRewardToStakeCreds.fromCbor(f),"f");__classPrivateFieldSet(w,m,c.MirCertificateKind.ToStakeCreds,"f")}else{throw new n.InvalidArgumentError("cbor","Invalid CBOR string")}__classPrivateFieldSet(w,_,e,"f");return w}toCore(){let e;switch(__classPrivateFieldGet(this,m,"f")){case c.MirCertificateKind.ToOtherPot:e=__classPrivateFieldGet(this,h,"f").toCore();break;case c.MirCertificateKind.ToStakeCreds:e=__classPrivateFieldGet(this,p,"f").toCore();break;default:throw new n.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,m,"f")}`)}return e}static fromCore(e){const t=new MoveInstantaneousReward;switch(e.kind){case c.MirCertificateKind.ToOtherPot:__classPrivateFieldSet(t,h,l.MoveInstantaneousRewardToOtherPot.fromCore(e),"f");__classPrivateFieldSet(t,m,c.MirCertificateKind.ToOtherPot,"f");break;case c.MirCertificateKind.ToStakeCreds:__classPrivateFieldSet(t,p,u.MoveInstantaneousRewardToStakeCreds.fromCore(e),"f");__classPrivateFieldSet(t,m,c.MirCertificateKind.ToStakeCreds,"f");break;default:throw new n.InvalidStateError(`Unexpected kind value: ${e.kind}`)}return t}static newToOtherPot(e){const t=new MoveInstantaneousReward;__classPrivateFieldSet(t,h,e,"f");__classPrivateFieldSet(t,m,c.MirCertificateKind.ToOtherPot,"f");return t}static newToStakeCreds(e){const t=new MoveInstantaneousReward;__classPrivateFieldSet(t,p,e,"f");__classPrivateFieldSet(t,m,c.MirCertificateKind.ToStakeCreds,"f");return t}kind(){return __classPrivateFieldGet(this,m,"f")}asToOtherPot(){return __classPrivateFieldGet(this,h,"f")}asToStakeCreds(){return __classPrivateFieldGet(this,p,"f")}constructor(){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0)}}h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToOtherPot.js":(e,t,r)=>{"use strict";r.d(t,{MoveInstantaneousRewardToOtherPot:()=>MoveInstantaneousRewardToOtherPot});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n,d,c;const l=2;class MoveInstantaneousRewardToOtherPot{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,c,"f"))return __classPrivateFieldGet(this,c,"f");e.writeStartArray(l);e.writeInt(__classPrivateFieldGet(this,n,"f")===i.MirCertificatePot.Reserves?0:1);e.writeInt(__classPrivateFieldGet(this,d,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==l)throw new o.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());const n=t.readInt();if(a<0||a>1)throw new o.InvalidArgumentError("cbor",`Expected a pot value between 0 and 1, but got ${a}`);const d=new MoveInstantaneousRewardToOtherPot(0===a?i.MirCertificatePot.Reserves:i.MirCertificatePot.Treasury,n);__classPrivateFieldSet(d,c,e,"f");return d}toCore(){return{__typename:i.CertificateType.MIR,kind:i.MirCertificateKind.ToOtherPot,pot:__classPrivateFieldGet(this,n,"f"),quantity:__classPrivateFieldGet(this,d,"f")}}static fromCore(e){if(e.kind!==i.MirCertificateKind.ToOtherPot)throw new o.InvalidArgumentError("cert",`Expected a MIR certificate kind 'ToOtherPot', but got ${e.kind}`);if(void 0===e.quantity)throw new o.InvalidArgumentError("cert","Amount field of the given MIR certificate is undefined");return new MoveInstantaneousRewardToOtherPot(e.pot,e.quantity)}pot(){return __classPrivateFieldGet(this,n,"f")}setPot(e){__classPrivateFieldSet(this,n,e,"f");__classPrivateFieldSet(this,c,void 0,"f")}getAmount(){return __classPrivateFieldGet(this,d,"f")}setAmount(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,void 0,"f")}constructor(e,t){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);__classPrivateFieldSet(this,n,e,"f");__classPrivateFieldSet(this,d,t,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToStakeCreds.js":(e,t,r)=>{"use strict";r.d(t,{MoveInstantaneousRewardToStakeCreds:()=>MoveInstantaneousRewardToStakeCreds});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=2;class MoveInstantaneousRewardToStakeCreds{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,u,"f")===n.MirCertificatePot.Reserves?0:1);const t=new Map([...__classPrivateFieldGet(this,f,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,a]of t){e.writeStartArray(p);e.writeInt(r.type);e.writeByteString(l.from(r.hash,"hex"));e.writeInt(a)}return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==p)throw new d.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s<0||s>1)throw new d.InvalidArgumentError("cbor",`Expected a pot value between 0 and 1, but got an array of ${s} elements`);t.readStartMap();const l=new Map;while(t.peekState()!==o.CborReaderState.EndMap){t.readStartArray();const u=Number(t.readInt());if(u<0||u>1)throw new d.InvalidArgumentError("cbor",`Expected a credential type value between 0 and 1, but got ${u}`);const f=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const m=t.readInt();l.set({hash:f,type:u},m)}t.readEndMap();const _=new MoveInstantaneousRewardToStakeCreds(0===s?n.MirCertificatePot.Reserves:n.MirCertificatePot.Treasury,l);__classPrivateFieldSet(_,h,e,"f");return _}toCore(){if(0===__classPrivateFieldGet(this,f,"f").size)throw new d.InvalidStateError("The credential map is empty.");const[[e,t]]=__classPrivateFieldGet(this,f,"f");return{__typename:n.CertificateType.MIR,kind:n.MirCertificateKind.ToStakeCreds,pot:__classPrivateFieldGet(this,u,"f"),quantity:t,stakeCredential:e}}static fromCore(e){if(e.kind!==n.MirCertificateKind.ToStakeCreds)throw new d.InvalidArgumentError("cert",`Expected a MIR certificate kind 'ToStakeCreds', but got ${e.kind}`);if(void 0===e.stakeCredential)throw new d.InvalidArgumentError("cert","stakeCredential field of the given MIR certificate is undefined");return new MoveInstantaneousRewardToStakeCreds(e.pot,new Map([[e.stakeCredential,e.quantity]]))}pot(){return __classPrivateFieldGet(this,u,"f")}setPot(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}getStakeCreds(){return __classPrivateFieldGet(this,f,"f")}setStakeCreds(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/PoolMetadata.js":(e,t,r)=>{"use strict";r.d(t,{PoolMetadata:()=>PoolMetadata});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;const f=64;const h=2;class PoolMetadata{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");e.writeStartArray(h);e.writeTextString(__classPrivateFieldGet(this,c,"f"));e.writeByteString(d.from(__classPrivateFieldGet(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==h)throw new o.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const s=t.readTextString();const d=a.Hash32ByteBase16(n.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const c=new PoolMetadata(s,d);__classPrivateFieldSet(c,u,e,"f");return c}toCore(){return{hash:__classPrivateFieldGet(this,l,"f"),url:__classPrivateFieldGet(this,c,"f")}}static fromCore(e){return new PoolMetadata(e.url,e.hash)}url(){return __classPrivateFieldGet(this,c,"f")}setUrl(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}poolMetadataHash(){return __classPrivateFieldGet(this,l,"f")}setPoolMetadataHash(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);if(e.length>f)throw new o.InvalidArgumentError("url",`url must be less or equal to 64 characters long, actual size ${e.length}`);__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,t,"f")}}c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/PoolParams.js":(e,t,r)=>{"use strict";r.d(t,{PoolParams:()=>PoolParams});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/CborSet.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Hash.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/PoolMetadata.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/Relay.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var v=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var y,w,g,b,P,C,S,T,E,k;class PoolParams{toCbor(){const e=new i.CborWriter;if(__classPrivateFieldGet(this,k,"f"))return __classPrivateFieldGet(this,k,"f");e.writeStartArray(PoolParams.subgroupCount);return this.toFlattenedCbor(e)}toFlattenedCbor(e){e.writeByteString(v.from(__classPrivateFieldGet(this,y,"f"),"hex"));e.writeByteString(v.from(__classPrivateFieldGet(this,w,"f"),"hex"));e.writeInt(__classPrivateFieldGet(this,g,"f"));e.writeInt(__classPrivateFieldGet(this,b,"f"));e.writeEncodedValue(v.from(__classPrivateFieldGet(this,P,"f").toCbor(),"hex"));e.writeByteString(v.from(__classPrivateFieldGet(this,C,"f").toAddress().toBytes(),"hex"));e.writeEncodedValue(v.from(__classPrivateFieldGet(this,S,"f").toCbor(),"hex"));e.writeStartArray(__classPrivateFieldGet(this,T,"f").length);for(const t of __classPrivateFieldGet(this,T,"f"))e.writeEncodedValue(v.from(t.toCbor(),"hex"));if(__classPrivateFieldGet(this,E,"f"))e.writeEncodedValue(v.from(__classPrivateFieldGet(this,E,"f").toCbor(),"hex"));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(r!==PoolParams.subgroupCount)throw new l.InvalidArgumentError("cbor",`Expected an array of ${PoolParams.subgroupCount} elements, but got an array of ${r} elements`);const a=PoolParams.fromFlattenedCbor(t);__classPrivateFieldSet(a,k,e,"f");return a}static fromFlattenedCbor(e){const t=a.Ed25519KeyHashHex(u.HexBlob.fromBytes(e.readByteString()));const r=(0,f.VrfVkHex)(u.HexBlob.fromBytes(e.readByteString()));const i=e.readInt();const o=e.readInt();const l=m.UnitInterval.fromCbor(u.HexBlob.fromBytes(e.readEncodedValue()));const _=s.Address.fromBytes(u.HexBlob.fromBytes(e.readByteString())).asReward();const v=new Array;let y;const w=d.CborSet.fromCbor(u.HexBlob.fromBytes(e.readEncodedValue()),c.Hash.fromCbor);e.readStartArray();while(e.peekState()!==n.CborReaderState.EndArray)v.push(p.Relay.fromCbor(u.HexBlob.fromBytes(e.readEncodedValue())));e.readEndArray();if(e.peekState()!==n.CborReaderState.Null)y=h.PoolMetadata.fromCbor(u.HexBlob.fromBytes(e.readEncodedValue()));else e.readNull();return new PoolParams(t,r,i,o,l,_,w,v,y)}toCore(){const e=__classPrivateFieldGet(this,C,"f").toAddress();const t={cost:__classPrivateFieldGet(this,b,"f"),id:f.PoolId.fromKeyHash(__classPrivateFieldGet(this,y,"f")),margin:__classPrivateFieldGet(this,P,"f").toCore(),owners:__classPrivateFieldGet(this,S,"f").toCore().map(t=>(0,_.createRewardAccount)(t,e.getNetworkId())),pledge:__classPrivateFieldGet(this,g,"f"),relays:__classPrivateFieldGet(this,T,"f").map(e=>e.toCore()),rewardAccount:__classPrivateFieldGet(this,C,"f").toAddress().toBech32(),vrf:__classPrivateFieldGet(this,w,"f")};if(__classPrivateFieldGet(this,E,"f"))t.metadataJson=__classPrivateFieldGet(this,E,"f").toCore();return t}static fromCore(e){return new PoolParams(f.PoolId.toKeyHash(e.id),e.vrf,e.pledge,e.cost,m.UnitInterval.fromCore(e.margin),s.Address.fromBech32(e.rewardAccount).asReward(),d.CborSet.fromCore(e.owners.map(e=>a.Ed25519KeyHashHex(s.Address.fromBech32(e).asReward().getPaymentCredential().hash)),c.Hash.fromCore),e.relays.map(e=>p.Relay.fromCore(e)),e.metadataJson?h.PoolMetadata.fromCore(e.metadataJson):void 0)}operator(){return __classPrivateFieldGet(this,y,"f")}setOperator(e){__classPrivateFieldSet(this,y,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}vrfKeyHash(){return __classPrivateFieldGet(this,w,"f")}setVrfKeyHash(e){__classPrivateFieldSet(this,w,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}pledge(){return __classPrivateFieldGet(this,g,"f")}setPledge(e){__classPrivateFieldSet(this,g,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}cost(){return __classPrivateFieldGet(this,b,"f")}setCost(e){__classPrivateFieldSet(this,b,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}margin(){return __classPrivateFieldGet(this,P,"f")}setMargin(e){__classPrivateFieldSet(this,P,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}rewardAccount(){return __classPrivateFieldGet(this,C,"f")}setRewardAccount(e){__classPrivateFieldSet(this,C,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}poolOwners(){return __classPrivateFieldGet(this,S,"f")}setPoolOwners(e){__classPrivateFieldSet(this,S,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}relays(){return __classPrivateFieldGet(this,T,"f")}setRelays(e){__classPrivateFieldSet(this,T,[...e],"f");__classPrivateFieldSet(this,k,void 0,"f")}poolMetadata(){return __classPrivateFieldGet(this,E,"f")}setPoolMetadata(e){__classPrivateFieldSet(this,E,e,"f");__classPrivateFieldSet(this,k,void 0,"f")}constructor(e,t,r,a,s,i,o,n,d){y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,void 0);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);__classPrivateFieldSet(this,y,e,"f");__classPrivateFieldSet(this,w,t,"f");__classPrivateFieldSet(this,g,r,"f");__classPrivateFieldSet(this,b,a,"f");__classPrivateFieldSet(this,P,s,"f");__classPrivateFieldSet(this,C,i,"f");__classPrivateFieldSet(this,S,o,"f");__classPrivateFieldSet(this,T,n,"f");__classPrivateFieldSet(this,E,d,"f")}}y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap;PoolParams.subgroupCount=9},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/MultiHostName.js":(e,t,r)=>{"use strict";r.d(t,{MultiHostName:()=>MultiHostName});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n;const d=2;const c=2;const l=64;class MultiHostName{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,n,"f"))return __classPrivateFieldGet(this,n,"f");e.writeStartArray(d);e.writeInt(c);e.writeTextString(__classPrivateFieldGet(this,o,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==d)throw new i.InvalidArgumentError("cbor",`Expected an array of ${d} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==c)throw new i.InvalidArgumentError("cbor",`Expected MultiHostName id ${c}, but got ${a}`);const o=t.readTextString();const l=new MultiHostName(o);__classPrivateFieldSet(l,n,e,"f");return l}toCore(){return{__typename:"RelayByNameMultihost",dnsName:__classPrivateFieldGet(this,o,"f")}}static fromCore(e){return new MultiHostName(e.dnsName)}dnsName(){return __classPrivateFieldGet(this,o,"f")}setDnsName(e){if(e.length>l)throw new i.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,n,void 0,"f")}constructor(e){o.set(this,void 0);n.set(this,void 0);if(e.length>l)throw new i.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);__classPrivateFieldSet(this,o,e,"f")}}o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/Relay.js":(e,t,r)=>{"use strict";r.d(t,{Relay:()=>Relay,RelayKind:()=>h});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/MultiHostName.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/SingleHostAddr.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/SingleHostName.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d,c,l,u,f;var h;(function(e){e[e["SingleHostAddress"]=0]="SingleHostAddress";e[e["SingleHostDnsName"]=1]="SingleHostDnsName";e[e["MultiHostDnsName"]=2]="MultiHostDnsName"})(h||(h={}));class Relay{toCbor(){if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");let e;switch(__classPrivateFieldGet(this,u,"f")){case h.SingleHostAddress:e=__classPrivateFieldGet(this,d,"f").toCbor();break;case h.SingleHostDnsName:e=__classPrivateFieldGet(this,c,"f").toCbor();break;case h.MultiHostDnsName:e=__classPrivateFieldGet(this,l,"f").toCbor();break;default:throw new s.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,u,"f")}`)}return e}static fromCbor(e){let t;const r=new a.CborReader(e);r.readStartArray();const d=Number(r.readInt());switch(d){case h.SingleHostAddress:t=Relay.newSingleHostAddr(o.SingleHostAddr.fromCbor(e));break;case h.SingleHostDnsName:t=Relay.newSingleHostName(n.SingleHostName.fromCbor(e));break;case h.MultiHostDnsName:t=Relay.newMultiHostName(i.MultiHostName.fromCbor(e));break;default:throw new s.InvalidStateError(`Unexpected kind value: ${d}`)}__classPrivateFieldSet(t,f,e,"f");return t}toCore(){let e;switch(__classPrivateFieldGet(this,u,"f")){case h.SingleHostAddress:e=__classPrivateFieldGet(this,d,"f").toCore();break;case h.SingleHostDnsName:e=__classPrivateFieldGet(this,c,"f").toCore();break;case h.MultiHostDnsName:e=__classPrivateFieldGet(this,l,"f").toCore();break;default:throw new s.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,u,"f")}`)}return e}static fromCore(e){let t;switch(e.__typename){case"RelayByAddress":t=Relay.newSingleHostAddr(o.SingleHostAddr.fromCore(e));break;case"RelayByName":t=Relay.newSingleHostName(n.SingleHostName.fromCore(e));break;case"RelayByNameMultihost":t=Relay.newMultiHostName(i.MultiHostName.fromCore(e));break;default:throw new s.InvalidStateError("Unexpected kind value")}return t}static newSingleHostAddr(e){const t=new Relay;__classPrivateFieldSet(t,d,e,"f");__classPrivateFieldSet(t,u,h.SingleHostAddress,"f");return t}static newSingleHostName(e){const t=new Relay;__classPrivateFieldSet(t,c,e,"f");__classPrivateFieldSet(t,u,h.SingleHostDnsName,"f");return t}static newMultiHostName(e){const t=new Relay;__classPrivateFieldSet(t,l,e,"f");__classPrivateFieldSet(t,u,h.MultiHostDnsName,"f");return t}kind(){return __classPrivateFieldGet(this,u,"f")}asSingleHostAddr(){return __classPrivateFieldGet(this,d,"f")}asSingleHostName(){return __classPrivateFieldGet(this,c,"f")}asMultiHostName(){return __classPrivateFieldGet(this,l,"f")}constructor(){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0)}}d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/SingleHostAddr.js":(e,t,r)=>{"use strict";r.d(t,{SingleHostAddr:()=>SingleHostAddr});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/ip-address/dist/ip-address.js");const ipV4StringToByteArray=e=>{if(!n.Address4.isValid(e))throw new o.InvalidArgumentError("address",`Invalid IP V4 string: ${e}`);return new Uint8Array(e.split(".").map(e=>Number.parseInt(e)))};const byteArrayToIpV4String=e=>{if(4!==e.length)throw new o.InvalidArgumentError("byteArray",`Invalid IP V4 byte array, expected 4 bytes, but got ${e.length}`);return[...e].map(e=>e.toString()).join(".")};const ipV6StringToByteArray=e=>{if(!n.Address6.isValid(e))throw new o.InvalidArgumentError("address",`Invalid IP V6 string: ${e}`);const t=new n.Address6(e).toUnsignedByteArray();const r=Array.from({length:16}).fill(0,0,16).slice(0,16-t.length);return new Uint8Array([...r,...t])};const byteArrayToIPv6String=e=>{const t=n.Address6.fromUnsignedByteArray([...e]);return t.canonicalForm()};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l,u;const f=4;const h=0;class SingleHostAddr{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");e.writeStartArray(f);e.writeInt(h);__classPrivateFieldGet(this,d,"f")?e.writeInt(__classPrivateFieldGet(this,d,"f")):e.writeNull();__classPrivateFieldGet(this,c,"f")?e.writeByteString(ipV4StringToByteArray(__classPrivateFieldGet(this,c,"f"))):e.writeNull();__classPrivateFieldGet(this,l,"f")?e.writeByteString(ipV6StringToByteArray(__classPrivateFieldGet(this,l,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==f)throw new o.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==h)throw new o.InvalidArgumentError("cbor",`Expected SingleHostAddr id ${h}, but got ${a}`);let n;let d;let c;if(t.peekState()===i.CborReaderState.Null){t.readNull();n=void 0}else{n=t.readInt()}if(t.peekState()===i.CborReaderState.Null){t.readNull();d=void 0}else{d=byteArrayToIpV4String(t.readByteString())}if(t.peekState()===i.CborReaderState.Null){t.readNull();c=void 0}else{c=byteArrayToIPv6String(t.readByteString())}const l=new SingleHostAddr(n?Number(n):void 0,d,c);__classPrivateFieldSet(l,u,e,"f");return l}toCore(){return{__typename:"RelayByAddress",ipv4:__classPrivateFieldGet(this,c,"f"),ipv6:__classPrivateFieldGet(this,l,"f"),port:__classPrivateFieldGet(this,d,"f")}}static fromCore(e){return new SingleHostAddr(e.port,e.ipv4,e.ipv6)}port(){return __classPrivateFieldGet(this,d,"f")}setPort(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}ipv4(){return __classPrivateFieldGet(this,c,"f")}setIpv4(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}ipv6(){return __classPrivateFieldGet(this,l,"f")}setIpv6(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e,t,r){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f");__classPrivateFieldSet(this,l,r,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/SingleHostName.js":(e,t,r)=>{"use strict";r.d(t,{SingleHostName:()=>SingleHostName});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n,d,c;const l=3;const u=1;const f=64;class SingleHostName{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,c,"f"))return __classPrivateFieldGet(this,c,"f");e.writeStartArray(l);e.writeInt(u);__classPrivateFieldGet(this,n,"f")?e.writeInt(__classPrivateFieldGet(this,n,"f")):e.writeNull();e.writeTextString(__classPrivateFieldGet(this,d,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==l)throw new o.InvalidArgumentError("cbor",`Expected an array of ${l} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==u)throw new o.InvalidArgumentError("cbor",`Expected SingleHostName id ${u}, but got ${a}`);let n;if(t.peekState()===i.CborReaderState.Null){t.readNull();n=void 0}else{n=t.readInt()}const d=t.readTextString();const f=new SingleHostName(d,n?Number(n):void 0);__classPrivateFieldSet(f,c,e,"f");return f}toCore(){return{__typename:"RelayByName",hostname:__classPrivateFieldGet(this,d,"f"),port:__classPrivateFieldGet(this,n,"f")}}static fromCore(e){return new SingleHostName(e.hostname,e.port)}port(){return __classPrivateFieldGet(this,n,"f")}setPort(e){__classPrivateFieldSet(this,n,e,"f");__classPrivateFieldSet(this,c,void 0,"f")}dnsName(){return __classPrivateFieldGet(this,d,"f")}setDnsName(e){if(e.length>f)throw new o.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,void 0,"f")}constructor(e,t){n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);__classPrivateFieldSet(this,n,t,"f");if(e.length>f)throw new o.InvalidArgumentError("dnsName",`dnsName must be less or equal to 64 characters long, actual size ${e.length}`);__classPrivateFieldSet(this,d,e,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolRegistration.js":(e,t,r)=>{"use strict";r.d(t,{PoolRegistration:()=>PoolRegistration});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/PoolParams.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;const u=d.PoolParams.subgroupCount+1;class PoolRegistration{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");e.writeStartArray(u);e.writeInt(i.CertificateKind.PoolRegistration);return __classPrivateFieldGet(this,c,"f").toFlattenedCbor(e)}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==u)throw new n.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==i.CertificateKind.PoolRegistration)throw new n.InvalidArgumentError("cbor",`Expected certificate kind ${i.CertificateKind.PoolRegistration}, but got ${a}`);const o=d.PoolParams.fromFlattenedCbor(t);t.readEndArray();const c=new PoolRegistration(o);__classPrivateFieldSet(c,l,e,"f");return c}toCore(){return{__typename:o.CertificateType.PoolRegistration,poolParameters:__classPrivateFieldGet(this,c,"f").toCore()}}static fromCore(e){return new PoolRegistration(d.PoolParams.fromCore(e.poolParameters))}poolParameters(){return __classPrivateFieldGet(this,c,"f")}setPoolParameters(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}constructor(e){c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,c,e,"f")}}c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolRetirement.js":(e,t,r)=>{"use strict";r.d(t,{PoolRetirement:()=>PoolRetirement});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var f=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m;const _=3;class PoolRetirement{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,m,"f"))return __classPrivateFieldGet(this,m,"f");e.writeStartArray(_);e.writeInt(o.CertificateKind.PoolRetirement);e.writeByteString(f.from(__classPrivateFieldGet(this,h,"f"),"hex"));e.writeInt(__classPrivateFieldGet(this,p,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==_)throw new c.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.PoolRetirement)throw new c.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.PoolRetirement}, but got ${s}`);const n=a.Ed25519KeyHashHex(l.HexBlob.fromBytes(t.readByteString()));const u=t.readInt();t.readEndArray();const f=new PoolRetirement(n,(0,d.EpochNo)(Number(u)));__classPrivateFieldSet(f,m,e,"f");return f}toCore(){return{__typename:n.CertificateType.PoolRetirement,epoch:__classPrivateFieldGet(this,p,"f"),poolId:u.PoolId.fromKeyHash(__classPrivateFieldGet(this,h,"f"))}}static fromCore(e){return new PoolRetirement(u.PoolId.toKeyHash(e.poolId),e.epoch)}poolKeyHash(){return __classPrivateFieldGet(this,h,"f")}setPoolKeyHash(e){__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,m,void 0,"f")}epoch(){return __classPrivateFieldGet(this,p,"f")}setEpoch(e){__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,m,void 0,"f")}constructor(e,t){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,t,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/RegisterDelegateRepresentative.js":(e,t,r)=>{"use strict";r.d(t,{RegisterDelegateRepresentative:()=>RegisterDelegateRepresentative});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var p,m,_,v;const y=2;class RegisterDelegateRepresentative{toCbor(){const e=new i.CborWriter;if(__classPrivateFieldGet(this,v,"f"))return __classPrivateFieldGet(this,v,"f");e.writeStartArray(4);e.writeInt(d.CertificateKind.DrepRegistration);e.writeStartArray(y);e.writeInt(__classPrivateFieldGet(this,p,"f").type);e.writeByteString(h.from(__classPrivateFieldGet(this,p,"f").hash,"hex"));e.writeInt(__classPrivateFieldGet(this,m,"f"));if(__classPrivateFieldGet(this,_,"f"))e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,_,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(4!==r)throw new l.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const i=Number(t.readInt());if(i!==d.CertificateKind.DrepRegistration)throw new l.InvalidArgumentError("cbor",`Expected certificate kind ${d.CertificateKind.DrepRegistration}, but got ${i}`);const c=t.readStartArray();if(c!==y)throw new l.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const f=Number(t.readInt());const h=a.Hash28ByteBase16(u.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const p=t.readInt();let m;if(t.peekState()===n.CborReaderState.Null)t.readNull();else m=s.Anchor.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const _=new RegisterDelegateRepresentative({hash:h,type:f},p,m);__classPrivateFieldSet(_,v,e,"f");return _}toCore(){return{__typename:c.CertificateType.RegisterDelegateRepresentative,anchor:__classPrivateFieldGet(this,_,"f")?__classPrivateFieldGet(this,_,"f").toCore():null,dRepCredential:__classPrivateFieldGet(this,p,"f"),deposit:__classPrivateFieldGet(this,m,"f")}}static fromCore(e){return new RegisterDelegateRepresentative(e.dRepCredential,e.deposit,e.anchor?s.Anchor.fromCore(e.anchor):void 0)}credential(){return __classPrivateFieldGet(this,p,"f")}deposit(){return __classPrivateFieldGet(this,m,"f")}anchor(){return __classPrivateFieldGet(this,_,"f")}constructor(e,t,r){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,m,t,"f");__classPrivateFieldSet(this,_,r,"f")}}p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Registration.js":(e,t,r)=>{"use strict";r.d(t,{Registration:()=>Registration});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=2;class Registration{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(3);e.writeInt(o.CertificateKind.Registration);e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));e.writeInt(__classPrivateFieldGet(this,f,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(3!==r)throw new d.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.Registration)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.Registration}, but got ${s}`);const n=t.readStartArray();if(n!==p)throw new d.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=t.readInt();t.readEndArray();const m=new Registration({hash:u,type:l},f);__classPrivateFieldSet(m,h,e,"f");return m}toCore(){return{__typename:n.CertificateType.Registration,deposit:__classPrivateFieldGet(this,f,"f"),stakeCredential:__classPrivateFieldGet(this,u,"f")}}static fromCore(e){return new Registration(e.stakeCredential,e.deposit)}stakeCredential(){return __classPrivateFieldGet(this,u,"f")}setStakeCredential(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}deposit(){return __classPrivateFieldGet(this,f,"f")}setDeposit(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/ResignCommitteeCold.js":(e,t,r)=>{"use strict";r.d(t,{ResignCommitteeCold:()=>ResignCommitteeCold});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var p,m,_;const v=2;class ResignCommitteeCold{toCbor(){const e=new i.CborWriter;if(__classPrivateFieldGet(this,_,"f"))return __classPrivateFieldGet(this,_,"f");e.writeStartArray(3);e.writeInt(d.CertificateKind.ResignCommitteeCold);e.writeStartArray(v);e.writeInt(__classPrivateFieldGet(this,p,"f").type);e.writeByteString(h.from(__classPrivateFieldGet(this,p,"f").hash,"hex"));if(__classPrivateFieldGet(this,m,"f"))e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,m,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(3!==r)throw new l.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const i=Number(t.readInt());if(i!==d.CertificateKind.ResignCommitteeCold)throw new l.InvalidArgumentError("cbor",`Expected certificate kind ${d.CertificateKind.ResignCommitteeCold}, but got ${i}`);const c=t.readStartArray();if(c!==v)throw new l.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const f=Number(t.readInt());const h=a.Hash28ByteBase16(u.HexBlob.fromBytes(t.readByteString()));t.readEndArray();let p;if(t.peekState()===n.CborReaderState.Null)t.readNull();else p=s.Anchor.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const m=new ResignCommitteeCold({hash:h,type:f},p);__classPrivateFieldSet(m,_,e,"f");return m}toCore(){return{__typename:c.CertificateType.ResignCommitteeCold,anchor:__classPrivateFieldGet(this,m,"f")?__classPrivateFieldGet(this,m,"f").toCore():null,coldCredential:__classPrivateFieldGet(this,p,"f")}}static fromCore(e){return new ResignCommitteeCold(e.coldCredential,e.anchor?s.Anchor.fromCore(e.anchor):void 0)}coldCredential(){return __classPrivateFieldGet(this,p,"f")}anchor(){return __classPrivateFieldGet(this,m,"f")}constructor(e,t){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,m,t,"f")}}p=new WeakMap,m=new WeakMap,_=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeDelegation.js":(e,t,r)=>{"use strict";r.d(t,{StakeDelegation:()=>StakeDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var u=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var f,h,p;const m=3;const _=2;class StakeDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,p,"f"))return __classPrivateFieldGet(this,p,"f");e.writeStartArray(m);e.writeInt(o.CertificateKind.StakeDelegation);e.writeStartArray(_);e.writeInt(__classPrivateFieldGet(this,f,"f").type);e.writeByteString(u.from(__classPrivateFieldGet(this,f,"f").hash,"hex"));e.writeByteString(u.from(__classPrivateFieldGet(this,h,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==m)throw new d.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.StakeDelegation)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.StakeDelegation}, but got ${s}`);const n=t.readStartArray();if(n!==_)throw new d.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=a.Ed25519KeyHashHex(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const h=new StakeDelegation({hash:u,type:l},f);__classPrivateFieldSet(h,p,e,"f");return h}toCore(){return{__typename:n.CertificateType.StakeDelegation,poolId:l.PoolId.fromKeyHash(__classPrivateFieldGet(this,h,"f")),stakeCredential:__classPrivateFieldGet(this,f,"f")}}static fromCore(e){return new StakeDelegation(e.stakeCredential,l.PoolId.toKeyHash(e.poolId))}stakeCredential(){return __classPrivateFieldGet(this,f,"f")}setStakeCredential(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}poolKeyHash(){return __classPrivateFieldGet(this,h,"f")}setPoolKeyHash(e){__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}constructor(e,t){f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,h,t,"f")}}f=new WeakMap,h=new WeakMap,p=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeDeregistration.js":(e,t,r)=>{"use strict";r.d(t,{StakeDeregistration:()=>StakeDeregistration});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f;const h=2;class StakeDeregistration{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeInt(o.CertificateKind.StakeDeregistration);e.writeStartArray(h);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==h)throw new d.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.StakeDeregistration)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.StakeDeregistration}, but got ${s}`);const n=t.readStartArray();if(n!==h)throw new d.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();t.readEndArray();const p=new StakeDeregistration({hash:u,type:l});__classPrivateFieldSet(p,f,e,"f");return p}toCore(){return{__typename:n.CertificateType.StakeDeregistration,stakeCredential:__classPrivateFieldGet(this,u,"f")}}static fromCore(e){return new StakeDeregistration(e.stakeCredential)}stakeCredential(){return __classPrivateFieldGet(this,u,"f")}setStakeCredential(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e){u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,u,e,"f")}}u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeRegistration.js":(e,t,r)=>{"use strict";r.d(t,{StakeRegistration:()=>StakeRegistration});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f;const h=2;class StakeRegistration{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeInt(o.CertificateKind.StakeRegistration);e.writeStartArray(h);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==h)throw new d.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.StakeRegistration)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.StakeRegistration}, but got ${s}`);const n=t.readStartArray();if(n!==h)throw new d.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();t.readEndArray();const p=new StakeRegistration({hash:u,type:l});__classPrivateFieldSet(p,f,e,"f");return p}toCore(){return{__typename:n.CertificateType.StakeRegistration,stakeCredential:__classPrivateFieldGet(this,u,"f")}}static fromCore(e){return new StakeRegistration(e.stakeCredential)}stakeCredential(){return __classPrivateFieldGet(this,u,"f")}setStakeCredential(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e){u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,u,e,"f")}}u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeRegistrationDelegation.js":(e,t,r)=>{"use strict";r.d(t,{StakeRegistrationDelegation:()=>StakeRegistrationDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var u=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var f,h,p,m;const _=2;class StakeRegistrationDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,m,"f"))return __classPrivateFieldGet(this,m,"f");e.writeStartArray(4);e.writeInt(o.CertificateKind.StakeRegistrationDelegation);e.writeStartArray(_);e.writeInt(__classPrivateFieldGet(this,f,"f").type);e.writeByteString(u.from(__classPrivateFieldGet(this,f,"f").hash,"hex"));e.writeByteString(u.from(__classPrivateFieldGet(this,h,"f"),"hex"));e.writeInt(__classPrivateFieldGet(this,p,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(4!==r)throw new d.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.StakeRegistrationDelegation)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.StakeRegistrationDelegation}, but got ${s}`);const n=t.readStartArray();if(n!==_)throw new d.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=a.Ed25519KeyHashHex(c.HexBlob.fromBytes(t.readByteString()));const h=t.readInt();t.readEndArray();const p=new StakeRegistrationDelegation({hash:u,type:l},h,f);__classPrivateFieldSet(p,m,e,"f");return p}toCore(){return{__typename:n.CertificateType.StakeRegistrationDelegation,deposit:__classPrivateFieldGet(this,p,"f"),poolId:l.PoolId.fromKeyHash(__classPrivateFieldGet(this,h,"f")),stakeCredential:__classPrivateFieldGet(this,f,"f")}}static fromCore(e){return new StakeRegistrationDelegation(e.stakeCredential,e.deposit,l.PoolId.toKeyHash(e.poolId))}stakeCredential(){return __classPrivateFieldGet(this,f,"f")}deposit(){return __classPrivateFieldGet(this,p,"f")}poolKeyHash(){return __classPrivateFieldGet(this,h,"f")}constructor(e,t,r){f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,p,t,"f");__classPrivateFieldSet(this,h,r,"f")}}f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeVoteDelegation.js":(e,t,r)=>{"use strict";r.d(t,{StakeVoteDelegation:()=>StakeVoteDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRep.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var p,m,_,v;const y=2;class StakeVoteDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,v,"f"))return __classPrivateFieldGet(this,v,"f");e.writeStartArray(4);e.writeInt(o.CertificateKind.StakeVoteDelegation);e.writeStartArray(y);e.writeInt(__classPrivateFieldGet(this,p,"f").type);e.writeByteString(h.from(__classPrivateFieldGet(this,p,"f").hash,"hex"));e.writeByteString(h.from(__classPrivateFieldGet(this,m,"f"),"hex"));e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,_,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(4!==r)throw new c.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.StakeVoteDelegation)throw new c.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.StakeVoteDelegation}, but got ${s}`);const n=t.readStartArray();if(n!==y)throw new c.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const u=Number(t.readInt());const f=a.Hash28ByteBase16(l.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const h=a.Ed25519KeyHashHex(l.HexBlob.fromBytes(t.readByteString()));const p=d.DRep.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const m=new StakeVoteDelegation({hash:f,type:u},p,h);__classPrivateFieldSet(m,v,e,"f");return m}toCore(){return{__typename:n.CertificateType.StakeVoteDelegation,dRep:__classPrivateFieldGet(this,_,"f").toCore(),poolId:u.PoolId.fromKeyHash(__classPrivateFieldGet(this,m,"f")),stakeCredential:__classPrivateFieldGet(this,p,"f")}}static fromCore(e){return new StakeVoteDelegation(e.stakeCredential,d.DRep.fromCore(e.dRep),u.PoolId.toKeyHash(e.poolId))}stakeCredential(){return __classPrivateFieldGet(this,p,"f")}drep(){return __classPrivateFieldGet(this,_,"f")}poolKeyHash(){return __classPrivateFieldGet(this,m,"f")}constructor(e,t,r){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,_,t,"f");__classPrivateFieldSet(this,m,r,"f")}}p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeVoteRegistrationDelegation.js":(e,t,r)=>{"use strict";r.d(t,{StakeVoteRegistrationDelegation:()=>StakeVoteRegistrationDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRep.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var p,m,_,v,y;const w=2;class StakeVoteRegistrationDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,y,"f"))return __classPrivateFieldGet(this,y,"f");e.writeStartArray(5);e.writeInt(o.CertificateKind.StakeVoteRegistrationDelegation);e.writeStartArray(w);e.writeInt(__classPrivateFieldGet(this,p,"f").type);e.writeByteString(h.from(__classPrivateFieldGet(this,p,"f").hash,"hex"));e.writeByteString(h.from(__classPrivateFieldGet(this,_,"f"),"hex"));e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,m,"f").toCbor()));e.writeInt(__classPrivateFieldGet(this,v,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(5!==r)throw new c.InvalidArgumentError("cbor",`Expected an array of 5 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.StakeVoteRegistrationDelegation)throw new c.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.StakeVoteRegistrationDelegation}, but got ${s}`);const n=t.readStartArray();if(n!==w)throw new c.InvalidArgumentError("cbor",`Expected an array of ${w} elements, but got an array of ${r} elements`);const u=Number(t.readInt());const f=a.Hash28ByteBase16(l.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const h=a.Ed25519KeyHashHex(l.HexBlob.fromBytes(t.readByteString()));const p=d.DRep.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));const m=t.readInt();t.readEndArray();const _=new StakeVoteRegistrationDelegation({hash:f,type:u},m,p,h);__classPrivateFieldSet(_,y,e,"f");return _}toCore(){return{__typename:n.CertificateType.StakeVoteRegistrationDelegation,dRep:__classPrivateFieldGet(this,m,"f").toCore(),deposit:__classPrivateFieldGet(this,v,"f"),poolId:u.PoolId.fromKeyHash(__classPrivateFieldGet(this,_,"f")),stakeCredential:__classPrivateFieldGet(this,p,"f")}}static fromCore(e){return new StakeVoteRegistrationDelegation(e.stakeCredential,e.deposit,d.DRep.fromCore(e.dRep),u.PoolId.toKeyHash(e.poolId))}stakeCredential(){return __classPrivateFieldGet(this,p,"f")}deposit(){return __classPrivateFieldGet(this,v,"f")}dRep(){return __classPrivateFieldGet(this,m,"f")}poolKeyHash(){return __classPrivateFieldGet(this,_,"f")}constructor(e,t,r,a){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,v,t,"f");__classPrivateFieldSet(this,m,r,"f");__classPrivateFieldSet(this,_,a,"f")}}p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/UnregisterDelegateRepresentative.js":(e,t,r)=>{"use strict";r.d(t,{UnregisterDelegateRepresentative:()=>UnregisterDelegateRepresentative});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=2;class UnregisterDelegateRepresentative{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(3);e.writeInt(o.CertificateKind.DrepUnregistration);e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));e.writeInt(__classPrivateFieldGet(this,f,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(3!==r)throw new d.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.DrepUnregistration)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.DrepUnregistration}, but got ${s}`);const n=t.readStartArray();if(n!==p)throw new d.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=t.readInt();t.readEndArray();const m=new UnregisterDelegateRepresentative({hash:u,type:l},f);__classPrivateFieldSet(m,h,e,"f");return m}toCore(){return{__typename:n.CertificateType.UnregisterDelegateRepresentative,dRepCredential:__classPrivateFieldGet(this,u,"f"),deposit:__classPrivateFieldGet(this,f,"f")}}static fromCore(e){return new UnregisterDelegateRepresentative(e.dRepCredential,e.deposit)}credential(){return __classPrivateFieldGet(this,u,"f")}deposit(){return __classPrivateFieldGet(this,f,"f")}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Unregistration.js":(e,t,r)=>{"use strict";r.d(t,{Unregistration:()=>Unregistration});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=2;class Unregistration{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(3);e.writeInt(o.CertificateKind.Unregistration);e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,u,"f").type);e.writeByteString(l.from(__classPrivateFieldGet(this,u,"f").hash,"hex"));e.writeInt(__classPrivateFieldGet(this,f,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(3!==r)throw new d.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.Unregistration)throw new d.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.Unregistration}, but got ${s}`);const n=t.readStartArray();if(n!==p)throw new d.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const l=Number(t.readInt());const u=a.Hash28ByteBase16(c.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const f=t.readInt();t.readEndArray();const m=new Unregistration({hash:u,type:l},f);__classPrivateFieldSet(m,h,e,"f");return m}toCore(){return{__typename:n.CertificateType.Unregistration,deposit:__classPrivateFieldGet(this,f,"f"),stakeCredential:__classPrivateFieldGet(this,u,"f")}}static fromCore(e){return new Unregistration(e.stakeCredential,e.deposit)}stakeCredential(){return __classPrivateFieldGet(this,u,"f")}setStakeCredential(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}deposit(){return __classPrivateFieldGet(this,f,"f")}setDeposit(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/UpdateDelegateRepresentative.js":(e,t,r)=>{"use strict";r.d(t,{UpdateDelegateRepresentative:()=>UpdateDelegateRepresentative});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var p,m,_;const v=2;class UpdateDelegateRepresentative{toCbor(){const e=new i.CborWriter;if(__classPrivateFieldGet(this,_,"f"))return __classPrivateFieldGet(this,_,"f");e.writeStartArray(3);e.writeInt(d.CertificateKind.UpdateDrep);e.writeStartArray(v);e.writeInt(__classPrivateFieldGet(this,p,"f").type);e.writeByteString(h.from(__classPrivateFieldGet(this,p,"f").hash,"hex"));if(__classPrivateFieldGet(this,m,"f"))e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,m,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(3!==r)throw new l.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const i=Number(t.readInt());if(i!==d.CertificateKind.UpdateDrep)throw new l.InvalidArgumentError("cbor",`Expected certificate kind ${d.CertificateKind.UpdateDrep}, but got ${i}`);const c=t.readStartArray();if(c!==v)throw new l.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const f=Number(t.readInt());const h=a.Hash28ByteBase16(u.HexBlob.fromBytes(t.readByteString()));t.readEndArray();let p;if(t.peekState()===n.CborReaderState.Null)t.readNull();else p=s.Anchor.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const m=new UpdateDelegateRepresentative({hash:h,type:f},p);__classPrivateFieldSet(m,_,e,"f");return m}toCore(){return{__typename:c.CertificateType.UpdateDelegateRepresentative,anchor:__classPrivateFieldGet(this,m,"f")?__classPrivateFieldGet(this,m,"f").toCore():null,dRepCredential:__classPrivateFieldGet(this,p,"f")}}static fromCore(e){return new UpdateDelegateRepresentative(e.dRepCredential,e.anchor?s.Anchor.fromCore(e.anchor):void 0)}credential(){return __classPrivateFieldGet(this,p,"f")}anchor(){return __classPrivateFieldGet(this,m,"f")}constructor(e,t){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,m,t,"f")}}p=new WeakMap,m=new WeakMap,_=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/VoteDelegation.js":(e,t,r)=>{"use strict";r.d(t,{VoteDelegation:()=>VoteDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRep.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var f=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m;const _=2;class VoteDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,m,"f"))return __classPrivateFieldGet(this,m,"f");e.writeStartArray(3);e.writeInt(o.CertificateKind.VoteDelegation);e.writeStartArray(_);e.writeInt(__classPrivateFieldGet(this,h,"f").type);e.writeByteString(f.from(__classPrivateFieldGet(this,h,"f").hash,"hex"));e.writeEncodedValue((0,u.hexToBytes)(__classPrivateFieldGet(this,p,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(3!==r)throw new c.InvalidArgumentError("cbor",`Expected an array of 3 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.VoteDelegation)throw new c.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.VoteDelegation}, but got ${s}`);const n=t.readStartArray();if(n!==_)throw new c.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const u=Number(t.readInt());const f=a.Hash28ByteBase16(l.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const h=d.DRep.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const p=new VoteDelegation({hash:f,type:u},h);__classPrivateFieldSet(p,m,e,"f");return p}toCore(){return{__typename:n.CertificateType.VoteDelegation,dRep:__classPrivateFieldGet(this,p,"f").toCore(),stakeCredential:__classPrivateFieldGet(this,h,"f")}}static fromCore(e){return new VoteDelegation(e.stakeCredential,d.DRep.fromCore(e.dRep))}stakeCredential(){return __classPrivateFieldGet(this,h,"f")}dRep(){return __classPrivateFieldGet(this,p,"f")}constructor(e,t){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,t,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/VoteRegistrationDelegation.js":(e,t,r)=>{"use strict";r.d(t,{VoteRegistrationDelegation:()=>VoteRegistrationDelegation});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/CertificateKind.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRep.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var f=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m,_;const v=2;class VoteRegistrationDelegation{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,_,"f"))return __classPrivateFieldGet(this,_,"f");e.writeStartArray(4);e.writeInt(o.CertificateKind.VoteRegistrationDelegation);e.writeStartArray(v);e.writeInt(__classPrivateFieldGet(this,h,"f").type);e.writeByteString(f.from(__classPrivateFieldGet(this,h,"f").hash,"hex"));e.writeEncodedValue((0,u.hexToBytes)(__classPrivateFieldGet(this,p,"f").toCbor()));e.writeInt(__classPrivateFieldGet(this,m,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(4!==r)throw new c.InvalidArgumentError("cbor",`Expected an array of 4 elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==o.CertificateKind.VoteRegistrationDelegation)throw new c.InvalidArgumentError("cbor",`Expected certificate kind ${o.CertificateKind.VoteRegistrationDelegation}, but got ${s}`);const n=t.readStartArray();if(n!==v)throw new c.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const u=Number(t.readInt());const f=a.Hash28ByteBase16(l.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const h=d.DRep.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));const p=t.readInt();t.readEndArray();const m=new VoteRegistrationDelegation({hash:f,type:u},p,h);__classPrivateFieldSet(m,_,e,"f");return m}toCore(){return{__typename:n.CertificateType.VoteRegistrationDelegation,dRep:__classPrivateFieldGet(this,p,"f").toCore(),deposit:__classPrivateFieldGet(this,m,"f"),stakeCredential:__classPrivateFieldGet(this,h,"f")}}static fromCore(e){return new VoteRegistrationDelegation(e.stakeCredential,e.deposit,d.DRep.fromCore(e.dRep))}stakeCredential(){return __classPrivateFieldGet(this,h,"f")}deposit(){return __classPrivateFieldGet(this,m,"f")}dRep(){return __classPrivateFieldGet(this,p,"f")}constructor(e,t,r){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,m,t,"f");__classPrivateFieldSet(this,p,r,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js":(e,t,r)=>{"use strict";r.d(t,{Anchor:()=>Anchor});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;const f=2;const h=128;class Anchor{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");e.writeStartArray(f);e.writeTextString(__classPrivateFieldGet(this,c,"f"));e.writeByteString(d.from(__classPrivateFieldGet(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==f)throw new o.InvalidArgumentError("cbor",`Expected an array of ${f} elements, but got an array of ${r} elements`);const s=t.readTextString();const d=a.Hash32ByteBase16(n.HexBlob.fromBytes(t.readByteString()));t.readEndArray();const c=new Anchor(s,d);__classPrivateFieldSet(c,u,e,"f");return c}toCore(){return{dataHash:__classPrivateFieldGet(this,l,"f"),url:__classPrivateFieldGet(this,c,"f")}}static fromCore(e){return new Anchor(e.url,e.dataHash)}url(){return __classPrivateFieldGet(this,c,"f")}setUrl(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}dataHash(){return __classPrivateFieldGet(this,l,"f")}setDataHash(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);if(e.length>h)throw new o.InvalidArgumentError("url",`url must be less or equal to 64 characters long, actual size ${e.length}`);__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,t,"f")}}c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/CborSet.js":(e,t,r)=>{"use strict";r.d(t,{CborSet:()=>CborSet});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/util/conwayEra.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u;class CborSet{static fromCbor(e,t){const r=new a.CborReader(e);const o=new CborSet([]);if(r.peekState()===s.CborReaderState.Tag&&r.peekTag()===i.CborTag.Set)r.readTag();r.readStartArray();while(r.peekState()!==s.CborReaderState.EndArray){__classPrivateFieldGet(o,l,"f").push(t(n.HexBlob.fromBytes(r.readEncodedValue())))}__classPrivateFieldSet(o,u,e,"f");return o}toCbor(){if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");const e=new o.CborWriter;if(d.inConwayEra)e.writeTag(i.CborTag.Set);e.writeStartArray(this.size());for(const t of this.values())e.writeEncodedValue(c.from(t.toCbor(),"hex"));return e.encodeAsHex()}toCore(){return __classPrivateFieldGet(this,l,"f").map(e=>e.toCore())}static fromCore(e,t){return new CborSet(e.map(e=>t(e)))}values(){return __classPrivateFieldGet(this,l,"f")}setValues(e){__classPrivateFieldSet(this,l,[...e],"f");__classPrivateFieldSet(this,u,void 0,"f")}size(){return __classPrivateFieldGet(this,l,"f").length}constructor(e){l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,l,[...e],"f")}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Credential.js":(e,t,r)=>{"use strict";r.d(t,{Credential:()=>Credential});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d;const c=2;class Credential{toCbor(){const e=new a.CborWriter;e.writeStartArray(c);e.writeInt(__classPrivateFieldGet(this,d,"f").type);e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,d,"f").hash));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);if(t.readStartArray()!==c)throw new i.InvalidArgumentError("cbor",`Expected an array of ${c} elements, but got an array of ${length} elements`);const r=Number(t.readUInt());const a=o.HexBlob.fromBytes(t.readByteString());t.readEndArray();return new Credential({hash:a,type:r})}toCore(){return{...__classPrivateFieldGet(this,d,"f")}}static fromCore(e){return new Credential({...e})}value(){return{...__classPrivateFieldGet(this,d,"f")}}constructor(e){d.set(this,void 0);__classPrivateFieldSet(this,d,e,"f")}}d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Datum.js":(e,t,r)=>{"use strict";r.d(t,{Datum:()=>Datum,DatumKind:()=>p,isDatumHash:()=>isDatumHash});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f;const h=2;const isDatumHash=e=>null!==e&&"string"==typeof e;var p;(function(e){e[e["DataHash"]=0]="DataHash";e[e["InlineData"]=1]="InlineData"})(p||(p={}));class Datum{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeInt(__classPrivateFieldGet(this,c,"f"));if(__classPrivateFieldGet(this,c,"f")===p.DataHash)e.writeByteString(d.from(__classPrivateFieldGet(this,l,"f"),"hex").valueOf());else e.writeEncodedValue(d.from(__classPrivateFieldGet(this,u,"f").toCbor(),"hex").valueOf());return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==h)throw new i.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());let d;let c;switch(a){case p.DataHash:d=o.HexBlob.fromBytes(t.readByteString());break;case p.InlineData:c=n.PlutusData.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));break;default:throw new i.InvalidArgumentError("cbor",`Unexpected datum kind ${a}`)}t.readEndArray();const l=new Datum(d,c);__classPrivateFieldSet(l,f,e,"f");return l}toCore(){let e;switch(__classPrivateFieldGet(this,c,"f")){case p.DataHash:e=__classPrivateFieldGet(this,l,"f");break;case p.InlineData:e=__classPrivateFieldGet(this,u,"f").toCore();break;default:throw new i.InvalidStateError(`Unexpected datum kind ${__classPrivateFieldGet(this,c,"f")}`)}return e}static fromCore(e){if(isDatumHash(e))return new Datum(e);return new Datum(void 0,n.PlutusData.fromCore(e))}kind(){return __classPrivateFieldGet(this,c,"f")}asDataHash(){return __classPrivateFieldGet(this,l,"f")}asInlineData(){return __classPrivateFieldGet(this,u,"f")}static newDataHash(e){return new Datum(e)}static newInlineData(e){return new Datum(void 0,e)}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);if(e&&t)throw new i.InvalidStateError("Datum can only be DataHash or PlutusData but not both");if(!e&&!t)throw new i.InvalidStateError("Datum must be either DataHash or PlutusData");if(e)__classPrivateFieldSet(this,c,p.DataHash,"f");if(t)__classPrivateFieldSet(this,c,p.InlineData,"f");__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,t,"f")}}c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ExUnits.js":(e,t,r)=>{"use strict";r.d(t,{ExUnits:()=>ExUnits});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;const c=2;class ExUnits{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,d,"f"))return __classPrivateFieldGet(this,d,"f");e.writeStartArray(c);e.writeInt(__classPrivateFieldGet(this,o,"f"));e.writeInt(__classPrivateFieldGet(this,n,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==c)throw new i.InvalidArgumentError("cbor",`Expected an array of ${c} elements, but got an array of ${r} elements`);const a=t.readUInt();const o=t.readUInt();t.readEndArray();const n=new ExUnits(a,o);__classPrivateFieldSet(n,d,e,"f");return n}toCore(){return{memory:Number(__classPrivateFieldGet(this,o,"f")),steps:Number(__classPrivateFieldGet(this,n,"f"))}}static fromCore(e){return new ExUnits(BigInt(e.memory),BigInt(e.steps))}mem(){return __classPrivateFieldGet(this,o,"f")}setMem(e){__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,d,void 0,"f")}steps(){return __classPrivateFieldGet(this,n,"f")}setSteps(e){__classPrivateFieldSet(this,n,e,"f");__classPrivateFieldSet(this,d,void 0,"f")}add(e){const t=__classPrivateFieldGet(this,o,"f")+__classPrivateFieldGet(e,o,"f");const r=__classPrivateFieldGet(this,n,"f")+__classPrivateFieldGet(e,n,"f");return new ExUnits(t,r)}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,n,t,"f")}}o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js":(e,t,r)=>{"use strict";r.d(t,{GovernanceActionId:()=>GovernanceActionId});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l;const u=2;class GovernanceActionId{toCbor(){if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");const e=new a.CborWriter;e.writeStartArray(u);e.writeByteString(n.from(__classPrivateFieldGet(this,d,"f"),"hex"));e.writeInt(__classPrivateFieldGet(this,c,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==u)throw new i.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=t.readByteString();const n=t.readInt();const d=new GovernanceActionId(o.HexBlob.fromBytes(a),n);__classPrivateFieldSet(d,l,e,"f");return d}toCore(){return{actionIndex:Number(__classPrivateFieldGet(this,c,"f")),id:__classPrivateFieldGet(this,d,"f")}}static fromCore(e){return new GovernanceActionId(e.id,BigInt(e.actionIndex))}transactionId(){return __classPrivateFieldGet(this,d,"f")}setTransactionId(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}index(){return __classPrivateFieldGet(this,c,"f")}setIndex(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}equals(e){return __classPrivateFieldGet(this,c,"f")===__classPrivateFieldGet(e,c,"f")&&__classPrivateFieldGet(this,d,"f")===__classPrivateFieldGet(e,d,"f")}constructor(e,t){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Hash.js":(e,t,r)=>{"use strict";r.d(t,{Hash:()=>Hash});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var n;class Hash{toCbor(){const e=new a.CborWriter;e.writeByteString(o.from(__classPrivateFieldGet(this,n,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);return new Hash(i.HexBlob.fromBytes(t.readByteString()))}toCore(){return __classPrivateFieldGet(this,n,"f")}static fromCore(e){return new Hash(e)}value(){return __classPrivateFieldGet(this,n,"f")}constructor(e){n.set(this,void 0);__classPrivateFieldSet(this,n,e,"f")}}n=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ProtocolVersion.js":(e,t,r)=>{"use strict";r.d(t,{ProtocolVersion:()=>ProtocolVersion});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;const c=2;class ProtocolVersion{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,d,"f"))return __classPrivateFieldGet(this,d,"f");e.writeStartArray(c);e.writeInt(__classPrivateFieldGet(this,o,"f"));e.writeInt(__classPrivateFieldGet(this,n,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==c)throw new i.InvalidArgumentError("cbor",`Expected an array of ${c} elements, but got an array of ${r} elements`);const a=Number(t.readInt());const o=Number(t.readInt());t.readEndArray();const n=new ProtocolVersion(a,o);__classPrivateFieldSet(n,d,e,"f");return n}toCore(){return{major:Number(__classPrivateFieldGet(this,o,"f")),minor:Number(__classPrivateFieldGet(this,n,"f"))}}static fromCore(e){return new ProtocolVersion(e.major,e.minor)}major(){return __classPrivateFieldGet(this,o,"f")}setMajor(e){__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,d,void 0,"f")}minor(){return __classPrivateFieldGet(this,n,"f")}setMinor(e){__classPrivateFieldSet(this,n,e,"f");__classPrivateFieldSet(this,d,void 0,"f")}constructor(e,t){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,n,t,"f")}}o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js":(e,t,r)=>{"use strict";r.d(t,{UnitInterval:()=>UnitInterval});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/fraction.js/fraction.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l;const u=2;class UnitInterval{static fromFloat(e){if(void 0===e)return;const t=new n(e);return new UnitInterval(BigInt(t.n),BigInt(t.d))}toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");e.writeTag(s.CborTag.RationalNumber);e.writeStartArray(u);e.writeInt(__classPrivateFieldGet(this,d,"f"));e.writeInt(__classPrivateFieldGet(this,c,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);if(t.readTag()!==s.CborTag.RationalNumber)throw new o.InvalidArgumentError("cbor",`Expected tag ${s.CborTag.RationalNumber}, but got ${t.peekTag()}`);const r=t.readStartArray();if(r!==u)throw new o.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=t.readInt();const n=t.readInt();t.readEndArray();const d=new UnitInterval(a,n);__classPrivateFieldSet(d,l,e,"f");return d}toCore(){return{denominator:Number(__classPrivateFieldGet(this,c,"f")),numerator:Number(__classPrivateFieldGet(this,d,"f"))}}static fromCore(e){return new UnitInterval(BigInt(e.numerator),BigInt(e.denominator))}numerator(){return __classPrivateFieldGet(this,d,"f")}setNumerator(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}denominator(){return __classPrivateFieldGet(this,c,"f")}setDenominator(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}toFloat(){return Number(__classPrivateFieldGet(this,d,"f"))/Number(__classPrivateFieldGet(this,c,"f"))}constructor(e,t){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/ConstrPlutusData.js":(e,t,r)=>{"use strict";r.d(t,{ConstrPlutusData:()=>ConstrPlutusData});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusList.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c;const l=102n;const u=7n;class ConstrPlutusData{toCbor(){const e=new a.CborWriter;const t=ConstrPlutusData.alternativeToCompactCborTag(__classPrivateFieldGet(this,d,"f"));e.writeTag(Number(t));if(t!==l)e.writeEncodedValue((0,n.hexToBytes)(__classPrivateFieldGet(this,c,"f").toCbor()));else{e.writeStartArray(2);e.writeInt(__classPrivateFieldGet(this,d,"f"));e.writeEncodedValue((0,n.hexToBytes)(__classPrivateFieldGet(this,c,"f").toCbor()))}return i.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new s.CborReader(e);const r=t.readTag();if(r===Number(l)){t.readStartArray();const a=t.readInt();const n=t.readEncodedValue();const d=o.PlutusList.fromCbor(i.HexBlob.fromBytes(n));t.readEndArray();return new ConstrPlutusData(a,d)}const c=ConstrPlutusData.compactCborTagToAlternative(BigInt(r));const u=t.readEncodedValue();const f=o.PlutusList.fromCbor(i.HexBlob.fromBytes(u));return new ConstrPlutusData(c,f)}getAlternative(){return __classPrivateFieldGet(this,d,"f")}getData(){return __classPrivateFieldGet(this,c,"f")}equals(e){if(__classPrivateFieldGet(this,d,"f")!==__classPrivateFieldGet(e,d,"f"))return false;return __classPrivateFieldGet(this,c,"f").equals(__classPrivateFieldGet(e,c,"f"))}static compactCborTagToAlternative(e){if(e>=121n&&e<=127)return e-121n;if(e>=1280n&&e<=1400)return e-1280n+u;return l}static alternativeToCompactCborTag(e){if(e<=6n)return 121n+e;if(e>=7n&&e<=127n)return 1280n-u+e;return l}constructor(e,t){d.set(this,0n);c.set(this,new o.PlutusList);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f")}}d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js":(e,t,r)=>{"use strict";r.d(t,{PlutusData:()=>PlutusData});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/plutusDataUtils.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/ConstrPlutusData.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusDataKind.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusList.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusMap.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var _=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var v,y,w,g,b,P,C;const S=0xffffffffffffffffn;const T=new Uint8Array([95]);const E=64;const k=32;const A=BigInt(-1);class PlutusData{toCbor(){if(__classPrivateFieldGet(this,C,"f"))return __classPrivateFieldGet(this,C,"f");let e;switch(__classPrivateFieldGet(this,P,"f")){case f.PlutusDataKind.ConstrPlutusData:e=__classPrivateFieldGet(this,b,"f").toCbor();break;case f.PlutusDataKind.Map:e=__classPrivateFieldGet(this,v,"f").toCbor();break;case f.PlutusDataKind.List:e=__classPrivateFieldGet(this,y,"f").toCbor();break;case f.PlutusDataKind.Bytes:{const t=new i.CborWriter;if(__classPrivateFieldGet(this,g,"f").length<=E)t.writeByteString(__classPrivateFieldGet(this,g,"f"));else{t.writeEncodedValue(T);for(let r=0;r<__classPrivateFieldGet(this,g,"f").length;r+=E){const a=__classPrivateFieldGet(this,g,"f").slice(r,r+E);t.writeByteString(a)}t.writeEndArray()}e=(0,m.bytesToHex)(t.encode());break}case f.PlutusDataKind.Integer:{const s=new i.CborWriter;if(__classPrivateFieldGet(this,w,"f")>=0&&__classPrivateFieldGet(this,w,"f")<=S||__classPrivateFieldGet(this,w,"f")<0&&__classPrivateFieldGet(this,w,"f")>=-1n-S)s.writeInt(__classPrivateFieldGet(this,w,"f"));else{const n=PlutusData.bigintToBuffer(__classPrivateFieldGet(this,w,"f"));s.writeTag(__classPrivateFieldGet(this,w,"f")<0?o.CborTag.NegativeBigNum:o.CborTag.UnsignedBigNum);if(n.length<=E)s.writeByteString(n);else{s.writeEncodedValue(T);for(let d=0;d<n.length;d+=E){const c=n.slice(d,d+E);s.writeByteString(c)}s.writeEndArray()}}e=(0,m.bytesToHex)(s.encode());break}default:throw new Error("Unsupported PlutusData kind")}return e}static fromCbor(e){const t=new PlutusData;const r=new n.CborReader(e);const a=r.peekState();switch(a){case d.CborReaderState.Tag:{const s=r.peekTag();switch(s){case o.CborTag.UnsignedBigNum:{r.readTag();const i=r.readByteString();__classPrivateFieldSet(t,w,PlutusData.bufferToBigint(i),"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Integer,"f");break}case o.CborTag.NegativeBigNum:{r.readTag();const u=r.readByteString();__classPrivateFieldSet(t,w,PlutusData.bufferToBigint(u)*-1n,"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Integer,"f");break}default:__classPrivateFieldSet(t,b,c.ConstrPlutusData.fromCbor(l.HexBlob.fromBytes(r.readEncodedValue())),"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.ConstrPlutusData,"f")}break}case d.CborReaderState.NegativeInteger:case d.CborReaderState.UnsignedInteger:__classPrivateFieldSet(t,w,r.readInt(),"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Integer,"f");break;case d.CborReaderState.StartIndefiniteLengthByteString:case d.CborReaderState.ByteString:__classPrivateFieldSet(t,g,r.readByteString(),"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Bytes,"f");break;case d.CborReaderState.StartArray:__classPrivateFieldSet(t,y,h.PlutusList.fromCbor(l.HexBlob.fromBytes(r.readEncodedValue())),"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.List,"f");break;case d.CborReaderState.StartMap:__classPrivateFieldSet(t,v,p.PlutusMap.fromCbor(l.HexBlob.fromBytes(r.readEncodedValue())),"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Map,"f");break;default:throw new Error("Invalid Plutus Data")}__classPrivateFieldSet(t,C,e,"f");return t}toCore(){switch(__classPrivateFieldGet(this,P,"f")){case f.PlutusDataKind.Bytes:return __classPrivateFieldGet(this,g,"f");case f.PlutusDataKind.ConstrPlutusData:{const e=__classPrivateFieldGet(this,b,"f");return{cbor:this.toCbor(),constructor:e.getAlternative(),fields:PlutusData.mapToCorePlutusList(e.getData())}}case f.PlutusDataKind.Integer:return __classPrivateFieldGet(this,w,"f");case f.PlutusDataKind.List:return PlutusData.mapToCorePlutusList(__classPrivateFieldGet(this,y,"f"));case f.PlutusDataKind.Map:{const t=__classPrivateFieldGet(this,v,"f");const r=new Map;const a=t.getKeys();for(let s=0;s<a.getLength();s++){const i=a.get(s);r.set(i.toCore(),t.get(i).toCore())}return{cbor:this.toCbor(),data:r}}default:throw new u.NotImplementedError(`PlutusData mapping for kind ${__classPrivateFieldGet(this,P,"f")}`)}}hash(){return s.blake2b.hash(this.toCbor(),k)}static fromCore(e){if(a.isPlutusBoundedBytes(e)){return PlutusData.newBytes(e)}if(a.isPlutusBigInt(e)){return PlutusData.newInteger(e)}if(e.cbor)return PlutusData.fromCbor(e.cbor);if(a.isPlutusList(e)){return PlutusData.newList(PlutusData.mapToPlutusList(e.items))}if(a.isPlutusMap(e)){const t=new p.PlutusMap;for(const[r,s]of e.data)t.insert(PlutusData.fromCore(r),PlutusData.fromCore(s));return PlutusData.newMap(t)}if(a.isConstrPlutusData(e)){const i=e.constructor;const o=new c.ConstrPlutusData(i,PlutusData.mapToPlutusList(e.fields.items));return PlutusData.newConstrPlutusData(o)}throw new u.NotImplementedError("PlutusData type not implemented")}static newConstrPlutusData(e){const t=new PlutusData;__classPrivateFieldSet(t,b,e,"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.ConstrPlutusData,"f");return t}static newMap(e){const t=new PlutusData;__classPrivateFieldSet(t,v,e,"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Map,"f");return t}static newList(e){const t=new PlutusData;__classPrivateFieldSet(t,y,e,"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.List,"f");return t}static newInteger(e){const t=new PlutusData;__classPrivateFieldSet(t,w,e,"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Integer,"f");return t}static newBytes(e){const t=new PlutusData;__classPrivateFieldSet(t,g,e,"f");__classPrivateFieldSet(t,P,f.PlutusDataKind.Bytes,"f");return t}getKind(){return __classPrivateFieldGet(this,P,"f")}asConstrPlutusData(){return __classPrivateFieldGet(this,b,"f")}asMap(){return __classPrivateFieldGet(this,v,"f")}asList(){return __classPrivateFieldGet(this,y,"f")}asInteger(){return __classPrivateFieldGet(this,w,"f")}asBoundedBytes(){return __classPrivateFieldGet(this,g,"f")}equals(e){switch(__classPrivateFieldGet(this,P,"f")){case f.PlutusDataKind.Bytes:if(__classPrivateFieldGet(this,g,"f")&&__classPrivateFieldGet(e,g,"f")){return __classPrivateFieldGet(this,g,"f").length===__classPrivateFieldGet(e,g,"f").length&&__classPrivateFieldGet(this,g,"f").every((t,r)=>t===__classPrivateFieldGet(e,g,"f")[r])}return false;case f.PlutusDataKind.Integer:return __classPrivateFieldGet(this,w,"f")===__classPrivateFieldGet(e,w,"f");case f.PlutusDataKind.ConstrPlutusData:if(__classPrivateFieldGet(this,b,"f")&&__classPrivateFieldGet(e,b,"f")){return __classPrivateFieldGet(this,b,"f").equals(__classPrivateFieldGet(e,b,"f"))}return false;case f.PlutusDataKind.List:if(__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(e,y,"f")){return __classPrivateFieldGet(this,y,"f").equals(__classPrivateFieldGet(e,y,"f"))}return false;case f.PlutusDataKind.Map:if(__classPrivateFieldGet(this,v,"f")&&__classPrivateFieldGet(e,v,"f")){return __classPrivateFieldGet(this,v,"f").equals(__classPrivateFieldGet(e,v,"f"))}return false;default:return false}}static mapToPlutusList(e){const t=new h.PlutusList;for(const r of e)t.add(PlutusData.fromCore(r));return t}static mapToCorePlutusList(e){const t=[];for(let r=0;r<e.getLength();r++){const a=e.get(r);t.push(a.toCore())}return{cbor:e.toCbor(),items:t}}static bufferToBigint(e){let t=0n;for(const r of e.values()){const a=BigInt(r);t=(t<<8n)+a}return t}static bigintToBuffer(e){if(e<0)e=-e+A;let t=e.toString(16);if(t.length%2)t=`0${t}`;return _.from(t,"hex")}constructor(){v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,f.PlutusDataKind.ConstrPlutusData);C.set(this,void 0)}}v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusDataKind.js":(e,t,r)=>{"use strict";r.d(t,{PlutusDataKind:()=>a});var a;(function(e){e[e["ConstrPlutusData"]=0]="ConstrPlutusData";e[e["Map"]=1]="Map";e[e["List"]=2]="List";e[e["Integer"]=3]="Integer";e[e["Bytes"]=4]="Bytes"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusList.js":(e,t,r)=>{"use strict";r.d(t,{PlutusList:()=>PlutusList});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c;class PlutusList{toCbor(){const e=new a.CborWriter;const t=__classPrivateFieldGet(this,c,"f").length>0;if(t)e.writeStartArray();else e.writeStartArray(__classPrivateFieldGet(this,c,"f").length);for(const r of __classPrivateFieldGet(this,c,"f"))e.writeEncodedValue((0,d.hexToBytes)(r.toCbor()));if(t)e.writeEndArray();return o.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new PlutusList;const r=new s.CborReader(e);r.readStartArray();while(r.peekState()!==i.CborReaderState.EndArray){t.add(n.PlutusData.fromCbor((0,d.bytesToHex)(r.readEncodedValue())))}r.readEndArray();return t}getLength(){return __classPrivateFieldGet(this,c,"f").length}get(e){return __classPrivateFieldGet(this,c,"f")[e]}add(e){__classPrivateFieldGet(this,c,"f").push(e)}equals(e){if(__classPrivateFieldGet(this,c,"f").length!==__classPrivateFieldGet(e,c,"f").length)return false;for(let t=0;t<__classPrivateFieldGet(this,c,"f").length;++t)if(!__classPrivateFieldGet(this,c,"f")[t].equals(__classPrivateFieldGet(e,c,"f")[t]))return false;return true}constructor(){c.set(this,new Array)}}c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusMap.js":(e,t,r)=>{"use strict";r.d(t,{PlutusMap:()=>PlutusMap});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusList.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var l,u;class PlutusMap{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,u,"f"))e.writeStartMap();else e.writeStartMap(__classPrivateFieldGet(this,l,"f").size);for(const[t,r]of __classPrivateFieldGet(this,l,"f").entries()){e.writeEncodedValue((0,c.hexToBytes)(t.toCbor()));e.writeEncodedValue((0,c.hexToBytes)(r.toCbor()))}if(__classPrivateFieldGet(this,u,"f"))e.writeEndMap();return o.HexBlob.fromBytes(e.encode())}static fromCbor(e){const t=new PlutusMap;const r=new s.CborReader(e);const a=r.readStartMap();if(null===a)__classPrivateFieldSet(t,u,true,"f");while(r.peekState()!==i.CborReaderState.EndMap){const o=n.PlutusData.fromCbor((0,c.bytesToHex)(r.readEncodedValue()));const d=n.PlutusData.fromCbor((0,c.bytesToHex)(r.readEncodedValue()));t.insert(o,d)}r.readEndMap();return t}getLength(){return __classPrivateFieldGet(this,l,"f").size}insert(e,t){__classPrivateFieldGet(this,l,"f").set(e,t)}get(e){if(!__classPrivateFieldGet(this,l,"f"))return;const t=[...__classPrivateFieldGet(this,l,"f").entries()].find(t=>t[0].equals(e));if(!t)return;return t[1]}getKeys(){const e=new d.PlutusList;for(const t of __classPrivateFieldGet(this,l,"f").keys())e.add(t);return e}equals(e){if(__classPrivateFieldGet(this,u,"f")!==__classPrivateFieldGet(e,u,"f"))return false;if(__classPrivateFieldGet(this,l,"f").size!==__classPrivateFieldGet(e,l,"f").size)return false;const t=[...__classPrivateFieldGet(this,l,"f").entries()];const r=[...__classPrivateFieldGet(e,l,"f").entries()];for(let a=0;a<__classPrivateFieldGet(this,l,"f").size;++a){if(!t[a][0].equals(r[a][0]))return false;if(!t[a][1].equals(r[a][1]))return false}return true}constructor(){l.set(this,new Map);u.set(this,false)}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js":(e,t,r)=>{"use strict";r.d(t,{NativeScript:()=>NativeScript});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptAll.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptAny.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptNOfK.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptPubkey.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/TimelockExpiry.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/TimelockStart.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var h,p,m,_,v,y,w,g;const b=28;class NativeScript{toCbor(){if(__classPrivateFieldGet(this,g,"f"))return __classPrivateFieldGet(this,g,"f");let e;switch(__classPrivateFieldGet(this,w,"f")){case o.NativeScriptKind.RequireSignature:e=__classPrivateFieldGet(this,_,"f").toCbor();break;case o.NativeScriptKind.RequireAllOf:e=__classPrivateFieldGet(this,h,"f").toCbor();break;case o.NativeScriptKind.RequireAnyOf:e=__classPrivateFieldGet(this,p,"f").toCbor();break;case o.NativeScriptKind.RequireNOf:e=__classPrivateFieldGet(this,m,"f").toCbor();break;case o.NativeScriptKind.RequireTimeAfter:e=__classPrivateFieldGet(this,y,"f").toCbor();break;case o.NativeScriptKind.RequireTimeBefore:e=__classPrivateFieldGet(this,v,"f").toCbor();break;default:throw new i.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,w,"f")}`)}return e}static fromCbor(e){let t;const r=new s.CborReader(e);r.readStartArray();const a=Number(r.readInt());switch(a){case o.NativeScriptKind.RequireSignature:t=NativeScript.newScriptPubkey(l.ScriptPubkey.fromCbor(e));break;case o.NativeScriptKind.RequireAllOf:t=NativeScript.newScriptAll(n.ScriptAll.fromCbor(e));break;case o.NativeScriptKind.RequireAnyOf:t=NativeScript.newScriptAny(d.ScriptAny.fromCbor(e));break;case o.NativeScriptKind.RequireNOf:t=NativeScript.newScriptNOfK(c.ScriptNOfK.fromCbor(e));break;case o.NativeScriptKind.RequireTimeAfter:t=NativeScript.newTimelockStart(f.TimelockStart.fromCbor(e));break;case o.NativeScriptKind.RequireTimeBefore:t=NativeScript.newTimelockExpiry(u.TimelockExpiry.fromCbor(e));break;default:throw new i.InvalidStateError(`Unexpected kind value: ${a}`)}__classPrivateFieldSet(t,g,e,"f");return t}toCore(){let e;switch(__classPrivateFieldGet(this,w,"f")){case o.NativeScriptKind.RequireSignature:e=__classPrivateFieldGet(this,_,"f").toCore();break;case o.NativeScriptKind.RequireAllOf:e=__classPrivateFieldGet(this,h,"f").toCore();break;case o.NativeScriptKind.RequireAnyOf:e=__classPrivateFieldGet(this,p,"f").toCore();break;case o.NativeScriptKind.RequireNOf:e=__classPrivateFieldGet(this,m,"f").toCore();break;case o.NativeScriptKind.RequireTimeAfter:e=__classPrivateFieldGet(this,y,"f").toCore();break;case o.NativeScriptKind.RequireTimeBefore:e=__classPrivateFieldGet(this,v,"f").toCore();break;default:throw new i.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,w,"f")}`)}return e}static fromCore(e){let t;switch(e.kind){case o.NativeScriptKind.RequireSignature:t=NativeScript.newScriptPubkey(l.ScriptPubkey.fromCore(e));break;case o.NativeScriptKind.RequireAllOf:t=NativeScript.newScriptAll(n.ScriptAll.fromCore(e));break;case o.NativeScriptKind.RequireAnyOf:t=NativeScript.newScriptAny(d.ScriptAny.fromCore(e));break;case o.NativeScriptKind.RequireNOf:t=NativeScript.newScriptNOfK(c.ScriptNOfK.fromCore(e));break;case o.NativeScriptKind.RequireTimeAfter:t=NativeScript.newTimelockStart(f.TimelockStart.fromCore(e));break;case o.NativeScriptKind.RequireTimeBefore:t=NativeScript.newTimelockExpiry(u.TimelockExpiry.fromCore(e));break;default:throw new i.InvalidStateError("Unexpected kind value")}return t}hash(){const e=`00${this.toCbor()}`;return a.blake2b.hash(e,b)}kind(){return __classPrivateFieldGet(this,w,"f")}static newScriptPubkey(e){const t=new NativeScript;__classPrivateFieldSet(t,_,e,"f");__classPrivateFieldSet(t,w,o.NativeScriptKind.RequireSignature,"f");return t}static newScriptAll(e){const t=new NativeScript;__classPrivateFieldSet(t,h,e,"f");__classPrivateFieldSet(t,w,o.NativeScriptKind.RequireAllOf,"f");return t}static newScriptAny(e){const t=new NativeScript;__classPrivateFieldSet(t,p,e,"f");__classPrivateFieldSet(t,w,o.NativeScriptKind.RequireAnyOf,"f");return t}static newScriptNOfK(e){const t=new NativeScript;__classPrivateFieldSet(t,m,e,"f");__classPrivateFieldSet(t,w,o.NativeScriptKind.RequireNOf,"f");return t}static newTimelockStart(e){const t=new NativeScript;__classPrivateFieldSet(t,y,e,"f");__classPrivateFieldSet(t,w,o.NativeScriptKind.RequireTimeAfter,"f");return t}static newTimelockExpiry(e){const t=new NativeScript;__classPrivateFieldSet(t,v,e,"f");__classPrivateFieldSet(t,w,o.NativeScriptKind.RequireTimeBefore,"f");return t}asScriptPubkey(){return __classPrivateFieldGet(this,_,"f")}asScriptAll(){return __classPrivateFieldGet(this,h,"f")}asScriptAny(){return __classPrivateFieldGet(this,p,"f")}asScriptNOfK(){return __classPrivateFieldGet(this,m,"f")}asTimelockStart(){return __classPrivateFieldGet(this,y,"f")}asTimelockExpiry(){return __classPrivateFieldGet(this,v,"f")}constructor(){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0)}}h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptAll.js":(e,t,r)=>{"use strict";r.d(t,{ScriptAll:()=>ScriptAll});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f;const h=2;class ScriptAll{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeInt(c.NativeScriptKind.RequireAllOf);e.writeStartArray(__classPrivateFieldGet(this,u,"f").length);for(const t of __classPrivateFieldGet(this,u,"f"))e.writeEncodedValue(l.from(t.toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==h)throw new o.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==c.NativeScriptKind.RequireAllOf)throw new o.InvalidArgumentError("cbor",`Expected kind ${c.NativeScriptKind.RequireAllOf}, but got kind ${a}`);const l=new Array;t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray)l.push(d.NativeScript.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())));t.readEndArray();const u=new ScriptAll(l);__classPrivateFieldSet(u,f,e,"f");return u}toCore(){return{__type:c.ScriptType.Native,kind:c.NativeScriptKind.RequireAllOf,scripts:__classPrivateFieldGet(this,u,"f").map(e=>e.toCore())}}static fromCore(e){return new ScriptAll(e.scripts.map(e=>d.NativeScript.fromCore(e)))}nativeScripts(){return __classPrivateFieldGet(this,u,"f")}setNativeScripts(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e){u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,u,e,"f")}}u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptAny.js":(e,t,r)=>{"use strict";r.d(t,{ScriptAny:()=>ScriptAny});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f;const h=2;class ScriptAny{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeInt(c.NativeScriptKind.RequireAnyOf);e.writeStartArray(__classPrivateFieldGet(this,u,"f").length);for(const t of __classPrivateFieldGet(this,u,"f"))e.writeEncodedValue(l.from(t.toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==h)throw new o.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==c.NativeScriptKind.RequireAnyOf)throw new o.InvalidArgumentError("cbor",`Expected kind ${c.NativeScriptKind.RequireAnyOf}, but got kind ${a}`);const l=new Array;t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray)l.push(d.NativeScript.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())));t.readEndArray();const u=new ScriptAny(l);__classPrivateFieldSet(u,f,e,"f");return u}toCore(){return{__type:c.ScriptType.Native,kind:c.NativeScriptKind.RequireAnyOf,scripts:__classPrivateFieldGet(this,u,"f").map(e=>e.toCore())}}static fromCore(e){return new ScriptAny(e.scripts.map(e=>d.NativeScript.fromCore(e)))}nativeScripts(){return __classPrivateFieldGet(this,u,"f")}setNativeScripts(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e){u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,u,e,"f")}}u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptNOfK.js":(e,t,r)=>{"use strict";r.d(t,{ScriptNOfK:()=>ScriptNOfK});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=3;class ScriptNOfK{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(p);e.writeInt(c.NativeScriptKind.RequireNOf);e.writeInt(__classPrivateFieldGet(this,f,"f"));e.writeStartArray(__classPrivateFieldGet(this,u,"f").length);for(const t of __classPrivateFieldGet(this,u,"f"))e.writeEncodedValue(l.from(t.toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==p)throw new o.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==c.NativeScriptKind.RequireNOf)throw new o.InvalidArgumentError("cbor",`Expected kind ${c.NativeScriptKind.RequireNOf}, but got kind ${a}`);const l=t.readInt();const u=new Array;t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray)u.push(d.NativeScript.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue())));t.readEndArray();const f=new ScriptNOfK(u,Number(l));__classPrivateFieldSet(f,h,e,"f");return f}toCore(){return{__type:c.ScriptType.Native,kind:c.NativeScriptKind.RequireNOf,required:__classPrivateFieldGet(this,f,"f"),scripts:__classPrivateFieldGet(this,u,"f").map(e=>e.toCore())}}static fromCore(e){return new ScriptNOfK(e.scripts.map(e=>d.NativeScript.fromCore(e)),e.required)}required(){return __classPrivateFieldGet(this,f,"f")}setRequired(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}nativeScripts(){return __classPrivateFieldGet(this,u,"f")}setNativeScripts(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,h,void 0,"f")}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptPubkey.js":(e,t,r)=>{"use strict";r.d(t,{ScriptPubkey:()=>ScriptPubkey});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u;const f=2;class ScriptPubkey{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");e.writeStartArray(f);e.writeInt(d.NativeScriptKind.RequireSignature);e.writeByteString(c.from(__classPrivateFieldGet(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==f)throw new o.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const s=Number(t.readInt());if(s!==d.NativeScriptKind.RequireSignature)throw new o.InvalidArgumentError("cbor",`Expected kind ${d.NativeScriptKind.RequireSignature}, but got kind ${s}`);const c=a.Ed25519KeyHashHex(n.HexBlob.fromBytes(t.readByteString()));const l=new ScriptPubkey(c);__classPrivateFieldSet(l,u,e,"f");return l}toCore(){return{__type:d.ScriptType.Native,keyHash:__classPrivateFieldGet(this,l,"f"),kind:d.NativeScriptKind.RequireSignature}}static fromCore(e){return new ScriptPubkey(e.keyHash)}keyHash(){return __classPrivateFieldGet(this,l,"f")}setKeyHash(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e){l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,l,e,"f")}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/TimelockExpiry.js":(e,t,r)=>{"use strict";r.d(t,{TimelockExpiry:()=>TimelockExpiry});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c;const l=2;class TimelockExpiry{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,c,"f"))return __classPrivateFieldGet(this,c,"f");e.writeStartArray(l);e.writeInt(o.NativeScriptKind.RequireTimeBefore);e.writeInt(__classPrivateFieldGet(this,d,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==l)throw new i.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==o.NativeScriptKind.RequireTimeBefore)throw new i.InvalidArgumentError("cbor",`Expected kind ${o.NativeScriptKind.RequireTimeBefore}, but got kind ${a}`);const d=(0,n.Slot)(Number(t.readInt()));const u=new TimelockExpiry(d);__classPrivateFieldSet(u,c,e,"f");return u}toCore(){return{__type:o.ScriptType.Native,kind:o.NativeScriptKind.RequireTimeBefore,slot:__classPrivateFieldGet(this,d,"f")}}static fromCore(e){return new TimelockExpiry(e.slot)}slot(){return __classPrivateFieldGet(this,d,"f")}setSlot(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,void 0,"f")}constructor(e){d.set(this,void 0);c.set(this,void 0);__classPrivateFieldSet(this,d,e,"f")}}d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/TimelockStart.js":(e,t,r)=>{"use strict";r.d(t,{TimelockStart:()=>TimelockStart});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c;const l=2;class TimelockStart{toCbor(){if(__classPrivateFieldGet(this,c,"f"))return __classPrivateFieldGet(this,c,"f");const e=new a.CborWriter;e.writeStartArray(l);e.writeInt(o.NativeScriptKind.RequireTimeAfter);e.writeInt(__classPrivateFieldGet(this,d,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==l)throw new i.InvalidArgumentError("cbor",`Expected an array of two elements, but got an array of ${r} elements`);const a=Number(t.readInt());if(a!==o.NativeScriptKind.RequireTimeAfter)throw new i.InvalidArgumentError("cbor",`Expected kind ${o.NativeScriptKind.RequireTimeAfter}, but got kind ${a}`);const d=(0,n.Slot)(Number(t.readInt()));const u=new TimelockStart(d);__classPrivateFieldSet(u,c,e,"f");return u}toCore(){return{__type:o.ScriptType.Native,kind:o.NativeScriptKind.RequireTimeAfter,slot:__classPrivateFieldGet(this,d,"f")}}static fromCore(e){return new TimelockStart(e.slot)}slot(){return __classPrivateFieldGet(this,d,"f")}setSlot(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,void 0,"f")}constructor(e){d.set(this,void 0);c.set(this,void 0);__classPrivateFieldSet(this,d,e,"f")}}d=new WeakMap,c=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV1Script.js":(e,t,r)=>{"use strict";r.d(t,{PlutusV1Script:()=>PlutusV1Script});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u;const f=28;class PlutusV1Script{toCbor(){if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");const e=new s.CborWriter;e.writeByteString(c.from(__classPrivateFieldGet(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readByteString();const a=new PlutusV1Script(o.HexBlob.fromBytes(r));__classPrivateFieldSet(a,u,e,"f");return a}toCore(){return{__type:d.ScriptType.Plutus,bytes:this.rawBytes(),version:d.PlutusLanguageVersion.V1}}static fromCore(e){if(e.version!==d.PlutusLanguageVersion.V1)throw new n.InvalidArgumentError("script","Wrong plutus language version.");return new PlutusV1Script(e.bytes)}hash(){const e=`01${this.rawBytes()}`;return a.blake2b.hash(e,f)}rawBytes(){return __classPrivateFieldGet(this,l,"f")}setRawBytes(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e){l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,l,e,"f")}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV2Script.js":(e,t,r)=>{"use strict";r.d(t,{PlutusV2Script:()=>PlutusV2Script});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u;const f=28;class PlutusV2Script{toCbor(){if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");const e=new s.CborWriter;e.writeByteString(c.from(__classPrivateFieldGet(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readByteString();const a=new PlutusV2Script(o.HexBlob.fromBytes(r));__classPrivateFieldSet(a,u,e,"f");return a}toCore(){return{__type:d.ScriptType.Plutus,bytes:this.rawBytes(),version:d.PlutusLanguageVersion.V2}}static fromCore(e){if(e.version!==d.PlutusLanguageVersion.V2)throw new n.InvalidArgumentError("script","Wrong plutus language version.");return new PlutusV2Script(e.bytes)}hash(){const e=`02${this.rawBytes()}`;return a.blake2b.hash(e,f)}rawBytes(){return __classPrivateFieldGet(this,l,"f")}setRawBytes(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e){l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,l,e,"f")}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV3Script.js":(e,t,r)=>{"use strict";r.d(t,{PlutusV3Script:()=>PlutusV3Script});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u;const f=28;class PlutusV3Script{toCbor(){if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");const e=new s.CborWriter;e.writeByteString(c.from(__classPrivateFieldGet(this,l,"f"),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readByteString();const a=new PlutusV3Script(o.HexBlob.fromBytes(r));__classPrivateFieldSet(a,u,e,"f");return a}toCore(){return{__type:d.ScriptType.Plutus,bytes:this.rawBytes(),version:d.PlutusLanguageVersion.V3}}static fromCore(e){if(e.version!==d.PlutusLanguageVersion.V3)throw new n.InvalidArgumentError("script","Wrong plutus language version.");return new PlutusV3Script(e.bytes)}hash(){const e=`03${this.rawBytes()}`;return a.blake2b.hash(e,f)}rawBytes(){return __classPrivateFieldGet(this,l,"f")}setRawBytes(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e){l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,l,e,"f")}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/Script.js":(e,t,r)=>{"use strict";r.d(t,{Script:()=>Script});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV1Script.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV2Script.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV3Script.js");var f;(function(e){e[e["Native"]=0]="Native";e[e["PlutusV1"]=1]="PlutusV1";e[e["PlutusV2"]=2]="PlutusV2";e[e["PlutusV3"]=3]="PlutusV3"})(f||(f={}));var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var p,m,_,v,y,w;const g=2;class Script{toCbor(){if(__classPrivateFieldGet(this,w,"f"))return __classPrivateFieldGet(this,w,"f");const e=new a.CborWriter;let t;switch(__classPrivateFieldGet(this,y,"f")){case f.Native:t=__classPrivateFieldGet(this,p,"f").toCbor();break;case f.PlutusV1:t=__classPrivateFieldGet(this,m,"f").toCbor();break;case f.PlutusV2:t=__classPrivateFieldGet(this,_,"f").toCbor();break;case f.PlutusV3:t=__classPrivateFieldGet(this,v,"f").toCbor();break;default:throw new i.InvalidStateError(`Unexpected language value: ${__classPrivateFieldGet(this,y,"f")}`)}e.writeStartArray(g);e.writeInt(__classPrivateFieldGet(this,y,"f"));e.writeEncodedValue(h.from(t,"hex"));return e.encodeAsHex()}static fromCbor(e){let t;const r=new s.CborReader(e);r.readStartArray();const a=Number(r.readInt());const d=o.HexBlob.fromBytes(r.readEncodedValue());switch(a){case f.Native:t=Script.newNativeScript(n.NativeScript.fromCbor(d));break;case f.PlutusV1:t=Script.newPlutusV1Script(c.PlutusV1Script.fromCbor(d));break;case f.PlutusV2:t=Script.newPlutusV2Script(l.PlutusV2Script.fromCbor(d));break;case f.PlutusV3:t=Script.newPlutusV3Script(u.PlutusV3Script.fromCbor(d));break;default:throw new i.InvalidStateError(`Unexpected language value: ${a}`)}__classPrivateFieldSet(t,w,e,"f");return t}toCore(){let e;switch(__classPrivateFieldGet(this,y,"f")){case f.Native:e=__classPrivateFieldGet(this,p,"f").toCore();break;case f.PlutusV1:e=__classPrivateFieldGet(this,m,"f").toCore();break;case f.PlutusV2:e=__classPrivateFieldGet(this,_,"f").toCore();break;case f.PlutusV3:e=__classPrivateFieldGet(this,v,"f").toCore();break;default:throw new i.InvalidStateError(`Unexpected language: ${__classPrivateFieldGet(this,y,"f")}`)}return e}static fromCore(e){let t;if((0,d.isNativeScript)(e))t=Script.newNativeScript(n.NativeScript.fromCore(e));else{switch(e.version){case d.PlutusLanguageVersion.V1:t=Script.newPlutusV1Script(c.PlutusV1Script.fromCore(e));break;case d.PlutusLanguageVersion.V2:t=Script.newPlutusV2Script(l.PlutusV2Script.fromCore(e));break;case d.PlutusLanguageVersion.V3:t=Script.newPlutusV3Script(u.PlutusV3Script.fromCore(e));break;default:throw new i.InvalidStateError("Unexpected Plutus language version")}}return t}language(){return __classPrivateFieldGet(this,y,"f")}static newNativeScript(e){const t=new Script;__classPrivateFieldSet(t,p,e,"f");__classPrivateFieldSet(t,y,f.Native,"f");return t}static newPlutusV1Script(e){const t=new Script;__classPrivateFieldSet(t,m,e,"f");__classPrivateFieldSet(t,y,f.PlutusV1,"f");return t}static newPlutusV2Script(e){const t=new Script;__classPrivateFieldSet(t,_,e,"f");__classPrivateFieldSet(t,y,f.PlutusV2,"f");return t}static newPlutusV3Script(e){const t=new Script;__classPrivateFieldSet(t,v,e,"f");__classPrivateFieldSet(t,y,f.PlutusV3,"f");return t}asNative(){return __classPrivateFieldGet(this,p,"f")}asPlutusV1(){return __classPrivateFieldGet(this,m,"f")}asPlutusV2(){return __classPrivateFieldGet(this,_,"f")}asPlutusV3(){return __classPrivateFieldGet(this,v,"f")}hash(){let e;switch(__classPrivateFieldGet(this,y,"f")){case f.Native:e=__classPrivateFieldGet(this,p,"f").hash();break;case f.PlutusV1:e=__classPrivateFieldGet(this,m,"f").hash();break;case f.PlutusV2:e=__classPrivateFieldGet(this,_,"f").hash();break;case f.PlutusV3:e=__classPrivateFieldGet(this,v,"f").hash();break;default:throw new i.InvalidStateError(`Unexpected script language ${__classPrivateFieldGet(this,y,"f")}`)}return e}constructor(){p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0)}}p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js":(e,t,r)=>{"use strict";r.d(t,{Transaction:()=>Transaction,TxBodyCBOR:()=>TxBodyCBOR,TxCBOR:()=>TxCBOR,deserializeTx:()=>deserializeTx});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/AuxiliaryData.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionBody.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/TransactionWitnessSet.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var u=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var f,h,p,m,_;const v=4;class Transaction{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,_,"f"))return __classPrivateFieldGet(this,_,"f");e.writeStartArray(v);e.writeEncodedValue((0,l.hexToBytes)(__classPrivateFieldGet(this,f,"f").toCbor()));e.writeEncodedValue((0,l.hexToBytes)(__classPrivateFieldGet(this,h,"f").toCbor()));e.writeBoolean(__classPrivateFieldGet(this,m,"f"));if(__classPrivateFieldGet(this,p,"f"))e.writeEncodedValue((0,l.hexToBytes)(__classPrivateFieldGet(this,p,"f").toCbor()));else e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();const s=t.readEncodedValue();const l=d.TransactionBody.fromCbor(n.HexBlob.fromBytes(s));const u=c.TransactionWitnessSet.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue()));let f=true;if(r===v)f=t.readBoolean();let h;if(t.peekState()!==o.CborReaderState.Null)h=a.AuxiliaryData.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue()));const p=new Transaction(l,u,h);__classPrivateFieldSet(p,m,f,"f");__classPrivateFieldSet(p,_,e,"f");return p}toCore(){const e={body:__classPrivateFieldGet(this,f,"f").toCore(),id:this.getId(),isValid:__classPrivateFieldGet(this,m,"f"),witness:__classPrivateFieldGet(this,h,"f").toCore()};if(__classPrivateFieldGet(this,p,"f"))e.auxiliaryData=__classPrivateFieldGet(this,p,"f").toCore();return e}static fromCore(e){const t=new Transaction(d.TransactionBody.fromCore(e.body),c.TransactionWitnessSet.fromCore(e.witness),e.auxiliaryData?a.AuxiliaryData.fromCore(e.auxiliaryData):void 0);if(void 0!==e.isValid)t.setIsValid(e.isValid);return t}body(){return d.TransactionBody.fromCbor(__classPrivateFieldGet(this,f,"f").toCbor())}setBody(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,_,void 0,"f")}witnessSet(){return c.TransactionWitnessSet.fromCbor(__classPrivateFieldGet(this,h,"f").toCbor())}setWitnessSet(e){__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,_,void 0,"f")}isValid(){return __classPrivateFieldGet(this,m,"f")}setIsValid(e){__classPrivateFieldSet(this,_,void 0,"f");__classPrivateFieldSet(this,m,e,"f")}auxiliaryData(){if(__classPrivateFieldGet(this,p,"f")){return a.AuxiliaryData.fromCbor(__classPrivateFieldGet(this,p,"f").toCbor())}return}setAuxiliaryData(e){__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,_,void 0,"f")}getId(){return __classPrivateFieldGet(this,f,"f").hash()}clone(){const e=this.toCbor();return Transaction.fromCbor(e)}constructor(e,t,r){f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,true);_.set(this,void 0);__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,h,t,"f");__classPrivateFieldSet(this,p,r,"f")}}f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap;const TxCBOR=e=>(0,n.HexBlob)(e);TxCBOR.serialize=e=>Transaction.fromCore(e).toCbor();const TxBodyCBOR=e=>(0,n.HexBlob)(e);TxBodyCBOR.fromTxCBOR=e=>Transaction.fromCbor(e).body().toCbor();const deserializeTx=e=>{const t=e instanceof u?e.toString("hex"):e instanceof Uint8Array?u.from(e).toString("hex"):e;const r=Transaction.fromCbor(TxCBOR(t));return r.toCore()};TxCBOR.deserialize=e=>deserializeTx(e)},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/Constitution.js":(e,t,r)=>{"use strict";r.d(t,{Constitution:()=>Constitution});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u,f;const h=2;class Constitution{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeEncodedValue((0,c.hexToBytes)(__classPrivateFieldGet(this,l,"f").toCbor()));__classPrivateFieldGet(this,u,"f")?e.writeByteString((0,c.hexToBytes)(__classPrivateFieldGet(this,u,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==h)throw new n.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const s=a.Anchor.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()));let c;if(t.peekState()===o.CborReaderState.Null)t.readNull();else c=d.HexBlob.fromBytes(t.readByteString());t.readEndArray();const l=new Constitution(s,c);__classPrivateFieldSet(l,f,e,"f");return l}toCore(){return{anchor:__classPrivateFieldGet(this,l,"f").toCore(),scriptHash:__classPrivateFieldGet(this,u,"f")?__classPrivateFieldGet(this,u,"f"):null}}static fromCore(e){return new Constitution(a.Anchor.fromCore(e.anchor),null!==e.scriptHash?e.scriptHash:void 0)}anchor(){return __classPrivateFieldGet(this,l,"f")}setAnchor(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}scriptHash(){return __classPrivateFieldGet(this,u,"f")}setScriptHash(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e,t){l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,t,"f")}}l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js":(e,t,r)=>{"use strict";r.d(t,{GovernanceActionKind:()=>a});var a;(function(e){e[e["ParameterChange"]=0]="ParameterChange";e[e["HardForkInitiation"]=1]="HardForkInitiation";e[e["TreasuryWithdrawals"]=2]="TreasuryWithdrawals";e[e["NoConfidence"]=3]="NoConfidence";e[e["UpdateCommittee"]=4]="UpdateCommittee";e[e["NewConstitution"]=5]="NewConstitution";e[e["Info"]=6]="Info"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/HardForkInitiationAction.js":(e,t,r)=>{"use strict";r.d(t,{HardForkInitiationAction:()=>HardForkInitiationAction});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ProtocolVersion.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m;const _=3;class HardForkInitiationAction{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,m,"f"))return __classPrivateFieldGet(this,m,"f");e.writeStartArray(_);e.writeInt(n.GovernanceActionKind.HardForkInitiation);__classPrivateFieldGet(this,p,"f")?e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,p,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,h,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==_)throw new c.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==n.GovernanceActionKind.HardForkInitiation)throw new c.InvalidArgumentError("cbor",`Expected action kind, expected ${n.GovernanceActionKind.HardForkInitiation} but got ${a}`);let d;if(t.peekState()===i.CborReaderState.Null)t.readNull();else d=o.GovernanceActionId.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));const f=u.ProtocolVersion.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));const h=new HardForkInitiationAction(f,d);__classPrivateFieldSet(h,m,e,"f");return h}toCore(){return{__typename:d.GovernanceActionType.hard_fork_initiation_action,governanceActionId:__classPrivateFieldGet(this,p,"f")?__classPrivateFieldGet(this,p,"f").toCore():null,protocolVersion:__classPrivateFieldGet(this,h,"f").toCore()}}static fromCore(e){return new HardForkInitiationAction(u.ProtocolVersion.fromCore(e.protocolVersion),null!==e.governanceActionId?o.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return __classPrivateFieldGet(this,p,"f")}protocolVersion(){return __classPrivateFieldGet(this,h,"f")}constructor(e,t){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,t,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/InfoAction.js":(e,t,r)=>{"use strict";r.d(t,{InfoAction:()=>InfoAction});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d;const c=1;class InfoAction{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,d,"f"))return __classPrivateFieldGet(this,d,"f");e.writeStartArray(c);e.writeInt(i.GovernanceActionKind.Info);return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==c)throw new n.InvalidArgumentError("cbor",`Expected an array of ${c} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==i.GovernanceActionKind.Info)throw new n.InvalidArgumentError("cbor",`Expected action kind, expected ${i.GovernanceActionKind.Info} but got ${a}`);const o=new InfoAction;__classPrivateFieldSet(o,d,e,"f");return o}toCore(){return{__typename:o.GovernanceActionType.info_action}}static fromCore(e){return new InfoAction}constructor(){d.set(this,void 0)}}d=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/NewConstitution.js":(e,t,r)=>{"use strict";r.d(t,{NewConstitution:()=>NewConstitution});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/Constitution.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m;const _=3;class NewConstitution{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,m,"f"))return __classPrivateFieldGet(this,m,"f");e.writeStartArray(_);e.writeInt(d.GovernanceActionKind.NewConstitution);__classPrivateFieldGet(this,p,"f")?e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,p,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,h,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==_)throw new l.InvalidArgumentError("cbor",`Expected an array of ${_} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==d.GovernanceActionKind.NewConstitution)throw new l.InvalidArgumentError("cbor",`Expected action kind, expected ${d.GovernanceActionKind.NewConstitution} but got ${a}`);let c;if(t.peekState()===i.CborReaderState.Null)t.readNull();else c=n.GovernanceActionId.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));const f=o.Constitution.fromCbor(u.HexBlob.fromBytes(t.readEncodedValue()));const h=new NewConstitution(f,c);__classPrivateFieldSet(h,m,e,"f");return h}toCore(){return{__typename:c.GovernanceActionType.new_constitution,constitution:__classPrivateFieldGet(this,h,"f").toCore(),governanceActionId:__classPrivateFieldGet(this,p,"f")?__classPrivateFieldGet(this,p,"f").toCore():null}}static fromCore(e){return new NewConstitution(o.Constitution.fromCore(e.constitution),null!==e.governanceActionId?n.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return __classPrivateFieldGet(this,p,"f")}constitution(){return __classPrivateFieldGet(this,h,"f")}constructor(e,t){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,t,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/NoConfidence.js":(e,t,r)=>{"use strict";r.d(t,{NoConfidence:()=>NoConfidence});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var f,h;const p=2;class NoConfidence{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");e.writeStartArray(p);e.writeInt(n.GovernanceActionKind.NoConfidence);__classPrivateFieldGet(this,f,"f")?e.writeEncodedValue((0,u.hexToBytes)(__classPrivateFieldGet(this,f,"f").toCbor())):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==p)throw new c.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==n.GovernanceActionKind.NoConfidence)throw new c.InvalidArgumentError("cbor",`Expected action kind, expected ${n.GovernanceActionKind.NoConfidence}  but got ${a}`);let d;if(t.peekState()===i.CborReaderState.Null)t.readNull();else d=o.GovernanceActionId.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));const u=new NoConfidence(d);__classPrivateFieldSet(u,h,e,"f");return u}toCore(){return{__typename:d.GovernanceActionType.no_confidence,governanceActionId:__classPrivateFieldGet(this,f,"f")?__classPrivateFieldGet(this,f,"f").toCore():null}}static fromCore(e){return new NoConfidence(null!==e.governanceActionId?o.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return __classPrivateFieldGet(this,f,"f")}constructor(e){f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,f,e,"f")}}f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/ParameterChangeAction.js":(e,t,r)=>{"use strict";r.d(t,{ParameterChangeAction:()=>ParameterChangeAction});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProtocolParamUpdate.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m,_;const v=4;class ParameterChangeAction{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,_,"f"))return __classPrivateFieldGet(this,_,"f");e.writeStartArray(v);e.writeInt(n.GovernanceActionKind.ParameterChange);__classPrivateFieldGet(this,p,"f")?e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,p,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,h,"f").toCbor()));__classPrivateFieldGet(this,m,"f")?e.writeByteString((0,f.hexToBytes)(__classPrivateFieldGet(this,m,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==v)throw new c.InvalidArgumentError("cbor",`Expected an array of ${v} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==n.GovernanceActionKind.ParameterChange)throw new c.InvalidArgumentError("cbor",`Expected action kind, expected ${n.GovernanceActionKind.ParameterChange} but got ${a}`);let d;if(t.peekState()===i.CborReaderState.Null)t.readNull();else d=o.GovernanceActionId.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));const f=u.ProtocolParamUpdate.fromCbor(l.HexBlob.fromBytes(t.readEncodedValue()));let h;if(t.peekState()===i.CborReaderState.Null)t.readNull();else h=l.HexBlob.fromBytes(t.readByteString());t.readEndArray();const p=new ParameterChangeAction(f,d,h);__classPrivateFieldSet(p,_,e,"f");return p}toCore(){return{__typename:d.GovernanceActionType.parameter_change_action,governanceActionId:__classPrivateFieldGet(this,p,"f")?__classPrivateFieldGet(this,p,"f").toCore():null,policyHash:__classPrivateFieldGet(this,m,"f")?__classPrivateFieldGet(this,m,"f"):null,protocolParamUpdate:__classPrivateFieldGet(this,h,"f").toCore()}}static fromCore(e){return new ParameterChangeAction(u.ProtocolParamUpdate.fromCore(e.protocolParamUpdate),null!==e.governanceActionId?o.GovernanceActionId.fromCore(e.governanceActionId):void 0,null!==e.policyHash?e.policyHash:void 0)}govActionId(){return __classPrivateFieldGet(this,p,"f")}protocolParamUpdate(){return __classPrivateFieldGet(this,h,"f")}policyHash(){return __classPrivateFieldGet(this,m,"f")}constructor(e,t,r){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,t,"f");__classPrivateFieldSet(this,m,r,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/ProposalProcedure.js":(e,t,r)=>{"use strict";r.d(t,{ProposalProcedure:()=>ProposalProcedure});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/HardForkInitiationAction.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var f=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/InfoAction.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/NewConstitution.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/NoConfidence.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/ParameterChangeAction.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/TreasuryWithdrawalsAction.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/UpdateCommittee.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var b=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var P,C,S,T,E,k,A,I,j,x,R,B;const O=4;class ProposalProcedure{toCbor(){const e=new o.CborWriter;if(__classPrivateFieldGet(this,B,"f"))return __classPrivateFieldGet(this,B,"f");let t;switch(__classPrivateFieldGet(this,I,"f")){case d.GovernanceActionKind.ParameterChange:t=__classPrivateFieldGet(this,P,"f").toCbor();break;case d.GovernanceActionKind.HardForkInitiation:t=__classPrivateFieldGet(this,C,"f").toCbor();break;case d.GovernanceActionKind.TreasuryWithdrawals:t=__classPrivateFieldGet(this,S,"f").toCbor();break;case d.GovernanceActionKind.NoConfidence:t=__classPrivateFieldGet(this,T,"f").toCbor();break;case d.GovernanceActionKind.UpdateCommittee:t=__classPrivateFieldGet(this,E,"f").toCbor();break;case d.GovernanceActionKind.NewConstitution:t=__classPrivateFieldGet(this,k,"f").toCbor();break;case d.GovernanceActionKind.Info:t=__classPrivateFieldGet(this,A,"f").toCbor();break;default:throw new u.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,I,"f")}`)}e.writeStartArray(O);e.writeInt(__classPrivateFieldGet(this,j,"f"));const r=a.RewardAddress.fromAddress(s.Address.fromBech32(__classPrivateFieldGet(this,x,"f")));if(!r){throw new v.SerializationError(v.SerializationFailure.InvalidAddress,`Invalid withdrawal address: ${__classPrivateFieldGet(this,x,"f")}`)}e.writeByteString(b.from(r.toAddress().toBytes(),"hex"));e.writeEncodedValue((0,g.hexToBytes)(t));e.writeEncodedValue((0,g.hexToBytes)(__classPrivateFieldGet(this,R,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){let t;const r=new n.CborReader(e);r.readStartArray();const a=r.readInt();const o=s.Address.fromBytes(f.HexBlob.fromBytes(r.readByteString())).toBech32();const c=f.HexBlob.fromBytes(r.readEncodedValue());const v=i.Anchor.fromCbor(f.HexBlob.fromBytes(r.readEncodedValue()));r.readEndArray();const g=new n.CborReader(c);g.readStartArray();let b;const P=Number(g.readInt());switch(P){case d.GovernanceActionKind.ParameterChange:b=_.ParameterChangeAction.fromCbor(c);t=ProposalProcedure.newParameterChangeAction(a,o,v,b);break;case d.GovernanceActionKind.HardForkInitiation:b=l.HardForkInitiationAction.fromCbor(c);t=ProposalProcedure.newHardForkInitiationAction(a,o,v,b);break;case d.GovernanceActionKind.TreasuryWithdrawals:b=y.TreasuryWithdrawalsAction.fromCbor(c);t=ProposalProcedure.newTreasuryWithdrawalsAction(a,o,v,b);break;case d.GovernanceActionKind.NoConfidence:b=m.NoConfidence.fromCbor(c);t=ProposalProcedure.newNoConfidence(a,o,v,b);break;case d.GovernanceActionKind.UpdateCommittee:b=w.UpdateCommittee.fromCbor(c);t=ProposalProcedure.newUpdateCommittee(a,o,v,b);break;case d.GovernanceActionKind.NewConstitution:b=p.NewConstitution.fromCbor(c);t=ProposalProcedure.newNewConstitution(a,o,v,b);break;case d.GovernanceActionKind.Info:b=h.InfoAction.fromCbor(c);t=ProposalProcedure.newInfoAction(a,o,v,b);break;default:throw new u.InvalidStateError(`Unexpected kind value: ${P}`)}__classPrivateFieldSet(t,B,e,"f");return t}toCore(){let e;switch(__classPrivateFieldGet(this,I,"f")){case d.GovernanceActionKind.ParameterChange:e=__classPrivateFieldGet(this,P,"f").toCore();break;case d.GovernanceActionKind.HardForkInitiation:e=__classPrivateFieldGet(this,C,"f").toCore();break;case d.GovernanceActionKind.TreasuryWithdrawals:e=__classPrivateFieldGet(this,S,"f").toCore();break;case d.GovernanceActionKind.NoConfidence:e=__classPrivateFieldGet(this,T,"f").toCore();break;case d.GovernanceActionKind.UpdateCommittee:e=__classPrivateFieldGet(this,E,"f").toCore();break;case d.GovernanceActionKind.NewConstitution:e=__classPrivateFieldGet(this,k,"f").toCore();break;case d.GovernanceActionKind.Info:e=__classPrivateFieldGet(this,A,"f").toCore();break;default:throw new u.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,I,"f")}`)}return{anchor:__classPrivateFieldGet(this,R,"f").toCore(),deposit:__classPrivateFieldGet(this,j,"f"),governanceAction:e,rewardAccount:__classPrivateFieldGet(this,x,"f")}}static fromCore(e){let t;let r;const a=i.Anchor.fromCore(e.anchor);switch(e.governanceAction.__typename){case c.GovernanceActionType.parameter_change_action:t=_.ParameterChangeAction.fromCore(e.governanceAction);r=ProposalProcedure.newParameterChangeAction(e.deposit,e.rewardAccount,a,t);break;case c.GovernanceActionType.hard_fork_initiation_action:t=l.HardForkInitiationAction.fromCore(e.governanceAction);r=ProposalProcedure.newHardForkInitiationAction(e.deposit,e.rewardAccount,a,t);break;case c.GovernanceActionType.treasury_withdrawals_action:t=y.TreasuryWithdrawalsAction.fromCore(e.governanceAction);r=ProposalProcedure.newTreasuryWithdrawalsAction(e.deposit,e.rewardAccount,a,t);break;case c.GovernanceActionType.no_confidence:t=m.NoConfidence.fromCore(e.governanceAction);r=ProposalProcedure.newNoConfidence(e.deposit,e.rewardAccount,a,t);break;case c.GovernanceActionType.update_committee:t=w.UpdateCommittee.fromCore(e.governanceAction);r=ProposalProcedure.newUpdateCommittee(e.deposit,e.rewardAccount,a,t);break;case c.GovernanceActionType.new_constitution:t=p.NewConstitution.fromCore(e.governanceAction);r=ProposalProcedure.newNewConstitution(e.deposit,e.rewardAccount,a,t);break;case c.GovernanceActionType.info_action:t=h.InfoAction.fromCore(e.governanceAction);r=ProposalProcedure.newInfoAction(e.deposit,e.rewardAccount,a,t);break;default:throw new u.InvalidStateError("Unexpected ProposalProcedure type")}return r}static newParameterChangeAction(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.ParameterChange,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,P,a,"f");return s}static newHardForkInitiationAction(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.HardForkInitiation,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,C,a,"f");return s}static newTreasuryWithdrawalsAction(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.TreasuryWithdrawals,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,S,a,"f");return s}static newNoConfidence(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.NoConfidence,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,T,a,"f");return s}static newUpdateCommittee(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.UpdateCommittee,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,E,a,"f");return s}static newNewConstitution(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.NewConstitution,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,k,a,"f");return s}static newInfoAction(e,t,r,a){const s=new ProposalProcedure;__classPrivateFieldSet(s,I,d.GovernanceActionKind.Info,"f");__classPrivateFieldSet(s,j,e,"f");__classPrivateFieldSet(s,x,t,"f");__classPrivateFieldSet(s,R,r,"f");__classPrivateFieldSet(s,A,a,"f");return s}kind(){return __classPrivateFieldGet(this,I,"f")}deposit(){return __classPrivateFieldGet(this,j,"f")}rewardAccount(){return __classPrivateFieldGet(this,x,"f")}anchor(){return __classPrivateFieldGet(this,R,"f")}getParameterChangeAction(){return __classPrivateFieldGet(this,P,"f")}getHardForkInitiationAction(){return __classPrivateFieldGet(this,C,"f")}getTreasuryWithdrawalsAction(){return __classPrivateFieldGet(this,S,"f")}getNoConfidence(){return __classPrivateFieldGet(this,T,"f")}getUpdateCommittee(){return __classPrivateFieldGet(this,E,"f")}getNewConstitution(){return __classPrivateFieldGet(this,k,"f")}getInfoAction(){return __classPrivateFieldGet(this,A,"f")}constructor(){P.set(this,void 0);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0);R.set(this,void 0);B.set(this,void 0)}}P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,R=new WeakMap,B=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/TreasuryWithdrawalsAction.js":(e,t,r)=>{"use strict";r.d(t,{TreasuryWithdrawalsAction:()=>TreasuryWithdrawalsAction});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var p=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var m,_,v;const y=3;class TreasuryWithdrawalsAction{toCbor(){const e=new i.CborWriter;if(__classPrivateFieldGet(this,v,"f"))return __classPrivateFieldGet(this,v,"f");e.writeStartArray(y);e.writeInt(d.GovernanceActionKind.TreasuryWithdrawals);const t=new Map([...__classPrivateFieldGet(this,m,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,o]of t){const n=a.RewardAddress.fromAddress(s.Address.fromBech32(r));if(!n){throw new f.SerializationError(f.SerializationFailure.InvalidAddress,`Invalid withdrawal address: ${r}`)}e.writeByteString(p.from(n.toAddress().toBytes(),"hex"));e.writeInt(o)}__classPrivateFieldGet(this,_,"f")?e.writeByteString((0,h.hexToBytes)(__classPrivateFieldGet(this,_,"f"))):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(r!==y)throw new l.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==d.GovernanceActionKind.TreasuryWithdrawals)throw new l.InvalidArgumentError("cbor",`Expected action kind, expected ${d.GovernanceActionKind.TreasuryWithdrawals} but got ${a}`);t.readStartMap();const i=new Map;while(t.peekState()!==n.CborReaderState.EndMap){const c=s.Address.fromBytes(u.HexBlob.fromBytes(t.readByteString())).toBech32();const f=t.readInt();i.set(c,f)}t.readEndMap();let h;if(t.peekState()===n.CborReaderState.Null)t.readNull();else h=u.HexBlob.fromBytes(t.readByteString());t.readEndArray();const p=new TreasuryWithdrawalsAction(i,h);__classPrivateFieldSet(p,v,e,"f");return p}toCore(){const e=new Set([...__classPrivateFieldGet(this,m,"f").entries()].map(e=>({coin:e[1],rewardAccount:e[0]})));return{__typename:c.GovernanceActionType.treasury_withdrawals_action,policyHash:__classPrivateFieldGet(this,_,"f")?__classPrivateFieldGet(this,_,"f"):null,withdrawals:e}}static fromCore(e){return new TreasuryWithdrawalsAction(new Map([...e.withdrawals].map(e=>[e.rewardAccount,e.coin])),null!==e.policyHash?e.policyHash:void 0)}withdrawals(){return __classPrivateFieldGet(this,m,"f")}policyHash(){return __classPrivateFieldGet(this,_,"f")}constructor(e,t){m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);__classPrivateFieldSet(this,m,e,"f");__classPrivateFieldSet(this,_,t,"f")}}m=new WeakMap,_=new WeakMap,v=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/UpdateCommittee.js":(e,t,r)=>{"use strict";r.d(t,{UpdateCommittee:()=>UpdateCommittee});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/CborSet.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Credential.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var h=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var p=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var _,v,y,w,g;const b=5;const P=2;const C=0;const S=1;class UpdateCommittee{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,g,"f"))return __classPrivateFieldGet(this,g,"f");e.writeStartArray(b);e.writeInt(f.GovernanceActionKind.UpdateCommittee);__classPrivateFieldGet(this,_,"f")?e.writeEncodedValue((0,m.hexToBytes)(__classPrivateFieldGet(this,_,"f").toCbor())):e.writeNull();e.writeEncodedValue((0,m.hexToBytes)(__classPrivateFieldGet(this,v,"f").toCbor()));e.writeStartMap(__classPrivateFieldGet(this,y,"f").length);for(const t of __classPrivateFieldGet(this,y,"f")){e.writeStartArray(P);e.writeInt(t[C].type);e.writeByteString((0,m.hexToBytes)(t[C].hash));e.writeInt(t[S])}e.writeEncodedValue((0,m.hexToBytes)(__classPrivateFieldGet(this,w,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==b)throw new h.InvalidArgumentError("cbor",`Expected an array of ${b} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());if(a!==f.GovernanceActionKind.UpdateCommittee)throw new h.InvalidArgumentError("cbor",`Expected action kind, expected ${f.GovernanceActionKind.UpdateCommittee} but got ${a}`);let c;if(t.peekState()===i.CborReaderState.Null)t.readNull();else c=u.GovernanceActionId.fromCbor(p.HexBlob.fromBytes(t.readEncodedValue()));const l=o.CborSet.fromCbor(p.HexBlob.fromBytes(t.readEncodedValue()),n.Credential.fromCbor);t.readStartMap();const m=[];while(t.peekState()!==i.CborReaderState.EndMap){if(t.readStartArray()!==P)throw new h.InvalidArgumentError("cbor",`Expected an array of ${P} elements, but got an array of ${r} elements`);const _=Number(t.readUInt());const v=p.HexBlob.fromBytes(t.readByteString());t.readEndArray();const y=Number(t.readUInt());m.push([{hash:v,type:_},y])}t.readEndMap();const w=d.UnitInterval.fromCbor(p.HexBlob.fromBytes(t.readEncodedValue()));const C=new UpdateCommittee(l,m,w,c);__classPrivateFieldSet(C,g,e,"f");return C}toCore(){return{__typename:c.GovernanceActionType.update_committee,governanceActionId:__classPrivateFieldGet(this,_,"f")?__classPrivateFieldGet(this,_,"f").toCore():null,membersToBeAdded:new Set(__classPrivateFieldGet(this,y,"f").map(e=>({coldCredential:e[C],epoch:(0,l.EpochNo)(e[S])}))),membersToBeRemoved:new Set(__classPrivateFieldGet(this,v,"f").toCore()),newQuorumThreshold:__classPrivateFieldGet(this,w,"f").toCore()}}static fromCore(e){return new UpdateCommittee(o.CborSet.fromCore([...e.membersToBeRemoved],n.Credential.fromCore),[...e.membersToBeAdded].map(e=>[e.coldCredential,e.epoch]),d.UnitInterval.fromCore(e.newQuorumThreshold),null!==e.governanceActionId?u.GovernanceActionId.fromCore(e.governanceActionId):void 0)}govActionId(){return __classPrivateFieldGet(this,_,"f")}membersToBeRemoved(){return __classPrivateFieldGet(this,v,"f").toCore()}membersToBeAdded(){return __classPrivateFieldGet(this,y,"f")}newQuorum(){return __classPrivateFieldGet(this,w,"f")}constructor(e,t,r,a){_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);__classPrivateFieldSet(this,v,e,"f");__classPrivateFieldSet(this,y,t,"f");__classPrivateFieldSet(this,w,r,"f");__classPrivateFieldSet(this,_,a,"f")}}_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionBody.js":(e,t,r)=>{"use strict";r.d(t,{TransactionBody:()=>TransactionBody});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/CborSet.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Hash.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Certificate.js");var h=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/ProposalProcedure.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionInput.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionOutput.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Update.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VotingProcedures.js");var b=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var P=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Utils.js");var C=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var S,T,E,k,A,I,j,x,R,B,O,D,M,F,N,H,G,V,K,L,z,U,W,$;class TransactionBody{toCbor(){var e;const t=new o.CborWriter;if(__classPrivateFieldGet(this,W,"f"))return __classPrivateFieldGet(this,W,"f");t.writeStartMap(__classPrivateFieldGet(this,S,"m",$).call(this));if(void 0!==__classPrivateFieldGet(this,T,"f")&&__classPrivateFieldGet(this,T,"f").size()>0){t.writeInt(0n);t.writeEncodedValue((0,b.hexToBytes)(__classPrivateFieldGet(this,T,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,E,"f")){t.writeInt(1n);t.writeStartArray(__classPrivateFieldGet(this,E,"f").length);for(const r of __classPrivateFieldGet(this,E,"f"))t.writeEncodedValue(C.from(r.toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,k,"f")){t.writeInt(2n);t.writeInt(__classPrivateFieldGet(this,k,"f"))}if(void 0!==__classPrivateFieldGet(this,A,"f")){t.writeInt(3n);t.writeInt(__classPrivateFieldGet(this,A,"f"))}if(void 0!==__classPrivateFieldGet(this,I,"f")&&__classPrivateFieldGet(this,I,"f").size()>0){t.writeInt(4n);t.writeEncodedValue((0,b.hexToBytes)(__classPrivateFieldGet(this,I,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,j,"f")&&__classPrivateFieldGet(this,j,"f").size>0){t.writeInt(5n);const a=new Map;for(const[n,d]of __classPrivateFieldGet(this,j,"f")){const c=s.RewardAddress.fromAddress(i.Address.fromBech32(n));if(!c){throw new m.SerializationError(m.SerializationFailure.InvalidAddress,`Invalid withdrawal address: ${n}`)}const l=c.toAddress().toBytes();a.set(l,d)}const u=[...a].sort((e,t)=>e>t?1:-1);t.writeStartMap(u.length);for(const[f,h]of u){t.writeByteString(C.from(f,"hex"));t.writeInt(h)}}if(void 0!==__classPrivateFieldGet(this,x,"f")){t.writeInt(6n);t.writeEncodedValue(C.from(__classPrivateFieldGet(this,x,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,R,"f")){t.writeInt(7n);t.writeByteString(C.from(__classPrivateFieldGet(this,R,"f"),"hex"))}if(void 0!==__classPrivateFieldGet(this,B,"f")){t.writeInt(8n);t.writeInt(__classPrivateFieldGet(this,B,"f"))}if(void 0!==__classPrivateFieldGet(this,O,"f")&&__classPrivateFieldGet(this,O,"f").size>0){t.writeInt(9n);const p=(0,P.tokenMapToMultiAsset)(__classPrivateFieldGet(this,O,"f"));t.writeStartMap(p.size);const _=new Map([...p.entries()].sort(P.sortCanonically));for(const[v,y]of _.entries()){t.writeByteString(C.from(v,"hex"));const w=new Map([...y.entries()].sort(P.sortCanonically));t.writeStartMap(w.size);for(const[g,q]of w.entries()){t.writeByteString(C.from(g,"hex"));t.writeInt(q)}}}if(void 0!==__classPrivateFieldGet(this,D,"f")){t.writeInt(11n);t.writeByteString(C.from(__classPrivateFieldGet(this,D,"f"),"hex"))}if(void 0!==__classPrivateFieldGet(this,M,"f")&&__classPrivateFieldGet(this,M,"f").size()>0){t.writeInt(13n);t.writeEncodedValue((0,b.hexToBytes)(__classPrivateFieldGet(this,M,"f").toCbor()))}if((null===(e=__classPrivateFieldGet(this,F,"f"))||void 0===e?void 0:e.values())!==void 0&&__classPrivateFieldGet(this,F,"f").size()>0){t.writeInt(14n);t.writeEncodedValue((0,b.hexToBytes)(__classPrivateFieldGet(this,F,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,N,"f")){t.writeInt(15n);t.writeInt(__classPrivateFieldGet(this,N,"f"))}if(void 0!==__classPrivateFieldGet(this,H,"f")){t.writeInt(16n);t.writeEncodedValue(C.from(__classPrivateFieldGet(this,H,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,G,"f")){t.writeInt(17n);t.writeInt(__classPrivateFieldGet(this,G,"f"))}if(void 0!==__classPrivateFieldGet(this,V,"f")&&__classPrivateFieldGet(this,V,"f").size()>0){t.writeInt(18n);t.writeEncodedValue((0,b.hexToBytes)(__classPrivateFieldGet(this,V,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,K,"f")){t.writeInt(19n);t.writeEncodedValue(C.from(__classPrivateFieldGet(this,K,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,L,"f")&&__classPrivateFieldGet(this,L,"f").size()>0){t.writeInt(20n);t.writeEncodedValue((0,b.hexToBytes)(__classPrivateFieldGet(this,L,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,z,"f")){t.writeInt(21n);t.writeInt(__classPrivateFieldGet(this,z,"f"))}if(void 0!==__classPrivateFieldGet(this,U,"f")){t.writeInt(22n);t.writeInt(__classPrivateFieldGet(this,U,"f"))}return t.encodeAsHex()}static fromCbor(e){const t=new n.CborReader(e);const r=l.CborSet.fromCore([],v.TransactionInput.fromCore);const a=new Array;const s=0n;const o=new TransactionBody(r,a,s);t.readStartMap();while(t.peekState()!==d.CborReaderState.EndMap){const c=t.readInt();switch(c){case 0n:{const m=t.readEncodedValue();o.setInputs(l.CborSet.fromCbor(h.HexBlob.fromBytes(m),v.TransactionInput.fromCbor));break}case 1n:t.readStartArray();while(t.peekState()!==d.CborReaderState.EndArray){o.outputs().push(y.TransactionOutput.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())))}t.readEndArray();break;case 2n:o.setFee(t.readInt());break;case 3n:o.setTtl((0,_.Slot)(Number(t.readInt())));break;case 4n:o.setCerts(l.CborSet.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()),f.Certificate.fromCbor));break;case 5n:t.readStartMap();o.setWithdrawals(new Map);while(t.peekState()!==d.CborReaderState.EndMap){const b=i.Address.fromBytes(h.HexBlob.fromBytes(t.readByteString())).toBech32();const S=t.readInt();o.withdrawals().set(b,S)}t.readEndMap();break;case 6n:o.setUpdate(w.Update.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())));break;case 7n:o.setAuxiliaryDataHash(h.HexBlob.fromBytes(t.readByteString()));break;case 8n:o.setValidityStartInterval((0,_.Slot)(Number(t.readInt())));break;case 9n:{const T=new Map;t.readStartMap();while(t.peekState()!==d.CborReaderState.EndMap){const E=h.HexBlob.fromBytes(t.readByteString());if(!T.has(E))T.set(E,new Map);t.readStartMap();while(t.peekState()!==d.CborReaderState.EndMap){const k=C.from(t.readByteString()).toString("hex");const A=t.readInt();T.get(E).set(k,A)}t.readEndMap()}t.readEndMap();o.setMint((0,P.multiAssetsToTokenMap)(T));break}case 11n:o.setScriptDataHash(h.HexBlob.fromBytes(t.readByteString()));break;case 13n:o.setCollateral(l.CborSet.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()),v.TransactionInput.fromCbor));break;case 14n:o.setRequiredSigners(l.CborSet.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()),u.Hash.fromCbor));break;case 15n:o.setNetworkId(Number(t.readInt()));break;case 16n:o.setCollateralReturn(y.TransactionOutput.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())));break;case 17n:o.setTotalCollateral(t.readInt());break;case 18n:o.setReferenceInputs(l.CborSet.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()),v.TransactionInput.fromCbor));break;case 19n:o.setVotingProcedures(g.VotingProcedures.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())));break;case 20n:o.setProposalProcedures(l.CborSet.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue()),p.ProposalProcedure.fromCbor));break;case 21n:o.setCurrentTreasuryValue(t.readInt());break;case 22n:o.setDonation(t.readInt());break}}t.readEndMap();__classPrivateFieldSet(o,W,e,"f");return o}toCore(){var e,t,r,a,s,i;return{auxiliaryDataHash:__classPrivateFieldGet(this,R,"f"),certificates:(null===(e=__classPrivateFieldGet(this,I,"f"))||void 0===e?void 0:e.values())?__classPrivateFieldGet(this,I,"f").toCore():void 0,collateralReturn:null===(t=__classPrivateFieldGet(this,H,"f"))||void 0===t?void 0:t.toCore(),collaterals:(null===(r=__classPrivateFieldGet(this,M,"f"))||void 0===r?void 0:r.values())?__classPrivateFieldGet(this,M,"f").toCore():void 0,donation:__classPrivateFieldGet(this,U,"f"),fee:__classPrivateFieldGet(this,k,"f"),inputs:__classPrivateFieldGet(this,T,"f").toCore(),mint:__classPrivateFieldGet(this,O,"f"),networkId:__classPrivateFieldGet(this,N,"f"),outputs:__classPrivateFieldGet(this,E,"f").map(e=>e.toCore()),proposalProcedures:(null===(a=__classPrivateFieldGet(this,L,"f"))||void 0===a?void 0:a.values())?__classPrivateFieldGet(this,L,"f").toCore():void 0,referenceInputs:(null===(s=__classPrivateFieldGet(this,V,"f"))||void 0===s?void 0:s.size())?__classPrivateFieldGet(this,V,"f").toCore():void 0,requiredExtraSignatures:null===(i=__classPrivateFieldGet(this,F,"f"))||void 0===i?void 0:i.toCore(),scriptIntegrityHash:__classPrivateFieldGet(this,D,"f"),totalCollateral:__classPrivateFieldGet(this,G,"f"),treasuryValue:__classPrivateFieldGet(this,z,"f"),update:__classPrivateFieldGet(this,x,"f")?__classPrivateFieldGet(this,x,"f").toCore():void 0,validityInterval:void 0!==__classPrivateFieldGet(this,A,"f")||void 0!==__classPrivateFieldGet(this,B,"f")?{invalidBefore:__classPrivateFieldGet(this,B,"f"),invalidHereafter:__classPrivateFieldGet(this,A,"f")}:void 0,votingProcedures:__classPrivateFieldGet(this,K,"f")?__classPrivateFieldGet(this,K,"f").toCore():void 0,withdrawals:__classPrivateFieldGet(this,j,"f")?[...__classPrivateFieldGet(this,j,"f")].map(([e,t])=>({quantity:t,stakeAddress:e})):void 0}}static fromCore(e){const t=new TransactionBody(l.CborSet.fromCore(e.inputs,v.TransactionInput.fromCore),e.outputs.map(e=>y.TransactionOutput.fromCore(e)),e.fee);if(e.auxiliaryDataHash)t.setAuxiliaryDataHash(e.auxiliaryDataHash);if(e.certificates)t.setCerts(l.CborSet.fromCore(e.certificates,f.Certificate.fromCore));if(e.collateralReturn)t.setCollateralReturn(y.TransactionOutput.fromCore(e.collateralReturn));if(e.collaterals)t.setCollateral(l.CborSet.fromCore(e.collaterals,v.TransactionInput.fromCore));if(e.mint)t.setMint(e.mint);if(void 0!==e.networkId)t.setNetworkId(e.networkId);if(e.referenceInputs)t.setReferenceInputs(l.CborSet.fromCore(e.referenceInputs,v.TransactionInput.fromCore));if(e.requiredExtraSignatures)t.setRequiredSigners(l.CborSet.fromCore(e.requiredExtraSignatures,u.Hash.fromCore));if(e.scriptIntegrityHash)t.setScriptDataHash(e.scriptIntegrityHash);if(void 0!==e.totalCollateral)t.setTotalCollateral(e.totalCollateral);if(e.update)t.setUpdate(w.Update.fromCore(e.update));if(e.validityInterval){if(void 0!==e.validityInterval.invalidHereafter)t.setTtl(e.validityInterval.invalidHereafter);if(void 0!==e.validityInterval.invalidBefore)t.setValidityStartInterval(e.validityInterval.invalidBefore)}if(e.withdrawals){t.setWithdrawals(new Map);for(const r of e.withdrawals)t.withdrawals().set(r.stakeAddress,r.quantity)}if(void 0!==e.donation)t.setDonation(e.donation);if(void 0!==e.treasuryValue)t.setCurrentTreasuryValue(e.treasuryValue);if(e.votingProcedures)t.setVotingProcedures(g.VotingProcedures.fromCore(e.votingProcedures));if(e.proposalProcedures)t.setProposalProcedures(l.CborSet.fromCore(e.proposalProcedures,p.ProposalProcedure.fromCore));return t}setInputs(e){__classPrivateFieldSet(this,T,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}inputs(){return __classPrivateFieldGet(this,T,"f")}setOutputs(e){__classPrivateFieldSet(this,E,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}outputs(){return __classPrivateFieldGet(this,E,"f")}setFee(e){__classPrivateFieldSet(this,k,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}fee(){return __classPrivateFieldGet(this,k,"f")}setTtl(e){__classPrivateFieldSet(this,A,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}ttl(){return __classPrivateFieldGet(this,A,"f")}setCerts(e){__classPrivateFieldSet(this,I,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}certs(){return __classPrivateFieldGet(this,I,"f")}setWithdrawals(e){__classPrivateFieldSet(this,j,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}withdrawals(){return __classPrivateFieldGet(this,j,"f")}setUpdate(e){__classPrivateFieldSet(this,x,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}update(){return __classPrivateFieldGet(this,x,"f")}setAuxiliaryDataHash(e){__classPrivateFieldSet(this,R,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}auxiliaryDataHash(){return __classPrivateFieldGet(this,R,"f")}setValidityStartInterval(e){__classPrivateFieldSet(this,B,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}validityStartInterval(){return __classPrivateFieldGet(this,B,"f")}setMint(e){__classPrivateFieldSet(this,O,(0,P.multiAssetsToTokenMap)(new Map([...(0,P.tokenMapToMultiAsset)(e).entries()].sort(P.sortCanonically))),"f");__classPrivateFieldSet(this,W,void 0,"f")}mint(){return __classPrivateFieldGet(this,O,"f")}setScriptDataHash(e){__classPrivateFieldSet(this,D,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}scriptDataHash(){return __classPrivateFieldGet(this,D,"f")}setCollateral(e){__classPrivateFieldSet(this,M,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}collateral(){return __classPrivateFieldGet(this,M,"f")}setRequiredSigners(e){__classPrivateFieldSet(this,F,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}requiredSigners(){return __classPrivateFieldGet(this,F,"f")}setNetworkId(e){__classPrivateFieldSet(this,N,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}networkId(){return __classPrivateFieldGet(this,N,"f")}setCollateralReturn(e){__classPrivateFieldSet(this,H,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}collateralReturn(){return __classPrivateFieldGet(this,H,"f")}setTotalCollateral(e){__classPrivateFieldSet(this,G,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}totalCollateral(){return __classPrivateFieldGet(this,G,"f")}setReferenceInputs(e){__classPrivateFieldSet(this,V,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}referenceInputs(){return __classPrivateFieldGet(this,V,"f")}setVotingProcedures(e){__classPrivateFieldSet(this,K,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}votingProcedures(){return __classPrivateFieldGet(this,K,"f")}setProposalProcedures(e){__classPrivateFieldSet(this,L,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}proposalProcedures(){return __classPrivateFieldGet(this,L,"f")}setCurrentTreasuryValue(e){__classPrivateFieldSet(this,z,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}currentTreasuryValue(){return __classPrivateFieldGet(this,z,"f")}setDonation(e){__classPrivateFieldSet(this,U,e,"f");__classPrivateFieldSet(this,W,void 0,"f")}donation(){return __classPrivateFieldGet(this,U,"f")}hash(){return a.blake2b.hash(this.toCbor(),32)}hasTaggedSets(){const e=new n.CborReader(__classPrivateFieldGet(this,T,"f").toCbor());return e.peekState()===d.CborReaderState.Tag&&e.peekTag()===c.CborTag.Set}hasBabbageOutput(){if(0===__classPrivateFieldGet(this,E,"f").length)return false;const e=new n.CborReader(__classPrivateFieldGet(this,E,"f")[0].toCbor());return e.peekState()===d.CborReaderState.StartMap}constructor(e,t,r,a){S.add(this);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0);R.set(this,void 0);B.set(this,void 0);O.set(this,void 0);D.set(this,void 0);M.set(this,void 0);F.set(this,void 0);N.set(this,void 0);H.set(this,void 0);G.set(this,void 0);V.set(this,void 0);K.set(this,void 0);L.set(this,void 0);z.set(this,void 0);U.set(this,void 0);W.set(this,void 0);__classPrivateFieldSet(this,T,e,"f");__classPrivateFieldSet(this,E,t,"f");__classPrivateFieldSet(this,k,r,"f");__classPrivateFieldSet(this,A,a,"f")}}T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,R=new WeakMap,B=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,F=new WeakMap,N=new WeakMap,H=new WeakMap,G=new WeakMap,V=new WeakMap,K=new WeakMap,L=new WeakMap,z=new WeakMap,U=new WeakMap,W=new WeakMap,S=new WeakSet,$=function _TransactionBody_getMapSize(){var e;let t=0;if(void 0!==__classPrivateFieldGet(this,T,"f")&&__classPrivateFieldGet(this,T,"f").size()>0)++t;if(void 0!==__classPrivateFieldGet(this,E,"f"))++t;if(void 0!==__classPrivateFieldGet(this,k,"f"))++t;if(void 0!==__classPrivateFieldGet(this,A,"f"))++t;if(void 0!==__classPrivateFieldGet(this,I,"f")&&__classPrivateFieldGet(this,I,"f").size()>0)++t;if(void 0!==__classPrivateFieldGet(this,j,"f")&&__classPrivateFieldGet(this,j,"f").size>0)++t;if(void 0!==__classPrivateFieldGet(this,x,"f"))++t;if(void 0!==__classPrivateFieldGet(this,R,"f"))++t;if(void 0!==__classPrivateFieldGet(this,B,"f"))++t;if(void 0!==__classPrivateFieldGet(this,O,"f")&&__classPrivateFieldGet(this,O,"f").size>0)++t;if(void 0!==__classPrivateFieldGet(this,D,"f"))++t;if(void 0!==__classPrivateFieldGet(this,M,"f")&&__classPrivateFieldGet(this,M,"f").size()>0)++t;if((null===(e=__classPrivateFieldGet(this,F,"f"))||void 0===e?void 0:e.values())!==void 0&&__classPrivateFieldGet(this,F,"f").size()>0)++t;if(void 0!==__classPrivateFieldGet(this,N,"f"))++t;if(void 0!==__classPrivateFieldGet(this,H,"f"))++t;if(void 0!==__classPrivateFieldGet(this,G,"f"))++t;if(void 0!==__classPrivateFieldGet(this,V,"f")&&__classPrivateFieldGet(this,V,"f").size()>0)++t;if(void 0!==__classPrivateFieldGet(this,K,"f"))++t;if(void 0!==__classPrivateFieldGet(this,L,"f")&&__classPrivateFieldGet(this,L,"f").size()>0)++t;if(void 0!==__classPrivateFieldGet(this,z,"f"))++t;if(void 0!==__classPrivateFieldGet(this,U,"f"))++t;return t}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionInput.js":(e,t,r)=>{"use strict";r.d(t,{TransactionInput:()=>TransactionInput});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l;const u=2;class TransactionInput{toCbor(){if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");const e=new a.CborWriter;e.writeStartArray(u);e.writeByteString(n.from(__classPrivateFieldGet(this,d,"f"),"hex"));e.writeInt(__classPrivateFieldGet(this,c,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==u)throw new i.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=t.readByteString();const n=t.readInt();const d=new TransactionInput(o.HexBlob.fromBytes(a),n);__classPrivateFieldSet(d,l,e,"f");return d}toCore(){return{index:Number(__classPrivateFieldGet(this,c,"f")),txId:__classPrivateFieldGet(this,d,"f")}}static fromCore(e){return new TransactionInput(e.txId,BigInt(e.index))}transactionId(){return __classPrivateFieldGet(this,d,"f")}setTransactionId(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}index(){return __classPrivateFieldGet(this,c,"f")}setIndex(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}constructor(e,t){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionOutput.js":(e,t,r)=>{"use strict";r.d(t,{REQUIRED_FIELDS_COUNT:()=>P,TransactionOutput:()=>TransactionOutput});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Datum.js");var c=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/Script.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Value.js");var p=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var m,_,v,y,w,g,b;const P=2;class TransactionOutput{toCbor(){if(__classPrivateFieldGet(this,g,"f"))return __classPrivateFieldGet(this,g,"f");const e=new s.CborWriter;const t=__classPrivateFieldGet(this,m,"m",b).call(this);if(t===P||3===t&&void 0!==__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").kind()===d.DatumKind.DataHash){e.writeStartArray(t);e.writeByteString(p.from(__classPrivateFieldGet(this,_,"f").toBytes(),"hex"));e.writeEncodedValue(p.from(__classPrivateFieldGet(this,v,"f").toCbor(),"hex"));if(void 0!==__classPrivateFieldGet(this,y,"f"))e.writeByteString(p.from(__classPrivateFieldGet(this,y,"f").asDataHash(),"hex"))}else{e.writeStartMap(t);e.writeInt(0n);e.writeByteString(p.from(__classPrivateFieldGet(this,_,"f").toBytes(),"hex"));e.writeInt(1n);e.writeEncodedValue(p.from(__classPrivateFieldGet(this,v,"f").toCbor(),"hex"));if(void 0!==__classPrivateFieldGet(this,y,"f")){e.writeInt(2n);e.writeStartArray(2);e.writeInt(__classPrivateFieldGet(this,y,"f").kind());switch(__classPrivateFieldGet(this,y,"f").kind()){case d.DatumKind.DataHash:e.writeByteString(p.from(__classPrivateFieldGet(this,y,"f").asDataHash(),"hex"));break;case d.DatumKind.InlineData:e.writeTag(i.CborTag.EncodedCborDataItem);e.writeByteString(p.from(__classPrivateFieldGet(this,y,"f").asInlineData().toCbor(),"hex"));break}}if(void 0!==__classPrivateFieldGet(this,w,"f")){e.writeInt(3n);e.writeTag(i.CborTag.EncodedCborDataItem);e.writeByteString(p.from(__classPrivateFieldGet(this,w,"f").toCbor(),"hex"))}}return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);let r;let s;let p;let m;if(t.peekState()===n.CborReaderState.StartMap){t.readStartMap();while(t.peekState()!==n.CborReaderState.EndMap){const _=t.readInt();switch(_){case 0n:r=a.Address.fromBytes(c.HexBlob.fromBytes(t.readByteString()));break;case 1n:s=h.Value.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));break;case 2n:{const v=new o.CborReader(c.HexBlob.fromBytes(t.readEncodedValue()));v.readStartArray();const y=Number(v.readInt());if(y===d.DatumKind.InlineData){const w=v.readTag();if(w!==i.CborTag.EncodedCborDataItem)throw new l.InvalidArgumentError("cbor",`Expected tag ${i.CborTag.EncodedCborDataItem} but got ${w}`)}const b=v.readByteString();let P;let C;if(y===d.DatumKind.DataHash)P=c.HexBlob.fromBytes(b);if(y===d.DatumKind.InlineData)C=u.PlutusData.fromCbor(c.HexBlob.fromBytes(b));p=new d.Datum(P,C);break}case 3n:{const S=new o.CborReader(c.HexBlob.fromBytes(t.readEncodedValue()));const T=S.readTag();if(T!==i.CborTag.EncodedCborDataItem)throw new l.InvalidArgumentError("cbor",`Expected tag ${i.CborTag.EncodedCborDataItem} but got ${T}`);const E=S.readByteString();m=f.Script.fromCbor(c.HexBlob.fromBytes(E));break}}}t.readEndMap()}else{const k=t.readStartArray();r=a.Address.fromBytes(c.HexBlob.fromBytes(t.readByteString()));s=h.Value.fromCbor(c.HexBlob.fromBytes(t.readEncodedValue()));if(3===k){const A=t.readByteString();p=d.Datum.newDataHash(c.HexBlob.fromBytes(A))}}if(!r)throw new l.InvalidArgumentError("cbor","Transaction output does not contain an address.");if(!s)throw new l.InvalidArgumentError("cbor","Transaction output does not contain a value.");const I=new TransactionOutput(r,s);if(p)I.setDatum(p);if(m)I.setScriptRef(m);__classPrivateFieldSet(I,g,e,"f");return I}toCore(){var e;const t=__classPrivateFieldGet(this,v,"f").toCore();if(!t.assets)delete t.assets;const r={address:__classPrivateFieldGet(this,_,"f").asByron()?__classPrivateFieldGet(this,_,"f").toBase58():__classPrivateFieldGet(this,_,"f").toBech32(),value:t};if(__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").kind()===d.DatumKind.InlineData)r.datum=null===(e=__classPrivateFieldGet(this,y,"f").asInlineData())||void 0===e?void 0:e.toCore();if(__classPrivateFieldGet(this,y,"f")&&__classPrivateFieldGet(this,y,"f").kind()===d.DatumKind.DataHash)r.datumHash=__classPrivateFieldGet(this,y,"f").asDataHash();if(__classPrivateFieldGet(this,w,"f"))r.scriptReference=__classPrivateFieldGet(this,w,"f").toCore();return r}static fromCore(e){const t=a.Address.fromString(e.address);if(!t)throw new l.InvalidArgumentError("coreTransactionOutput",`Invalid address ${t}`);const r=new TransactionOutput(t,h.Value.fromCore(e.value));if(e.datum)r.setDatum(d.Datum.fromCore(e.datum));if(e.datumHash)r.setDatum(d.Datum.fromCore(e.datumHash));if(e.scriptReference)r.setScriptRef(f.Script.fromCore(e.scriptReference));return r}address(){return __classPrivateFieldGet(this,_,"f")}amount(){return __classPrivateFieldGet(this,v,"f")}datum(){return __classPrivateFieldGet(this,y,"f")}setDatum(e){__classPrivateFieldSet(this,y,e,"f")}scriptRef(){return __classPrivateFieldGet(this,w,"f")}setScriptRef(e){__classPrivateFieldSet(this,w,e,"f")}isBabbageOutput(){const e=new o.CborReader(this.toCbor());return e.peekState()===n.CborReaderState.StartMap}constructor(e,t){m.add(this);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);__classPrivateFieldSet(this,_,e,"f");__classPrivateFieldSet(this,v,t,"f")}}_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,m=new WeakSet,b=function _TransactionOutput_getMapSize(){let e=P;if(__classPrivateFieldGet(this,y,"f"))++e;if(__classPrivateFieldGet(this,w,"f"))++e;return e}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Utils.js":(e,t,r)=>{"use strict";r.d(t,{multiAssetsToTokenMap:()=>multiAssetsToTokenMap,sortCanonically:()=>sortCanonically,tokenMapToMultiAsset:()=>tokenMapToMultiAsset});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");const sortCanonically=(e,t)=>{if(e[0].length===t[0].length){return e[0]>t[0]?1:-1}if(e[0].length>t[0].length)return 1;return -1};const tokenMapToMultiAsset=e=>{const t=new Map;const r=new Map([...e.entries()].sort(sortCanonically));for(const[s,i]of r.entries()){const o=a.AssetId.getPolicyId(s);const n=a.AssetId.getAssetName(s);if(!t.has(o))t.set(o,new Map);t.get(o).set(n,i)}return t};const multiAssetsToTokenMap=e=>{const t=new Map;for(const[r,s]of e.entries()){for(const[i,o]of s.entries()){const n=a.AssetId.fromParts(r,i);t.set(n,o)}}return t}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Value.js":(e,t,r)=>{"use strict";r.d(t,{Value:()=>Value});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Utils.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u,f;const h=2;class Value{toCbor(){if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");const e=new a.CborWriter;if(!__classPrivateFieldGet(this,u,"f")||__classPrivateFieldGet(this,u,"f").size<=0)e.writeInt(__classPrivateFieldGet(this,l,"f"));else{e.writeStartArray(h);e.writeInt(__classPrivateFieldGet(this,l,"f"));const t=(0,d.tokenMapToMultiAsset)(__classPrivateFieldGet(this,u,"f"));const r=new Map([...t.entries()].sort(d.sortCanonically));e.writeStartMap(r.size);for(const[s,i]of r.entries()){e.writeByteString(c.from(s,"hex"));const o=new Map([...i.entries()].sort(d.sortCanonically));e.writeStartMap(o.size);for(const[n,p]of o.entries()){e.writeByteString(c.from(n,"hex"));e.writeInt(p)}}}return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);if(t.peekState()===i.CborReaderState.UnsignedInteger){const r=t.readUInt();return new Value(r)}const a=t.readStartArray();if(a!==h)throw new o.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${a} elements`);const l=t.readUInt();const u=new Map;t.readStartMap();while(t.peekState()!==i.CborReaderState.EndMap){const p=n.HexBlob.fromBytes(t.readByteString());if(!u.has(p))u.set(p,new Map);t.readStartMap();while(t.peekState()!==i.CborReaderState.EndMap){const m=c.from(t.readByteString()).toString("hex");const _=t.readUInt();u.get(p).set(m,_)}t.readEndMap()}t.readEndMap();const v=new Map([...(0,d.multiAssetsToTokenMap)(u)].sort(d.sortCanonically));const y=new Value(l,v);__classPrivateFieldSet(y,f,e,"f");return y}toCore(){return{assets:__classPrivateFieldGet(this,u,"f"),coins:__classPrivateFieldGet(this,l,"f")}}static fromCore(e){return new Value(e.coins,e.assets)}coin(){return __classPrivateFieldGet(this,l,"f")}setCoin(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}multiasset(){return __classPrivateFieldGet(this,u,"f")}setMultiasset(e){__classPrivateFieldSet(this,u,(0,d.multiAssetsToTokenMap)(new Map([...(0,d.tokenMapToMultiAsset)(e).entries()].sort(d.sortCanonically))),"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e,t){l.set(this,0n);u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,t?(0,d.multiAssetsToTokenMap)(new Map([...(0,d.tokenMapToMultiAsset)(t).entries()].sort(d.sortCanonically))):void 0,"f")}}l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/Voter.js":(e,t,r)=>{"use strict";r.d(t,{Voter:()=>Voter});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VoterKind.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u,f,h;const p=2;class Voter{toCbor(){if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");const e=new a.CborWriter;e.writeStartArray(p);e.writeInt(__classPrivateFieldGet(this,u,"f"));e.writeByteString(l.from(__classPrivateFieldGet(this,f,"f").hash,"hex"));return e.encodeAsHex()}static fromCbor(e){let t;const r=new s.CborReader(e);const a=r.readStartArray();if(a!==p)throw new o.InvalidArgumentError("cbor",`Expected an array of ${p} elements, but got an array of ${a} elements`);const c=Number(r.readInt());const l=n.HexBlob.fromBytes(r.readByteString());switch(c){case d.VoterKind.ConstitutionalCommitteeKeyHash:case d.VoterKind.DrepKeyHash:case d.VoterKind.StakePoolKeyHash:t={hash:l,type:i.CredentialType.KeyHash};break;case d.VoterKind.ConstitutionalCommitteeScriptHash:case d.VoterKind.DRepScriptHash:t={hash:l,type:i.CredentialType.ScriptHash};break;default:throw new o.InvalidStateError(`Unexpected kind value: ${c}`)}const u=new Voter(c,t);__classPrivateFieldSet(u,h,e,"f");return u}toCore(){switch(__classPrivateFieldGet(this,u,"f")){case d.VoterKind.ConstitutionalCommitteeKeyHash:return{__typename:c.VoterType.ccHotKeyHash,credential:{hash:__classPrivateFieldGet(this,f,"f").hash,type:i.CredentialType.KeyHash}};case d.VoterKind.ConstitutionalCommitteeScriptHash:return{__typename:c.VoterType.ccHotScriptHash,credential:{hash:__classPrivateFieldGet(this,f,"f").hash,type:i.CredentialType.ScriptHash}};case d.VoterKind.DrepKeyHash:return{__typename:c.VoterType.dRepKeyHash,credential:{hash:__classPrivateFieldGet(this,f,"f").hash,type:i.CredentialType.KeyHash}};case d.VoterKind.DRepScriptHash:return{__typename:c.VoterType.dRepScriptHash,credential:{hash:__classPrivateFieldGet(this,f,"f").hash,type:i.CredentialType.ScriptHash}};case d.VoterKind.StakePoolKeyHash:return{__typename:c.VoterType.stakePoolKeyHash,credential:{hash:__classPrivateFieldGet(this,f,"f").hash,type:i.CredentialType.KeyHash}};default:throw new o.InvalidStateError(`Unexpected kind value: ${__classPrivateFieldGet(this,u,"f")}`)}}static fromCore(e){let t;switch(e.__typename){case c.VoterType.ccHotKeyHash:case c.VoterType.ccHotScriptHash:t=Voter.newConstitutionalCommitteeHotKey(e.credential);break;case c.VoterType.dRepKeyHash:case c.VoterType.dRepScriptHash:t=Voter.newDrep(e.credential);break;case c.VoterType.stakePoolKeyHash:t=Voter.newStakingPool(e.credential.hash);break;default:throw new o.InvalidStateError("Unexpected Voter type")}return t}static newConstitutionalCommitteeHotKey(e){const t=e.type===i.CredentialType.KeyHash?d.VoterKind.ConstitutionalCommitteeKeyHash:d.VoterKind.ConstitutionalCommitteeScriptHash;return new Voter(t,e)}static newDrep(e){const t=e.type===i.CredentialType.KeyHash?d.VoterKind.DrepKeyHash:d.VoterKind.DRepScriptHash;return new Voter(t,e)}static newStakingPool(e){return new Voter(d.VoterKind.StakePoolKeyHash,{hash:e,type:i.CredentialType.KeyHash})}kind(){return __classPrivateFieldGet(this,u,"f")}toConstitutionalCommitteeHotCred(){if(__classPrivateFieldGet(this,u,"f")===d.VoterKind.ConstitutionalCommitteeKeyHash||__classPrivateFieldGet(this,u,"f")===d.VoterKind.ConstitutionalCommitteeScriptHash)return __classPrivateFieldGet(this,f,"f");return}toDrepCred(){if(__classPrivateFieldGet(this,u,"f")===d.VoterKind.DrepKeyHash||__classPrivateFieldGet(this,u,"f")===d.VoterKind.DRepScriptHash)return __classPrivateFieldGet(this,f,"f");return}toStakingPoolKeyHash(){if(__classPrivateFieldGet(this,u,"f")===d.VoterKind.StakePoolKeyHash)return __classPrivateFieldGet(this,f,"f").hash;return}equals(e){return __classPrivateFieldGet(this,u,"f")===__classPrivateFieldGet(e,u,"f")&&__classPrivateFieldGet(this,f,"f").type===__classPrivateFieldGet(e,f,"f").type&&__classPrivateFieldGet(this,f,"f").hash===__classPrivateFieldGet(e,f,"f").hash}constructor(e,t){u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,t,"f")}}u=new WeakMap,f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VoterKind.js":(e,t,r)=>{"use strict";r.d(t,{VoterKind:()=>a});var a;(function(e){e[e["ConstitutionalCommitteeKeyHash"]=0]="ConstitutionalCommitteeKeyHash";e[e["ConstitutionalCommitteeScriptHash"]=1]="ConstitutionalCommitteeScriptHash";e[e["DrepKeyHash"]=2]="DrepKeyHash";e[e["DRepScriptHash"]=3]="DRepScriptHash";e[e["StakePoolKeyHash"]=4]="StakePoolKeyHash"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VotingProcedure.js":(e,t,r)=>{"use strict";r.d(t,{VotingProcedure:()=>VotingProcedure});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u;const f=2;class VotingProcedure{toCbor(){if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");const e=new s.CborWriter;e.writeStartArray(f);e.writeInt(__classPrivateFieldGet(this,c,"f"));__classPrivateFieldGet(this,l,"f")?e.writeEncodedValue((0,d.hexToBytes)(__classPrivateFieldGet(this,l,"f").toCbor())):e.writeNull();return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);t.readStartArray();const r=Number(t.readInt());let s;if(t.peekState()===o.CborReaderState.Null){t.readNull();s=void 0}else{s=a.Anchor.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue()))}const d=new VotingProcedure(r,s);__classPrivateFieldSet(d,u,e,"f");return d}toCore(){return{anchor:__classPrivateFieldGet(this,l,"f")?__classPrivateFieldGet(this,l,"f").toCore():null,vote:__classPrivateFieldGet(this,c,"f")}}static fromCore(e){return new VotingProcedure(e.vote,e.anchor?a.Anchor.fromCore(e.anchor):void 0)}vote(){return __classPrivateFieldGet(this,c,"f")}setVote(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}anchor(){return __classPrivateFieldGet(this,l,"f")}setAnchor(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,void 0,"f")}constructor(e,t){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,t,"f")}}c=new WeakMap,l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VotingProcedures.js":(e,t,r)=>{"use strict";r.d(t,{VotingProcedures:()=>VotingProcedures});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/Voter.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VotingProcedure.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var f,h;class VotingProcedures{toCbor(){if(__classPrivateFieldGet(this,h,"f"))return __classPrivateFieldGet(this,h,"f");const e=new a.CborWriter;const t=this.getVoters();if(0===t.length)throw new n.InvalidStateError("Empty VotingProcedures. There must be at least one VotingProcedure in the map");e.writeStartMap(t.length);for(const r of t){const s=this.getGovernanceActionIdsByVoter(r);if(0===s.length)throw new n.InvalidStateError("Each voter must at least be associated to a GovernanceActionId");e.writeEncodedValue((0,u.hexToBytes)(r.toCbor()));e.writeStartMap(s.length);for(const i of s){e.writeEncodedValue((0,u.hexToBytes)(i.toCbor()));const o=this.get(r,i);if(!o)throw new n.InvalidStateError("Each governanceActionIds must at least be associated to a vote");e.writeEncodedValue((0,u.hexToBytes)(o.toCbor()))}}return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=new VotingProcedures;t.readStartMap();while(t.peekState()!==i.CborReaderState.EndMap){const a=c.Voter.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()));t.readStartMap();while(t.peekState()!==i.CborReaderState.EndMap){const n=o.GovernanceActionId.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()));const u=l.VotingProcedure.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()));r.insert(a,n,u)}t.readEndMap()}t.readEndMap();__classPrivateFieldSet(r,h,e,"f");return r}toCore(){return __classPrivateFieldGet(this,f,"f").map(e=>{const t=e.voter.toCore();const r=e.votes.map(e=>({actionId:e.actionId.toCore(),votingProcedure:e.votingProcedure.toCore()}));return{voter:t,votes:r}})}static fromCore(e){const t=new VotingProcedures;__classPrivateFieldSet(t,f,e.map(e=>{const t=c.Voter.fromCore(e.voter);const r=e.votes.map(e=>({actionId:o.GovernanceActionId.fromCore(e.actionId),votingProcedure:l.VotingProcedure.fromCore(e.votingProcedure)}));return{voter:t,votes:r}}),"f");return t}insert(e,t,r){const a=__classPrivateFieldGet(this,f,"f").find(t=>t.voter.equals(e));if(!a){__classPrivateFieldGet(this,f,"f").push({voter:e,votes:[{actionId:t,votingProcedure:r}]});return}const s=a.votes.find(e=>e.actionId.equals(t));if(s)throw new n.InvalidArgumentError("actionId","Voter already has a voting procedure for the given actionId");a.votes.push({actionId:t,votingProcedure:r});__classPrivateFieldSet(this,h,void 0,"f")}get(e,t){const r=__classPrivateFieldGet(this,f,"f").find(t=>t.voter.equals(e));if(!r)return;const a=r.votes.find(e=>e.actionId.equals(t));if(!a)return;return a.votingProcedure}getVoters(){return __classPrivateFieldGet(this,f,"f").map(e=>e.voter)}getGovernanceActionIdsByVoter(e){const t=__classPrivateFieldGet(this,f,"f").find(t=>t.voter.equals(e));if(!t)return[];return t.votes.map(e=>e.actionId)}constructor(){f.set(this,[]);h.set(this,void 0)}}f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/BootstrapWitness.js":(e,t,r)=>{"use strict";r.d(t,{BootstrapWitness:()=>BootstrapWitness});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l,u,f;const h=4;const p=(0,a.HexBlob)("a0");class BootstrapWitness{toCbor(){const e=new i.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");if(__classPrivateFieldGet(this,l,"f").length/2!==32)throw new s.InvalidStateError(`Chaincode must be 32 bytes long, but got ${__classPrivateFieldGet(this,l,"f").length/2} bytes long`);e.writeStartArray(h);e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,d,"f")));e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,c,"f")));e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,l,"f")));e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,u,"f")));return e.encodeAsHex()}static fromCbor(e){const t=new o.CborReader(e);const r=t.readStartArray();if(r!==h)throw new s.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const i=a.HexBlob.fromBytes(t.readByteString());const n=a.HexBlob.fromBytes(t.readByteString());const d=a.HexBlob.fromBytes(t.readByteString());const c=a.HexBlob.fromBytes(t.readByteString());t.readEndArray();const l=new BootstrapWitness(i,n,d,c);__classPrivateFieldSet(l,f,e,"f");return l}toCore(){return{addressAttributes:a.Base64Blob.fromBytes((0,n.hexToBytes)(__classPrivateFieldGet(this,u,"f"))),chainCode:__classPrivateFieldGet(this,l,"f"),key:__classPrivateFieldGet(this,d,"f"),signature:__classPrivateFieldGet(this,c,"f")}}static fromCore(e){if(!e.chainCode)throw new s.InvalidStateError("Chaincode must be present");if(e.chainCode.length/2!==32)throw new s.InvalidStateError(`Chaincode must be 32 bytes long, but got ${e.chainCode.length/2} bytes long`);return new BootstrapWitness(e.key,e.signature,e.chainCode,e.addressAttributes?a.HexBlob.fromBase64(e.addressAttributes):p)}vkey(){return __classPrivateFieldGet(this,d,"f")}setVkey(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}signature(){return __classPrivateFieldGet(this,c,"f")}setSignature(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}chainCode(){return __classPrivateFieldGet(this,l,"f")}setChainCode(e){if(e.length/2!==32)throw new s.InvalidStateError(`Chaincode must be 32 bytes long, but got ${e.length/2} bytes long`);__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}attributes(){return __classPrivateFieldGet(this,u,"f")}setAttributes(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e,t,r,a){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f");__classPrivateFieldSet(this,l,r,"f");__classPrivateFieldSet(this,u,a,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js":(e,t,r)=>{"use strict";r.d(t,{Redeemer:()=>Redeemer});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ExUnits.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/RedeemerTag.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var h,p,m,_,v;const y=4;const w=32;class Redeemer{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,v,"f"))return __classPrivateFieldGet(this,v,"f");e.writeStartArray(y);e.writeInt(__classPrivateFieldGet(this,h,"f"));e.writeInt(__classPrivateFieldGet(this,p,"f"));e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,m,"f").toCbor()));e.writeEncodedValue((0,f.hexToBytes)(__classPrivateFieldGet(this,_,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=t.readStartArray();if(r!==y)throw new n.InvalidArgumentError("cbor",`Expected an array of ${y} elements, but got an array of ${r} elements`);const a=Number(t.readUInt());const s=t.readUInt();const l=c.PlutusData.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()));const u=o.ExUnits.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const f=new Redeemer(a,s,l,u);__classPrivateFieldSet(f,v,e,"f");return f}toCore(){let e;switch(__classPrivateFieldGet(this,h,"f")){case u.RedeemerTag.Spend:e=l.RedeemerPurpose.spend;break;case u.RedeemerTag.Mint:e=l.RedeemerPurpose.mint;break;case u.RedeemerTag.Cert:e=l.RedeemerPurpose.certificate;break;case u.RedeemerTag.Reward:e=l.RedeemerPurpose.withdrawal;break;case u.RedeemerTag.Voting:e=l.RedeemerPurpose.vote;break;case u.RedeemerTag.Proposing:e=l.RedeemerPurpose.propose;break;default:throw new n.InvalidStateError(`Invalid redeemer type ${__classPrivateFieldGet(this,h,"f")}`)}return{data:__classPrivateFieldGet(this,m,"f").toCore(),executionUnits:__classPrivateFieldGet(this,_,"f").toCore(),index:Number(__classPrivateFieldGet(this,p,"f")),purpose:e}}static fromCore(e){let t;switch(e.purpose){case l.RedeemerPurpose.spend:t=u.RedeemerTag.Spend;break;case l.RedeemerPurpose.mint:t=u.RedeemerTag.Mint;break;case l.RedeemerPurpose.certificate:t=u.RedeemerTag.Cert;break;case l.RedeemerPurpose.withdrawal:t=u.RedeemerTag.Reward;break;case l.RedeemerPurpose.vote:t=u.RedeemerTag.Voting;break;case l.RedeemerPurpose.propose:t=u.RedeemerTag.Proposing;break;default:throw new n.InvalidStateError(`Invalid redeemer type ${e.purpose}`)}return new Redeemer(t,BigInt(e.index),c.PlutusData.fromCore(e.data),o.ExUnits.fromCore(e.executionUnits))}tag(){return __classPrivateFieldGet(this,h,"f")}setTag(e){__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,v,void 0,"f")}index(){return __classPrivateFieldGet(this,p,"f")}setIndex(e){__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,v,void 0,"f")}data(){return __classPrivateFieldGet(this,m,"f")}setData(e){__classPrivateFieldSet(this,m,e,"f");__classPrivateFieldSet(this,v,void 0,"f")}exUnits(){return __classPrivateFieldGet(this,_,"f")}setExUnits(e){__classPrivateFieldSet(this,_,e,"f");__classPrivateFieldSet(this,v,void 0,"f")}hash(){return a.blake2b.hash(this.toCbor(),w)}constructor(e,t,r,a){h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,p,t,"f");__classPrivateFieldSet(this,m,r,"f");__classPrivateFieldSet(this,_,a,"f")}}h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/RedeemerTag.js":(e,t,r)=>{"use strict";r.d(t,{RedeemerTag:()=>a});var a;(function(e){e[e["Spend"]=0]="Spend";e[e["Mint"]=1]="Mint";e[e["Cert"]=2]="Cert";e[e["Reward"]=3]="Reward";e[e["Voting"]=4]="Voting";e[e["Proposing"]=5]="Proposing"})(a||(a={}))},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemers.js":(e,t,r)=>{"use strict";r.d(t,{Redeemers:()=>Redeemers});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ExUnits.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/conwayEra.js");var h=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var p,m;const _=2;const v=2;class Redeemers{toCbor(){if(__classPrivateFieldGet(this,m,"f"))return __classPrivateFieldGet(this,m,"f");const e=new a.CborWriter;if(f.inConwayEra){const t=new Map(__classPrivateFieldGet(this,p,"f").map(e=>[`${e.tag()}:${e.index()}`,e]));e.writeStartMap(t.size);for(const r of t.values()){e.writeStartArray(2);e.writeInt(r.tag());e.writeInt(r.index());e.writeStartArray(2);e.writeEncodedValue((0,u.hexToBytes)(r.data().toCbor()));e.writeEncodedValue((0,u.hexToBytes)(r.exUnits().toCbor()))}}else{e.writeStartArray(__classPrivateFieldGet(this,p,"f").length);for(const s of __classPrivateFieldGet(this,p,"f"))e.writeEncodedValue(h.from(s.toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=[];const r=new s.CborReader(e);if(r.peekState()===i.CborReaderState.StartMap){r.readStartMap();while(r.peekState()!==i.CborReaderState.EndMap){const a=r.readStartArray();if(a!==_)throw new n.InvalidArgumentError("cbor",`Redeemers map index should be an array of ${_} elements, but got an array of ${a} elements`);const u=Number(r.readUInt());const f=r.readUInt();r.readEndArray();const h=r.readStartArray();if(h!==v)throw new n.InvalidArgumentError("cbor",`Redeemers map value should be an array of ${v} elements, but got an array of ${h} elements`);const p=c.PlutusData.fromCbor(d.HexBlob.fromBytes(r.readEncodedValue()));const y=o.ExUnits.fromCbor(d.HexBlob.fromBytes(r.readEncodedValue()));r.readEndArray();t.push(new l.Redeemer(u,f,p,y))}r.readEndMap()}else{r.readStartArray();while(r.peekState()!==i.CborReaderState.EndArray){t.push(l.Redeemer.fromCbor(d.HexBlob.fromBytes(r.readEncodedValue())))}r.readEndArray()}const w=new Redeemers(t);__classPrivateFieldSet(w,m,e,"f");return w}toCore(){return __classPrivateFieldGet(this,p,"f").map(e=>e.toCore())}static fromCore(e){return new Redeemers(e.map(e=>l.Redeemer.fromCore(e)))}values(){return __classPrivateFieldGet(this,p,"f")}setValues(e){__classPrivateFieldSet(this,p,[...e],"f");__classPrivateFieldSet(this,m,void 0,"f")}size(){return __classPrivateFieldGet(this,p,"f").length}constructor(e){p.set(this,void 0);m.set(this,void 0);__classPrivateFieldSet(this,p,[...e],"f")}}p=new WeakMap,m=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/TransactionWitnessSet.js":(e,t,r)=>{"use strict";r.d(t,{TransactionWitnessSet:()=>TransactionWitnessSet});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/BootstrapWitness.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/CborSet.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV1Script.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV2Script.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV3Script.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemers.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/VkeyWitness.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var w=r("../../node_modules/lodash/uniqWith.js");var g=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var b,P,C,S,T,E,k,A,I,j,x,R,B,O;class TransactionWitnessSet{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,x,"f"))return __classPrivateFieldGet(this,x,"f");e.writeStartMap(__classPrivateFieldGet(this,b,"m",O).call(this));if(void 0!==__classPrivateFieldGet(this,C,"f")&&__classPrivateFieldGet(this,C,"f").size()>0){__classPrivateFieldGet(this,C,"f").setValues(w(__classPrivateFieldGet(this,C,"f").values(),(e,t)=>e.vkey()===t.vkey()));e.writeInt(0n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,C,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,S,"f")&&__classPrivateFieldGet(this,S,"f").size()>0){e.writeInt(1n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,S,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,T,"f")&&__classPrivateFieldGet(this,T,"f").size()>0){__classPrivateFieldGet(this,T,"f").setValues(w(__classPrivateFieldGet(this,T,"f").values(),(e,t)=>e.vkey()===t.vkey()));e.writeInt(2n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,T,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,E,"f")&&__classPrivateFieldGet(this,E,"f").size()>0){e.writeInt(3n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,E,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,k,"f")&&__classPrivateFieldGet(this,k,"f").size()>0){e.writeInt(4n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,k,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,A,"f")&&__classPrivateFieldGet(this,A,"f").size()>0){e.writeInt(5n);e.writeEncodedValue((0,y.hexToBytes)(__classPrivateFieldGet(this,A,"f").toCbor()))}if(void 0!==__classPrivateFieldGet(this,I,"f")&&__classPrivateFieldGet(this,I,"f").size()>0){e.writeInt(6n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,I,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,j,"f")&&__classPrivateFieldGet(this,j,"f").size()>0){e.writeInt(7n);e.writeEncodedValue(g.from(__classPrivateFieldGet(this,j,"f").toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=new TransactionWitnessSet;t.readStartMap();while(t.peekState()!==o.CborReaderState.EndMap){const s=t.readInt();switch(s){case 0n:r.setVkeys(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),v.VkeyWitness.fromCbor));break;case 1n:r.setNativeScripts(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),c.NativeScript.fromCbor));break;case 2n:r.setBootstraps(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),a.BootstrapWitness.fromCbor));break;case 3n:r.setPlutusV1Scripts(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),l.PlutusV1Script.fromCbor));break;case 4n:r.setPlutusData(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),h.PlutusData.fromCbor));break;case 5n:r.setRedeemers(m.Redeemers.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue())));break;case 6n:r.setPlutusV2Scripts(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),u.PlutusV2Script.fromCbor));break;case 7n:r.setPlutusV3Scripts(n.CborSet.fromCbor(d.HexBlob.fromBytes(t.readEncodedValue()),f.PlutusV3Script.fromCbor));break}}t.readEndMap();__classPrivateFieldSet(r,x,e,"f");return r}toCore(){var e;const t=__classPrivateFieldGet(this,b,"m",R).call(this);return{bootstrap:__classPrivateFieldGet(this,T,"f")?__classPrivateFieldGet(this,T,"f").toCore():void 0,datums:__classPrivateFieldGet(this,k,"f")?__classPrivateFieldGet(this,k,"f").toCore():void 0,redeemers:(null===(e=__classPrivateFieldGet(this,A,"f"))||void 0===e?void 0:e.size())?__classPrivateFieldGet(this,A,"f").toCore():void 0,scripts:t.length>0?t:void 0,signatures:__classPrivateFieldGet(this,C,"f")?new Map(__classPrivateFieldGet(this,C,"f").toCore()):new Map}}static fromCore(e){const t=new TransactionWitnessSet;if(e.signatures)t.setVkeys(n.CborSet.fromCore([...e.signatures],v.VkeyWitness.fromCore));if(e.scripts){const r=__classPrivateFieldGet(TransactionWitnessSet,P,"m",B).call(TransactionWitnessSet,e.scripts);if(r.native)t.setNativeScripts(r.native);if(r.plutusV1)t.setPlutusV1Scripts(r.plutusV1);if(r.plutusV2)t.setPlutusV2Scripts(r.plutusV2);if(r.plutusV3)t.setPlutusV3Scripts(r.plutusV3)}if(e.redeemers)t.setRedeemers(m.Redeemers.fromCore(e.redeemers));if(e.datums)t.setPlutusData(n.CborSet.fromCore(e.datums,h.PlutusData.fromCore));if(e.bootstrap)t.setBootstraps(n.CborSet.fromCore(e.bootstrap,a.BootstrapWitness.fromCore));return t}setVkeys(e){__classPrivateFieldSet(this,C,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}vkeys(){return __classPrivateFieldGet(this,C,"f")}setNativeScripts(e){__classPrivateFieldSet(this,S,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}nativeScripts(){return __classPrivateFieldGet(this,S,"f")}setBootstraps(e){__classPrivateFieldSet(this,T,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}bootstraps(){return __classPrivateFieldGet(this,T,"f")}setPlutusV1Scripts(e){__classPrivateFieldSet(this,E,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}plutusV1Scripts(){return __classPrivateFieldGet(this,E,"f")}setPlutusData(e){__classPrivateFieldSet(this,k,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}plutusData(){return __classPrivateFieldGet(this,k,"f")}setRedeemers(e){__classPrivateFieldSet(this,A,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}redeemers(){return __classPrivateFieldGet(this,A,"f")}setPlutusV2Scripts(e){__classPrivateFieldSet(this,I,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}plutusV2Scripts(){return __classPrivateFieldGet(this,I,"f")}setPlutusV3Scripts(e){__classPrivateFieldSet(this,j,e,"f");__classPrivateFieldSet(this,x,void 0,"f")}plutusV3Scripts(){return __classPrivateFieldGet(this,j,"f")}constructor(){b.add(this);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0)}}P=TransactionWitnessSet,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,b=new WeakSet,R=function _TransactionWitnessSet_getCoreScripts(){const e=__classPrivateFieldGet(this,E,"f")?__classPrivateFieldGet(this,E,"f").toCore():[];const t=__classPrivateFieldGet(this,I,"f")?__classPrivateFieldGet(this,I,"f").toCore():[];const r=__classPrivateFieldGet(this,j,"f")?__classPrivateFieldGet(this,j,"f").toCore():[];const a=__classPrivateFieldGet(this,S,"f")?__classPrivateFieldGet(this,S,"f").toCore():[];return[...e,...t,...r,...a]},B=function _TransactionWitnessSet_getCddlScripts(e){const[t,r,a,s]=e.reduce(([e,t,r,a],s)=>{if(s.__type===p.ScriptType.Native)e?e.push(s):e=[s];else{switch(s.version){case p.PlutusLanguageVersion.V1:t?t.push(s):t=[s];break;case p.PlutusLanguageVersion.V2:r?r.push(s):r=[s];break;case p.PlutusLanguageVersion.V3:a?a.push(s):a=[s];break;default:throw new _.SerializationError(_.SerializationFailure.InvalidScriptType,`Script '${s}' is not supported.`)}}return[e,t,r,a]},[null,null,null,null]);return{...t&&{native:n.CborSet.fromCore(t,c.NativeScript.fromCore)},...r&&{plutusV1:n.CborSet.fromCore(r,l.PlutusV1Script.fromCore)},...a&&{plutusV2:n.CborSet.fromCore(a,u.PlutusV2Script.fromCore)},...s&&{plutusV3:n.CborSet.fromCore(s,f.PlutusV3Script.fromCore)}}},O=function _TransactionWitnessSet_getMapSize(){let e=0;if(void 0!==__classPrivateFieldGet(this,C,"f")&&__classPrivateFieldGet(this,C,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,S,"f")&&__classPrivateFieldGet(this,S,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,T,"f")&&__classPrivateFieldGet(this,T,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,E,"f")&&__classPrivateFieldGet(this,E,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,k,"f")&&__classPrivateFieldGet(this,k,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,A,"f")&&__classPrivateFieldGet(this,A,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,I,"f")&&__classPrivateFieldGet(this,I,"f").size()>0)++e;if(void 0!==__classPrivateFieldGet(this,j,"f")&&__classPrivateFieldGet(this,j,"f").size()>0)++e;return e}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/VkeyWitness.js":(e,t,r)=>{"use strict";r.d(t,{VkeyWitness:()=>VkeyWitness});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d,c,l;const u=2;class VkeyWitness{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");e.writeStartArray(u);e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,d,"f")));e.writeByteString((0,n.hexToBytes)(__classPrivateFieldGet(this,c,"f")));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==u)throw new i.InvalidArgumentError("cbor",`Expected an array of ${u} elements, but got an array of ${r} elements`);const a=o.HexBlob.fromBytes(t.readByteString());const n=o.HexBlob.fromBytes(t.readByteString());t.readEndArray();const d=new VkeyWitness(a,n);__classPrivateFieldSet(d,l,e,"f");return d}toCore(){return[__classPrivateFieldGet(this,d,"f"),__classPrivateFieldGet(this,c,"f")]}static fromCore(e){return new VkeyWitness(e[0],e[1])}vkey(){return __classPrivateFieldGet(this,d,"f")}setVkey(e){__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}signature(){return __classPrivateFieldGet(this,c,"f")}setSignature(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,void 0,"f")}constructor(e,t){d.set(this,void 0);c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,d,e,"f");__classPrivateFieldSet(this,c,t,"f")}}d=new WeakMap,c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/CostModel.js":(e,t,r)=>{"use strict";r.d(t,{CostModel:()=>CostModel});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d;class CostModel{static newPlutusV1(e){return new CostModel(s.PlutusLanguageVersion.V1,e)}static newPlutusV2(e){return new CostModel(s.PlutusLanguageVersion.V2,e)}static newPlutusV3(e){return new CostModel(s.PlutusLanguageVersion.V3,e)}set(e,t){if(!__classPrivateFieldGet(this,i,"m",d).call(this,e))throw new a.InvalidArgumentError("operation",`The given operation ${e} is invalid for the current Language version ${__classPrivateFieldGet(this,o,"f")}.`);__classPrivateFieldGet(this,n,"f")[e]=t}get(e){if(!__classPrivateFieldGet(this,i,"m",d).call(this,e))throw new a.InvalidArgumentError("operation",`The given operation ${e} is invalid for the current Language version ${__classPrivateFieldGet(this,o,"f")}.`);return __classPrivateFieldGet(this,n,"f")[e]}costs(){return __classPrivateFieldGet(this,n,"f")}language(){return __classPrivateFieldGet(this,o,"f")}constructor(e,t){i.add(this);o.set(this,void 0);n.set(this,void 0);__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,n,t,"f")}}o=new WeakMap,n=new WeakMap,i=new WeakSet,d=function _CostModel_isOperationValid(e){return e>=0}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/Costmdls.js":(e,t,r)=>{"use strict";r.d(t,{Costmdls:()=>Costmdls});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/CostModel.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l;class Costmdls{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,l,"f"))return __classPrivateFieldGet(this,l,"f");const t=new Map([...__classPrivateFieldGet(this,c,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,s]of t){e.writeInt(r);e.writeStartArray(s.costs().length);for(const i of s.costs())e.writeInt(i)}return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);t.readStartMap();const r=new Map;while(t.peekState()!==i.CborReaderState.EndMap){const a=Number(t.readInt());const n=new Array;t.readStartArray();while(t.peekState()!==i.CborReaderState.EndArray){n.push(Number(t.readInt()))}t.readEndArray();r.set(a,new o.CostModel(a,n))}t.readEndMap();const d=new Costmdls(r);__classPrivateFieldSet(d,l,e,"f");return d}toCore(){const e=new Map;for(const[t,r]of __classPrivateFieldGet(this,c,"f"))e.set(t,r.costs());return e}static fromCore(e){const t=new Map;for(const[r,a]of e)t.set(r,new o.CostModel(r,a));return new Costmdls(t)}size(){return __classPrivateFieldGet(this,c,"f").size}insert(e){__classPrivateFieldGet(this,c,"f").set(e.language(),e);__classPrivateFieldSet(this,l,void 0,"f")}get(e){return __classPrivateFieldGet(this,c,"f").get(e)}keys(){return[...__classPrivateFieldGet(this,c,"f").keys()]}languageViewsEncoding(){const e=new a.CborWriter;const t=new Map([...__classPrivateFieldGet(this,c,"f")].sort((e,t)=>{const r=e[0]===d.PlutusLanguageVersion.V1?65:e[0];const a=t[0]===d.PlutusLanguageVersion.V1?65:t[0];return r>a?1:-1}));e.writeStartMap(t.size);for(const[r,s]of t){switch(r){case d.PlutusLanguageVersion.V1:{const i=new a.CborWriter;i.writeStartArray();for(const o of s.costs())i.writeInt(o);i.writeEndArray();const l=i.encode();e.writeByteString(new Uint8Array([0]));e.writeByteString(l);break}case d.PlutusLanguageVersion.V2:case d.PlutusLanguageVersion.V3:e.writeInt(r);e.writeStartArray(s.costs().length);for(const u of s.costs())e.writeInt(u);break;default:throw new n.InvalidStateError("Invalid plutus language version.")}}return e.encodeAsHex()}constructor(e=new Map){c.set(this,void 0);l.set(this,void 0);__classPrivateFieldSet(this,c,e,"f")}}c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/DrepVotingThresholds.js":(e,t,r)=>{"use strict";r.d(t,{DrepVotingThresholds:()=>DrepVotingThresholds});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f,h,p,m,_,v,y,w;const g=10;class DrepVotingThresholds{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,w,"f"))return __classPrivateFieldGet(this,w,"f");e.writeStartArray(g);e.writeEncodedValue(d.from(__classPrivateFieldGet(this,c,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,l,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,u,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,f,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,h,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,p,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,m,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,_,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,v,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,y,"f").toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==g)throw new i.InvalidArgumentError("cbor",`Expected an array of ${g} elements, but got an array of ${r} elements`);const a=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const d=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const c=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const l=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const u=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const f=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const h=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const p=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const m=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const _=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const v=new DrepVotingThresholds(a,d,c,l,u,f,h,p,m,_);__classPrivateFieldSet(v,w,e,"f");return v}toCore(){return{committeeNoConfidence:__classPrivateFieldGet(this,u,"f").toCore(),committeeNormal:__classPrivateFieldGet(this,l,"f").toCore(),hardForkInitiation:__classPrivateFieldGet(this,h,"f").toCore(),motionNoConfidence:__classPrivateFieldGet(this,c,"f").toCore(),ppEconomicGroup:__classPrivateFieldGet(this,m,"f").toCore(),ppGovernanceGroup:__classPrivateFieldGet(this,v,"f").toCore(),ppNetworkGroup:__classPrivateFieldGet(this,p,"f").toCore(),ppTechnicalGroup:__classPrivateFieldGet(this,_,"f").toCore(),treasuryWithdrawal:__classPrivateFieldGet(this,y,"f").toCore(),updateConstitution:__classPrivateFieldGet(this,f,"f").toCore()}}static fromCore(e){return new DrepVotingThresholds(n.UnitInterval.fromCore(e.motionNoConfidence),n.UnitInterval.fromCore(e.committeeNormal),n.UnitInterval.fromCore(e.committeeNoConfidence),n.UnitInterval.fromCore(e.updateConstitution),n.UnitInterval.fromCore(e.hardForkInitiation),n.UnitInterval.fromCore(e.ppNetworkGroup),n.UnitInterval.fromCore(e.ppEconomicGroup),n.UnitInterval.fromCore(e.ppTechnicalGroup),n.UnitInterval.fromCore(e.ppGovernanceGroup),n.UnitInterval.fromCore(e.treasuryWithdrawal))}setMotionNoConfidence(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setCommitteeNormal(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setCommitteeNoConfidence(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setUpdateConstitution(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setHardForkInitiation(e){__classPrivateFieldSet(this,h,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setPpNetworkGroup(e){__classPrivateFieldSet(this,p,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setPpEconomicGroup(e){__classPrivateFieldSet(this,m,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setPpTechnicalGroup(e){__classPrivateFieldSet(this,_,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setPpGovernanceGroup(e){__classPrivateFieldSet(this,v,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}setTreasuryWithdrawal(e){__classPrivateFieldSet(this,y,e,"f");__classPrivateFieldSet(this,w,void 0,"f")}motionNoConfidence(){return __classPrivateFieldGet(this,c,"f")}committeeNormal(){return __classPrivateFieldGet(this,l,"f")}committeeNoConfidence(){return __classPrivateFieldGet(this,u,"f")}updateConstitution(){return __classPrivateFieldGet(this,f,"f")}hardForkInitiation(){return __classPrivateFieldGet(this,h,"f")}ppNetworkGroup(){return __classPrivateFieldGet(this,p,"f")}ppEconomicGroup(){return __classPrivateFieldGet(this,m,"f")}ppTechnicalGroup(){return __classPrivateFieldGet(this,_,"f")}ppGovernanceGroup(){return __classPrivateFieldGet(this,v,"f")}treasuryWithdrawal(){return __classPrivateFieldGet(this,y,"f")}constructor(e,t,r,a,s,i,o,n,d,g){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,t,"f");__classPrivateFieldSet(this,u,r,"f");__classPrivateFieldSet(this,f,a,"f");__classPrivateFieldSet(this,h,s,"f");__classPrivateFieldSet(this,p,i,"f");__classPrivateFieldSet(this,m,o,"f");__classPrivateFieldSet(this,_,n,"f");__classPrivateFieldSet(this,v,d,"f");__classPrivateFieldSet(this,y,g,"f")}}c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ExUnitPrices.js":(e,t,r)=>{"use strict";r.d(t,{ExUnitPrices:()=>ExUnitPrices});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var d=r("../../node_modules/fraction.js/fraction.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u,f;const h=2;class ExUnitPrices{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeEncodedValue(c.from(__classPrivateFieldGet(this,l,"f").toCbor(),"hex"));e.writeEncodedValue(c.from(__classPrivateFieldGet(this,u,"f").toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==h)throw new i.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const a=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const d=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const c=new ExUnitPrices(a,d);__classPrivateFieldSet(c,f,e,"f");return c}toCore(){return{memory:Number(__classPrivateFieldGet(this,l,"f").numerator())/Number(__classPrivateFieldGet(this,l,"f").denominator()),steps:Number(__classPrivateFieldGet(this,u,"f").numerator())/Number(__classPrivateFieldGet(this,u,"f").denominator())}}static fromCore(e){const t=new d(e.memory);const r=new d(e.steps);return new ExUnitPrices(new n.UnitInterval(BigInt(t.n),BigInt(t.d)),new n.UnitInterval(BigInt(r.n),BigInt(r.d)))}memPrice(){return __classPrivateFieldGet(this,l,"f")}setMemPrice(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}stepsPrice(){return __classPrivateFieldGet(this,u,"f")}setStepsPrice(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e,t){l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,u,t,"f")}}l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/PoolVotingThresholds.js":(e,t,r)=>{"use strict";r.d(t,{PoolVotingThresholds:()=>PoolVotingThresholds});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c,l,u,f,h,p;const m=5;class PoolVotingThresholds{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,p,"f"))return __classPrivateFieldGet(this,p,"f");e.writeStartArray(m);e.writeEncodedValue(d.from(__classPrivateFieldGet(this,c,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,l,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,u,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,f,"f").toCbor(),"hex"));e.writeEncodedValue(d.from(__classPrivateFieldGet(this,h,"f").toCbor(),"hex"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==m)throw new i.InvalidArgumentError("cbor",`Expected an array of ${m} elements, but got an array of ${r} elements`);const a=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const d=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const c=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const l=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));const u=n.UnitInterval.fromCbor(o.HexBlob.fromBytes(t.readEncodedValue()));t.readEndArray();const f=new PoolVotingThresholds(a,d,c,l,u);__classPrivateFieldSet(f,p,e,"f");return f}toCore(){return{committeeNoConfidence:__classPrivateFieldGet(this,u,"f").toCore(),committeeNormal:__classPrivateFieldGet(this,l,"f").toCore(),hardForkInitiation:__classPrivateFieldGet(this,f,"f").toCore(),motionNoConfidence:__classPrivateFieldGet(this,c,"f").toCore(),securityRelevantParamVotingThreshold:__classPrivateFieldGet(this,h,"f").toCore()}}static fromCore(e){return new PoolVotingThresholds(n.UnitInterval.fromCore(e.motionNoConfidence),n.UnitInterval.fromCore(e.committeeNormal),n.UnitInterval.fromCore(e.committeeNoConfidence),n.UnitInterval.fromCore(e.hardForkInitiation),n.UnitInterval.fromCore(e.securityRelevantParamVotingThreshold))}setMotionNoConfidence(e){__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}setCommitteeNormal(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}setCommitteeNoConfidence(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}setHardForkInitiation(e){__classPrivateFieldSet(this,f,e,"f");__classPrivateFieldSet(this,p,void 0,"f")}motionNoConfidence(){return __classPrivateFieldGet(this,c,"f")}committeeNormal(){return __classPrivateFieldGet(this,l,"f")}committeeNoConfidence(){return __classPrivateFieldGet(this,u,"f")}hardForkInitiation(){return __classPrivateFieldGet(this,f,"f")}securityRelevantParam(){return __classPrivateFieldGet(this,h,"f")}constructor(e,t,r,a,s){c.set(this,void 0);l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);__classPrivateFieldSet(this,c,e,"f");__classPrivateFieldSet(this,l,t,"f");__classPrivateFieldSet(this,u,r,"f");__classPrivateFieldSet(this,f,a,"f");__classPrivateFieldSet(this,h,s,"f")}}c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProposedProtocolParameterUpdates.js":(e,t,r)=>{"use strict";r.d(t,{ProposedProtocolParameterUpdates:()=>ProposedProtocolParameterUpdates});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProtocolParamUpdate.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u;class ProposedProtocolParameterUpdates{toCbor(){const e=new s.CborWriter;if(__classPrivateFieldGet(this,u,"f"))return __classPrivateFieldGet(this,u,"f");const t=new Map([...__classPrivateFieldGet(this,l,"f")].sort((e,t)=>e>t?1:-1));e.writeStartMap(t.size);for(const[r,a]of t){e.writeByteString(c.from(r,"hex"));e.writeEncodedValue(c.from(a.toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=new i.CborReader(e);const r=new Map;t.readStartMap();while(t.peekState()!==o.CborReaderState.EndMap){const s=a.Hash28ByteBase16(n.HexBlob.fromBytes(t.readByteString()));const c=d.ProtocolParamUpdate.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue()));r.set(s,c)}t.readEndMap();const l=new ProposedProtocolParameterUpdates(r);__classPrivateFieldSet(l,u,e,"f");return l}toCore(){return new Map([...__classPrivateFieldGet(this,l,"f")].map(([e,t])=>[e,t.toCore()]))}static fromCore(e){return new ProposedProtocolParameterUpdates(new Map([...e].map(([e,t])=>[e,d.ProtocolParamUpdate.fromCore(t)])))}size(){return __classPrivateFieldGet(this,l,"f").size}insert(e,t){__classPrivateFieldGet(this,l,"f").set(e,t)}get(e){return __classPrivateFieldGet(this,l,"f").get(e)}keys(){return[...__classPrivateFieldGet(this,l,"f").keys()]}constructor(e){l.set(this,new Map);u.set(this,void 0);__classPrivateFieldSet(this,l,e,"f")}}l=new WeakMap,u=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProtocolParamUpdate.js":(e,t,r)=>{"use strict";r.d(t,{ProtocolParamUpdate:()=>ProtocolParamUpdate});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/Costmdls.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/DrepVotingThresholds.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ExUnitPrices.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ProtocolVersion.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ExUnits.js");var h=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/PoolVotingThresholds.js");var m=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var _,v,y,w,g,b,P,C,S,T,E,k,A,I,j,x,R,B,O,D,M,F,N,H,G,V,K,L,z,U,W,$,q,Y,Q,X;class ProtocolParamUpdate{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,Q,"f"))return __classPrivateFieldGet(this,Q,"f");e.writeStartMap(__classPrivateFieldGet(this,_,"m",X).call(this));if(void 0!==__classPrivateFieldGet(this,v,"f")){e.writeInt(0n);e.writeInt(__classPrivateFieldGet(this,v,"f"))}if(void 0!==__classPrivateFieldGet(this,y,"f")){e.writeInt(1n);e.writeInt(__classPrivateFieldGet(this,y,"f"))}if(void 0!==__classPrivateFieldGet(this,w,"f")){e.writeInt(2n);e.writeInt(__classPrivateFieldGet(this,w,"f"))}if(void 0!==__classPrivateFieldGet(this,g,"f")){e.writeInt(3n);e.writeInt(__classPrivateFieldGet(this,g,"f"))}if(void 0!==__classPrivateFieldGet(this,b,"f")){e.writeInt(4n);e.writeInt(__classPrivateFieldGet(this,b,"f"))}if(void 0!==__classPrivateFieldGet(this,P,"f")){e.writeInt(5n);e.writeInt(__classPrivateFieldGet(this,P,"f"))}if(void 0!==__classPrivateFieldGet(this,C,"f")){e.writeInt(6n);e.writeInt(__classPrivateFieldGet(this,C,"f"))}if(void 0!==__classPrivateFieldGet(this,S,"f")){e.writeInt(7n);e.writeInt(__classPrivateFieldGet(this,S,"f"))}if(void 0!==__classPrivateFieldGet(this,T,"f")){e.writeInt(8n);e.writeInt(__classPrivateFieldGet(this,T,"f"))}if(void 0!==__classPrivateFieldGet(this,E,"f")){e.writeInt(9n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,E,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,k,"f")){e.writeInt(10n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,k,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,A,"f")){e.writeInt(11n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,A,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,I,"f")){e.writeInt(12n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,I,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,j,"f"))if(0===__classPrivateFieldGet(this,j,"f").length){e.writeInt(13n);e.writeStartArray(1);e.writeInt(0)}else{e.writeInt(13n);e.writeStartArray(2);e.writeInt(1);e.writeByteString(m.from(__classPrivateFieldGet(this,j,"f"),"hex"))}if(void 0!==__classPrivateFieldGet(this,x,"f")){e.writeInt(14n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,x,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,R,"f")){e.writeInt(16n);e.writeInt(__classPrivateFieldGet(this,R,"f"))}if(void 0!==__classPrivateFieldGet(this,B,"f")){e.writeInt(17n);e.writeInt(__classPrivateFieldGet(this,B,"f"))}if(void 0!==__classPrivateFieldGet(this,O,"f")){e.writeInt(18n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,O,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,D,"f")){e.writeInt(19n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,D,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,M,"f")){e.writeInt(20n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,M,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,F,"f")){e.writeInt(21n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,F,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,N,"f")){e.writeInt(22n);e.writeInt(__classPrivateFieldGet(this,N,"f"))}if(void 0!==__classPrivateFieldGet(this,H,"f")){e.writeInt(23n);e.writeInt(__classPrivateFieldGet(this,H,"f"))}if(void 0!==__classPrivateFieldGet(this,G,"f")){e.writeInt(24n);e.writeInt(__classPrivateFieldGet(this,G,"f"))}if(void 0!==__classPrivateFieldGet(this,V,"f")){e.writeInt(25n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,V,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,K,"f")){e.writeInt(26n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,K,"f").toCbor(),"hex"))}if(void 0!==__classPrivateFieldGet(this,L,"f")){e.writeInt(27n);e.writeInt(__classPrivateFieldGet(this,L,"f"))}if(void 0!==__classPrivateFieldGet(this,z,"f")){e.writeInt(28n);e.writeInt(__classPrivateFieldGet(this,z,"f"))}if(void 0!==__classPrivateFieldGet(this,U,"f")){e.writeInt(29n);e.writeInt(__classPrivateFieldGet(this,U,"f"))}if(void 0!==__classPrivateFieldGet(this,W,"f")){e.writeInt(30n);e.writeInt(__classPrivateFieldGet(this,W,"f"))}if(void 0!==__classPrivateFieldGet(this,$,"f")){e.writeInt(31n);e.writeInt(__classPrivateFieldGet(this,$,"f"))}if(void 0!==__classPrivateFieldGet(this,q,"f")){e.writeInt(32n);e.writeInt(__classPrivateFieldGet(this,q,"f"))}if(void 0!==__classPrivateFieldGet(this,Y,"f")){e.writeInt(33n);e.writeEncodedValue(m.from(__classPrivateFieldGet(this,Y,"f").toCbor(),"hex"))}return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=new ProtocolParamUpdate;t.readStartMap();while(t.peekState()!==i.CborReaderState.EndMap){const a=t.readInt();switch(a){case 0n:__classPrivateFieldSet(r,v,t.readInt(),"f");break;case 1n:__classPrivateFieldSet(r,y,t.readInt(),"f");break;case 2n:__classPrivateFieldSet(r,w,Number(t.readInt()),"f");break;case 3n:__classPrivateFieldSet(r,g,Number(t.readInt()),"f");break;case 4n:__classPrivateFieldSet(r,b,Number(t.readInt()),"f");break;case 5n:__classPrivateFieldSet(r,P,t.readInt(),"f");break;case 6n:__classPrivateFieldSet(r,C,t.readInt(),"f");break;case 7n:__classPrivateFieldSet(r,S,Number(t.readInt()),"f");break;case 8n:__classPrivateFieldSet(r,T,Number(t.readInt()),"f");break;case 9n:__classPrivateFieldSet(r,E,l.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 10n:__classPrivateFieldSet(r,k,l.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 11n:__classPrivateFieldSet(r,A,l.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 12n:__classPrivateFieldSet(r,I,l.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 13n:if(1===t.readStartArray()){t.readEncodedValue();__classPrivateFieldSet(r,j,"","f");t.readEndArray()}else{t.readEncodedValue();__classPrivateFieldSet(r,j,h.HexBlob.fromBytes(t.readByteString()),"f");t.readEndArray()}break;case 14n:__classPrivateFieldSet(r,x,u.ProtocolVersion.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 16n:__classPrivateFieldSet(r,R,t.readInt(),"f");break;case 17n:__classPrivateFieldSet(r,B,t.readInt(),"f");break;case 18n:__classPrivateFieldSet(r,O,o.Costmdls.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 19n:__classPrivateFieldSet(r,D,c.ExUnitPrices.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 20n:__classPrivateFieldSet(r,M,f.ExUnits.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 21n:__classPrivateFieldSet(r,F,f.ExUnits.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 22n:__classPrivateFieldSet(r,N,Number(t.readInt()),"f");break;case 23n:__classPrivateFieldSet(r,H,Number(t.readInt()),"f");break;case 24n:__classPrivateFieldSet(r,G,Number(t.readInt()),"f");break;case 25n:__classPrivateFieldSet(r,V,p.PoolVotingThresholds.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 26n:__classPrivateFieldSet(r,K,n.DrepVotingThresholds.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break;case 27n:__classPrivateFieldSet(r,L,Number(t.readInt()),"f");break;case 28n:__classPrivateFieldSet(r,z,Number(t.readInt()),"f");break;case 29n:__classPrivateFieldSet(r,U,Number(t.readInt()),"f");break;case 30n:__classPrivateFieldSet(r,W,Number(t.readInt()),"f");break;case 31n:__classPrivateFieldSet(r,$,Number(t.readInt()),"f");break;case 32n:__classPrivateFieldSet(r,q,Number(t.readInt()),"f");break;case 33n:__classPrivateFieldSet(r,Y,l.UnitInterval.fromCbor(h.HexBlob.fromBytes(t.readEncodedValue())),"f");break}}t.readEndMap();__classPrivateFieldSet(r,Q,e,"f");return r}toCore(){var e,t,r,a,s,i;const o={coinsPerUtxoByte:void 0!==__classPrivateFieldGet(this,B,"f")?Number(__classPrivateFieldGet(this,B,"f")):void 0,collateralPercentage:__classPrivateFieldGet(this,H,"f"),committeeTermLimit:void 0!==__classPrivateFieldGet(this,z,"f")?(0,d.EpochNo)(__classPrivateFieldGet(this,z,"f")):void 0,costModels:null===(e=__classPrivateFieldGet(this,O,"f"))||void 0===e?void 0:e.toCore(),dRepDeposit:__classPrivateFieldGet(this,$,"f"),dRepInactivityPeriod:void 0!==__classPrivateFieldGet(this,q,"f")?(0,d.EpochNo)(__classPrivateFieldGet(this,q,"f")):void 0,dRepVotingThresholds:null===(t=__classPrivateFieldGet(this,K,"f"))||void 0===t?void 0:t.toCore(),desiredNumberOfPools:__classPrivateFieldGet(this,T,"f"),governanceActionDeposit:__classPrivateFieldGet(this,W,"f"),governanceActionValidityPeriod:void 0!==__classPrivateFieldGet(this,U,"f")?(0,d.EpochNo)(__classPrivateFieldGet(this,U,"f")):void 0,maxBlockBodySize:__classPrivateFieldGet(this,w,"f"),maxBlockHeaderSize:__classPrivateFieldGet(this,b,"f"),maxCollateralInputs:__classPrivateFieldGet(this,G,"f"),maxExecutionUnitsPerBlock:null===(r=__classPrivateFieldGet(this,F,"f"))||void 0===r?void 0:r.toCore(),maxExecutionUnitsPerTransaction:null===(a=__classPrivateFieldGet(this,M,"f"))||void 0===a?void 0:a.toCore(),maxTxSize:void 0!==__classPrivateFieldGet(this,g,"f")?Number(__classPrivateFieldGet(this,g,"f")):void 0,maxValueSize:__classPrivateFieldGet(this,N,"f"),minCommitteeSize:__classPrivateFieldGet(this,L,"f"),minFeeCoefficient:void 0!==__classPrivateFieldGet(this,v,"f")?Number(__classPrivateFieldGet(this,v,"f")):void 0,minFeeConstant:void 0!==__classPrivateFieldGet(this,y,"f")?Number(__classPrivateFieldGet(this,y,"f")):void 0,minFeeRefScriptCostPerByte:__classPrivateFieldGet(this,Y,"f")?__classPrivateFieldGet(this,Y,"f").toFloat().toString():void 0,minPoolCost:void 0!==__classPrivateFieldGet(this,R,"f")?Number(__classPrivateFieldGet(this,R,"f")):void 0,monetaryExpansion:__classPrivateFieldGet(this,k,"f")?__classPrivateFieldGet(this,k,"f").toFloat().toString():void 0,poolDeposit:void 0!==__classPrivateFieldGet(this,C,"f")?Number(__classPrivateFieldGet(this,C,"f")):void 0,poolInfluence:__classPrivateFieldGet(this,E,"f")?__classPrivateFieldGet(this,E,"f").toFloat().toString():void 0,poolRetirementEpochBound:__classPrivateFieldGet(this,S,"f"),poolVotingThresholds:null===(s=__classPrivateFieldGet(this,V,"f"))||void 0===s?void 0:s.toCore(),prices:null===(i=__classPrivateFieldGet(this,D,"f"))||void 0===i?void 0:i.toCore(),stakeKeyDeposit:void 0!==__classPrivateFieldGet(this,P,"f")?Number(__classPrivateFieldGet(this,P,"f")):void 0,treasuryExpansion:__classPrivateFieldGet(this,A,"f")?__classPrivateFieldGet(this,A,"f").toFloat().toString():void 0};if(__classPrivateFieldGet(this,I,"f"))o.decentralizationParameter=__classPrivateFieldGet(this,I,"f").toFloat().toString();if(void 0!==__classPrivateFieldGet(this,j,"f"))o.extraEntropy=__classPrivateFieldGet(this,j,"f");if(__classPrivateFieldGet(this,x,"f"))o.protocolVersion=__classPrivateFieldGet(this,x,"f").toCore();return o}static fromCore(e){const t=new ProtocolParamUpdate;__classPrivateFieldSet(t,v,void 0!==e.minFeeCoefficient?BigInt(e.minFeeCoefficient):void 0,"f");__classPrivateFieldSet(t,w,e.maxBlockBodySize,"f");__classPrivateFieldSet(t,y,void 0!==e.minFeeConstant?BigInt(e.minFeeConstant):void 0,"f");__classPrivateFieldSet(t,b,e.maxBlockHeaderSize,"f");__classPrivateFieldSet(t,P,void 0!==e.stakeKeyDeposit?BigInt(e.stakeKeyDeposit):void 0,"f");__classPrivateFieldSet(t,C,void 0!==e.poolDeposit&&null!==e.poolDeposit?BigInt(e.poolDeposit):void 0,"f");__classPrivateFieldSet(t,S,e.poolRetirementEpochBound,"f");__classPrivateFieldSet(t,T,e.desiredNumberOfPools,"f");__classPrivateFieldSet(t,E,e.poolInfluence?l.UnitInterval.fromFloat(Number(e.poolInfluence)):void 0,"f");__classPrivateFieldSet(t,k,e.monetaryExpansion?l.UnitInterval.fromFloat(Number(e.monetaryExpansion)):void 0,"f");__classPrivateFieldSet(t,A,e.treasuryExpansion?l.UnitInterval.fromFloat(Number(e.treasuryExpansion)):void 0,"f");__classPrivateFieldSet(t,R,void 0!==e.minPoolCost?BigInt(e.minPoolCost):void 0,"f");__classPrivateFieldSet(t,N,e.maxValueSize,"f");__classPrivateFieldSet(t,g,e.maxTxSize,"f");__classPrivateFieldSet(t,H,e.collateralPercentage,"f");__classPrivateFieldSet(t,G,e.maxCollateralInputs,"f");__classPrivateFieldSet(t,O,e.costModels?o.Costmdls.fromCore(e.costModels):void 0,"f");__classPrivateFieldSet(t,D,e.prices?c.ExUnitPrices.fromCore(e.prices):void 0,"f");__classPrivateFieldSet(t,M,e.maxExecutionUnitsPerTransaction?f.ExUnits.fromCore(e.maxExecutionUnitsPerTransaction):void 0,"f");__classPrivateFieldSet(t,F,e.maxExecutionUnitsPerBlock?f.ExUnits.fromCore(e.maxExecutionUnitsPerBlock):void 0,"f");__classPrivateFieldSet(t,B,void 0!==e.coinsPerUtxoByte?BigInt(e.coinsPerUtxoByte):void 0,"f");__classPrivateFieldSet(t,V,e.poolVotingThresholds?p.PoolVotingThresholds.fromCore(e.poolVotingThresholds):void 0,"f");__classPrivateFieldSet(t,K,e.dRepVotingThresholds?n.DrepVotingThresholds.fromCore(e.dRepVotingThresholds):void 0,"f");__classPrivateFieldSet(t,L,e.minCommitteeSize,"f");__classPrivateFieldSet(t,z,e.committeeTermLimit,"f");__classPrivateFieldSet(t,U,e.governanceActionValidityPeriod,"f");__classPrivateFieldSet(t,W,e.governanceActionDeposit,"f");__classPrivateFieldSet(t,$,e.dRepDeposit,"f");__classPrivateFieldSet(t,q,e.dRepInactivityPeriod,"f");__classPrivateFieldSet(t,Y,e.minFeeRefScriptCostPerByte?l.UnitInterval.fromFloat(Number(e.minFeeRefScriptCostPerByte)):void 0,"f");const{protocolVersion:r,extraEntropy:a,decentralizationParameter:s}=e;if(void 0!==r||void 0!==a||s){__classPrivateFieldSet(t,I,s?l.UnitInterval.fromFloat(Number(s)):void 0,"f");__classPrivateFieldSet(t,x,r?u.ProtocolVersion.fromCore(r):void 0,"f");__classPrivateFieldSet(t,j,a?(0,h.HexBlob)(a):void 0,"f")}return t}setMinFeeA(e){__classPrivateFieldSet(this,v,e,"f")}minFeeA(){return __classPrivateFieldGet(this,v,"f")}setMinFeeB(e){__classPrivateFieldSet(this,y,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}minFeeB(){return __classPrivateFieldGet(this,y,"f")}setMaxBlockBodySize(e){__classPrivateFieldSet(this,w,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxBlockBodySize(){return __classPrivateFieldGet(this,w,"f")}setMaxTxSize(e){__classPrivateFieldSet(this,g,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxTxSize(){return __classPrivateFieldGet(this,g,"f")}setMaxBlockHeaderSize(e){__classPrivateFieldSet(this,b,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxBlockHeaderSize(){return __classPrivateFieldGet(this,b,"f")}setKeyDeposit(e){__classPrivateFieldSet(this,P,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}keyDeposit(){return __classPrivateFieldGet(this,P,"f")}setPoolDeposit(e){__classPrivateFieldSet(this,C,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}poolDeposit(){return __classPrivateFieldGet(this,C,"f")}setMaxEpoch(e){__classPrivateFieldSet(this,S,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxEpoch(){return __classPrivateFieldGet(this,S,"f")}setNOpt(e){__classPrivateFieldSet(this,T,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}nOpt(){return __classPrivateFieldGet(this,T,"f")}setPoolPledgeInfluence(e){__classPrivateFieldSet(this,E,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}poolPledgeInfluence(){return __classPrivateFieldGet(this,E,"f")}setExpansionRate(e){__classPrivateFieldSet(this,k,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}expansionRate(){return __classPrivateFieldGet(this,k,"f")}setTreasuryGrowthRate(e){__classPrivateFieldSet(this,A,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}treasuryGrowthRate(){return __classPrivateFieldGet(this,A,"f")}setD(e){__classPrivateFieldSet(this,I,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}d(){return __classPrivateFieldGet(this,I,"f")}setExtraEntropy(e){__classPrivateFieldSet(this,j,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}extraEntropy(){return __classPrivateFieldGet(this,j,"f")}setProtocolVersion(e){__classPrivateFieldSet(this,x,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}protocolVersion(){return __classPrivateFieldGet(this,x,"f")}setMinPoolCost(e){__classPrivateFieldSet(this,R,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}minPoolCost(){return __classPrivateFieldGet(this,R,"f")}setAdaPerUtxoByte(e){__classPrivateFieldSet(this,B,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}adaPerUtxoByte(){return __classPrivateFieldGet(this,B,"f")}setCostModels(e){__classPrivateFieldSet(this,O,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}costModels(){return __classPrivateFieldGet(this,O,"f")}setExecutionCosts(e){__classPrivateFieldSet(this,D,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}executionCosts(){return __classPrivateFieldGet(this,D,"f")}setMaxTxExUnits(e){__classPrivateFieldSet(this,M,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxTxExUnits(){return __classPrivateFieldGet(this,M,"f")}setMaxBlockExUnits(e){__classPrivateFieldSet(this,F,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxBlockExUnits(){return __classPrivateFieldGet(this,F,"f")}setMaxValueSize(e){__classPrivateFieldSet(this,N,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxValueSize(){return __classPrivateFieldGet(this,N,"f")}setCollateralPercentage(e){__classPrivateFieldSet(this,H,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}collateralPercentage(){return __classPrivateFieldGet(this,H,"f")}setMaxCollateralInputs(e){__classPrivateFieldSet(this,G,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}maxCollateralInputs(){return __classPrivateFieldGet(this,G,"f")}setPoolVotingThresholds(e){__classPrivateFieldSet(this,V,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}poolVotingThresholds(){return __classPrivateFieldGet(this,V,"f")}setDrepVotingThresholds(e){__classPrivateFieldSet(this,K,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}drepVotingThresholds(){return __classPrivateFieldGet(this,K,"f")}setMinCommitteeSize(e){__classPrivateFieldSet(this,L,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}minCommitteeSize(){return __classPrivateFieldGet(this,L,"f")}setCommitteeTermLimit(e){__classPrivateFieldSet(this,z,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}committeeTermLimit(){return __classPrivateFieldGet(this,z,"f")}setGovernanceActionValidityPeriod(e){__classPrivateFieldSet(this,U,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}governanceActionValidityPeriod(){return __classPrivateFieldGet(this,U,"f")}setGovernanceActionDeposit(e){__classPrivateFieldSet(this,W,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}governanceActionDeposit(){return __classPrivateFieldGet(this,W,"f")}setDrepDeposit(e){__classPrivateFieldSet(this,$,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}drepDeposit(){return __classPrivateFieldGet(this,$,"f")}setDrepInactivityPeriod(e){__classPrivateFieldSet(this,q,e,"f");__classPrivateFieldSet(this,Q,void 0,"f")}drepInactivityPeriod(){return __classPrivateFieldGet(this,q,"f")}minFeeRefScriptCostPerByte(){return __classPrivateFieldGet(this,Y,"f")}constructor(){_.add(this);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,void 0);b.set(this,void 0);P.set(this,void 0);C.set(this,void 0);S.set(this,void 0);T.set(this,void 0);E.set(this,void 0);k.set(this,void 0);A.set(this,void 0);I.set(this,void 0);j.set(this,void 0);x.set(this,void 0);R.set(this,void 0);B.set(this,void 0);O.set(this,void 0);D.set(this,void 0);M.set(this,void 0);F.set(this,void 0);N.set(this,void 0);H.set(this,void 0);G.set(this,void 0);V.set(this,void 0);K.set(this,void 0);L.set(this,void 0);z.set(this,void 0);U.set(this,void 0);W.set(this,void 0);$.set(this,void 0);q.set(this,void 0);Y.set(this,void 0);Q.set(this,void 0)}}v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,x=new WeakMap,R=new WeakMap,B=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,F=new WeakMap,N=new WeakMap,H=new WeakMap,G=new WeakMap,V=new WeakMap,K=new WeakMap,L=new WeakMap,z=new WeakMap,U=new WeakMap,W=new WeakMap,$=new WeakMap,q=new WeakMap,Y=new WeakMap,Q=new WeakMap,_=new WeakSet,X=function _ProtocolParamUpdate_getMapSize(){let e=0;if(void 0!==__classPrivateFieldGet(this,v,"f"))++e;if(void 0!==__classPrivateFieldGet(this,y,"f"))++e;if(void 0!==__classPrivateFieldGet(this,w,"f"))++e;if(void 0!==__classPrivateFieldGet(this,g,"f"))++e;if(void 0!==__classPrivateFieldGet(this,b,"f"))++e;if(void 0!==__classPrivateFieldGet(this,P,"f"))++e;if(void 0!==__classPrivateFieldGet(this,C,"f"))++e;if(void 0!==__classPrivateFieldGet(this,S,"f"))++e;if(void 0!==__classPrivateFieldGet(this,T,"f"))++e;if(void 0!==__classPrivateFieldGet(this,E,"f"))++e;if(void 0!==__classPrivateFieldGet(this,k,"f"))++e;if(void 0!==__classPrivateFieldGet(this,A,"f"))++e;if(void 0!==__classPrivateFieldGet(this,I,"f"))++e;if(void 0!==__classPrivateFieldGet(this,j,"f"))++e;if(void 0!==__classPrivateFieldGet(this,x,"f"))++e;if(void 0!==__classPrivateFieldGet(this,R,"f"))++e;if(void 0!==__classPrivateFieldGet(this,B,"f"))++e;if(void 0!==__classPrivateFieldGet(this,O,"f"))++e;if(void 0!==__classPrivateFieldGet(this,D,"f"))++e;if(void 0!==__classPrivateFieldGet(this,M,"f"))++e;if(void 0!==__classPrivateFieldGet(this,F,"f"))++e;if(void 0!==__classPrivateFieldGet(this,N,"f"))++e;if(void 0!==__classPrivateFieldGet(this,H,"f"))++e;if(void 0!==__classPrivateFieldGet(this,G,"f"))++e;if(void 0!==__classPrivateFieldGet(this,V,"f"))++e;if(void 0!==__classPrivateFieldGet(this,K,"f"))++e;if(void 0!==__classPrivateFieldGet(this,L,"f"))++e;if(void 0!==__classPrivateFieldGet(this,z,"f"))++e;if(void 0!==__classPrivateFieldGet(this,U,"f"))++e;if(void 0!==__classPrivateFieldGet(this,W,"f"))++e;if(void 0!==__classPrivateFieldGet(this,$,"f"))++e;if(void 0!==__classPrivateFieldGet(this,q,"f"))++e;if(void 0!==__classPrivateFieldGet(this,Y,"f"))++e;return e}},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Update.js":(e,t,r)=>{"use strict";r.d(t,{Update:()=>Update});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProposedProtocolParameterUpdates.js");var c=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var l,u,f;const h=2;class Update{toCbor(){const e=new a.CborWriter;if(__classPrivateFieldGet(this,f,"f"))return __classPrivateFieldGet(this,f,"f");e.writeStartArray(h);e.writeEncodedValue(c.from(__classPrivateFieldGet(this,u,"f").toCbor(),"hex"));e.writeInt(__classPrivateFieldGet(this,l,"f"));return e.encodeAsHex()}static fromCbor(e){const t=new s.CborReader(e);const r=t.readStartArray();if(r!==h)throw new o.InvalidArgumentError("cbor",`Expected an array of ${h} elements, but got an array of ${r} elements`);const a=d.ProposedProtocolParameterUpdates.fromCbor(n.HexBlob.fromBytes(t.readEncodedValue()));const c=t.readInt();t.readEndArray();const l=new Update(a,(0,i.EpochNo)(Number(c)));__classPrivateFieldSet(l,f,e,"f");return l}toCore(){return{epoch:__classPrivateFieldGet(this,l,"f"),proposedProtocolParameterUpdates:__classPrivateFieldGet(this,u,"f").toCore()}}static fromCore(e){const t=e.epoch;const r=d.ProposedProtocolParameterUpdates.fromCore(e.proposedProtocolParameterUpdates);return new Update(r,t)}epoch(){return __classPrivateFieldGet(this,l,"f")}setEpoch(e){__classPrivateFieldSet(this,l,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}proposedProtocolParameterUpdates(){return __classPrivateFieldGet(this,u,"f")}setProposedProtocolParameterUpdates(e){__classPrivateFieldSet(this,u,e,"f");__classPrivateFieldSet(this,f,void 0,"f")}constructor(e,t){l.set(this,void 0);u.set(this,void 0);f.set(this,void 0);__classPrivateFieldSet(this,l,t,"f");__classPrivateFieldSet(this,u,e,"f")}}l=new WeakMap,u=new WeakMap,f=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/Serialization/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{ALONZO_AUX_TAG:()=>e6.ALONZO_AUX_TAG,Anchor:()=>w.Anchor,AuthCommitteeHot:()=>ec.AuthCommitteeHot,AuxiliaryData:()=>e6.AuxiliaryData,BootstrapWitness:()=>eZ.BootstrapWitness,CborAdditionalInfo:()=>I.CborAdditionalInfo,CborContentException:()=>F.CborContentException,CborInitialByte:()=>j.CborInitialByte,CborInvalidOperationException:()=>F.CborInvalidOperationException,CborMajorType:()=>x.CborMajorType,CborReader:()=>R.CborReader,CborReaderState:()=>B.CborReaderState,CborSet:()=>b.CborSet,CborSimpleValue:()=>O,CborTag:()=>D.CborTag,CborWriter:()=>M.CborWriter,Certificate:()=>N.Certificate,Committee:()=>Committee,Constitution:()=>eG.Constitution,ConstrPlutusData:()=>S.ConstrPlutusData,CostModel:()=>em.CostModel,Costmdls:()=>ep.Costmdls,Credential:()=>C.Credential,DRep:()=>et.DRep,DRepKind:()=>ee.DRepKind,Datum:()=>y.Datum,DatumKind:()=>y.DatumKind,DrepVotingThresholds:()=>eg.DrepVotingThresholds,ExUnitPrices:()=>ew.ExUnitPrices,ExUnits:()=>_.ExUnits,GeneralTransactionMetadata:()=>e8.GeneralTransactionMetadata,GenesisKeyDelegation:()=>H.GenesisKeyDelegation,GovernanceActionId:()=>g.GovernanceActionId,GovernanceActionKind:()=>eY.GovernanceActionKind,HardForkInitiationAction:()=>eV.HardForkInitiationAction,Hash:()=>P.Hash,InfoAction:()=>eK.InfoAction,LossOfPrecisionException:()=>F.LossOfPrecisionException,MetadatumList:()=>e2.MetadatumList,MetadatumMap:()=>e3.MetadatumMap,MoveInstantaneousReward:()=>X.MoveInstantaneousReward,MoveInstantaneousRewardToOtherPot:()=>Z.MoveInstantaneousRewardToOtherPot,MoveInstantaneousRewardToStakeCreds:()=>J.MoveInstantaneousRewardToStakeCreds,MultiHostName:()=>$.MultiHostName,NativeScript:()=>i.NativeScript,NewConstitution:()=>eL.NewConstitution,NoConfidence:()=>ez.NoConfidence,ParameterChangeAction:()=>eU.ParameterChangeAction,PlutusData:()=>T.PlutusData,PlutusDataKind:()=>E.PlutusDataKind,PlutusList:()=>k.PlutusList,PlutusMap:()=>A.PlutusMap,PlutusV1Script:()=>f.PlutusV1Script,PlutusV2Script:()=>h.PlutusV2Script,PlutusV3Script:()=>p.PlutusV3Script,PoolMetadata:()=>U.PoolMetadata,PoolParams:()=>W.PoolParams,PoolRegistration:()=>G.PoolRegistration,PoolRetirement:()=>V.PoolRetirement,PoolVotingThresholds:()=>eb.PoolVotingThresholds,ProposalProcedure:()=>eq.ProposalProcedure,ProposedProtocolParameterUpdates:()=>e_.ProposedProtocolParameterUpdates,ProtocolParamUpdate:()=>ev.ProtocolParamUpdate,ProtocolVersion:()=>v.ProtocolVersion,REQUIRED_FIELDS_COUNT:()=>eS.REQUIRED_FIELDS_COUNT,Redeemer:()=>eX.Redeemer,RedeemerTag:()=>eQ.RedeemerTag,Redeemers:()=>eJ.Redeemers,RegisterDelegateRepresentative:()=>eu.RegisterDelegateRepresentative,Registration:()=>er.Registration,Relay:()=>Y.Relay,RelayKind:()=>Y.RelayKind,ResignCommitteeCold:()=>el.ResignCommitteeCold,SHELLEY_ERA_FIELDS_COUNT:()=>e6.SHELLEY_ERA_FIELDS_COUNT,Script:()=>s.Script,ScriptAll:()=>o.ScriptAll,ScriptAny:()=>n.ScriptAny,ScriptNOfK:()=>d.ScriptNOfK,ScriptPubkey:()=>c.ScriptPubkey,SingleHostAddr:()=>Q.SingleHostAddr,SingleHostName:()=>q.SingleHostName,StakeDelegation:()=>K.StakeDelegation,StakeDeregistration:()=>L.StakeDeregistration,StakeRegistration:()=>z.StakeRegistration,StakeRegistrationDelegation:()=>eo.StakeRegistrationDelegation,StakeVoteDelegation:()=>ei.StakeVoteDelegation,StakeVoteRegistrationDelegation:()=>ed.StakeVoteRegistrationDelegation,TimelockExpiry:()=>l.TimelockExpiry,TimelockStart:()=>u.TimelockStart,Transaction:()=>a.Transaction,TransactionBody:()=>eP.TransactionBody,TransactionInput:()=>eC.TransactionInput,TransactionMetadatum:()=>e5.TransactionMetadatum,TransactionMetadatumKind:()=>e4.TransactionMetadatumKind,TransactionOutput:()=>eS.TransactionOutput,TransactionUnspentOutput:()=>TransactionUnspentOutput,TransactionWitnessSet:()=>e0.TransactionWitnessSet,TreasuryWithdrawalsAction:()=>eW.TreasuryWithdrawalsAction,TxBodyCBOR:()=>a.TxBodyCBOR,TxCBOR:()=>a.TxCBOR,UnitInterval:()=>m.UnitInterval,UnregisterDelegateRepresentative:()=>ef.UnregisterDelegateRepresentative,Unregistration:()=>ea.Unregistration,Update:()=>ey.Update,UpdateCommittee:()=>e$.UpdateCommittee,UpdateDelegateRepresentative:()=>eh.UpdateDelegateRepresentative,Value:()=>eT.Value,VkeyWitness:()=>e1.VkeyWitness,VoteDelegation:()=>es.VoteDelegation,VoteRegistrationDelegation:()=>en.VoteRegistrationDelegation,Voter:()=>ek.Voter,VoterKind:()=>eE.VoterKind,VotingProcedure:()=>eA.VotingProcedure,VotingProcedures:()=>eI.VotingProcedures,deserializeTx:()=>a.deserializeTx,isDatumHash:()=>y.isDatumHash});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/Script.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptAll.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptAny.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptNOfK.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/ScriptPubkey.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/TimelockExpiry.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/TimelockStart.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV1Script.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV2Script.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/PlutusScript/PlutusV3Script.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/UnitInterval.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ExUnits.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/ProtocolVersion.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Datum.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Anchor.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/GovernanceActionId.js");var b=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/CborSet.js");var P=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Hash.js");var C=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Credential.js");var S=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/ConstrPlutusData.js");var T=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var E=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusDataKind.js");var k=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusList.js");var A=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusMap.js");var I=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborAdditionalInfo.js");var j=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborInitialByte.js");var x=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborMajorType.js");var R=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var B=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReaderState.js");var O;(function(e){e[e["False"]=20]="False";e[e["True"]=21]="True";e[e["Null"]=22]="Null";e[e["Undefined"]=23]="Undefined"})(O||(O={}));var D=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborTag.js");var M=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var F=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/errors.js");var N=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Certificate.js");var H=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/GenesisKeyDelegation.js");var G=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolRegistration.js");var V=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolRetirement.js");var K=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeDelegation.js");var L=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeDeregistration.js");var z=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeRegistration.js");var U=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/PoolMetadata.js");var W=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/PoolParams.js");var $=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/MultiHostName.js");var q=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/SingleHostName.js");var Y=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/Relay.js");var Q=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/PoolParams/Relay/SingleHostAddr.js");var X=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousReward.js");var J=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToStakeCreds.js");var Z=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/MoveInstantaneousReward/MoveInstantaneousRewardToOtherPot.js");var ee=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRepKind.js");var et=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/DRep/DRep.js");var er=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Registration.js");var ea=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/Unregistration.js");var es=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/VoteDelegation.js");var ei=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeVoteDelegation.js");var eo=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeRegistrationDelegation.js");var en=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/VoteRegistrationDelegation.js");var ed=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/StakeVoteRegistrationDelegation.js");var ec=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/AuthCommitteeHot.js");var el=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/ResignCommitteeCold.js");var eu=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/RegisterDelegateRepresentative.js");var ef=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/UnregisterDelegateRepresentative.js");var eh=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Certificates/UpdateDelegateRepresentative.js");var ep=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/Costmdls.js");var em=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/CostModel.js");var e_=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProposedProtocolParameterUpdates.js");var ev=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ProtocolParamUpdate.js");var ey=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Update.js");var ew=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/ExUnitPrices.js");var eg=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/DrepVotingThresholds.js");var eb=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/PoolVotingThresholds.js");var eP=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionBody.js");var eC=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionInput.js");var eS=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionOutput.js");var eT=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Value.js");var eE=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VoterKind.js");var ek=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/Voter.js");var eA=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VotingProcedure.js");var eI=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/VotingProcedures/VotingProcedures.js");var ej=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var ex=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var eR=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var eB,eO,eD;const eM=2;const eF=2;const eN=0;const eH=1;class Committee{toCbor(){const e=new M.CborWriter;if(__classPrivateFieldGet(this,eD,"f"))return __classPrivateFieldGet(this,eD,"f");if(0===__classPrivateFieldGet(this,eO,"f").length)throw new ej.InvalidStateError("There must be at least one Committee member");e.writeStartArray(eM);e.writeStartMap(__classPrivateFieldGet(this,eO,"f").length);for(const t of __classPrivateFieldGet(this,eO,"f")){e.writeStartArray(eF);e.writeInt(t[eN].type);e.writeByteString((0,eR.hexToBytes)(t[eN].hash));e.writeInt(t[eH])}e.writeEncodedValue((0,eR.hexToBytes)(__classPrivateFieldGet(this,eB,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new R.CborReader(e);const r=t.readStartArray();if(r!==eM)throw new ej.InvalidArgumentError("cbor",`Expected an array of ${eM} elements, but got an array of ${r} elements`);t.readStartMap();const a=[];while(t.peekState()!==B.CborReaderState.EndMap){if(t.readStartArray()!==eF)throw new ej.InvalidArgumentError("cbor",`Expected an array of ${eF} elements, but got an array of ${r} elements`);const s=Number(t.readUInt());const i=ex.HexBlob.fromBytes(t.readByteString());t.readEndArray();const o=Number(t.readUInt());a.push([{hash:i,type:s},o])}t.readEndMap();const n=m.UnitInterval.fromCbor(ex.HexBlob.fromBytes(t.readEncodedValue()));const d=new Committee(n);for(const c of a)d.addMember(c[eN],c[eH]);__classPrivateFieldSet(d,eD,e,"f");return d}toCore(){if(0===__classPrivateFieldGet(this,eO,"f").length)throw new ej.InvalidStateError("There must be at least one Committee member");const e=__classPrivateFieldGet(this,eO,"f").map(e=>({coldCredential:e[eN],epoch:e[eH]}));return{members:e,quorumThreshold:__classPrivateFieldGet(this,eB,"f").toCore()}}static fromCore(e){const t=new Committee(m.UnitInterval.fromCore(e.quorumThreshold));for(const r of e.members)t.addMember(r.coldCredential,r.epoch);return t}membersKeys(){return __classPrivateFieldGet(this,eO,"f").map(e=>e[0])}quorumThreshold(){return __classPrivateFieldGet(this,eB,"f")}addMember(e,t){const r=__classPrivateFieldGet(this,eO,"f").find(t=>t[eN].type===e.type&&t[eN].hash===e.hash);if(r)throw new ej.InvalidArgumentError("committeeColdCredential","The given credential is already present");__classPrivateFieldGet(this,eO,"f").push([e,t])}getMemberEpoch(e){const t=__classPrivateFieldGet(this,eO,"f").find(t=>t[eN].type===e.type&&t[eN].hash===e.hash);if(t)return t[eH];return}constructor(e){eB.set(this,void 0);eO.set(this,[]);eD.set(this,void 0);__classPrivateFieldSet(this,eB,e,"f")}}eB=new WeakMap,eO=new WeakMap,eD=new WeakMap;var eG=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/Constitution.js");var eV=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/HardForkInitiationAction.js");var eK=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/InfoAction.js");var eL=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/NewConstitution.js");var ez=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/NoConfidence.js");var eU=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/ParameterChangeAction.js");var eW=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/TreasuryWithdrawalsAction.js");var e$=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/UpdateCommittee.js");var eq=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/ProposalProcedure.js");var eY=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/ProposalProcedure/GovernanceActionKind.js");var eQ=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/RedeemerTag.js");var eX=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js");var eJ=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemers.js");var eZ=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/BootstrapWitness.js");var e0=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/TransactionWitnessSet.js");var e1=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/VkeyWitness.js");var e2=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumList.js");var e3=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/MetadatumMap.js");var e5=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatum.js");var e4=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/TransactionMetadatumKind.js");var e8=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/TransactionMetadata/GeneralTransactionMetadata.js");var e6=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/AuxiliaryData.js");var TransactionUnspentOutput_classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var TransactionUnspentOutput_classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var e9,e7,te;const tt=2;class TransactionUnspentOutput{toCbor(){if(TransactionUnspentOutput_classPrivateFieldGet(this,te,"f"))return TransactionUnspentOutput_classPrivateFieldGet(this,te,"f");const e=new M.CborWriter;e.writeStartArray(tt);e.writeEncodedValue((0,eR.hexToBytes)(TransactionUnspentOutput_classPrivateFieldGet(this,e9,"f").toCbor()));e.writeEncodedValue((0,eR.hexToBytes)(TransactionUnspentOutput_classPrivateFieldGet(this,e7,"f").toCbor()));return e.encodeAsHex()}static fromCbor(e){const t=new R.CborReader(e);const r=t.readStartArray();if(r!==tt)throw new ej.InvalidArgumentError("cbor",`Expected an array of ${tt} elements, but got an array of ${r} elements`);const a=eC.TransactionInput.fromCbor(ex.HexBlob.fromBytes(t.readEncodedValue()));const s=eS.TransactionOutput.fromCbor(ex.HexBlob.fromBytes(t.readEncodedValue()));const i=new TransactionUnspentOutput(a,s);TransactionUnspentOutput_classPrivateFieldSet(i,te,e,"f");return i}toCore(){return[TransactionUnspentOutput_classPrivateFieldGet(this,e9,"f").toCore(),TransactionUnspentOutput_classPrivateFieldGet(this,e7,"f").toCore()]}static fromCore(e){return new TransactionUnspentOutput(eC.TransactionInput.fromCore(e[0]),eS.TransactionOutput.fromCore(e[1]))}input(){return TransactionUnspentOutput_classPrivateFieldGet(this,e9,"f")}setInput(e){TransactionUnspentOutput_classPrivateFieldSet(this,e9,e,"f");TransactionUnspentOutput_classPrivateFieldSet(this,te,void 0,"f")}output(){return TransactionUnspentOutput_classPrivateFieldGet(this,e7,"f")}setOutput(e){TransactionUnspentOutput_classPrivateFieldSet(this,e7,e,"f");TransactionUnspentOutput_classPrivateFieldSet(this,te,void 0,"f")}constructor(e,t){e9.set(this,void 0);e7.set(this,void 0);te.set(this,void 0);TransactionUnspentOutput_classPrivateFieldSet(this,e9,e,"f");TransactionUnspentOutput_classPrivateFieldSet(this,e7,t,"f")}}e9=new WeakMap,e7=new WeakMap,te=new WeakMap},"../../node_modules/@cardano-sdk/core/dist/esm/errors.js":(e,t,r)=>{"use strict";r.d(t,{InvalidProtocolParametersError:()=>InvalidProtocolParametersError,NotImplementedError:()=>NotImplementedError,ProviderError:()=>ProviderError,ProviderFailure:()=>i,SerializationError:()=>SerializationError,SerializationFailure:()=>d,TimeoutError:()=>TimeoutError});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var s=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");var i;(function(e){e["Conflict"]="CONFLICT";e["NotFound"]="NOT_FOUND";e["Unknown"]="UNKNOWN";e["Forbidden"]="FORBIDDEN";e["InvalidResponse"]="INVALID_RESPONSE";e["NotImplemented"]="NOT_IMPLEMENTED";e["Unhealthy"]="UNHEALTHY";e["ConnectionFailure"]="CONNECTION_FAILURE";e["BadRequest"]="BAD_REQUEST";e["ServerUnavailable"]="SERVER_UNAVAILABLE"})(i||(i={}));const o={[i.BadRequest]:400,[i.Forbidden]:403,[i.NotFound]:404,[i.Conflict]:409,[i.Unhealthy]:500,[i.Unknown]:500,[i.InvalidResponse]:500,[i.NotImplemented]:500,[i.ConnectionFailure]:500,[i.ServerUnavailable]:500};const n=new Map(Object.entries(o).map(([e,t])=>[t,e]));const isProviderFailure=e=>Object.values(i).includes(e);const reasonToProviderFailure=e=>isProviderFailure(e)?e:i.Unknown;class ProviderError extends a.ComposableError{constructor(e,t,r){super((0,a.formatErrorMessage)(e,r),t);this.reason=e;this.detail=r}}class HandleOwnerChangeError extends s.CustomError{constructor(e,t,r){super(`Expected: ${t} for handle $${e}. Actual: ${r}`);this.handle=e;this.expectedAddress=t;this.actualAddress=r}}var d;(function(e){e["InvalidType"]="INVALID_TYPE";e["Overflow"]="OVERFLOW";e["InvalidAddress"]="INVALID_ADDRESS";e["MaxLengthLimit"]="MAX_LENGTH_LIMIT";e["InvalidScript"]="INVALID_SCRIPT";e["InvalidNativeScriptKind"]="INVALID_NATIVE_SCRIPT_KIND";e["InvalidScriptType"]="INVALID_SCRIPT_TYPE";e["InvalidDatum"]="INVALID_DATUM"})(d||(d={}));class SerializationError extends a.ComposableError{constructor(e,t,r){super((0,a.formatErrorMessage)(e,t),r);this.reason=e;this.detail=t}}class InvalidProtocolParametersError extends s.CustomError{constructor(e){super(e)}}class NotImplementedError extends s.CustomError{constructor(e){super(`Not implemented: ${e}`)}}class TimeoutError extends s.CustomError{constructor(e){super(`Timeout: ${e}`)}}},"../../node_modules/@cardano-sdk/core/dist/esm/util/calcStabilityWindow.js":(e,t,r)=>{"use strict";r.d(t,{calculateStabilityWindowSlotsCount:()=>calculateStabilityWindowSlotsCount});const calculateStabilityWindowSlotsCount=({securityParameter:e,activeSlotsCoefficient:t})=>3*e/t},"../../node_modules/@cardano-sdk/core/dist/esm/util/coalesceValueQuantities.js":(e,t,r)=>{"use strict";r.d(t,{coalesceValueQuantities:()=>coalesceValueQuantities});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/coalesceTokenMaps.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");const coalesceValueQuantities=e=>({assets:a.coalesceTokenMaps(e.map(({assets:e})=>e)),coins:s.BigIntMath.sum(e.map(({coins:e})=>e))})},"../../node_modules/@cardano-sdk/core/dist/esm/util/conwayEra.js":(e,t,r)=>{"use strict";r.d(t,{inConwayEra:()=>a});let a=false;const setInConwayEra=e=>a=e},"../../node_modules/@cardano-sdk/core/dist/esm/util/metadatum.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{asMetadatumArray:()=>asMetadatumArray,asMetadatumMap:()=>asMetadatumMap,jsonToMetadatum:()=>jsonToMetadatum,metadatumToJson:()=>metadatumToJson});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const asMetadatumMap=e=>{if(e instanceof Map){return e}return null};const asMetadatumArray=e=>{if(Array.isArray(e)){return e}return null};const jsonToMetadatum=e=>{if(null===e)throw new a.InvalidArgumentError("json","JSON value can not be null");switch(typeof e){case"boolean":case"undefined":throw new a.InvalidArgumentError("json",`JSON value can not be ${typeof e}`);case"number":case"bigint":return BigInt(e);case"string":return String(e);default:{if(Array.isArray(e)){const t=[];for(const r of e)t.push(jsonToMetadatum(r));return t}if(ArrayBuffer.isView(e)){return new Uint8Array(e.buffer)}const s=new Map;for(const i in e){const o=e[i];s.set(jsonToMetadatum(i),jsonToMetadatum(o))}return s}}};const metadatumToJson=e=>{if(null===e)throw new a.InvalidArgumentError("data","Metadatum value can not be null");switch(typeof e){case"boolean":case"undefined":case"number":throw new a.InvalidArgumentError("metadatum",`Metadatum value can not be ${typeof e}`);case"bigint":return e;case"string":return e;default:{if(Array.isArray(e)){const t=[];for(const r of e)t.push(metadatumToJson(r));return t}if(ArrayBuffer.isView(e)){return new Uint8Array(e)}const s={};for(const[i,o]of e.entries())s[metadatumToJson(i)]=metadatumToJson(o);return s}}}},"../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js":(e,t,r)=>{"use strict";r.d(t,{bytesToHex:()=>bytesToHex,hexToBytes:()=>hexToBytes});var a=r("../../node_modules/buffer/index.js")["Buffer"];const bytesToHex=e=>a.from(e).toString("hex");const hexToBytes=e=>a.from(e,"hex");const utf8ToBytes=e=>a.from(e,"utf8");const utf8ToHex=e=>a.from(e,"utf8").toString("hex")},"../../node_modules/@cardano-sdk/core/dist/esm/util/nativeScript.js":(e,t,r)=>{"use strict";r.d(t,{nativeScriptPolicyId:()=>nativeScriptPolicyId});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/NativeScript/NativeScript.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");const nativeScriptPolicyId=e=>(0,s.PolicyId)(a.NativeScript.fromCore(e).hash());const jsonToNativeScript=e=>{let t;if(!e.type){throw new SerializationError(SerializationFailure.InvalidScript,"Invalid Native Script. Missing 'type' field.")}switch(e.type){case"sig":t={__type:ScriptType.Native,keyHash:Crypto.Ed25519KeyHashHex(e.keyHash),kind:NativeScriptKind.RequireSignature};break;case"all":t={__type:ScriptType.Native,kind:NativeScriptKind.RequireAllOf,scripts:new Array};for(let r=0;r<e.scripts.length;++r)t.scripts.push(jsonToNativeScript(e.scripts[r]));break;case"any":t={__type:ScriptType.Native,kind:NativeScriptKind.RequireAnyOf,scripts:new Array};for(let a=0;a<e.scripts.length;++a)t.scripts.push(jsonToNativeScript(e.scripts[a]));break;case"atLeast":{const s=Number.parseInt(e.required);t={__type:ScriptType.Native,kind:NativeScriptKind.RequireNOf,required:s,scripts:new Array};for(let i=0;i<e.scripts.length;++i)t.scripts.push(jsonToNativeScript(e.scripts[i]));break}case"before":t={__type:ScriptType.Native,kind:NativeScriptKind.RequireTimeBefore,slot:Slot(Number.parseInt(e.slot))};break;case"after":t={__type:ScriptType.Native,kind:NativeScriptKind.RequireTimeAfter,slot:Slot(Number.parseInt(e.slot))};break;default:throw new SerializationError(SerializationFailure.InvalidNativeScriptKind,`Native Script value '${e.type}' is not supported.`)}return t}},"../../node_modules/@cardano-sdk/core/dist/esm/util/promiseTimeout.js":(e,t,r)=>{"use strict";r.d(t,{promiseTimeout:()=>promiseTimeout});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");const promiseTimeout=(e,t)=>{let r;return Promise.race([e,new Promise((e,s)=>r=setTimeout(()=>s(new a.TimeoutError("Failed to resolve the promise in time")),t))]).finally(()=>{if(r)clearTimeout(r)})}},"../../node_modules/@cardano-sdk/core/dist/esm/util/slotCalc.js":(e,t,r)=>{"use strict";r.d(t,{createSlotEpochCalc:()=>c,createSlotEpochInfoCalc:()=>createSlotEpochInfoCalc,createSlotTimeCalc:()=>createSlotTimeCalc,epochSlotsCalc:()=>l});var a=r("../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");var i=r("../../node_modules/lodash/groupBy.js");var o=r("../../node_modules/lodash/last.js");var n=r("../../node_modules/lodash/memoize.js");var d=r("../../node_modules/lodash/orderBy.js");class EraSummaryError extends a.CustomError{}const createSlotEpochCalcImpl=e=>{const t=Object.values(i(e,"start.slot")).map(o);const r=d(t,({start:e})=>e.slot);return e=>{const t=d(r.filter(({start:t})=>t.slot<=e),({start:e})=>e.slot);if(0===t.length){throw new EraSummaryError(`No EraSummary for slot ${e} found`)}let a=0;let s;for(let i=0;i<t.length;i++){s=t[i];const o=t[i+1];a+=Math.floor((((null==o?void 0:o.start.slot)||e)-s.start.slot)/s.parameters.epochLength)}return{epochEraSummary:s,epochNo:a}}};const c=n(e=>{const t=createSlotEpochCalcImpl(e);return e=>(0,s.EpochNo)(t(e).epochNo)});const createSlotTimeCalc=e=>{const t=Object.values(i(e,"start.slot")).map(o);const r=d(t,({start:e})=>e.slot,"desc");return e=>{const t=r.find(({start:t})=>t.slot<=e);if(!t){throw new EraSummaryError(`No EraSummary for slot ${e} found`)}return new Date(t.start.time.getTime()+(e-t.start.slot)*t.parameters.slotLength)}};const createSlotEpochInfoCalc=e=>{const t=createSlotTimeCalc(e);const r=createSlotEpochCalcImpl(e);return e=>{const{epochNo:a,epochEraSummary:i}=r(e);const o=i.start.slot+Math.floor((e-i.start.slot)/i.parameters.epochLength)*i.parameters.epochLength;const n=o+i.parameters.epochLength-1;return{epochNo:(0,s.EpochNo)(a),firstSlot:{date:t((0,s.Slot)(o)),slot:(0,s.Slot)(o)},lastSlot:{date:t((0,s.Slot)(n)),slot:(0,s.Slot)(n)}}}};const epochSlotsCalcImplementation=(e,t)=>{let r=0;let a=t[0].start.slot;let i=0;const o=t.length-1;const checkNextEraSummary=()=>i<o&&a>=t[i+1].start.slot;const findNextEraSummary=()=>{while(checkNextEraSummary())i++};findNextEraSummary();while(r!==e){a+=t[i].parameters.epochLength;r++;if(checkNextEraSummary())findNextEraSummary()}const n=t[i];return{eraSummary:n,firstSlot:(0,s.Slot)(a),lastSlot:(0,s.Slot)(a+n.parameters.epochLength-1)}};const l=n(epochSlotsCalcImplementation);const u=n(e=>n(async t=>epochSlotsCalcImplementation(t,await e.eraSummaries())))},"../../node_modules/@cardano-sdk/core/dist/esm/util/subtractValueQuantities.js":(e,t,r)=>{"use strict";r.d(t,{subtractValueQuantities:()=>subtractValueQuantities});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/subtractTokenMaps.js");const subtractValueQuantities=e=>({assets:s.subtractTokenMaps(e.map(({assets:e})=>e)),coins:a.BigIntMath.subtract(e.map(({coins:e})=>e))})},"../../node_modules/@cardano-sdk/core/dist/esm/util/time.js":(e,t,r)=>{"use strict";r.d(t,{Milliseconds:()=>Milliseconds,Seconds:()=>Seconds});const Milliseconds=e=>e;const Seconds=e=>e;const Minutes=e=>e;const Hours=e=>e;const Days=e=>e;Hours.toDays=e=>e/24;Days.toHours=e=>24*e;Minutes.toHours=e=>e/60;Hours.toMinutes=e=>60*e;Seconds.toMinutes=e=>e/60;Minutes.toSeconds=e=>60*e;Seconds.toMilliseconds=e=>1e3*e;Milliseconds.toSeconds=e=>e/1e3;class TimeSpan{static fromMilliseconds(e){return new TimeSpan(e)}static fromSeconds(e){return new TimeSpan(Seconds.toMilliseconds(e))}static fromMinutes(e){return new TimeSpan(Seconds.toMilliseconds(Minutes.toSeconds(e)))}static fromHours(e){return new TimeSpan(Seconds.toMilliseconds(Minutes.toSeconds(Hours.toMinutes(e))))}getTotalDays(){return Hours.toDays(this.getTotalHours())}getTotalHours(){return Minutes.toHours(this.getTotalMinutes())}getTotalMinutes(){return Seconds.toMinutes(this.getTotalSeconds())}getTotalSeconds(){return Milliseconds.toSeconds(this.elapsed)}getTotalMilliseconds(){return this.elapsed}getDays(){return Days(Math.floor(this.getTotalDays()))}getHours(){return Hours(Math.floor(this.getTotalHours()-24*this.getDays()))}getMinutes(){return Minutes(Math.floor(this.getTotalMinutes()-60*Math.floor(this.getTotalHours())))}getSeconds(){return Seconds(Math.floor(this.getTotalSeconds()-60*Math.floor(this.getTotalMinutes())))}getMilliseconds(){return Milliseconds(this.elapsed-1e3*Math.floor(this.getTotalSeconds()))}toString(){let e=this.getTotalSeconds()<0?"-P":"P";let t="";if(0!==this.getHours())t+=`${Math.abs(this.getHours()).toString()}H`;if(0!==this.getMinutes())t+=`${Math.abs(this.getMinutes()).toString()}M`;if(0!==this.getSeconds())t+=`${Math.abs(this.getSeconds()).toString()}S`;if(0!==this.getDays()||""===t)e+=`${Math.abs(this.getDays()).toString()}D`;if(""!==t)e+=`T${t}`;return e}constructor(e){this.elapsed=Milliseconds(0);this.elapsed=e}}},"../../node_modules/@cardano-sdk/core/dist/esm/util/tokenTransferInspector.js":(e,t,r)=>{"use strict";r.d(t,{tokenTransferInspector:()=>tokenTransferInspector});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/util/txInspector.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/util/coalesceValueQuantities.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/util/promiseTimeout.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/util/subtractValueQuantities.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/util/tryGetAssetInfos.js");var c=r("../../node_modules/lodash/uniq.js");const coalesceByAddress=e=>{const t=e.reduce((e,t)=>{var r;if(!e.has(t.address))e.set(t.address,[]);null===(r=e.get(t.address))||void 0===r?void 0:r.push(t);return e},new Map);const r=new Map;for(const[a,s]of t)r.set(a,(0,i.coalesceValueQuantities)(s.map(e=>e.value)));return r};const initializeAddressMap=e=>new Map(e.map(e=>[e,{assets:new Map,coins:0n}]));const updateFromAddressMap=(e,t,r)=>{var a;if(r.coins<0n)e.get(t).coins=r.coins;var s;for(const[i,o]of null!==(s=null===(a=r.assets)||void 0===a?void 0:a.entries())&&void 0!==s?s:[])if(o<0n){var n;null===(n=e.get(t).assets)||void 0===n?void 0:n.set(i,o)}};const updateToAddressMap=(e,t,r)=>{var a;if(r.coins>0n)e.get(t).coins=r.coins;var s;for(const[i,o]of null!==(s=null===(a=r.assets)||void 0===a?void 0:a.entries())&&void 0!==s?s:[])if(o>0n){var n;null===(n=e.get(t).assets)||void 0===n?void 0:n.set(i,o)}};const computeNetDifferences=(e,t,r,a)=>{for(const[s,i]of e.entries()){var o;const d=null!==(o=t.get(s))&&void 0!==o?o:{assets:new Map,coins:0n};const c=(0,n.subtractValueQuantities)([d,i]);updateFromAddressMap(r,s,c);updateToAddressMap(a,s,c)}for(const[l,u]of t.entries())if(!e.has(l))updateToAddressMap(a,l,u)};const removeZeroBalanceEntries=e=>{for(const[t,r]of e.entries()){var a;if(0n===r.coins&&(null===(a=r.assets)||void 0===a?void 0:a.size)===0)e.delete(t)}};const intoTokenTransferValue=async({logger:e,assetProvider:t,timeout:r,addressMap:a})=>{const s=new Map;for(const[i,o]of a.entries()){const n=o.coins;const l=c(o.assets&&o.assets.size>0?[...o.assets.keys()]:[]);const u=new Map;if(l.length>0){const f=await (0,d.tryGetAssetInfos)({assetIds:l,assetProvider:t,logger:e,timeout:r});for(const h of f){var p;var m;const _=null!==(m=null===(p=o.assets)||void 0===p?void 0:p.get(h.assetId))&&void 0!==m?m:0n;u.set(h.assetId,{amount:_,assetInfo:h})}}s.set(i,{assets:u,coins:n})}return s};const tokenTransferInspector=({inputResolver:e,fromAddressAssetProvider:t,toAddressAssetProvider:r,timeout:i,logger:n})=>async d=>{let l;try{const u=await (0,o.promiseTimeout)((0,a.resolveInputs)(d.body.inputs,e),i);l=u.resolvedInputs}catch(f){if(f instanceof s.TimeoutError)n.error("Error: Inputs resolution timed out");l=[]}const h=coalesceByAddress(l);const p=coalesceByAddress(d.body.outputs);const m=c([...h.keys(),...p.keys()]);const _=initializeAddressMap(m);const v=initializeAddressMap(m);computeNetDifferences(h,p,_,v);removeZeroBalanceEntries(_);removeZeroBalanceEntries(v);return{fromAddress:await intoTokenTransferValue({addressMap:_,assetProvider:t,logger:n,timeout:i}),toAddress:await intoTokenTransferValue({addressMap:v,assetProvider:r,logger:n,timeout:i})}}},"../../node_modules/@cardano-sdk/core/dist/esm/util/transactionSummaryInspector.js":(e,t,r)=>{"use strict";r.d(t,{getCollateral:()=>getCollateral,transactionSummaryInspector:()=>transactionSummaryInspector});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/util/txInspector.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/coalesceTokenMaps.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Asset/util/subtractTokenMaps.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/util/coalesceValueQuantities.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/computeImplicitCoin.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/util/promiseTimeout.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/util/subtractValueQuantities.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/util/tryGetAssetInfos.js");const getCollateral=async(e,t,r)=>{if(!e.body.collaterals||0===e.body.collaterals.length)return 0n;const a=(await (0,s.resolveInputs)(e.body.collaterals,t)).resolvedInputs.filter(e=>r.includes(e.address));const o=i.BigIntMath.sum(a.map(({value:e})=>e.coins));if(e.body.collateralReturn){if(!r.includes(e.body.collateralReturn.address))return o;var n;return null!==(n=i.BigIntMath.max([o-e.body.collateralReturn.value.coins,0n]))&&void 0!==n?n:0n}return o};const totalInputsValue=e=>{const t=e.resolvedInputs.map(e=>e.value);return(0,c.coalesceValueQuantities)(t)};const totalOutputsValue=e=>(0,c.coalesceValueQuantities)(e.map(e=>e.value));const mintInspectionToTokenMap=e=>new Map(e.map(e=>[a.AssetId.fromParts(e.policyId,e.assetName),e.quantity]));const getImplicitAssets=async e=>{const t=mintInspectionToTokenMap(await (0,s.assetsMintedInspector)(e));const r=mintInspectionToTokenMap(await (0,s.assetsBurnedInspector)(e));return(0,n.coalesceTokenMaps)([t,r])};const getUnaccountedFunds=async(e,t,r,a,s=new Map)=>{const i=totalInputsValue(t);const o=totalOutputsValue(e.body.outputs);i.assets=(0,n.coalesceTokenMaps)([i.assets,s]);i.coins+=r;o.coins+=a;return(0,f.subtractValueQuantities)([o,i])};const intoAssetInfoWithAmount=async({assetProvider:e,logger:t,timeout:r,tokenMap:a})=>{if(!a)return new Map;const s=a&&a.size>0?[...a.keys()]:[];const i=new Map;if(s.length>0){const o=await (0,h.tryGetAssetInfos)({assetIds:s,assetProvider:e,logger:t,timeout:r});for(const n of o){var d;const c=null!==(d=null==a?void 0:a.get(n.assetId))&&void 0!==d?d:0n;i.set(n.assetId,{amount:c,assetInfo:n})}}return i};const transactionSummaryInspector=({inputResolver:e,addresses:t,rewardAccounts:r,protocolParameters:a,assetProvider:i,dRepKeyHash:n,timeout:c,logger:f})=>async h=>{let p;try{p=await (0,u.promiseTimeout)((0,s.resolveInputs)(h.body.inputs,e),c)}catch(m){if(m instanceof o.TimeoutError)f.error("Error: Inputs resolution timed out");p={resolvedInputs:[],unresolvedInputs:h.body.inputs}}const _=h.body.fee;const v=(0,l.computeImplicitCoin)(a,{certificates:h.body.certificates,withdrawals:h.body.withdrawals},r||[],n);const y=await getCollateral(h,e,t);const w=v.withdrawals||0n;const g=await (0,s.totalAddressOutputsValueInspector)(t)(h);const b=await (0,s.totalAddressInputsValueInspector)(t,e)(h);const P=w+(v.reclaimDeposit||0n)-(v.deposit||0n);const C=await getImplicitAssets(h);const S={assets:(0,d.subtractTokenMaps)([g.assets,b.assets]),coins:g.coins-(b.coins+w)};return{assets:await intoAssetInfoWithAmount({assetProvider:i,logger:f,timeout:c,tokenMap:S.assets}),coins:S.coins,collateral:y,deposit:v.deposit||0n,fee:_,resolvedInputs:p.resolvedInputs,returnedDeposit:v.reclaimDeposit||0n,unresolved:{inputs:p.unresolvedInputs,value:await getUnaccountedFunds(h,p,P,_,C)}}}},"../../node_modules/@cardano-sdk/core/dist/esm/util/tryGetAssetInfos.js":(e,t,r)=>{"use strict";r.d(t,{tryGetAssetInfos:()=>tryGetAssetInfos});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/util/promiseTimeout.js");const tryGetAssetInfos=async({assetIds:e,assetProvider:t,logger:r,timeout:i})=>{try{return await (0,s.promiseTimeout)(t.getAssets({assetIds:e,extraData:{nftMetadata:true,tokenMetadata:true}}),i)}catch(o){r.error("Error: Failed to retrieve assets",o);return e.map(e=>{const t=a.AssetId.getPolicyId(e);const r=a.AssetId.getAssetName(e);return{assetId:e,fingerprint:a.AssetFingerprint.fromParts(t,r),name:r,policyId:t,quantity:0n,supply:0n}})}}},"../../node_modules/@cardano-sdk/core/dist/esm/util/txInspector.js":(e,t,r)=>{"use strict";r.d(t,{assetsBurnedInspector:()=>y,assetsMintedInspector:()=>v,createTxInspector:()=>createTxInspector,delegationInspector:()=>f,resolveInputs:()=>resolveInputs,sentInspector:()=>sentInspector,stakeKeyDeregistrationInspector:()=>h,stakeKeyRegistrationInspector:()=>p,totalAddressInputsValueInspector:()=>totalAddressInputsValueInspector,totalAddressOutputsValueInspector:()=>totalAddressOutputsValueInspector,withdrawalInspector:()=>withdrawalInspector});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/util/coalesceValueQuantities.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/util/nativeScript.js");const resolveInputs=async(e,t)=>{const r=[];const a=[];for(const s of e){const i=await t.resolveInput(s);if(i)r.push({address:i.address,index:s.index,txId:s.txId,value:i.value});else a.push(s)}return{resolvedInputs:r,unresolvedInputs:a}};const totalAddressInputsValueInspector=(e,t)=>async r=>{const{resolvedInputs:a}=await resolveInputs(r.body.inputs,t);const s=a.filter(t=>(0,n.isAddressWithin)(e)(t));const i=s.map(e=>e.value);return(0,c.coalesceValueQuantities)(i)};const totalAddressOutputsValueInspector=e=>async t=>{const r=t.body.outputs.filter(t=>(0,n.isAddressWithin)(e)(t));return(0,c.coalesceValueQuantities)(r.map(e=>e.value))};const getCertificatesByType=(e,t,r)=>{var s;if(!e.body.certificates||0===e.body.certificates.length)return[];const i=r?null===(s=e.body.certificates)||void 0===s?void 0:s.filter(e=>(0,a.isCertType)(e,r)):e.body.certificates;return i.filter(e=>{if((0,a.isCertType)(e,a.StakeCredentialCertificateTypes)){return t.some(t=>d.RewardAccount.toHash(t)===e.stakeCredential.hash)}if((0,a.isCertType)(e,[a.CertificateType.PoolRegistration]))return t.includes(e.poolParameters.rewardAccount);return false})};const signedCertificatesInspector=(e,t)=>async r=>getCertificatesByType(r,e,t);const sentInspector=({addresses:e,rewardAccounts:t,inputResolver:r})=>{return async a=>{const s=(null==t?void 0:t.length)?await signedCertificatesInspector(t)(a):[];let i=[];if(e){const{resolvedInputs:o}=await resolveInputs(a.body.inputs,r);const d=o.filter(t=>(0,n.isAddressWithin)(e)(t));i=d.map(e=>({address:e.address,index:e.index,txId:e.txId}))}return{certificates:s,inputs:i}}};const valueSentInspector=(e,t)=>async r=>{let a=new Map;if(0===(await sentInspector({addresses:e,inputResolver:t})(r)).inputs.length)return{coins:0n};const s=await totalAddressOutputsValueInspector(e)(r);const i=await totalAddressInputsValueInspector(e,t)(r);const o=subtractValueQuantities([i,s]);if(o.assets)a=removeNegativesFromTokenMap(o.assets);return{assets:a.size>0?a:void 0,coins:o.coins<0n?0n:o.coins}};const valueReceivedInspector=(e,t)=>async r=>{let a=new Map;const s=await totalAddressOutputsValueInspector(e)(r);const i=await totalAddressInputsValueInspector(e,t)(r);const o=subtractValueQuantities([s,i]);if(o.assets)a=removeNegativesFromTokenMap(o.assets);return{assets:a.size>0?a:void 0,coins:o.coins<0n?0n:o.coins}};var u;const certificateInspector=e=>{return async t=>{var r;return null!==(u=null===(r=t.body.certificates)||void 0===r?void 0:r.filter(t=>t.__typename===e))&&void 0!==u?u:[]}};const f=certificateInspector(a.CertificateType.StakeDelegation);const h=certificateInspector(a.CertificateType.StakeDeregistration);const p=certificateInspector(a.CertificateType.StakeRegistration);const m=certificateInspector(a.CertificateType.PoolRegistration);const _=certificateInspector(a.CertificateType.PoolRetirement);const withdrawalInspector=async e=>{var t;return(null===(t=e.body.withdrawals)||void 0===t?void 0:t.length)?o.BigIntMath.sum(e.body.withdrawals.map(({quantity:e})=>e)):0n};const mintInspector=e=>{return async t=>{var r,a;const o=[];const n=new Map;if(!t.body.mint)return o;const d=[...(null===(r=t.auxiliaryData)||void 0===r?void 0:r.scripts)||[],...(null===(a=t.witness)||void 0===a?void 0:a.scripts)||[]];for(const c of d){switch(c.__type){case s.ScriptType.Native:{const u=(0,l.nativeScriptPolicyId)(c);if(n.has(u))continue;n.set(u,c);break}case s.ScriptType.Plutus:default:}}for(const[f,h]of t.body.mint.entries()){const[p,m]=[i.AssetId.getPolicyId(f),i.AssetId.getAssetName(f)];const _={assetName:m,fingerprint:i.AssetFingerprint.fromParts(p,m),policyId:p,quantity:h,script:n.get(p)};if(e(_.quantity))o.push(_)}return o}};const v=mintInspector(e=>e>0);const y=mintInspector(e=>e<0);var w;const metadataInspector=async e=>{var t;return null!==(w=null===(t=e.auxiliaryData)||void 0===t?void 0:t.blob)&&void 0!==w?w:new Map};const createTxInspector=e=>async t=>{const r=await Promise.all(Object.entries(e).map(async([e,r])=>{const a=await r(t);return{key:e,result:a}}));return r.reduce((e,{key:t,result:r})=>{e[t]=r;return e},{})}},"../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/esm/index.js":(e,t,r)=>{"use strict";r.d(t,{base58:()=>l,bech32:()=>v});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */ function assertNumber(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function chain(...e){const wrap=(e,t)=>r=>e(t(r));const t=Array.from(e).reverse().reduce((e,t)=>e?wrap(e,t.encode):t.encode,void 0);const r=e.reduce((e,t)=>e?wrap(e,t.decode):t.decode,void 0);return{encode:t,decode:r}}function alphabet(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{assertNumber(t);if(t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function join(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let r of t)if("string"!=typeof r)throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function padding(e,t="="){assertNumber(e);if("string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let a of r)if("string"!=typeof a)throw new Error(`padding.encode: non-string input=${a}`);while(r.length*e%8)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let a of r)if("string"!=typeof a)throw new Error(`padding.decode: non-string input=${a}`);let s=r.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&r[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,s)}}}function normalize(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function convertRadix(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let a=0;const s=[];const i=Array.from(e);i.forEach(e=>{assertNumber(e);if(e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});while(true){let o=0;let n=true;for(let d=a;d<i.length;d++){const c=i[d];const l=t*o+c;if(!Number.isSafeInteger(l)||t*o/t!==o||l-c!==t*o){throw new Error("convertRadix: carry overflow")}o=l%r;i[d]=Math.floor(l/r);if(!Number.isSafeInteger(i[d])||i[d]*r+o!==l)throw new Error("convertRadix: carry overflow");if(!!n)if(i[d])n=false;else a=d}s.push(o);if(n)break}for(let u=0;u<e.length-1&&0===e[u];u++)s.push(0);return s.reverse()}const gcd=(e,t)=>t?gcd(t,e%t):e;const radix2carry=(e,t)=>e+(t-gcd(e,t));function convertRadix2(e,t,r,a){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(radix2carry(t,r)>32){throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${radix2carry(t,r)}`)}let s=0;let i=0;const o=2**r-1;const n=[];for(const d of e){assertNumber(d);if(d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);s=s<<t|d;if(i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);i+=t;for(;i>=r;i-=r)n.push((s>>i-r&o)>>>0);s&=2**i-1}s=s<<r-i&o;if(!a&&i>=t)throw new Error("Excess padding");if(!a&&s)throw new Error(`Non-zero padding: ${s}`);if(a&&i>0)n.push(s>>>0);return n}function radix(e){assertNumber(e);return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(t,e,256))}}}function radix2(e,t=false){assertNumber(e);if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,e)>32||radix2carry(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(r,e,8,t))}}}function unsafeWrapper(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(r){}}}function checksum(e,t){assertNumber(e);if("function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const a=t(r).slice(0,e);const s=new Uint8Array(r.length+e);s.set(r);s.set(a,r.length);return s},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const a=r.slice(0,-e);const s=t(a).slice(0,e);const i=r.slice(-e);for(let o=0;o<e;o++)if(s[o]!==i[o])throw new Error("Invalid checksum");return a}}}const a={alphabet,chain,checksum,radix,radix2,join,padding};const s=chain(radix2(4),alphabet("0123456789ABCDEF"),join(""));const i=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));const o=chain(radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join(""));const n=chain(radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const d=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join(""));const c=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join(""));const genBase58=e=>chain(radix(58),alphabet(e),join(""));const l=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const u=genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");const f=genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const h=[0,2,3,5,6,7,9,10,11];const p={encode(e){let t="";for(let r=0;r<e.length;r+=8){const a=e.subarray(r,r+8);t+=l.encode(a).padStart(h[a.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const a=e.slice(r,r+11);const s=h.indexOf(a.length);const i=l.decode(a);for(let o=0;o<i.length-s;o++)if(0!==i[o])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(t)}};const base58check=e=>chain(checksum(4,t=>e(e(t))),l);const m=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join(""));const _=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(e){const t=e>>25;let r=(33554431&e)<<5;for(let a=0;a<_.length;a++)if((t>>a&1)===1)r^=_[a];return r}function bechChecksum(e,t,r=1){const a=e.length;let s=1;for(let i=0;i<a;i++){const o=e.charCodeAt(i);if(o<33||o>126)throw new Error(`Invalid prefix (${e})`);s=bech32Polymod(s)^o>>5}s=bech32Polymod(s);for(let n=0;n<a;n++)s=bech32Polymod(s)^31&e.charCodeAt(n);for(let d of t)s=bech32Polymod(s)^d;for(let c=0;c<6;c++)s=bech32Polymod(s);s^=r;return m.encode(convertRadix2([s%2**30],30,5,false))}function genBech32(e){const t="bech32"===e?1:734539939;const r=radix2(5);const a=r.decode;const s=r.encode;const i=unsafeWrapper(a);function encode(e,r,a=90){if("string"!=typeof e)throw new Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error(`bech32.encode words should be array of numbers, not ${typeof r}`);const s=e.length+7+r.length;if(false!==a&&s>a)throw new TypeError(`Length ${s} exceeds limit ${a}`);e=e.toLowerCase();return`${e}1${m.encode(r)}${bechChecksum(e,r,t)}`}function decode(e,r=90){if("string"!=typeof e)throw new Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||false!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const a=e.toLowerCase();if(e!==a&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");e=a;const s=e.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,s);const o=e.slice(s+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const n=m.decode(o).slice(0,-6);const d=bechChecksum(i,n,t);if(!o.endsWith(d))throw new Error(`Invalid checksum in ${e}: expected "${d}"`);return{prefix:i,words:n}}const o=unsafeWrapper(decode);function decodeToBytes(e){const{prefix:t,words:r}=decode(e,false);return{prefix:t,words:r,bytes:a(r)}}return{encode,decode,decodeToBytes,decodeUnsafe:o,fromWords:a,fromWordsUnsafe:i,toWords:s}}const v=genBech32("bech32");const y=genBech32("bech32m");const w={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)};const g=chain(radix2(4),alphabet("0123456789abcdef"),join(""),normalize(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const b={utf8:w,hex:g,base16:s,base32:i,base64:d,base64url:c,base58:l,base58xmr:p};const P=null;const bytesToString=(e,t)=>{if("string"!=typeof e||!b.hasOwnProperty(e))throw new TypeError(P);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return b[e].encode(t)};const C=null;const stringToBytes=(e,t)=>{if(!b.hasOwnProperty(e))throw new TypeError(P);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return b[e].decode(t)};const S=null},"../../node_modules/@cardano-sdk/core/node_modules/@scure/base/lib/index.js":(e,t)=>{"use strict";/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */ Object.defineProperty(t,"__esModule",{value:true});t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0;function assertNumber(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}t.assertNumber=assertNumber;function chain(...e){const wrap=(e,t)=>r=>e(t(r));const t=Array.from(e).reverse().reduce((e,t)=>e?wrap(e,t.encode):t.encode,void 0);const r=e.reduce((e,t)=>e?wrap(e,t.decode):t.decode,void 0);return{encode:t,decode:r}}function alphabet(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{assertNumber(t);if(t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function join(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let r of t)if("string"!=typeof r)throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function padding(e,t="="){assertNumber(e);if("string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let a of r)if("string"!=typeof a)throw new Error(`padding.encode: non-string input=${a}`);while(r.length*e%8)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let a of r)if("string"!=typeof a)throw new Error(`padding.decode: non-string input=${a}`);let s=r.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&r[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,s)}}}function normalize(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function convertRadix(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let a=0;const s=[];const i=Array.from(e);i.forEach(e=>{assertNumber(e);if(e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});while(true){let o=0;let n=true;for(let d=a;d<i.length;d++){const c=i[d];const l=t*o+c;if(!Number.isSafeInteger(l)||t*o/t!==o||l-c!==t*o){throw new Error("convertRadix: carry overflow")}o=l%r;i[d]=Math.floor(l/r);if(!Number.isSafeInteger(i[d])||i[d]*r+o!==l)throw new Error("convertRadix: carry overflow");if(!!n)if(i[d])n=false;else a=d}s.push(o);if(n)break}for(let u=0;u<e.length-1&&0===e[u];u++)s.push(0);return s.reverse()}const gcd=(e,t)=>t?gcd(t,e%t):e;const radix2carry=(e,t)=>e+(t-gcd(e,t));function convertRadix2(e,t,r,a){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(radix2carry(t,r)>32){throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${radix2carry(t,r)}`)}let s=0;let i=0;const o=2**r-1;const n=[];for(const d of e){assertNumber(d);if(d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);s=s<<t|d;if(i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);i+=t;for(;i>=r;i-=r)n.push((s>>i-r&o)>>>0);s&=2**i-1}s=s<<r-i&o;if(!a&&i>=t)throw new Error("Excess padding");if(!a&&s)throw new Error(`Non-zero padding: ${s}`);if(a&&i>0)n.push(s>>>0);return n}function radix(e){assertNumber(e);return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(convertRadix(t,e,256))}}}function radix2(e,t=false){assertNumber(e);if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,e)>32||radix2carry(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(convertRadix2(r,e,8,t))}}}function unsafeWrapper(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(r){}}}function checksum(e,t){assertNumber(e);if("function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const a=t(r).slice(0,e);const s=new Uint8Array(r.length+e);s.set(r);s.set(a,r.length);return s},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const a=r.slice(0,-e);const s=t(a).slice(0,e);const i=r.slice(-e);for(let o=0;o<e;o++)if(s[o]!==i[o])throw new Error("Invalid checksum");return a}}}t.utils={alphabet,chain,checksum,radix,radix2,join,padding};t.base16=chain(radix2(4),alphabet("0123456789ABCDEF"),join(""));t.base32=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));t.base32hex=chain(radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join(""));t.base32crockford=chain(radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));t.base64=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join(""));t.base64url=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join(""));const genBase58=e=>chain(radix(58),alphabet(e),join(""));t.base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");t.base58flickr=genBase58("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");t.base58xrp=genBase58("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const r=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let a="";for(let s=0;s<e.length;s+=8){const i=e.subarray(s,s+8);a+=t.base58.encode(i).padStart(r[i.length],"1")}return a},decode(e){let a=[];for(let s=0;s<e.length;s+=11){const i=e.slice(s,s+11);const o=r.indexOf(i.length);const n=t.base58.decode(i);for(let d=0;d<n.length-o;d++)if(0!==n[d])throw new Error("base58xmr: wrong padding");a=a.concat(Array.from(n.slice(n.length-o)))}return Uint8Array.from(a)}};const base58check=e=>chain(checksum(4,t=>e(e(t))),t.base58);t.base58check=base58check;const a=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join(""));const s=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(e){const t=e>>25;let r=(33554431&e)<<5;for(let a=0;a<s.length;a++)if((t>>a&1)===1)r^=s[a];return r}function bechChecksum(e,t,r=1){const s=e.length;let i=1;for(let o=0;o<s;o++){const n=e.charCodeAt(o);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=bech32Polymod(i)^n>>5}i=bech32Polymod(i);for(let d=0;d<s;d++)i=bech32Polymod(i)^31&e.charCodeAt(d);for(let c of t)i=bech32Polymod(i)^c;for(let l=0;l<6;l++)i=bech32Polymod(i);i^=r;return a.encode(convertRadix2([i%2**30],30,5,false))}function genBech32(e){const t="bech32"===e?1:734539939;const r=radix2(5);const s=r.decode;const i=r.encode;const o=unsafeWrapper(s);function encode(e,r,s=90){if("string"!=typeof e)throw new Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error(`bech32.encode words should be array of numbers, not ${typeof r}`);const i=e.length+7+r.length;if(false!==s&&i>s)throw new TypeError(`Length ${i} exceeds limit ${s}`);e=e.toLowerCase();return`${e}1${a.encode(r)}${bechChecksum(e,r,t)}`}function decode(e,r=90){if("string"!=typeof e)throw new Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||false!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const s=e.toLowerCase();if(e!==s&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");e=s;const i=e.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i);const n=e.slice(i+1);if(n.length<6)throw new Error("Data must be at least 6 characters long");const d=a.decode(n).slice(0,-6);const c=bechChecksum(o,d,t);if(!n.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:d}}const n=unsafeWrapper(decode);function decodeToBytes(e){const{prefix:t,words:r}=decode(e,false);return{prefix:t,words:r,bytes:s(r)}}return{encode,decode,decodeToBytes,decodeUnsafe:n,fromWords:s,fromWordsUnsafe:o,toWords:i}}t.bech32=genBech32("bech32");t.bech32m=genBech32("bech32m");t.utf8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)};t.hex=chain(radix2(4),alphabet("0123456789abcdef"),join(""),normalize(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const i={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr};const o=`Invalid encoding type. Available types: ${Object.keys(i).join(", ")}`;const bytesToString=(e,t)=>{if("string"!=typeof e||!i.hasOwnProperty(e))throw new TypeError(o);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return i[e].encode(t)};t.bytesToString=bytesToString;t.str=t.bytesToString;const stringToBytes=(e,t)=>{if(!i.hasOwnProperty(e))throw new TypeError(o);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return i[e].decode(t)};t.stringToBytes=stringToBytes;t.bytes=t.stringToBytes},"../../node_modules/@cardano-sdk/core/node_modules/ts-custom-error/dist/custom-error.mjs":(e,t,r)=>{"use strict";r.r(t);r.d(t,{CustomError:()=>s,customErrorFactory:()=>customErrorFactory});function fixProto(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function fixStack(e,t){if(void 0===t)t=e.constructor;var r=Error.captureStackTrace;r&&r(e,t)}var a=function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){a(CustomError,e);function CustomError(t){var r=this.constructor;var a=e.call(this,t)||this;Object.defineProperty(a,"name",{value:r.name,enumerable:false,configurable:true});fixProto(a,r.prototype);fixStack(a);return a}return CustomError}(Error);var __spreadArrays=function(){var e=arguments;for(var t=0,r=0,a=arguments.length;r<a;r++)t+=e[r].length;for(var s=Array(t),i=0,r=0;r<a;r++){for(var o=arguments[r],n=0,d=o.length;n<d;n++,i++)s[i]=o[n]}return s};function customErrorFactory(e,t){if(void 0===t)t=Error;function CustomError(){var r=arguments;var a=[];for(var s=0;s<arguments.length;s++)a[s]=r[s];if(!(this instanceof CustomError)){return new(CustomError.bind.apply(CustomError,__spreadArrays([void 0],a)))}t.apply(this,a);Object.defineProperty(this,"name",{value:e.name||t.name,enumerable:false,configurable:true});e.apply(this,a);fixStack(this,CustomError)}return Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:true,configurable:true}})}})}},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32KeyDerivation.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.derivePublic=t.derivePrivate=void 0;const i=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/arithmetic.js");const n=s(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));const isHardenedDerivation=e=>e>=2147483648;const deriveHardened=(e,t,r,s)=>{const i=a.allocUnsafe(69);i.writeUInt32LE(e,65);t.copy(i,1);r.copy(i,33);i[0]=0;const o=n.default.crypto_auth_hmacsha512(i,s);i[0]=1;const d=n.default.crypto_auth_hmacsha512(i,s);return{ccMac:d,zMac:o}};const deriveSoft=(e,t,r)=>{const s=a.allocUnsafe(37);s.writeUInt32LE(e,33);const i=a.from(n.default.crypto_scalarmult_ed25519_base_noclamp(t));i.copy(s,1);s[0]=2;const o=n.default.crypto_auth_hmacsha512(s,r);s[0]=3;const d=n.default.crypto_auth_hmacsha512(s,r);return{ccMac:d,zMac:o}};const pointOfTrunc28Mul8=e=>{const t=(0,o.add28Mul8)(new Uint8Array(32).fill(0),e);return n.default.crypto_scalarmult_ed25519_base_noclamp(t)};const derivePrivate=(e,t)=>{const r=e.subarray(0,32);const s=e.subarray(32,64);const i=e.subarray(64,96);const{ccMac:n,zMac:d}=isHardenedDerivation(t)?deriveHardened(t,r,s,i):deriveSoft(t,r,i);const c=n.slice(32,64);const l=d.slice(0,32);const u=d.slice(32,64);const f=(0,o.add28Mul8)(r,l);const h=(0,o.add256bits)(s,u);return a.concat([f,h,c])};t.derivePrivate=derivePrivate;const derivePublic=(e,t)=>{const r=e.subarray(0,32);const s=e.subarray(32,64);const o=a.allocUnsafe(37);o.writeUInt32LE(t,33);if(isHardenedDerivation(t))throw new i.InvalidArgumentError("index","Public key can not be derived from a hardened index.");r.copy(o,1);o[0]=2;const d=n.default.crypto_auth_hmacsha512(o,s);o[0]=3;const c=n.default.crypto_auth_hmacsha512(o,s);const l=c.slice(32,64);const u=d.slice(0,32);const f=pointOfTrunc28Mul8(u);return a.concat([n.default.crypto_core_ed25519_add(f,r),l])};t.derivePublic=derivePublic},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32PrivateKey.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var l;Object.defineProperty(t,"__esModule",{value:true});t.Bip32PrivateKey=t.BIP32_ED25519_PRIVATE_KEY_LENGTH=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32KeyDerivation.js"));const f=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const h=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32PublicKey.js");const p=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/index.js");const m=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const _=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/browser.js");const v=c(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));const y=0;const w=32;const g=4096;const b=96;const P="sha512";const C=64;const S=32;const clampScalar=e=>{e[0]&=248;e[31]&=31;e[31]|=64;return e};const extendedScalar=e=>e.slice(y,w);t.BIP32_ED25519_PRIVATE_KEY_LENGTH=96;class Bip32PrivateKey{static fromBip39Entropy(e,t){const r=(0,_.pbkdf2Sync)(t,e,g,b,P);return Bip32PrivateKey.fromBytes(clampScalar(r))}static fromBytes(e){if(e.length!==t.BIP32_ED25519_PRIVATE_KEY_LENGTH)throw new m.InvalidArgumentError("key",`Key should be ${t.BIP32_ED25519_PRIVATE_KEY_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Bip32PrivateKey(e)}static fromHex(e){return Bip32PrivateKey.fromBytes(a.from(e,"hex"))}derive(e){let t=a.from(d(this,l,"f"));for(const r of e)t=u.derivePrivate(t,r);return Bip32PrivateKey.fromBytes(t)}toRawKey(){return p.Ed25519PrivateKey.fromExtendedBytes(d(this,l,"f").slice(0,p.EXTENDED_ED25519_PRIVATE_KEY_LENGTH))}toPublic(){const e=extendedScalar(d(this,l,"f").slice(0,p.EXTENDED_ED25519_PRIVATE_KEY_LENGTH));const t=v.default.crypto_scalarmult_ed25519_base_noclamp(e);return h.Bip32PublicKey.fromBytes(a.concat([t,d(this,l,"f").slice(C,C+S)]))}bytes(){return d(this,l,"f")}hex(){return(0,f.Bip32PrivateKeyHex)(a.from(d(this,l,"f")).toString("hex"))}constructor(e){l.set(this,void 0);n(this,l,e,"f")}}t.Bip32PrivateKey=Bip32PrivateKey;l=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32PublicKey.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var l;Object.defineProperty(t,"__esModule",{value:true});t.Bip32PublicKey=t.BIP32_ED25519_PUBLIC_KEY_LENGTH=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32KeyDerivation.js"));const f=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const h=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/index.js");const p=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const m=c(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));t.BIP32_ED25519_PUBLIC_KEY_LENGTH=64;class Bip32PublicKey{static fromBytes(e){if(e.length!==t.BIP32_ED25519_PUBLIC_KEY_LENGTH)throw new p.InvalidArgumentError("key",`Key should be ${t.BIP32_ED25519_PUBLIC_KEY_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Bip32PublicKey(e)}static fromHex(e){return Bip32PublicKey.fromBytes(a.from(e,"hex"))}toRawKey(){return h.Ed25519PublicKey.fromBytes(d(this,l,"f").slice(0,f.ED25519_PUBLIC_KEY_LENGTH))}derive(e){let t=a.from(d(this,l,"f"));for(const r of e)t=u.derivePublic(t,r);return Bip32PublicKey.fromBytes(t)}bytes(){return d(this,l,"f")}hex(){return(0,f.Bip32PublicKeyHex)(a.from(d(this,l,"f")).toString("hex"))}hash(){const e=m.default.crypto_generichash(f.BIP32_PUBLIC_KEY_HASH_LENGTH,d(this,l,"f"));return(0,f.Bip32PublicKeyHashHex)(a.from(e).toString("hex"))}constructor(e){l.set(this,void 0);n(this,l,e,"f")}}t.Bip32PublicKey=Bip32PublicKey;l=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/arithmetic.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.le32=t.add256bits=t.add28Mul8=void 0;const add28Mul8=(e,t)=>{let r=0;const a=new Uint8Array(32);for(let s=0;s<28;s++){const i=e[s]+(t[s]<<3)+r;a[s]=255&i;r=i>>8}for(let o=28;o<32;o++){const n=e[o]+r;a[o]=255&n;r=n>>8}return a};t.add28Mul8=add28Mul8;const add256bits=(e,t)=>{let r=0;const a=new Uint8Array(32);for(let s=0;s<32;s++){const i=e[s]+t[s]+r;a[s]=i;r=i>>8}return a};t.add256bits=add256bits;const le32=e=>new Uint8Array([255&e,e>>8&255,e>>16&255,e>>24&255]);t.le32=le32},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32PrivateKey.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/Bip32PublicKey.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/arithmetic.js"),t)},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32Ed25519.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519KeyHash.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o;Object.defineProperty(t,"__esModule",{value:true});t.Ed25519KeyHash=t.ED25519_PUBLIC_KEY_HASH_LENGTH=void 0;const n=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");t.ED25519_PUBLIC_KEY_HASH_LENGTH=28;class Ed25519KeyHash{static fromBytes(e){if(e.length!==t.ED25519_PUBLIC_KEY_HASH_LENGTH)throw new d.InvalidArgumentError("hash",`Hash should be ${t.ED25519_PUBLIC_KEY_HASH_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Ed25519KeyHash(e)}static fromHex(e){return Ed25519KeyHash.fromBytes(a.from(e,"hex"))}bytes(){return i(this,o,"f")}hex(){return(0,n.Ed25519KeyHashHex)(a.from(i(this,o,"f")).toString("hex"))}constructor(e){o.set(this,void 0);s(this,o,e,"f")}}t.Ed25519KeyHash=Ed25519KeyHash;o=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519PrivateKey.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var n;Object.defineProperty(t,"__esModule",{value:true});t.Ed25519PrivateKey=t.Ed25519PrivateKeyType=t.EXTENDED_ED25519_PRIVATE_KEY_LENGTH=t.NORMAL_ED25519_PRIVATE_KEY_LENGTH=void 0;const d=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const c=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519PublicKey.js");const l=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519Signature.js");const u=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const f=o(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));const h=0;const p=32;const m=32;const _=32;t.NORMAL_ED25519_PRIVATE_KEY_LENGTH=32;t.EXTENDED_ED25519_PRIVATE_KEY_LENGTH=64;const extendedScalar=e=>e.slice(h,p);const extendedIv=e=>e.slice(m,m+_);const signExtendedDetached=(e,t)=>{const r=extendedScalar(e);const s=f.default.crypto_scalarmult_ed25519_base_noclamp(r);const i=f.default.crypto_core_ed25519_scalar_reduce(f.default.crypto_hash_sha512(a.concat([extendedIv(e),t])));const o=f.default.crypto_scalarmult_ed25519_base_noclamp(i);let n=f.default.crypto_hash_sha512(a.concat([o,s,t]));n=f.default.crypto_core_ed25519_scalar_reduce(n);return a.concat([o,f.default.crypto_core_ed25519_scalar_add(f.default.crypto_core_ed25519_scalar_mul(n,r),i)])};var v;(function(e){e["Normal"]="Normal";e["Extended"]="Extended"})(v=t.Ed25519PrivateKeyType||(t.Ed25519PrivateKeyType={}));class Ed25519PrivateKey{toPublic(){return c.Ed25519PublicKey.fromBytes(this.__type===v.Extended?f.default.crypto_scalarmult_ed25519_base_noclamp(extendedScalar(i(this,n,"f"))):f.default.crypto_sign_seed_keypair(i(this,n,"f")).publicKey)}sign(e){return l.Ed25519Signature.fromBytes(this.__type===v.Extended?signExtendedDetached(i(this,n,"f"),a.from(e,"hex")):f.default.crypto_sign_detached(a.from(e,"hex"),a.concat([i(this,n,"f"),this.toPublic().bytes()])))}static fromNormalBytes(e){if(e.length!==t.NORMAL_ED25519_PRIVATE_KEY_LENGTH)throw new u.InvalidArgumentError("keyMaterial",`Key should be ${t.NORMAL_ED25519_PRIVATE_KEY_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Ed25519PrivateKey(e,v.Normal)}static fromExtendedBytes(e){if(e.length!==t.EXTENDED_ED25519_PRIVATE_KEY_LENGTH)throw new u.InvalidArgumentError("keyMaterial",`Key should be ${t.EXTENDED_ED25519_PRIVATE_KEY_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Ed25519PrivateKey(e,v.Extended)}static fromNormalHex(e){return Ed25519PrivateKey.fromNormalBytes(a.from(e,"hex"))}static fromExtendedHex(e){return Ed25519PrivateKey.fromExtendedBytes(a.from(e,"hex"))}bytes(){return i(this,n,"f")}hex(){return this.__type===v.Extended?(0,d.Ed25519PrivateExtendedKeyHex)(a.from(i(this,n,"f")).toString("hex")):(0,d.Ed25519PrivateNormalKeyHex)(a.from(i(this,n,"f")).toString("hex"))}constructor(e,t){n.set(this,void 0);s(this,n,e,"f");this.__type=t}}t.Ed25519PrivateKey=Ed25519PrivateKey;n=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519PublicKey.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var n;Object.defineProperty(t,"__esModule",{value:true});t.Ed25519PublicKey=void 0;const d=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519KeyHash.js");const c=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=o(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));class Ed25519PublicKey{verify(e,t){return u.default.crypto_sign_verify_detached(e.bytes(),a.from(t,"hex"),i(this,n,"f"))}static fromBytes(e){if(e.length!==c.ED25519_PUBLIC_KEY_LENGTH)throw new l.InvalidArgumentError("keyMaterial",`Key should be ${c.ED25519_PUBLIC_KEY_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Ed25519PublicKey(e)}static fromHex(e){return Ed25519PublicKey.fromBytes(a.from(e,"hex"))}hash(){const e=u.default.crypto_generichash(d.ED25519_PUBLIC_KEY_HASH_LENGTH,i(this,n,"f"));return d.Ed25519KeyHash.fromBytes(e)}bytes(){return i(this,n,"f")}hex(){return(0,c.Ed25519PublicKeyHex)(a.from(i(this,n,"f")).toString("hex"))}constructor(e){n.set(this,void 0);s(this,n,e,"f")}}t.Ed25519PublicKey=Ed25519PublicKey;n=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519Signature.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o;Object.defineProperty(t,"__esModule",{value:true});t.Ed25519Signature=t.ED25519_SIGNATURE_LENGTH=void 0;const n=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");t.ED25519_SIGNATURE_LENGTH=64;class Ed25519Signature{static fromBytes(e){if(e.length!==t.ED25519_SIGNATURE_LENGTH)throw new d.InvalidArgumentError("signature",`signature should be ${t.ED25519_SIGNATURE_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Ed25519Signature(e)}static fromHex(e){return Ed25519Signature.fromBytes(a.from(e,"hex"))}bytes(){return i(this,o,"f")}hex(){return(0,n.Ed25519SignatureHex)(a.from(i(this,o,"f")).toString("hex"))}constructor(e){o.set(this,void 0);s(this,o,e,"f")}}t.Ed25519Signature=Ed25519Signature;o=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519PrivateKey.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519PublicKey.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519Signature.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/Ed25519KeyHash.js"),t)},"../../node_modules/@cardano-sdk/crypto/dist/cjs/blake2b-hash.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.blake2b=void 0;const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const i=a(r("../../node_modules/blake2b-no-wasm/index.js"));t.blake2b={hash(e,t){return(0,i.default)(t).update((0,s.hexStringToBuffer)(e)).digest("hex")},async hashAsync(e,r){return t.blake2b.hash(e,r)}}},"../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Bip32PublicKeyHashHex=t.Ed25519KeyHashHex=t.Ed25519PrivateNormalKeyHex=t.Ed25519PrivateExtendedKeyHex=t.Ed25519PublicKeyHex=t.Bip32PrivateKeyHex=t.Bip32PublicKeyHex=t.Ed25519SignatureHex=t.Hash32ByteBase16=t.Hash28ByteBase16=t.ED25519_PUBLIC_KEY_LENGTH=t.BIP32_PUBLIC_KEY_HASH_LENGTH=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");t.BIP32_PUBLIC_KEY_HASH_LENGTH=28;t.ED25519_PUBLIC_KEY_LENGTH=32;const Hash28ByteBase16=e=>(0,a.typedHex)(e,56);t.Hash28ByteBase16=Hash28ByteBase16;const Hash32ByteBase16=e=>(0,a.typedHex)(e,64);t.Hash32ByteBase16=Hash32ByteBase16;t.Hash32ByteBase16.fromHexBlob=e=>(0,a.castHexBlob)(e,64);const Ed25519SignatureHex=e=>(0,a.typedHex)(e,128);t.Ed25519SignatureHex=Ed25519SignatureHex;const Bip32PublicKeyHex=e=>(0,a.typedHex)(e,128);t.Bip32PublicKeyHex=Bip32PublicKeyHex;const Bip32PrivateKeyHex=e=>(0,a.typedHex)(e,192);t.Bip32PrivateKeyHex=Bip32PrivateKeyHex;const Ed25519PublicKeyHex=e=>(0,a.typedHex)(e,t.ED25519_PUBLIC_KEY_LENGTH*a.HexBlob.CHARS_PER_BYTE);t.Ed25519PublicKeyHex=Ed25519PublicKeyHex;t.Ed25519PublicKeyHex.fromBip32PublicKey=e=>e.slice(0,t.ED25519_PUBLIC_KEY_LENGTH*a.HexBlob.CHARS_PER_BYTE);const Ed25519PrivateExtendedKeyHex=e=>(0,a.typedHex)(e,128);t.Ed25519PrivateExtendedKeyHex=Ed25519PrivateExtendedKeyHex;const Ed25519PrivateNormalKeyHex=e=>(0,a.typedHex)(e,64);t.Ed25519PrivateNormalKeyHex=Ed25519PrivateNormalKeyHex;const Ed25519KeyHashHex=e=>(0,a.typedHex)(e,56);t.Ed25519KeyHashHex=Ed25519KeyHashHex;const Bip32PublicKeyHashHex=e=>(0,a.typedHex)(e,t.BIP32_PUBLIC_KEY_HASH_LENGTH*a.HexBlob.CHARS_PER_BYTE);t.Bip32PublicKeyHashHex=Bip32PublicKeyHashHex},"../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.ready=void 0;const o=i(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/blake2b-hash.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/index.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32Ed25519.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/index.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/strategies/index.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/types.js"),t);const ready=async()=>await o.default.ready;t.ready=ready},"../../node_modules/@cardano-sdk/crypto/dist/cjs/strategies/CmlBip32Ed25519.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var i=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o;Object.defineProperty(t,"__esModule",{value:true});t.CmlBip32Ed25519=void 0;const n=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/hexTypes.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=128;class CmlBip32Ed25519{fromBip39Entropy(e,t){const r=(0,d.usingAutoFree)(r=>{const s=r.manage(i(this,o,"f").Bip32PrivateKey.from_bip39_entropy(e,a.from(t)));return s.as_bytes()});return(0,n.Bip32PrivateKeyHex)(a.from(r).toString("hex"))}getPublicKey(e){return(0,d.usingAutoFree)(t=>{const r=e.length===c?t.manage(i(this,o,"f").PrivateKey.from_extended_bytes(a.from(e,"hex"))):t.manage(i(this,o,"f").PrivateKey.from_normal_bytes(a.from(e,"hex")));const s=t.manage(r.to_public()).as_bytes();return(0,n.Ed25519PublicKeyHex)(a.from(s).toString("hex"))})}getPubKeyHash(e){return(0,d.usingAutoFree)(t=>{const r=t.manage(i(this,o,"f").PublicKey.from_bytes(a.from(e,"hex")));const s=t.manage(r.hash()).to_bytes();return(0,n.Ed25519KeyHashHex)(a.from(s).toString("hex"))})}getRawPrivateKey(e){return(0,d.usingAutoFree)(t=>{const r=t.manage(i(this,o,"f").Bip32PrivateKey.from_bytes(a.from(e,"hex")));const s=t.manage(r.to_raw_key()).as_bytes();return(0,n.Ed25519PrivateExtendedKeyHex)(a.from(s).toString("hex"))})}getRawPublicKey(e){return(0,d.usingAutoFree)(t=>{const r=t.manage(i(this,o,"f").Bip32PublicKey.from_bytes(a.from(e,"hex")));const s=t.manage(r.to_raw_key()).as_bytes();return(0,n.Ed25519PublicKeyHex)(a.from(s).toString("hex"))})}getBip32PublicKey(e){return(0,d.usingAutoFree)(t=>{const r=t.manage(i(this,o,"f").Bip32PrivateKey.from_bytes(a.from(e,"hex")));const s=t.manage(r.to_public()).as_bytes();return(0,n.Bip32PublicKeyHex)(a.from(s).toString("hex"))})}derivePrivateKey(e,t){return(0,d.usingAutoFree)(r=>{let s=r.manage(i(this,o,"f").Bip32PrivateKey.from_bytes(a.from(e,"hex")));for(const d of t)s=r.manage(s.derive(d));return(0,n.Bip32PrivateKeyHex)(a.from(s.as_bytes()).toString("hex"))})}derivePublicKey(e,t){return(0,d.usingAutoFree)(r=>{let s=r.manage(i(this,o,"f").Bip32PublicKey.from_bytes(a.from(e,"hex")));for(const d of t)s=r.manage(s.derive(d));return(0,n.Bip32PublicKeyHex)(a.from(s.as_bytes()).toString("hex"))})}async derivePublicKeyAsync(e,t){return this.derivePublicKey(e,t)}sign(e,t){return(0,d.usingAutoFree)(r=>{const s=e.length===c?r.manage(i(this,o,"f").PrivateKey.from_extended_bytes(a.from(e,"hex"))):r.manage(i(this,o,"f").PrivateKey.from_normal_bytes(a.from(e,"hex")));const d=r.manage(s.sign(a.from(t,"hex"))).to_bytes();return(0,n.Ed25519SignatureHex)(a.from(d).toString("hex"))})}verify(e,t,r){return(0,d.usingAutoFree)(s=>{const n=s.manage(i(this,o,"f").PublicKey.from_bytes(a.from(r,"hex")));const d=s.manage(i(this,o,"f").Ed25519Signature.from_bytes(a.from(e,"hex")));return n.verify(a.from(t,"hex"),d)})}constructor(e){o.set(this,void 0);s(this,o,e,"f")}}t.CmlBip32Ed25519=CmlBip32Ed25519;o=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/cjs/strategies/SodiumBip32Ed25519.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.SodiumBip32Ed25519=void 0;const s=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Bip32/index.js");const i=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/Ed25519e/index.js");const o=a(r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js"));const n=128;class SodiumBip32Ed25519{static async create(){await o.default.ready;return Promise.resolve(new SodiumBip32Ed25519)}fromBip39Entropy(e,t){return s.Bip32PrivateKey.fromBip39Entropy(e,t).hex()}getPublicKey(e){const t=e.length===n?i.Ed25519PrivateKey.fromExtendedHex(e):i.Ed25519PrivateKey.fromNormalHex(e);return t.toPublic().hex()}getPubKeyHash(e){const t=i.Ed25519PublicKey.fromHex(e);return t.hash().hex()}getRawPrivateKey(e){return s.Bip32PrivateKey.fromHex(e).toRawKey().hex()}getRawPublicKey(e){const t=s.Bip32PublicKey.fromHex(e);return t.toRawKey().hex()}getBip32PublicKey(e){const t=s.Bip32PrivateKey.fromHex(e);return t.toPublic().hex()}derivePrivateKey(e,t){const r=s.Bip32PrivateKey.fromHex(e);return r.derive(t).hex()}derivePublicKey(e,t){const r=s.Bip32PublicKey.fromHex(e);return r.derive(t).hex()}async derivePublicKeyAsync(e,t){return this.derivePublicKey(e,t)}sign(e,t){const r=e.length===n?i.Ed25519PrivateKey.fromExtendedHex(e):i.Ed25519PrivateKey.fromNormalHex(e);return r.sign(t).hex()}verify(e,t,r){const a=i.Ed25519PublicKey.fromHex(r);return a.verify(i.Ed25519Signature.fromHex(e),t)}constructor(){}}t.SodiumBip32Ed25519=SodiumBip32Ed25519},"../../node_modules/@cardano-sdk/crypto/dist/cjs/strategies/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/strategies/CmlBip32Ed25519.js"),t);s(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/strategies/SodiumBip32Ed25519.js"),t)},"../../node_modules/@cardano-sdk/crypto/dist/cjs/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32KeyDerivation.js":(e,t,r)=>{"use strict";r.d(t,{derivePrivate:()=>derivePrivate,derivePublic:()=>derivePublic});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/arithmetic.js");var i=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];const isHardenedDerivation=e=>e>=2147483648;const deriveHardened=(e,t,r,a)=>{const s=o.allocUnsafe(69);s.writeUInt32LE(e,65);t.copy(s,1);r.copy(s,33);s[0]=0;const n=i.crypto_auth_hmacsha512(s,a);s[0]=1;const d=i.crypto_auth_hmacsha512(s,a);return{ccMac:d,zMac:n}};const deriveSoft=(e,t,r)=>{const a=o.allocUnsafe(37);a.writeUInt32LE(e,33);const s=o.from(i.crypto_scalarmult_ed25519_base_noclamp(t));s.copy(a,1);a[0]=2;const n=i.crypto_auth_hmacsha512(a,r);a[0]=3;const d=i.crypto_auth_hmacsha512(a,r);return{ccMac:d,zMac:n}};const pointOfTrunc28Mul8=e=>{const t=(0,s.add28Mul8)(new Uint8Array(32).fill(0),e);return i.crypto_scalarmult_ed25519_base_noclamp(t)};const derivePrivate=(e,t)=>{const r=e.subarray(0,32);const a=e.subarray(32,64);const i=e.subarray(64,96);const{ccMac:n,zMac:d}=isHardenedDerivation(t)?deriveHardened(t,r,a,i):deriveSoft(t,r,i);const c=n.slice(32,64);const l=d.slice(0,32);const u=d.slice(32,64);const f=(0,s.add28Mul8)(r,l);const h=(0,s.add256bits)(a,u);return o.concat([f,h,c])};const derivePublic=(e,t)=>{const r=e.subarray(0,32);const s=e.subarray(32,64);const n=o.allocUnsafe(37);n.writeUInt32LE(t,33);if(isHardenedDerivation(t))throw new a.InvalidArgumentError("index","Public key can not be derived from a hardened index.");r.copy(n,1);n[0]=2;const d=i.crypto_auth_hmacsha512(n,s);n[0]=3;const c=i.crypto_auth_hmacsha512(n,s);const l=c.slice(32,64);const u=d.slice(0,32);const f=pointOfTrunc28Mul8(u);return o.concat([i.crypto_core_ed25519_add(f,r),l])}},"../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PrivateKey.js":(e,t,r)=>{"use strict";r.d(t,{BIP32_ED25519_PRIVATE_KEY_LENGTH:()=>w,Bip32PrivateKey:()=>Bip32PrivateKey});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32KeyDerivation.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PublicKey.js");var o=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PrivateKey.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/browser.js");var c=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var u;const f=0;const h=32;const p=4096;const m=96;const _="sha512";const v=64;const y=32;const clampScalar=e=>{e[0]&=248;e[31]&=31;e[31]|=64;return e};const extendedScalar=e=>e.slice(f,h);const w=96;class Bip32PrivateKey{static fromBip39Entropy(e,t){const r=(0,d.pbkdf2Sync)(t,e,p,m,_);return Bip32PrivateKey.fromBytes(clampScalar(r))}static fromBytes(e){if(e.length!==w)throw new n.InvalidArgumentError("key",`Key should be ${w} bytes; however ${e.length} bytes were provided.`);return new Bip32PrivateKey(e)}static fromHex(e){return Bip32PrivateKey.fromBytes(l.from(e,"hex"))}derive(e){let t=l.from(__classPrivateFieldGet(this,u,"f"));for(const r of e)t=a.derivePrivate(t,r);return Bip32PrivateKey.fromBytes(t)}toRawKey(){return o.Ed25519PrivateKey.fromExtendedBytes(__classPrivateFieldGet(this,u,"f").slice(0,o.EXTENDED_ED25519_PRIVATE_KEY_LENGTH))}toPublic(){const e=extendedScalar(__classPrivateFieldGet(this,u,"f").slice(0,o.EXTENDED_ED25519_PRIVATE_KEY_LENGTH));const t=c.crypto_scalarmult_ed25519_base_noclamp(e);return i.Bip32PublicKey.fromBytes(l.concat([t,__classPrivateFieldGet(this,u,"f").slice(v,v+y)]))}bytes(){return __classPrivateFieldGet(this,u,"f")}hex(){return(0,s.Bip32PrivateKeyHex)(l.from(__classPrivateFieldGet(this,u,"f")).toString("hex"))}constructor(e){u.set(this,void 0);__classPrivateFieldSet(this,u,e,"f")}}u=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PublicKey.js":(e,t,r)=>{"use strict";r.d(t,{BIP32_ED25519_PUBLIC_KEY_LENGTH:()=>l,Bip32PublicKey:()=>Bip32PublicKey});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32KeyDerivation.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c;const l=64;class Bip32PublicKey{static fromBytes(e){if(e.length!==l)throw new o.InvalidArgumentError("key",`Key should be ${l} bytes; however ${e.length} bytes were provided.`);return new Bip32PublicKey(e)}static fromHex(e){return Bip32PublicKey.fromBytes(d.from(e,"hex"))}toRawKey(){return i.Ed25519PublicKey.fromBytes(__classPrivateFieldGet(this,c,"f").slice(0,s.ED25519_PUBLIC_KEY_LENGTH))}derive(e){let t=d.from(__classPrivateFieldGet(this,c,"f"));for(const r of e)t=a.derivePublic(t,r);return Bip32PublicKey.fromBytes(t)}bytes(){return __classPrivateFieldGet(this,c,"f")}hex(){return(0,s.Bip32PublicKeyHex)(d.from(__classPrivateFieldGet(this,c,"f")).toString("hex"))}hash(){const e=n.crypto_generichash(s.BIP32_PUBLIC_KEY_HASH_LENGTH,__classPrivateFieldGet(this,c,"f"));return(0,s.Bip32PublicKeyHashHex)(d.from(e).toString("hex"))}constructor(e){c.set(this,void 0);__classPrivateFieldSet(this,c,e,"f")}}c=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/arithmetic.js":(e,t,r)=>{"use strict";r.d(t,{add256bits:()=>add256bits,add28Mul8:()=>add28Mul8,le32:()=>le32});const add28Mul8=(e,t)=>{let r=0;const a=new Uint8Array(32);for(let s=0;s<28;s++){const i=e[s]+(t[s]<<3)+r;a[s]=255&i;r=i>>8}for(let o=28;o<32;o++){const n=e[o]+r;a[o]=255&n;r=n>>8}return a};const add256bits=(e,t)=>{let r=0;const a=new Uint8Array(32);for(let s=0;s<32;s++){const i=e[s]+t[s]+r;a[s]=i;r=i>>8}return a};const le32=e=>new Uint8Array([255&e,e>>8&255,e>>16&255,e>>24&255])},"../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519KeyHash.js":(e,t,r)=>{"use strict";r.d(t,{ED25519_PUBLIC_KEY_HASH_LENGTH:()=>n,Ed25519KeyHash:()=>Ed25519KeyHash});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var i=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o;const n=28;class Ed25519KeyHash{static fromBytes(e){if(e.length!==n)throw new s.InvalidArgumentError("hash",`Hash should be ${n} bytes; however ${e.length} bytes were provided.`);return new Ed25519KeyHash(e)}static fromHex(e){return Ed25519KeyHash.fromBytes(i.from(e,"hex"))}bytes(){return __classPrivateFieldGet(this,o,"f")}hex(){return(0,a.Ed25519KeyHashHex)(i.from(__classPrivateFieldGet(this,o,"f")).toString("hex"))}constructor(e){o.set(this,void 0);__classPrivateFieldSet(this,o,e,"f")}}o=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PrivateKey.js":(e,t,r)=>{"use strict";r.d(t,{EXTENDED_ED25519_PRIVATE_KEY_LENGTH:()=>m,Ed25519PrivateKey:()=>Ed25519PrivateKey,Ed25519PrivateKeyType:()=>_,NORMAL_ED25519_PRIVATE_KEY_LENGTH:()=>p});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519Signature.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var n=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");var d=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c;const l=0;const u=32;const f=32;const h=32;const p=32;const m=64;const extendedScalar=e=>e.slice(l,u);const extendedIv=e=>e.slice(f,f+h);const signExtendedDetached=(e,t)=>{const r=extendedScalar(e);const a=n.crypto_scalarmult_ed25519_base_noclamp(r);const s=n.crypto_core_ed25519_scalar_reduce(n.crypto_hash_sha512(d.concat([extendedIv(e),t])));const i=n.crypto_scalarmult_ed25519_base_noclamp(s);let o=n.crypto_hash_sha512(d.concat([i,a,t]));o=n.crypto_core_ed25519_scalar_reduce(o);return d.concat([i,n.crypto_core_ed25519_scalar_add(n.crypto_core_ed25519_scalar_mul(o,r),s)])};var _;(function(e){e["Normal"]="Normal";e["Extended"]="Extended"})(_||(_={}));class Ed25519PrivateKey{toPublic(){return s.Ed25519PublicKey.fromBytes(this.__type===_.Extended?n.crypto_scalarmult_ed25519_base_noclamp(extendedScalar(__classPrivateFieldGet(this,c,"f"))):n.crypto_sign_seed_keypair(__classPrivateFieldGet(this,c,"f")).publicKey)}sign(e){return i.Ed25519Signature.fromBytes(this.__type===_.Extended?signExtendedDetached(__classPrivateFieldGet(this,c,"f"),d.from(e,"hex")):n.crypto_sign_detached(d.from(e,"hex"),d.concat([__classPrivateFieldGet(this,c,"f"),this.toPublic().bytes()])))}static fromNormalBytes(e){if(e.length!==p)throw new o.InvalidArgumentError("keyMaterial",`Key should be ${p} bytes; however ${e.length} bytes were provided.`);return new Ed25519PrivateKey(e,_.Normal)}static fromExtendedBytes(e){if(e.length!==m)throw new o.InvalidArgumentError("keyMaterial",`Key should be ${m} bytes; however ${e.length} bytes were provided.`);return new Ed25519PrivateKey(e,_.Extended)}static fromNormalHex(e){return Ed25519PrivateKey.fromNormalBytes(d.from(e,"hex"))}static fromExtendedHex(e){return Ed25519PrivateKey.fromExtendedBytes(d.from(e,"hex"))}bytes(){return __classPrivateFieldGet(this,c,"f")}hex(){return this.__type===_.Extended?(0,a.Ed25519PrivateExtendedKeyHex)(d.from(__classPrivateFieldGet(this,c,"f")).toString("hex")):(0,a.Ed25519PrivateNormalKeyHex)(d.from(__classPrivateFieldGet(this,c,"f")).toString("hex"))}constructor(e,t){c.set(this,void 0);__classPrivateFieldSet(this,c,e,"f");this.__type=t}}c=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js":(e,t,r)=>{"use strict";r.d(t,{Ed25519PublicKey:()=>Ed25519PublicKey});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519KeyHash.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");var n=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d;class Ed25519PublicKey{verify(e,t){return o.crypto_sign_verify_detached(e.bytes(),n.from(t,"hex"),__classPrivateFieldGet(this,d,"f"))}static fromBytes(e){if(e.length!==s.ED25519_PUBLIC_KEY_LENGTH)throw new i.InvalidArgumentError("keyMaterial",`Key should be ${s.ED25519_PUBLIC_KEY_LENGTH} bytes; however ${e.length} bytes were provided.`);return new Ed25519PublicKey(e)}static fromHex(e){return Ed25519PublicKey.fromBytes(n.from(e,"hex"))}hash(){const e=o.crypto_generichash(a.ED25519_PUBLIC_KEY_HASH_LENGTH,__classPrivateFieldGet(this,d,"f"));return a.Ed25519KeyHash.fromBytes(e)}bytes(){return __classPrivateFieldGet(this,d,"f")}hex(){return(0,s.Ed25519PublicKeyHex)(n.from(__classPrivateFieldGet(this,d,"f")).toString("hex"))}constructor(e){d.set(this,void 0);__classPrivateFieldSet(this,d,e,"f")}}d=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519Signature.js":(e,t,r)=>{"use strict";r.d(t,{ED25519_SIGNATURE_LENGTH:()=>n,Ed25519Signature:()=>Ed25519Signature});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var i=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o;const n=64;class Ed25519Signature{static fromBytes(e){if(e.length!==n)throw new s.InvalidArgumentError("signature",`signature should be ${n} bytes; however ${e.length} bytes were provided.`);return new Ed25519Signature(e)}static fromHex(e){return Ed25519Signature.fromBytes(i.from(e,"hex"))}bytes(){return __classPrivateFieldGet(this,o,"f")}hex(){return(0,a.Ed25519SignatureHex)(i.from(__classPrivateFieldGet(this,o,"f")).toString("hex"))}constructor(e){o.set(this,void 0);__classPrivateFieldSet(this,o,e,"f")}}o=new WeakMap},"../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js":(e,t,r)=>{"use strict";r.d(t,{blake2b:()=>i});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/hexString.js");var s=r("../../node_modules/blake2b-no-wasm/index.js");const i={hash(e,t){return s(t).update((0,a.hexStringToBuffer)(e)).digest("hex")},async hashAsync(e,t){return i.hash(e,t)}}},"../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js":(e,t,r)=>{"use strict";r.d(t,{BIP32_PUBLIC_KEY_HASH_LENGTH:()=>s,Bip32PrivateKeyHex:()=>Bip32PrivateKeyHex,Bip32PublicKeyHashHex:()=>Bip32PublicKeyHashHex,Bip32PublicKeyHex:()=>Bip32PublicKeyHex,ED25519_PUBLIC_KEY_LENGTH:()=>i,Ed25519KeyHashHex:()=>Ed25519KeyHashHex,Ed25519PrivateExtendedKeyHex:()=>Ed25519PrivateExtendedKeyHex,Ed25519PrivateNormalKeyHex:()=>Ed25519PrivateNormalKeyHex,Ed25519PublicKeyHex:()=>Ed25519PublicKeyHex,Ed25519SignatureHex:()=>Ed25519SignatureHex,Hash28ByteBase16:()=>Hash28ByteBase16,Hash32ByteBase16:()=>Hash32ByteBase16});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");const s=28;const i=32;const Hash28ByteBase16=e=>(0,a.typedHex)(e,56);const Hash32ByteBase16=e=>(0,a.typedHex)(e,64);Hash32ByteBase16.fromHexBlob=e=>(0,a.castHexBlob)(e,64);const Ed25519SignatureHex=e=>(0,a.typedHex)(e,128);const Bip32PublicKeyHex=e=>(0,a.typedHex)(e,128);const Bip32PrivateKeyHex=e=>(0,a.typedHex)(e,192);const Ed25519PublicKeyHex=e=>(0,a.typedHex)(e,i*a.HexBlob.CHARS_PER_BYTE);Ed25519PublicKeyHex.fromBip32PublicKey=e=>e.slice(0,i*a.HexBlob.CHARS_PER_BYTE);const Ed25519PrivateExtendedKeyHex=e=>(0,a.typedHex)(e,128);const Ed25519PrivateNormalKeyHex=e=>(0,a.typedHex)(e,64);const Ed25519KeyHashHex=e=>(0,a.typedHex)(e,56);const Bip32PublicKeyHashHex=e=>(0,a.typedHex)(e,s*a.HexBlob.CHARS_PER_BYTE)},"../../node_modules/@cardano-sdk/crypto/dist/esm/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{BIP32_ED25519_PRIVATE_KEY_LENGTH:()=>i.BIP32_ED25519_PRIVATE_KEY_LENGTH,BIP32_ED25519_PUBLIC_KEY_LENGTH:()=>o.BIP32_ED25519_PUBLIC_KEY_LENGTH,BIP32_PUBLIC_KEY_HASH_LENGTH:()=>f.BIP32_PUBLIC_KEY_HASH_LENGTH,Bip32PrivateKey:()=>i.Bip32PrivateKey,Bip32PrivateKeyHex:()=>f.Bip32PrivateKeyHex,Bip32PublicKey:()=>o.Bip32PublicKey,Bip32PublicKeyHashHex:()=>f.Bip32PublicKeyHashHex,Bip32PublicKeyHex:()=>f.Bip32PublicKeyHex,CmlBip32Ed25519:()=>CmlBip32Ed25519,ED25519_PUBLIC_KEY_HASH_LENGTH:()=>u.ED25519_PUBLIC_KEY_HASH_LENGTH,ED25519_PUBLIC_KEY_LENGTH:()=>f.ED25519_PUBLIC_KEY_LENGTH,ED25519_SIGNATURE_LENGTH:()=>l.ED25519_SIGNATURE_LENGTH,EXTENDED_ED25519_PRIVATE_KEY_LENGTH:()=>d.EXTENDED_ED25519_PRIVATE_KEY_LENGTH,Ed25519KeyHash:()=>u.Ed25519KeyHash,Ed25519KeyHashHex:()=>f.Ed25519KeyHashHex,Ed25519PrivateExtendedKeyHex:()=>f.Ed25519PrivateExtendedKeyHex,Ed25519PrivateKey:()=>d.Ed25519PrivateKey,Ed25519PrivateKeyType:()=>d.Ed25519PrivateKeyType,Ed25519PrivateNormalKeyHex:()=>f.Ed25519PrivateNormalKeyHex,Ed25519PublicKey:()=>c.Ed25519PublicKey,Ed25519PublicKeyHex:()=>f.Ed25519PublicKeyHex,Ed25519Signature:()=>l.Ed25519Signature,Ed25519SignatureHex:()=>f.Ed25519SignatureHex,Hash28ByteBase16:()=>f.Hash28ByteBase16,Hash32ByteBase16:()=>f.Hash32ByteBase16,NORMAL_ED25519_PRIVATE_KEY_LENGTH:()=>d.NORMAL_ED25519_PRIVATE_KEY_LENGTH,SodiumBip32Ed25519:()=>v.SodiumBip32Ed25519,add256bits:()=>n.add256bits,add28Mul8:()=>n.add28Mul8,blake2b:()=>s.blake2b,le32:()=>n.le32,ready:()=>ready});var a=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PrivateKey.js");var o=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PublicKey.js");var n=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/arithmetic.js");var d=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PrivateKey.js");var c=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var l=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519Signature.js");var u=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519KeyHash.js");var f=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var h=r("../../node_modules/@cardano-sdk/util/dist/esm/freeable.js");var p=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var m;const _=128;class CmlBip32Ed25519{fromBip39Entropy(e,t){const r=(0,h.usingAutoFree)(r=>{const a=r.manage(__classPrivateFieldGet(this,m,"f").Bip32PrivateKey.from_bip39_entropy(e,p.from(t)));return a.as_bytes()});return(0,f.Bip32PrivateKeyHex)(p.from(r).toString("hex"))}getPublicKey(e){return(0,h.usingAutoFree)(t=>{const r=e.length===_?t.manage(__classPrivateFieldGet(this,m,"f").PrivateKey.from_extended_bytes(p.from(e,"hex"))):t.manage(__classPrivateFieldGet(this,m,"f").PrivateKey.from_normal_bytes(p.from(e,"hex")));const a=t.manage(r.to_public()).as_bytes();return(0,f.Ed25519PublicKeyHex)(p.from(a).toString("hex"))})}getPubKeyHash(e){return(0,h.usingAutoFree)(t=>{const r=t.manage(__classPrivateFieldGet(this,m,"f").PublicKey.from_bytes(p.from(e,"hex")));const a=t.manage(r.hash()).to_bytes();return(0,f.Ed25519KeyHashHex)(p.from(a).toString("hex"))})}getRawPrivateKey(e){return(0,h.usingAutoFree)(t=>{const r=t.manage(__classPrivateFieldGet(this,m,"f").Bip32PrivateKey.from_bytes(p.from(e,"hex")));const a=t.manage(r.to_raw_key()).as_bytes();return(0,f.Ed25519PrivateExtendedKeyHex)(p.from(a).toString("hex"))})}getRawPublicKey(e){return(0,h.usingAutoFree)(t=>{const r=t.manage(__classPrivateFieldGet(this,m,"f").Bip32PublicKey.from_bytes(p.from(e,"hex")));const a=t.manage(r.to_raw_key()).as_bytes();return(0,f.Ed25519PublicKeyHex)(p.from(a).toString("hex"))})}getBip32PublicKey(e){return(0,h.usingAutoFree)(t=>{const r=t.manage(__classPrivateFieldGet(this,m,"f").Bip32PrivateKey.from_bytes(p.from(e,"hex")));const a=t.manage(r.to_public()).as_bytes();return(0,f.Bip32PublicKeyHex)(p.from(a).toString("hex"))})}derivePrivateKey(e,t){return(0,h.usingAutoFree)(r=>{let a=r.manage(__classPrivateFieldGet(this,m,"f").Bip32PrivateKey.from_bytes(p.from(e,"hex")));for(const s of t)a=r.manage(a.derive(s));return(0,f.Bip32PrivateKeyHex)(p.from(a.as_bytes()).toString("hex"))})}derivePublicKey(e,t){return(0,h.usingAutoFree)(r=>{let a=r.manage(__classPrivateFieldGet(this,m,"f").Bip32PublicKey.from_bytes(p.from(e,"hex")));for(const s of t)a=r.manage(a.derive(s));return(0,f.Bip32PublicKeyHex)(p.from(a.as_bytes()).toString("hex"))})}async derivePublicKeyAsync(e,t){return this.derivePublicKey(e,t)}sign(e,t){return(0,h.usingAutoFree)(r=>{const a=e.length===_?r.manage(__classPrivateFieldGet(this,m,"f").PrivateKey.from_extended_bytes(p.from(e,"hex"))):r.manage(__classPrivateFieldGet(this,m,"f").PrivateKey.from_normal_bytes(p.from(e,"hex")));const s=r.manage(a.sign(p.from(t,"hex"))).to_bytes();return(0,f.Ed25519SignatureHex)(p.from(s).toString("hex"))})}verify(e,t,r){return(0,h.usingAutoFree)(a=>{const s=a.manage(__classPrivateFieldGet(this,m,"f").PublicKey.from_bytes(p.from(r,"hex")));const i=a.manage(__classPrivateFieldGet(this,m,"f").Ed25519Signature.from_bytes(p.from(e,"hex")));return s.verify(p.from(t,"hex"),i)})}constructor(e){m.set(this,void 0);__classPrivateFieldSet(this,m,e,"f")}}m=new WeakMap;var v=r("../../node_modules/@cardano-sdk/crypto/dist/esm/strategies/SodiumBip32Ed25519.js");const ready=async()=>await a.ready},"../../node_modules/@cardano-sdk/crypto/dist/esm/strategies/SodiumBip32Ed25519.js":(e,t,r)=>{"use strict";r.d(t,{SodiumBip32Ed25519:()=>SodiumBip32Ed25519});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PrivateKey.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Bip32/Bip32PublicKey.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PrivateKey.js");var o=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var n=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519Signature.js");var d=r("../../node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js");const c=128;class SodiumBip32Ed25519{static async create(){await d.ready;return Promise.resolve(new SodiumBip32Ed25519)}fromBip39Entropy(e,t){return a.Bip32PrivateKey.fromBip39Entropy(e,t).hex()}getPublicKey(e){const t=e.length===c?i.Ed25519PrivateKey.fromExtendedHex(e):i.Ed25519PrivateKey.fromNormalHex(e);return t.toPublic().hex()}getPubKeyHash(e){const t=o.Ed25519PublicKey.fromHex(e);return t.hash().hex()}getRawPrivateKey(e){return a.Bip32PrivateKey.fromHex(e).toRawKey().hex()}getRawPublicKey(e){const t=s.Bip32PublicKey.fromHex(e);return t.toRawKey().hex()}getBip32PublicKey(e){const t=a.Bip32PrivateKey.fromHex(e);return t.toPublic().hex()}derivePrivateKey(e,t){const r=a.Bip32PrivateKey.fromHex(e);return r.derive(t).hex()}derivePublicKey(e,t){const r=s.Bip32PublicKey.fromHex(e);return r.derive(t).hex()}async derivePublicKeyAsync(e,t){return this.derivePublicKey(e,t)}sign(e,t){const r=e.length===c?i.Ed25519PrivateKey.fromExtendedHex(e):i.Ed25519PrivateKey.fromNormalHex(e);return r.sign(t).hex()}verify(e,t,r){const a=o.Ed25519PublicKey.fromHex(r);return a.verify(n.Ed25519Signature.fromHex(e),t)}constructor(){}}},"../../node_modules/@cardano-sdk/crypto/node_modules/create-hash/make-hash.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=4;var i=new a(s);i.fill(0);var o=8;var n=16;function toArray(e){if(e.length%s!==0){var t=e.length+(s-e.length%s);e=a.concat([e,i],t)}var r=new Array(e.length>>>2);for(var o=0,n=0;o<e.length;o+=s,n++)r[n]=e.readInt32LE(o);return r}e.exports=function hash(e,t){var r=t(toArray(e),e.length*o);e=new a(n);for(var s=0;s<r.length;s++)e.writeInt32LE(r[s],s<<2,true);return e}},"../../node_modules/@cardano-sdk/crypto/node_modules/create-hash/md5.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/@cardano-sdk/crypto/node_modules/create-hash/make-hash.js");function core_md5(e,t){e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;var r=1732584193;var a=-271733879;var s=-1732584194;var i=271733878;for(var o=0;o<e.length;o+=16){var n=r;var d=a;var c=s;var l=i;r=md5_ff(r,a,s,i,e[o+0],7,-680876936);i=md5_ff(i,r,a,s,e[o+1],12,-389564586);s=md5_ff(s,i,r,a,e[o+2],17,606105819);a=md5_ff(a,s,i,r,e[o+3],22,-1044525330);r=md5_ff(r,a,s,i,e[o+4],7,-176418897);i=md5_ff(i,r,a,s,e[o+5],12,1200080426);s=md5_ff(s,i,r,a,e[o+6],17,-1473231341);a=md5_ff(a,s,i,r,e[o+7],22,-45705983);r=md5_ff(r,a,s,i,e[o+8],7,1770035416);i=md5_ff(i,r,a,s,e[o+9],12,-1958414417);s=md5_ff(s,i,r,a,e[o+10],17,-42063);a=md5_ff(a,s,i,r,e[o+11],22,-1990404162);r=md5_ff(r,a,s,i,e[o+12],7,1804603682);i=md5_ff(i,r,a,s,e[o+13],12,-40341101);s=md5_ff(s,i,r,a,e[o+14],17,-1502002290);a=md5_ff(a,s,i,r,e[o+15],22,1236535329);r=md5_gg(r,a,s,i,e[o+1],5,-165796510);i=md5_gg(i,r,a,s,e[o+6],9,-1069501632);s=md5_gg(s,i,r,a,e[o+11],14,643717713);a=md5_gg(a,s,i,r,e[o+0],20,-373897302);r=md5_gg(r,a,s,i,e[o+5],5,-701558691);i=md5_gg(i,r,a,s,e[o+10],9,38016083);s=md5_gg(s,i,r,a,e[o+15],14,-660478335);a=md5_gg(a,s,i,r,e[o+4],20,-405537848);r=md5_gg(r,a,s,i,e[o+9],5,568446438);i=md5_gg(i,r,a,s,e[o+14],9,-1019803690);s=md5_gg(s,i,r,a,e[o+3],14,-187363961);a=md5_gg(a,s,i,r,e[o+8],20,1163531501);r=md5_gg(r,a,s,i,e[o+13],5,-1444681467);i=md5_gg(i,r,a,s,e[o+2],9,-51403784);s=md5_gg(s,i,r,a,e[o+7],14,1735328473);a=md5_gg(a,s,i,r,e[o+12],20,-1926607734);r=md5_hh(r,a,s,i,e[o+5],4,-378558);i=md5_hh(i,r,a,s,e[o+8],11,-2022574463);s=md5_hh(s,i,r,a,e[o+11],16,1839030562);a=md5_hh(a,s,i,r,e[o+14],23,-35309556);r=md5_hh(r,a,s,i,e[o+1],4,-1530992060);i=md5_hh(i,r,a,s,e[o+4],11,1272893353);s=md5_hh(s,i,r,a,e[o+7],16,-155497632);a=md5_hh(a,s,i,r,e[o+10],23,-1094730640);r=md5_hh(r,a,s,i,e[o+13],4,681279174);i=md5_hh(i,r,a,s,e[o+0],11,-358537222);s=md5_hh(s,i,r,a,e[o+3],16,-722521979);a=md5_hh(a,s,i,r,e[o+6],23,76029189);r=md5_hh(r,a,s,i,e[o+9],4,-640364487);i=md5_hh(i,r,a,s,e[o+12],11,-421815835);s=md5_hh(s,i,r,a,e[o+15],16,530742520);a=md5_hh(a,s,i,r,e[o+2],23,-995338651);r=md5_ii(r,a,s,i,e[o+0],6,-198630844);i=md5_ii(i,r,a,s,e[o+7],10,1126891415);s=md5_ii(s,i,r,a,e[o+14],15,-1416354905);a=md5_ii(a,s,i,r,e[o+5],21,-57434055);r=md5_ii(r,a,s,i,e[o+12],6,1700485571);i=md5_ii(i,r,a,s,e[o+3],10,-1894986606);s=md5_ii(s,i,r,a,e[o+10],15,-1051523);a=md5_ii(a,s,i,r,e[o+1],21,-2054922799);r=md5_ii(r,a,s,i,e[o+8],6,1873313359);i=md5_ii(i,r,a,s,e[o+15],10,-30611744);s=md5_ii(s,i,r,a,e[o+6],15,-1560198380);a=md5_ii(a,s,i,r,e[o+13],21,1309151649);r=md5_ii(r,a,s,i,e[o+4],6,-145523070);i=md5_ii(i,r,a,s,e[o+11],10,-1120210379);s=md5_ii(s,i,r,a,e[o+2],15,718787259);a=md5_ii(a,s,i,r,e[o+9],21,-343485551);r=safe_add(r,n);a=safe_add(a,d);s=safe_add(s,c);i=safe_add(i,l)}return[r,a,s,i]}function md5_cmn(e,t,r,a,s,i){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(a,i)),s),r)}function md5_ff(e,t,r,a,s,i,o){return md5_cmn(t&r|~t&a,e,t,s,i,o)}function md5_gg(e,t,r,a,s,i,o){return md5_cmn(t&a|r&~a,e,t,s,i,o)}function md5_hh(e,t,r,a,s,i,o){return md5_cmn(t^r^a,e,t,s,i,o)}function md5_ii(e,t,r,a,s,i,o){return md5_cmn(r^(t|~a),e,t,s,i,o)}function safe_add(e,t){var r=(65535&e)+(65535&t);var a=(e>>16)+(t>>16)+(r>>16);return a<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}e.exports=function md5(e){return a(e,core_md5)}},"../../node_modules/@cardano-sdk/crypto/node_modules/hash-base/index.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=r("../../node_modules/readable-stream/readable-browser.js").Transform;var i=r("../../node_modules/inherits/inherits_browser.js");function HashBase(e){s.call(this);this._block=new a(e);this._blockSize=e;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}i(HashBase,s);HashBase.prototype._transform=function(e,t,r){var s=null;try{if("buffer"!==t)e=new a(e,t);this.update(e)}catch(i){s=i}r(s)};HashBase.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(r){t=r}e(t)};HashBase.prototype.update=function(e,t){if(!a.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");if(!a.isBuffer(e))e=new a(e,t||"binary");var r=this._block;var s=0;while(this._blockOffset+e.length-s>=this._blockSize){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[s++];this._update();this._blockOffset=0}while(s<e.length)r[this._blockOffset++]=e[s++];for(var o=0,n=8*e.length;n>0;++o){this._length[o]+=n;n=this._length[o]/4294967296|0;if(n>0)this._length[o]-=4294967296*n}return this};HashBase.prototype._update=function(e){throw new Error("_update is not implemented")};HashBase.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var t=this._digest();if(void 0!==e)t=t.toString(e);return t};HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")};e.exports=HashBase},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/browser.js":(e,t,r)=>{"use strict";t.pbkdf2=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/async.js");t.pbkdf2Sync=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/sync-browser.js")},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/async.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/safe-buffer/index.js").Buffer;var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/precondition.js");var i=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/default-encoding.js");var o=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/sync-browser.js");var n=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/to-buffer.js");var d;var c=r.g.crypto&&r.g.crypto.subtle;var l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"};var u=[];var f;function getNextTick(){if(f){return f}f=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout;return f}function browserPbkdf2(e,t,r,s,i){return c.importKey("raw",e,{name:"PBKDF2"},false,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,s<<3)}).then(function(e){return a.from(e)})}function checkNative(e){if(r.g.process&&!r.g.process.browser){return Promise.resolve(false)}if(!c||!c.importKey||!c.deriveBits){return Promise.resolve(false)}if(void 0!==u[e]){return u[e]}d=d||a.alloc(8);var t=browserPbkdf2(d,d,10,128,e).then(function(){return true},function(){return false});u[e]=t;return t}function resolvePromise(e,t){e.then(function(e){getNextTick()(function(){t(null,e)})},function(e){getNextTick()(function(){t(e)})})}e.exports=function(e,t,a,d,c,u){if("function"==typeof c){u=c;c=void 0}c=c||"sha1";var f=l[c.toLowerCase()];if(!f||"function"!=typeof r.g.Promise){getNextTick()(function(){var r;try{r=o(e,t,a,d,c)}catch(s){u(s);return}u(null,r)});return}s(a,d);e=n(e,i,"Password");t=n(t,i,"Salt");if("function"!=typeof u){throw new Error("No callback provided to pbkdf2")}resolvePromise(checkNative(f).then(function(r){if(r){return browserPbkdf2(e,t,a,d,f)}return o(e,t,a,d,c)}),u)}},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/default-encoding.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/process/browser.js");var s;if(r.g.process&&r.g.process.browser)s="utf-8";else if(r.g.process&&r.g.process.version){var i=parseInt(a.version.split(".")[0].slice(1),10);s=i>=6?"utf-8":"binary"}else{s="utf-8"}e.exports=s},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/precondition.js":e=>{"use strict";var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e){throw new TypeError("Iterations not a number")}if(e<0){throw new TypeError("Bad iterations")}if("number"!=typeof r){throw new TypeError("Key length not a number")}if(r<0||r>t||r!==r){throw new TypeError("Bad key length")}}},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/sync-browser.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/@cardano-sdk/crypto/node_modules/create-hash/md5.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/ripemd160/index.js");var i=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/index.js");var o=r("../../node_modules/safe-buffer/index.js").Buffer;var n=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/precondition.js");var d=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/default-encoding.js");var c=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/to-buffer.js");var l=o.alloc(128);var u={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20};var f={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function rmd160Func(e){return new s().update(e).digest()}function getDigest(e){function shaFunc(t){return i(e).update(t).digest()}if("rmd160"===e||"ripemd160"===e){return rmd160Func}if("md5"===e){return a}return shaFunc}function Hmac(e,t,r){var a=getDigest(e);var s="sha512"===e||"sha384"===e?128:64;if(t.length>s)t=a(t);else if(t.length<s)t=o.concat([t,l],s);var i=o.allocUnsafe(s+u[e]);var n=o.allocUnsafe(s+u[e]);for(var d=0;d<s;d++){i[d]=54^t[d];n[d]=92^t[d]}var c=o.allocUnsafe(s+r+4);i.copy(c,0,0,s);this.ipad1=c;this.ipad2=i;this.opad=n;this.alg=e;this.blocksize=s;this.hash=a;this.size=u[e]}Hmac.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);r.copy(this.opad,this.blocksize);return this.hash(this.opad)};function pbkdf2(e,t,r,a,s){n(r,a);e=c(e,d,"Password");t=c(t,d,"Salt");var i=(s||"sha1").toLowerCase();var l=f[i]||i;var h=u[l];if("number"!=typeof h||!h){throw new TypeError("Digest algorithm not supported: "+s)}var p=new Hmac(l,e,t.length);var m=o.allocUnsafe(a);var _=o.allocUnsafe(t.length+4);t.copy(_,0,0,t.length);var v=0;var y=h;var w=Math.ceil(a/y);for(var g=1;g<=w;g++){_.writeUInt32BE(g,t.length);var b=p.run(_,p.ipad1);var P=b;for(var C=1;C<r;C++){P=p.run(P,p.ipad2);for(var S=0;S<y;S++)b[S]^=P[S]}b.copy(m,v);v+=y}return m}e.exports=pbkdf2},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/lib/to-buffer.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/safe-buffer/index.js").Buffer;var s=r("../../node_modules/to-buffer/index.js");var i="undefined"!=typeof Uint8Array;var o=i&&"undefined"!=typeof ArrayBuffer;var n=o&&ArrayBuffer.isView;e.exports=function(e,t,r){if("string"==typeof e||a.isBuffer(e)||i&&e instanceof Uint8Array||n&&n(e)){return s(e,t)}throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/ripemd160/index.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=r("../../node_modules/inherits/inherits_browser.js");var i=r("../../node_modules/@cardano-sdk/crypto/node_modules/hash-base/index.js");function RIPEMD160(){i.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}s(RIPEMD160,i);RIPEMD160.prototype._update=function(){var e=new Array(16);for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a;var a=this._b;var s=this._c;var i=this._d;var o=this._e;r=fn1(r,a,s,i,o,e[0],0,11);s=rotl(s,10);o=fn1(o,r,a,s,i,e[1],0,14);a=rotl(a,10);i=fn1(i,o,r,a,s,e[2],0,15);r=rotl(r,10);s=fn1(s,i,o,r,a,e[3],0,12);o=rotl(o,10);a=fn1(a,s,i,o,r,e[4],0,5);i=rotl(i,10);r=fn1(r,a,s,i,o,e[5],0,8);s=rotl(s,10);o=fn1(o,r,a,s,i,e[6],0,7);a=rotl(a,10);i=fn1(i,o,r,a,s,e[7],0,9);r=rotl(r,10);s=fn1(s,i,o,r,a,e[8],0,11);o=rotl(o,10);a=fn1(a,s,i,o,r,e[9],0,13);i=rotl(i,10);r=fn1(r,a,s,i,o,e[10],0,14);s=rotl(s,10);o=fn1(o,r,a,s,i,e[11],0,15);a=rotl(a,10);i=fn1(i,o,r,a,s,e[12],0,6);r=rotl(r,10);s=fn1(s,i,o,r,a,e[13],0,7);o=rotl(o,10);a=fn1(a,s,i,o,r,e[14],0,9);i=rotl(i,10);r=fn1(r,a,s,i,o,e[15],0,8);s=rotl(s,10);o=fn2(o,r,a,s,i,e[7],1518500249,7);a=rotl(a,10);i=fn2(i,o,r,a,s,e[4],1518500249,6);r=rotl(r,10);s=fn2(s,i,o,r,a,e[13],1518500249,8);o=rotl(o,10);a=fn2(a,s,i,o,r,e[1],1518500249,13);i=rotl(i,10);r=fn2(r,a,s,i,o,e[10],1518500249,11);s=rotl(s,10);o=fn2(o,r,a,s,i,e[6],1518500249,9);a=rotl(a,10);i=fn2(i,o,r,a,s,e[15],1518500249,7);r=rotl(r,10);s=fn2(s,i,o,r,a,e[3],1518500249,15);o=rotl(o,10);a=fn2(a,s,i,o,r,e[12],1518500249,7);i=rotl(i,10);r=fn2(r,a,s,i,o,e[0],1518500249,12);s=rotl(s,10);o=fn2(o,r,a,s,i,e[9],1518500249,15);a=rotl(a,10);i=fn2(i,o,r,a,s,e[5],1518500249,9);r=rotl(r,10);s=fn2(s,i,o,r,a,e[2],1518500249,11);o=rotl(o,10);a=fn2(a,s,i,o,r,e[14],1518500249,7);i=rotl(i,10);r=fn2(r,a,s,i,o,e[11],1518500249,13);s=rotl(s,10);o=fn2(o,r,a,s,i,e[8],1518500249,12);a=rotl(a,10);i=fn3(i,o,r,a,s,e[3],1859775393,11);r=rotl(r,10);s=fn3(s,i,o,r,a,e[10],1859775393,13);o=rotl(o,10);a=fn3(a,s,i,o,r,e[14],1859775393,6);i=rotl(i,10);r=fn3(r,a,s,i,o,e[4],1859775393,7);s=rotl(s,10);o=fn3(o,r,a,s,i,e[9],1859775393,14);a=rotl(a,10);i=fn3(i,o,r,a,s,e[15],1859775393,9);r=rotl(r,10);s=fn3(s,i,o,r,a,e[8],1859775393,13);o=rotl(o,10);a=fn3(a,s,i,o,r,e[1],1859775393,15);i=rotl(i,10);r=fn3(r,a,s,i,o,e[2],1859775393,14);s=rotl(s,10);o=fn3(o,r,a,s,i,e[7],1859775393,8);a=rotl(a,10);i=fn3(i,o,r,a,s,e[0],1859775393,13);r=rotl(r,10);s=fn3(s,i,o,r,a,e[6],1859775393,6);o=rotl(o,10);a=fn3(a,s,i,o,r,e[13],1859775393,5);i=rotl(i,10);r=fn3(r,a,s,i,o,e[11],1859775393,12);s=rotl(s,10);o=fn3(o,r,a,s,i,e[5],1859775393,7);a=rotl(a,10);i=fn3(i,o,r,a,s,e[12],1859775393,5);r=rotl(r,10);s=fn4(s,i,o,r,a,e[1],2400959708,11);o=rotl(o,10);a=fn4(a,s,i,o,r,e[9],2400959708,12);i=rotl(i,10);r=fn4(r,a,s,i,o,e[11],2400959708,14);s=rotl(s,10);o=fn4(o,r,a,s,i,e[10],2400959708,15);a=rotl(a,10);i=fn4(i,o,r,a,s,e[0],2400959708,14);r=rotl(r,10);s=fn4(s,i,o,r,a,e[8],2400959708,15);o=rotl(o,10);a=fn4(a,s,i,o,r,e[12],2400959708,9);i=rotl(i,10);r=fn4(r,a,s,i,o,e[4],2400959708,8);s=rotl(s,10);o=fn4(o,r,a,s,i,e[13],2400959708,9);a=rotl(a,10);i=fn4(i,o,r,a,s,e[3],2400959708,14);r=rotl(r,10);s=fn4(s,i,o,r,a,e[7],2400959708,5);o=rotl(o,10);a=fn4(a,s,i,o,r,e[15],2400959708,6);i=rotl(i,10);r=fn4(r,a,s,i,o,e[14],2400959708,8);s=rotl(s,10);o=fn4(o,r,a,s,i,e[5],2400959708,6);a=rotl(a,10);i=fn4(i,o,r,a,s,e[6],2400959708,5);r=rotl(r,10);s=fn4(s,i,o,r,a,e[2],2400959708,12);o=rotl(o,10);a=fn5(a,s,i,o,r,e[4],2840853838,9);i=rotl(i,10);r=fn5(r,a,s,i,o,e[0],2840853838,15);s=rotl(s,10);o=fn5(o,r,a,s,i,e[5],2840853838,5);a=rotl(a,10);i=fn5(i,o,r,a,s,e[9],2840853838,11);r=rotl(r,10);s=fn5(s,i,o,r,a,e[7],2840853838,6);o=rotl(o,10);a=fn5(a,s,i,o,r,e[12],2840853838,8);i=rotl(i,10);r=fn5(r,a,s,i,o,e[2],2840853838,13);s=rotl(s,10);o=fn5(o,r,a,s,i,e[10],2840853838,12);a=rotl(a,10);i=fn5(i,o,r,a,s,e[14],2840853838,5);r=rotl(r,10);s=fn5(s,i,o,r,a,e[1],2840853838,12);o=rotl(o,10);a=fn5(a,s,i,o,r,e[3],2840853838,13);i=rotl(i,10);r=fn5(r,a,s,i,o,e[8],2840853838,14);s=rotl(s,10);o=fn5(o,r,a,s,i,e[11],2840853838,11);a=rotl(a,10);i=fn5(i,o,r,a,s,e[6],2840853838,8);r=rotl(r,10);s=fn5(s,i,o,r,a,e[15],2840853838,5);o=rotl(o,10);a=fn5(a,s,i,o,r,e[13],2840853838,6);i=rotl(i,10);var n=this._a;var d=this._b;var c=this._c;var l=this._d;var u=this._e;n=fn5(n,d,c,l,u,e[5],1352829926,8);c=rotl(c,10);u=fn5(u,n,d,c,l,e[14],1352829926,9);d=rotl(d,10);l=fn5(l,u,n,d,c,e[7],1352829926,9);n=rotl(n,10);c=fn5(c,l,u,n,d,e[0],1352829926,11);u=rotl(u,10);d=fn5(d,c,l,u,n,e[9],1352829926,13);l=rotl(l,10);n=fn5(n,d,c,l,u,e[2],1352829926,15);c=rotl(c,10);u=fn5(u,n,d,c,l,e[11],1352829926,15);d=rotl(d,10);l=fn5(l,u,n,d,c,e[4],1352829926,5);n=rotl(n,10);c=fn5(c,l,u,n,d,e[13],1352829926,7);u=rotl(u,10);d=fn5(d,c,l,u,n,e[6],1352829926,7);l=rotl(l,10);n=fn5(n,d,c,l,u,e[15],1352829926,8);c=rotl(c,10);u=fn5(u,n,d,c,l,e[8],1352829926,11);d=rotl(d,10);l=fn5(l,u,n,d,c,e[1],1352829926,14);n=rotl(n,10);c=fn5(c,l,u,n,d,e[10],1352829926,14);u=rotl(u,10);d=fn5(d,c,l,u,n,e[3],1352829926,12);l=rotl(l,10);n=fn5(n,d,c,l,u,e[12],1352829926,6);c=rotl(c,10);u=fn4(u,n,d,c,l,e[6],1548603684,9);d=rotl(d,10);l=fn4(l,u,n,d,c,e[11],1548603684,13);n=rotl(n,10);c=fn4(c,l,u,n,d,e[3],1548603684,15);u=rotl(u,10);d=fn4(d,c,l,u,n,e[7],1548603684,7);l=rotl(l,10);n=fn4(n,d,c,l,u,e[0],1548603684,12);c=rotl(c,10);u=fn4(u,n,d,c,l,e[13],1548603684,8);d=rotl(d,10);l=fn4(l,u,n,d,c,e[5],1548603684,9);n=rotl(n,10);c=fn4(c,l,u,n,d,e[10],1548603684,11);u=rotl(u,10);d=fn4(d,c,l,u,n,e[14],1548603684,7);l=rotl(l,10);n=fn4(n,d,c,l,u,e[15],1548603684,7);c=rotl(c,10);u=fn4(u,n,d,c,l,e[8],1548603684,12);d=rotl(d,10);l=fn4(l,u,n,d,c,e[12],1548603684,7);n=rotl(n,10);c=fn4(c,l,u,n,d,e[4],1548603684,6);u=rotl(u,10);d=fn4(d,c,l,u,n,e[9],1548603684,15);l=rotl(l,10);n=fn4(n,d,c,l,u,e[1],1548603684,13);c=rotl(c,10);u=fn4(u,n,d,c,l,e[2],1548603684,11);d=rotl(d,10);l=fn3(l,u,n,d,c,e[15],1836072691,9);n=rotl(n,10);c=fn3(c,l,u,n,d,e[5],1836072691,7);u=rotl(u,10);d=fn3(d,c,l,u,n,e[1],1836072691,15);l=rotl(l,10);n=fn3(n,d,c,l,u,e[3],1836072691,11);c=rotl(c,10);u=fn3(u,n,d,c,l,e[7],1836072691,8);d=rotl(d,10);l=fn3(l,u,n,d,c,e[14],1836072691,6);n=rotl(n,10);c=fn3(c,l,u,n,d,e[6],1836072691,6);u=rotl(u,10);d=fn3(d,c,l,u,n,e[9],1836072691,14);l=rotl(l,10);n=fn3(n,d,c,l,u,e[11],1836072691,12);c=rotl(c,10);u=fn3(u,n,d,c,l,e[8],1836072691,13);d=rotl(d,10);l=fn3(l,u,n,d,c,e[12],1836072691,5);n=rotl(n,10);c=fn3(c,l,u,n,d,e[2],1836072691,14);u=rotl(u,10);d=fn3(d,c,l,u,n,e[10],1836072691,13);l=rotl(l,10);n=fn3(n,d,c,l,u,e[0],1836072691,13);c=rotl(c,10);u=fn3(u,n,d,c,l,e[4],1836072691,7);d=rotl(d,10);l=fn3(l,u,n,d,c,e[13],1836072691,5);n=rotl(n,10);c=fn2(c,l,u,n,d,e[8],2053994217,15);u=rotl(u,10);d=fn2(d,c,l,u,n,e[6],2053994217,5);l=rotl(l,10);n=fn2(n,d,c,l,u,e[4],2053994217,8);c=rotl(c,10);u=fn2(u,n,d,c,l,e[1],2053994217,11);d=rotl(d,10);l=fn2(l,u,n,d,c,e[3],2053994217,14);n=rotl(n,10);c=fn2(c,l,u,n,d,e[11],2053994217,14);u=rotl(u,10);d=fn2(d,c,l,u,n,e[15],2053994217,6);l=rotl(l,10);n=fn2(n,d,c,l,u,e[0],2053994217,14);c=rotl(c,10);u=fn2(u,n,d,c,l,e[5],2053994217,6);d=rotl(d,10);l=fn2(l,u,n,d,c,e[12],2053994217,9);n=rotl(n,10);c=fn2(c,l,u,n,d,e[2],2053994217,12);u=rotl(u,10);d=fn2(d,c,l,u,n,e[13],2053994217,9);l=rotl(l,10);n=fn2(n,d,c,l,u,e[9],2053994217,12);c=rotl(c,10);u=fn2(u,n,d,c,l,e[7],2053994217,5);d=rotl(d,10);l=fn2(l,u,n,d,c,e[10],2053994217,15);n=rotl(n,10);c=fn2(c,l,u,n,d,e[14],2053994217,8);u=rotl(u,10);d=fn1(d,c,l,u,n,e[12],0,8);l=rotl(l,10);n=fn1(n,d,c,l,u,e[15],0,5);c=rotl(c,10);u=fn1(u,n,d,c,l,e[10],0,12);d=rotl(d,10);l=fn1(l,u,n,d,c,e[4],0,9);n=rotl(n,10);c=fn1(c,l,u,n,d,e[1],0,12);u=rotl(u,10);d=fn1(d,c,l,u,n,e[5],0,5);l=rotl(l,10);n=fn1(n,d,c,l,u,e[8],0,14);c=rotl(c,10);u=fn1(u,n,d,c,l,e[7],0,6);d=rotl(d,10);l=fn1(l,u,n,d,c,e[6],0,8);n=rotl(n,10);c=fn1(c,l,u,n,d,e[2],0,13);u=rotl(u,10);d=fn1(d,c,l,u,n,e[13],0,6);l=rotl(l,10);n=fn1(n,d,c,l,u,e[14],0,5);c=rotl(c,10);u=fn1(u,n,d,c,l,e[0],0,15);d=rotl(d,10);l=fn1(l,u,n,d,c,e[3],0,13);n=rotl(n,10);c=fn1(c,l,u,n,d,e[9],0,11);u=rotl(u,10);d=fn1(d,c,l,u,n,e[11],0,11);l=rotl(l,10);var f=this._b+s+l|0;this._b=this._c+i+u|0;this._c=this._d+o+n|0;this._d=this._e+r+d|0;this._e=this._a+a+c|0;this._a=f};RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=new a(20);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);e.writeInt32LE(this._e,16);return e};function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,r,a,s,i,o,n){return rotl(e+(t^r^a)+i+o|0,n)+s|0}function fn2(e,t,r,a,s,i,o,n){return rotl(e+(t&r|~t&a)+i+o|0,n)+s|0}function fn3(e,t,r,a,s,i,o,n){return rotl(e+((t|~r)^a)+i+o|0,n)+s|0}function fn4(e,t,r,a,s,i,o,n){return rotl(e+(t&a|r&~a)+i+o|0,n)+s|0}function fn5(e,t,r,a,s,i,o,n){return rotl(e+(t^(r|~a))+i+o|0,n)+s|0}e.exports=RIPEMD160},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/safe-buffer/index.js").Buffer;var s=r("../../node_modules/to-buffer/index.js");function Hash(e,t){this._block=a.alloc(e);this._finalSize=t;this._blockSize=e;this._len=0}Hash.prototype.update=function(e,t){e=s(e,t||"utf8");var r=this._block;var a=this._blockSize;var i=e.length;var o=this._len;for(var n=0;n<i;){var d=o%a;var c=Math.min(i-n,a-d);for(var l=0;l<c;l++)r[d+l]=e[n+l];o+=c;n+=c;if(o%a===0)this._update(r)}this._len+=i;return this};Hash.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128;this._block.fill(0,t+1);if(t>=this._finalSize){this._update(this._block);this._block.fill(0)}var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var a=(4294967295&r)>>>0;var s=(r-a)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8);this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};e.exports=Hash},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/index.js":(e,t,r)=>{"use strict";e.exports=function SHA(t){var r=t.toLowerCase();var a=e.exports[r];if(!a){throw new Error(r+" is not supported (we accept pull requests)")}return new a};e.exports.sha=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha.js");e.exports.sha1=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha1.js");e.exports.sha224=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha224.js");e.exports.sha256=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha256.js");e.exports.sha384=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha384.js");e.exports.sha512=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha512.js")},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1518500249,1859775393,-1894007588,-899497514];var n=new Array(80);function Sha(){this.init();this._w=n;s.call(this,64,56)}a(Sha,s);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,a){if(0===e){return t&r|~t&a}if(2===e){return t&r|t&a|r&a}return t^r^a}Sha.prototype._update=function(e){var t=this._w;var r=0|this._a;var a=0|this._b;var s=0|this._c;var i=0|this._d;var n=0|this._e;for(var d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=t[d-3]^t[d-8]^t[d-14]^t[d-16];for(var c=0;c<80;++c){var l=~~(c/20);var u=rotl5(r)+ft(l,a,s,i)+n+t[c]+o[l]|0;n=i;i=s;s=rotl30(a);a=r;r=u}this._a=r+this._a|0;this._b=a+this._b|0;this._c=s+this._c|0;this._d=i+this._d|0;this._e=n+this._e|0};Sha.prototype._hash=function(){var e=i.allocUnsafe(20);e.writeInt32BE(0|this._a,0);e.writeInt32BE(0|this._b,4);e.writeInt32BE(0|this._c,8);e.writeInt32BE(0|this._d,12);e.writeInt32BE(0|this._e,16);return e};e.exports=Sha},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha1.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1518500249,1859775393,-1894007588,-899497514];var n=new Array(80);function Sha1(){this.init();this._w=n;s.call(this,64,56)}a(Sha1,s);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,a){if(0===e){return t&r|~t&a}if(2===e){return t&r|t&a|r&a}return t^r^a}Sha1.prototype._update=function(e){var t=this._w;var r=0|this._a;var a=0|this._b;var s=0|this._c;var i=0|this._d;var n=0|this._e;for(var d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=rotl1(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var c=0;c<80;++c){var l=~~(c/20);var u=rotl5(r)+ft(l,a,s,i)+n+t[c]+o[l]|0;n=i;i=s;s=rotl30(a);a=r;r=u}this._a=r+this._a|0;this._b=a+this._b|0;this._c=s+this._c|0;this._d=i+this._d|0;this._e=n+this._e|0};Sha1.prototype._hash=function(){var e=i.allocUnsafe(20);e.writeInt32BE(0|this._a,0);e.writeInt32BE(0|this._b,4);e.writeInt32BE(0|this._c,8);e.writeInt32BE(0|this._d,12);e.writeInt32BE(0|this._e,16);return e};e.exports=Sha1},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha224.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha256.js");var i=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js");var o=r("../../node_modules/safe-buffer/index.js").Buffer;var n=new Array(64);function Sha224(){this.init();this._w=n;i.call(this,64,56)}a(Sha224,s);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var e=o.allocUnsafe(28);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);return e};e.exports=Sha224},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha256.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var n=new Array(64);function Sha256(){this.init();this._w=n;s.call(this,64,56)}a(Sha256,s);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Sha256.prototype._update=function(e){var t=this._w;var r=0|this._a;var a=0|this._b;var s=0|this._c;var i=0|this._d;var n=0|this._e;var d=0|this._f;var c=0|this._g;var l=0|this._h;for(var u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<64;++u)t[u]=gamma1(t[u-2])+t[u-7]+gamma0(t[u-15])+t[u-16]|0;for(var f=0;f<64;++f){var h=l+sigma1(n)+ch(n,d,c)+o[f]+t[f]|0;var p=sigma0(r)+maj(r,a,s)|0;l=c;c=d;d=n;n=i+h|0;i=s;s=a;a=r;r=h+p|0}this._a=r+this._a|0;this._b=a+this._b|0;this._c=s+this._c|0;this._d=i+this._d|0;this._e=n+this._e|0;this._f=d+this._f|0;this._g=c+this._g|0;this._h=l+this._h|0};Sha256.prototype._hash=function(){var e=i.allocUnsafe(32);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);e.writeInt32BE(this._h,28);return e};e.exports=Sha256},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha384.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha512.js");var i=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js");var o=r("../../node_modules/safe-buffer/index.js").Buffer;var n=new Array(160);function Sha384(){this.init();this._w=n;i.call(this,128,112)}a(Sha384,s);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var e=o.allocUnsafe(48);function writeInt64BE(t,r,a){e.writeInt32BE(t,a);e.writeInt32BE(r,a+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return e};e.exports=Sha384},"../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/sha512.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/crypto/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var n=new Array(160);function Sha512(){this.init();this._w=n;s.call(this,128,112)}a(Sha512,s);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}Sha512.prototype._update=function(e){var t=this._w;var r=0|this._ah;var a=0|this._bh;var s=0|this._ch;var i=0|this._dh;var n=0|this._eh;var d=0|this._fh;var c=0|this._gh;var l=0|this._hh;var u=0|this._al;var f=0|this._bl;var h=0|this._cl;var p=0|this._dl;var m=0|this._el;var _=0|this._fl;var v=0|this._gl;var y=0|this._hl;for(var w=0;w<32;w+=2){t[w]=e.readInt32BE(4*w);t[w+1]=e.readInt32BE(4*w+4)}for(;w<160;w+=2){var g=t[w-30];var b=t[w-30+1];var P=Gamma0(g,b);var C=Gamma0l(b,g);g=t[w-4];b=t[w-4+1];var S=Gamma1(g,b);var T=Gamma1l(b,g);var E=t[w-14];var k=t[w-14+1];var A=t[w-32];var I=t[w-32+1];var j=C+k|0;var x=P+E+getCarry(j,C)|0;j=j+T|0;x=x+S+getCarry(j,T)|0;j=j+I|0;x=x+A+getCarry(j,I)|0;t[w]=x;t[w+1]=j}for(var R=0;R<160;R+=2){x=t[R];j=t[R+1];var B=maj(r,a,s);var O=maj(u,f,h);var D=sigma0(r,u);var M=sigma0(u,r);var F=sigma1(n,m);var N=sigma1(m,n);var H=o[R];var G=o[R+1];var V=Ch(n,d,c);var K=Ch(m,_,v);var L=y+N|0;var z=l+F+getCarry(L,y)|0;L=L+K|0;z=z+V+getCarry(L,K)|0;L=L+G|0;z=z+H+getCarry(L,G)|0;L=L+j|0;z=z+x+getCarry(L,j)|0;var U=M+O|0;var W=D+B+getCarry(U,M)|0;l=c;y=v;c=d;v=_;d=n;_=m;m=p+L|0;n=i+z+getCarry(m,p)|0;i=s;p=h;s=a;h=f;a=r;f=u;u=L+U|0;r=z+W+getCarry(u,L)|0}this._al=this._al+u|0;this._bl=this._bl+f|0;this._cl=this._cl+h|0;this._dl=this._dl+p|0;this._el=this._el+m|0;this._fl=this._fl+_|0;this._gl=this._gl+v|0;this._hl=this._hl+y|0;this._ah=this._ah+r+getCarry(this._al,u)|0;this._bh=this._bh+a+getCarry(this._bl,f)|0;this._ch=this._ch+s+getCarry(this._cl,h)|0;this._dh=this._dh+i+getCarry(this._dl,p)|0;this._eh=this._eh+n+getCarry(this._el,m)|0;this._fh=this._fh+d+getCarry(this._fl,_)|0;this._gh=this._gh+c+getCarry(this._gl,v)|0;this._hh=this._hh+l+getCarry(this._hl,y)|0};Sha512.prototype._hash=function(){var e=i.allocUnsafe(64);function writeInt64BE(t,r,a){e.writeInt32BE(t,a);e.writeInt32BE(r,a+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return e};e.exports=Sha512},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/PersistentAuthenticator.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d,c,l;Object.defineProperty(t,"__esModule",{value:true});t.PersistentAuthenticator=void 0;const u=r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/util.js");class PersistentAuthenticator{async requestAccess(e){const t=(0,u.senderOrigin)(e);if(!t){s(this,d,"f").warn("Invalid sender url",e);return false}const r=await s(this,c,"f");if(r.includes(t)){return true}try{const a=await s(this,o,"f").call(this,e);if(a){const n=[...r,t];if(await s(this,i,"m",l).call(this,n)){s(this,d,"f").info("[Authenticator] added",t);return true}}}catch(f){s(this,d,"f").error("[Authenticator] requestAccess failed",f)}return false}async revokeAccess(e){const t=(0,u.senderOrigin)(e);if(!t){s(this,d,"f").warn("Invalid sender url",e);return false}const r=await s(this,c,"f");const a=r.indexOf(t);if(a>=0){const o=[...r.slice(0,a),...r.slice(a+1)];if(await s(this,i,"m",l).call(this,o)){s(this,d,"f").info("[Authenticator] revoked access for",t);return true}}else{s(this,d,"f").warn("[Authenticator] attempted to revoke access for unknown origin",t)}return false}async haveAccess(e){const t=(0,u.senderOrigin)(e);if(!t)return false;const r=await s(this,c,"f");return r.includes(t)}async clear(){await s(this,i,"m",l).call(this,[])}constructor({requestAccess:e},{logger:t,storage:r}){i.add(this);o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);a(this,o,e,"f");a(this,n,r,"f");a(this,d,t,"f");a(this,c,r.get(),"f")}}t.PersistentAuthenticator=PersistentAuthenticator;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,i=new WeakSet,l=async function _PersistentAuthenticator_store(e){try{await s(this,n,"f").set(e);a(this,c,Promise.resolve(e),"f");return true}catch(t){s(this,d,"f").error("[Authenticator] storage.set failed",t);return false}}},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/PersistentAuthenticatorStorage.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createPersistentAuthenticatorStorage=void 0;const createPersistentAuthenticatorStorage=(e,t)=>{return{async get(){const r=await t.get(e);return(null==r?void 0:r[e])||[]},async set(r){await t.set({[e]:r})}}};t.createPersistentAuthenticatorStorage=createPersistentAuthenticatorStorage},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/PersistentAuthenticator.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/PersistentAuthenticatorStorage.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/types.js"),t)},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/WalletApi/Cip30Wallet.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d,c,l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.Cip30Wallet=t.WalletApiMethodNames=t.CipMethodsMapping=void 0;const h=r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/index.js");t.CipMethodsMapping={30:["getNetworkId","getUtxos","getCollateral","getBalance","getExtensions","getUsedAddresses","getUnusedAddresses","getChangeAddress","getRewardAddresses","signTx","signData","submitTx"],95:["getRegisteredPubStakeKeys","getUnregisteredPubStakeKeys","getPubDRepKey","signData"],142:["getNetworkMagic"]};t.WalletApiMethodNames=Object.values(t.CipMethodsMapping).flat();class Cip30Wallet{async isEnabled(){return s(this,d,"f").haveAccess()}async enable(e){s(this,i,"m",l).call(this,null==e?void 0:e.extensions);if(await s(this,d,"f").requestAccess()){var t;s(this,o,"f").debug(`${location.origin} has been granted access to wallet api`);const r=null==e?void 0:null===(t=e.extensions)||void 0===t?void 0:t.filter(({cip:e})=>this.supportedExtensions.some(({cip:t})=>t===e));return s(this,i,"m",f).call(this,r)}s(this,o,"f").debug(`${location.origin} not authorized to access wallet api`);throw new h.ApiError(h.APIErrorCode.Refused,"wallet not authorized.")}constructor(e,{api:t,authenticator:r,logger:s}){i.add(this);this.apiVersion="0.1.0";this.supportedExtensions=[{cip:95},{cip:142}];o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);this.icon=e.icon;this.name=e.walletName;a(this,n,t,"f");a(this,o,s,"f");a(this,d,r,"f");a(this,c,e.cip30ApiDeviations,"f");this.enable=this.enable.bind(this);this.isEnabled=this.isEnabled.bind(this);if(e.supportedExtensions)this.supportedExtensions=e.supportedExtensions}}t.Cip30Wallet=Cip30Wallet;o=new WeakMap,n=new WeakMap,d=new WeakMap,c=new WeakMap,i=new WeakSet,l=function _Cip30Wallet_validateExtensions(e=[]){if(!Array.isArray(e)||e.some(e=>!e||"object"!=typeof e||!e.cip||Number.isNaN(Number(e.cip)))){s(this,o,"f").debug(`Invalid extensions: ${e}`);throw new h.ApiError(h.APIErrorCode.InvalidRequest,`invalid extensions ${e}`)}},u=async function _Cip30Wallet_wrapGetCollateral(e){var t;const r=await s(this,n,"f").getCollateral(e);return(null===(t=s(this,c,"f"))||void 0===t?void 0:t.getCollateralEmptyArray)?null!=r?r:[]:r},f=function _Cip30Wallet_wrapAndEnableApi(e){var t;const r=s(this,n,"f");const a={experimental:{getCollateral:async e=>s(this,i,"m",u).call(this,e),...(null===(t=s(this,c,"f"))||void 0===t?void 0:t.onOffDummyMethods)&&{off:()=>void 0,on:()=>void 0}},getBalance:()=>r.getBalance(),getChangeAddress:()=>r.getChangeAddress(),getCollateral:e=>s(this,i,"m",u).call(this,e),getExtensions:()=>Promise.resolve(e||[]),getNetworkId:()=>r.getNetworkId(),getRewardAddresses:()=>r.getRewardAddresses(),getUnusedAddresses:()=>r.getUnusedAddresses(),getUsedAddresses:e=>r.getUsedAddresses(e),getUtxos:(e,t)=>r.getUtxos(e,t),signData:(e,t)=>r.signData(e,t),signTx:(e,t)=>r.signTx(e,t),submitTx:e=>r.submitTx(e)};const o={cip95:{getPubDRepKey:()=>r.getPubDRepKey(),getRegisteredPubStakeKeys:()=>r.getRegisteredPubStakeKeys(),getUnregisteredPubStakeKeys:()=>r.getUnregisteredPubStakeKeys(),signData:(e,t)=>r.signData(e,t)},cip142:{getNetworkMagic:()=>r.getNetworkMagic()}};if(e){for(const d of e){const l=`cip${d.cip}`;if(o[l])a[l]=o[l]}}return a}},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/WalletApi/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/WalletApi/Cip30Wallet.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/WalletApi/types.js"),t)},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/WalletApi/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/ApiError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ApiError=t.APIErrorCode=void 0;const a=r("../../node_modules/@cardano-sdk/dapp-connector/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e[e["InvalidRequest"]=-1]="InvalidRequest";e[e["InternalError"]=-2]="InternalError";e[e["Refused"]=-3]="Refused"})(s=t.APIErrorCode||(t.APIErrorCode={}));class ApiError extends a.CustomError{constructor(e,t){super();this.code=e;this.info=t}}t.ApiError=ApiError},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/DataSignError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DataSignError=t.DataSignErrorCode=void 0;const a=r("../../node_modules/@cardano-sdk/dapp-connector/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e[e["ProofGeneration"]=1]="ProofGeneration";e[e["AddressNotPK"]=2]="AddressNotPK";e[e["UserDeclined"]=3]="UserDeclined";e[e["InvalidFormat"]=4]="InvalidFormat"})(s=t.DataSignErrorCode||(t.DataSignErrorCode={}));class DataSignError extends a.CustomError{constructor(e,t){super();this.code=e;this.info=t}}t.DataSignError=DataSignError},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/PaginateError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PaginateError=void 0;const a=r("../../node_modules/@cardano-sdk/dapp-connector/node_modules/ts-custom-error/dist/custom-error.mjs");class PaginateError extends a.CustomError{constructor(e,t){super();this.maxSize=e;this.message=t}}t.PaginateError=PaginateError},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/TxSendError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TxSendError=t.TxSendErrorCode=void 0;const a=r("../../node_modules/@cardano-sdk/dapp-connector/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e[e["Refused"]=1]="Refused";e[e["Failure"]=2]="Failure"})(s=t.TxSendErrorCode||(t.TxSendErrorCode={}));class TxSendError extends a.CustomError{constructor(e,t){super();this.code=e;this.info=t}}t.TxSendError=TxSendError},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/TxSignError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TxSignError=t.TxSignErrorCode=void 0;const a=r("../../node_modules/@cardano-sdk/dapp-connector/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e[e["ProofGeneration"]=1]="ProofGeneration";e[e["UserDeclined"]=2]="UserDeclined"})(s=t.TxSignErrorCode||(t.TxSignErrorCode={}));class TxSignError extends a.CustomError{constructor(e,t){super();this.code=e;this.info=t}}t.TxSignError=TxSignError},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/ApiError.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/DataSignError.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/PaginateError.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/TxSendError.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/TxSignError.js"),t)},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/errors/index.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/WalletApi/index.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/AuthenticatorApi/index.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/injectGlobal.js"),t);s(r("../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/util.js"),t)},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/injectGlobal.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.injectGlobal=void 0;const injectGlobal=(e,t,r,a)=>{a=null!=a?a:t.name;if(e.cardano)r.debug({module:"injectWindow",wallet:{apiVersion:t.apiVersion,icon:t.icon,name:t.name}},"Cardano global scope exists");else{r.debug({module:"injectWindow",wallet:{apiVersion:t.apiVersion,icon:t.icon,name:t.name}},"Creating cardano global scope");e.cardano={}}e.cardano[a]=e.cardano[a]||t;r.debug({module:"injectWindow",wallet:{apiVersion:t.apiVersion,icon:t.icon,name:t.name},windowCardano:e.cardano},"Injected")};t.injectGlobal=injectGlobal},"../../node_modules/@cardano-sdk/dapp-connector/dist/cjs/util.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.senderOrigin=void 0;const senderOrigin=e=>{try{const{origin:t}=new URL((null==e?void 0:e.url)||"throw");return t}catch{return null}};t.senderOrigin=senderOrigin},"../../node_modules/@cardano-sdk/dapp-connector/dist/esm/util.js":(e,t,r)=>{"use strict";r.d(t,{senderOrigin:()=>senderOrigin});const senderOrigin=e=>{try{const{origin:t}=new URL((null==e?void 0:e.url)||"throw");return t}catch{return null}}},"../../node_modules/@cardano-sdk/dapp-connector/node_modules/ts-custom-error/dist/custom-error.mjs":(e,t,r)=>{"use strict";r.r(t);r.d(t,{CustomError:()=>s,customErrorFactory:()=>customErrorFactory});function fixProto(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function fixStack(e,t){if(void 0===t)t=e.constructor;var r=Error.captureStackTrace;r&&r(e,t)}var a=function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){a(CustomError,e);function CustomError(t){var r=this.constructor;var a=e.call(this,t)||this;Object.defineProperty(a,"name",{value:r.name,enumerable:false,configurable:true});fixProto(a,r.prototype);fixStack(a);return a}return CustomError}(Error);var __spreadArrays=function(){var e=arguments;for(var t=0,r=0,a=arguments.length;r<a;r++)t+=e[r].length;for(var s=Array(t),i=0,r=0;r<a;r++){for(var o=arguments[r],n=0,d=o.length;n<d;n++,i++)s[i]=o[n]}return s};function customErrorFactory(e,t){if(void 0===t)t=Error;function CustomError(){var r=arguments;var a=[];for(var s=0;s<arguments.length;s++)a[s]=r[s];if(!(this instanceof CustomError)){return new(CustomError.bind.apply(CustomError,__spreadArrays([void 0],a)))}t.apply(this,a);Object.defineProperty(this,"name",{value:e.name||t.name,enumerable:false,configurable:true});e.apply(this,a);fixStack(this,CustomError)}return Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:true,configurable:true}})}})}},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/LedgerKeyAgent.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var l;Object.defineProperty(t,"__esModule",{value:true});t.LedgerKeyAgent=void 0;const u=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=o(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const h=r("../../node_modules/@emurgo/cardano-message-signing-browser/cardano_message_signing.js");const p=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const m=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const _=r("../../node_modules/node-hid/nodehid.js");const v=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const y=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const w=r("../../node_modules/@ledgerhq/hw-transport-webusb/lib/webusb.js");const g=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/address.js");const b=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/index.js");const P=c(r("../../node_modules/@ledgerhq/hw-transport-node-hid-noevents/lib-es/TransportNodeHid.js"));const C=o(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const S=c(r("../../node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js"));const T=S.default.default?S.default.default:S.default;const E=C.default.default?C.default.default:C.default;const k=198;const isUsbDevice=e=>"undefined"!=typeof USBDevice&&e instanceof USBDevice;const setCOSESignHashed=(e,t)=>{const r=new p.Serialization.CborReader((0,v.HexBlob)(e));r.readStartArray();const a=r.readEncodedValue();r.readEncodedValue();const s=r.readEncodedValue();const i=r.readEncodedValue();r.readEndArray();const o=new p.Serialization.CborWriter;o.writeStartArray(4);o.writeEncodedValue(a);o.writeStartMap(1);o.writeTextString("hashed");o.writeBoolean(t);o.writeEncodedValue(s);o.writeEncodedValue(i);return o.encodeAsHex()};const isDeviceAlreadyOpenError=e=>{if("object"!=typeof e)return false;const t=e.innerError;if("object"!=typeof t)return false;return 11===t.code||"string"==typeof t.message&&t.message.includes("cannot open device with path")};const A="Cannot communicate with Ledger Cardano App";const transportTypedError=e=>new m.errors.TransportError("Ledger transport failed",e);const hasRegistrationOrRetirementCerts=e=>{if(!e)return false;return e.some(e=>e.type===C.CertificateType.STAKE_POOL_RETIREMENT)||e.some(e=>e.type===C.CertificateType.STAKE_POOL_REGISTRATION)};const stakeCredentialCert=e=>e.type===C.CertificateType.STAKE_REGISTRATION||e.type===C.CertificateType.STAKE_DEREGISTRATION||e.type===C.CertificateType.STAKE_DELEGATION;const I="establishDeviceConnection";const parseEstablishDeviceConnectionSecondParam=(e,t)=>{let r;let a;const s=e===m.CommunicationType.Node&&t instanceof _.HID||e===m.CommunicationType.Web&&isUsbDevice(t);const i=e===m.CommunicationType.Node&&"string"==typeof t;if(s)r=t;else if(i)a=t;else if(void 0!==t){throw new Error(`Invalid arguments of the '${I}' method`)}return{device:r,nodeHidDevicePath:a}};const containsOnlyScriptHashCreds=e=>{var t;const r=!(null===(t=e.withdrawals)||void 0===t?void 0:t.some(e=>!(0,v.areNumbersEqualInConstantTime)(e.stakeCredential.type,C.CredentialParamsType.SCRIPT_HASH)));if(e.certificates){for(const a of e.certificates){if(!stakeCredentialCert(a))return false;const s=a.params;if(!(0,v.areNumbersEqualInConstantTime)(s.stakeCredential.type,C.CredentialParamsType.SCRIPT_HASH))return false}}return r};const isMultiSig=e=>{var t;const r=false;const a=!e.inputs.some(e=>null!==e.path);const s=!(null===(t=e.requiredSigners)||void 0===t?void 0:t.some(e=>e.type===C.TxRequiredSignerType.PATH));const i=!e.outputs.some(e=>e.destination.type!==C.TxOutputDestinationType.THIRD_PARTY);if(s&&a&&i&&!e.collateralInputs&&!e.requiredSigners&&!hasRegistrationOrRetirementCerts(e.certificates)&&containsOnlyScriptHashCreds(e)){return true}return r};const isPaymentAddress=e=>e.startsWith("addr");const getDerivationPath=(e,t,r,a,s)=>{const i=e.startsWith("stake");if(i){const o=t.find(({rewardAccount:t})=>t===e);if(!o)throw new m.cip8.Cip30DataSignError(m.cip8.Cip30DataSignErrorCode.ProofGeneration,"Unknown reward address");const n=m.util.accountKeyDerivationPathToBip32Path(r,o.stakeKeyDerivationPath||m.util.STAKE_KEY_DERIVATION_PATH,a);return{addressFieldType:C.MessageAddressFieldType.ADDRESS,addressParams:{params:{stakingPath:n},type:C.AddressType.REWARD_KEY},signingPath:n}}if(isPaymentAddress(e)){var d;const c=p.Cardano.Address.fromString(e);if((null==c?void 0:c.getType())===p.Cardano.AddressType.EnterpriseKey&&(null===(d=null==c?void 0:c.getProps().paymentPart)||void 0===d?void 0:d.hash)===s){const l=m.util.accountKeyDerivationPathToBip32Path(r,m.util.DREP_KEY_DERIVATION_PATH,a);return{addressFieldType:C.MessageAddressFieldType.KEY_HASH,signingPath:l}}}const u=t.find(({address:t})=>t===e);if(!u){throw new m.cip8.Cip30DataSignError(m.cip8.Cip30DataSignErrorCode.ProofGeneration,"Unknown address")}if(u.rewardAccount){const f=m.util.accountKeyDerivationPathToBip32Path(r,{index:u.index,role:u.type},a);const h=m.util.accountKeyDerivationPathToBip32Path(r,u.stakeKeyDerivationPath||{index:0,role:m.KeyRole.Stake},a);return{addressFieldType:C.MessageAddressFieldType.ADDRESS,addressParams:{params:{spendingPath:f,stakingPath:h},type:C.AddressType.BASE_PAYMENT_KEY_STAKE_KEY},signingPath:f}}const _=m.util.accountKeyDerivationPathToBip32Path(r,{index:u.index,role:u.type},a);return{addressFieldType:C.MessageAddressFieldType.ADDRESS,addressParams:{params:{spendingPath:_},type:C.AddressType.ENTERPRISE_KEY},signingPath:_}};const j=[m.util.accountKeyDerivationPathToBip32Path(0,{index:0,role:m.KeyRole.External},m.KeyPurpose.MULTI_SIG)];class LedgerKeyAgent extends m.KeyAgentBase{static async findConnectionByCommunicationTypeAndDevicePath(e,t,r){var a;const s=null===(a=this.deviceConnections)||void 0===a?void 0:a.find(a=>{const s=e===a.communicationType;if(a.communicationType===m.CommunicationType.Web){return s&&r===a.device}if(a.communicationType===m.CommunicationType.Node){return s&&r===a.device&&t===a.nodeHidDevicePath}});if(!s)return null;try{await this.testConnection(s.deviceConnection)}catch(i){if(i instanceof m.errors.TransportError&&i.message.includes(A)){this.deviceConnections=this.deviceConnections.filter(e=>e!==s);return null}throw i}return s.deviceConnection}static async getHidDeviceList(e){try{return e===m.CommunicationType.Node?P.default.list():T.list()}catch(t){throw new m.errors.TransportError("Cannot fetch device list",t)}}static attachDisconnectionCleanupHandler(e){const onDisconnect=async()=>{e.off("disconnect",onDisconnect);this.deviceConnections=this.deviceConnections.filter(({deviceConnection:t})=>t.transport!==e);try{await e.close()}catch(t){if(t instanceof Error&&t.message.includes("The device was disconnected."))return;throw new m.errors.TransportError("Failed to close transport after device disconnection",t)}};e.on("disconnect",onDisconnect)}static async openTransportForDevice({communicationType:e,device:t}){let r;try{if(e===m.CommunicationType.Node&&t instanceof _.HID)r=new P.default(t);else if(e===m.CommunicationType.Web&&isUsbDevice(t))r=await T.open(t);else{throw new m.errors.TransportError(`Invalid device object provided for communication type ${e}`)}}catch(a){throw new m.errors.TransportError("Failed to open a transport for a given device",a)}this.attachDisconnectionCleanupHandler(r);return r}static async createTransport({communicationType:e,nodeHidDevicePath:t=""}){let r;try{r=e===m.CommunicationType.Node?await P.default.open(t):await T.open(await (0,w.getFirstLedgerDevice)())}catch(a){throw new m.errors.TransportError("Creating transport failed",a)}this.attachDisconnectionCleanupHandler(r);return r}static async testConnection(e){try{await e.getVersion()}catch(t){throw new m.errors.TransportError(A,t)}}static async createDeviceConnection(e){const t=new E(e);await this.testConnection(t);return t}static rememberConnection({communicationType:e,device:t,deviceConnection:r,nodeHidDevicePath:a}){this.deviceConnections.push({deviceConnection:r,...e===m.CommunicationType.Node?{communicationType:e,...t instanceof _.HID&&{device:t},...void 0!==a&&{nodeHidDevicePath:a}}:{communicationType:e,...isUsbDevice(t)&&{device:t}}})}static async [(l=new WeakMap,I)](e,t){const{device:r,nodeHidDevicePath:a}=parseEstablishDeviceConnectionSecondParam(e,t);const s=await this.findConnectionByCommunicationTypeAndDevicePath(e,a,r);if(s)return s;let i;try{i=r?await LedgerKeyAgent.openTransportForDevice({communicationType:e,device:r}):await LedgerKeyAgent.createTransport({communicationType:e,nodeHidDevicePath:a});if(!i||!i.deviceModel){throw new m.errors.TransportError("Missing transport")}const o=await LedgerKeyAgent.createDeviceConnection(i);this.rememberConnection({communicationType:e,device:r,deviceConnection:o,nodeHidDevicePath:a});return o}catch(n){if(isDeviceAlreadyOpenError(n)){throw new m.errors.TransportError("Connection already established",n)}if(i)void i.close();throw new m.errors.TransportError("Establishing device connection failed",n)}}static async checkDeviceConnection(e,t){try{if(!t){return await LedgerKeyAgent.establishDeviceConnection(e)}return await LedgerKeyAgent.createDeviceConnection(t.transport)}catch(r){if("DisconnectedDeviceDuringOperation"===r.name){return await LedgerKeyAgent.establishDeviceConnection(e)}throw r}}static async getXpub({deviceConnection:e,communicationType:t,accountIndex:r,purpose:a}){try{const s=await LedgerKeyAgent.checkDeviceConnection(t,e);const i=`${a}'/${m.CardanoKeyConst.COIN_TYPE}'/${r}'`;const o=await s.getExtendedPublicKey({path:(0,g.str_to_path)(i)});const n=`${o.publicKeyHex}${o.chainCodeHex}`;return u.Bip32PublicKeyHex(n)}catch(d){if(28169===d.code){throw new m.errors.AuthenticationError("Failed to export extended account public key",d)}throw transportTypedError(d)}}static async getAppVersion(e,t){const r=await LedgerKeyAgent.checkDeviceConnection(e,t);return await r.getVersion()}static async createWithDevice({chainId:e,accountIndex:t=0,communicationType:r,deviceConnection:a,purpose:s=m.KeyPurpose.STANDARD},i){const o=await LedgerKeyAgent.getHidDeviceList(r);const n=await (a?LedgerKeyAgent.checkDeviceConnection(r,a):LedgerKeyAgent.establishDeviceConnection(r,o[0]));const d=await LedgerKeyAgent.getXpub({accountIndex:t,communicationType:r,deviceConnection:n,purpose:s});return new LedgerKeyAgent({accountIndex:t,chainId:e,communicationType:r,deviceConnection:n,extendedAccountPublicKey:d,purpose:s},i)}static isKeyHashOrScriptHashVoter(e){return!!(null==e?void 0:e.some(e=>{switch(e.voter.type){case C.VoterType.COMMITTEE_KEY_HASH:case C.VoterType.COMMITTEE_SCRIPT_HASH:case C.VoterType.DREP_KEY_HASH:case C.VoterType.DREP_SCRIPT_HASH:case C.VoterType.STAKE_POOL_KEY_HASH:return true;default:return false}}))}static getSigningMode(e){if(e.certificates){for(const t of e.certificates){if(t.type===C.CertificateType.STAKE_POOL_REGISTRATION&&t.params.poolOwners.some(e=>e.type===C.PoolOwnerType.DEVICE_OWNED))return C.TransactionSigningMode.POOL_REGISTRATION_AS_OWNER;if(t.type===C.CertificateType.STAKE_POOL_REGISTRATION&&t.params.poolKey.type===C.PoolKeyType.DEVICE_OWNED)return C.TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR}}if(e.collateralInputs||LedgerKeyAgent.isKeyHashOrScriptHashVoter(e.votingProcedures)||e.referenceInputs&&e.referenceInputs.length>0){return C.TransactionSigningMode.PLUTUS_TRANSACTION}if(isMultiSig(e)){return C.TransactionSigningMode.MULTISIG_TRANSACTION}return C.TransactionSigningMode.ORDINARY_TRANSACTION}async signTransaction(e,{knownAddresses:t,txInKeyPathMap:r}){try{var a;const s=e.toCore();const i=e.hash();const o=await this.derivePublicKey(m.util.DREP_KEY_DERIVATION_PATH);const n=(await u.Ed25519PublicKey.fromHex(o).hash()).hex();const c=e.outputs().map(e=>e.isBabbageOutput()?f.TxOutputFormat.MAP_BABBAGE:f.TxOutputFormat.ARRAY_LEGACY);const h=(null===(a=e.collateralReturn())||void 0===a?void 0:a.isBabbageOutput())?f.TxOutputFormat.MAP_BABBAGE:f.TxOutputFormat.ARRAY_LEGACY;const p=await (0,b.toLedgerTx)(s,{accountIndex:this.accountIndex,chainId:this.chainId,collateralReturnFormat:h,dRepKeyHashHex:n,knownAddresses:t,outputsFormat:c,txInKeyPathMap:r});const _=await LedgerKeyAgent.checkDeviceConnection(d(this,l,"f"),this.deviceConnection);const y=LedgerKeyAgent.getSigningMode(p);const w=await _.signTransaction({options:{tagCborSets:e.hasTaggedSets()},signingMode:y,tx:p,...y===C.TransactionSigningMode.MULTISIG_TRANSACTION&&{additionalWitnessPaths:j}});if(!(0,v.areStringsEqualInConstantTime)(w.txHashHex,i)){throw new m.errors.HwMappingError("Ledger computed a different transaction id")}return new Map(await Promise.all(w.witnesses.map(async e=>{const t=await this.derivePublicKey({index:e.path[m.Cip1852PathLevelIndexes.INDEX],role:e.path[m.Cip1852PathLevelIndexes.ROLE]});const r=u.Ed25519SignatureHex(e.witnessSignatureHex);return[t,r]})))}catch(g){if(28169===g.code){throw new m.errors.AuthenticationError("Transaction signing aborted",g)}throw transportTypedError(g)}}async signCip8Data(e){const t=e.payload.length/2>=k;try{const r=await this.derivePublicKey(m.util.DREP_KEY_DERIVATION_PATH);const s=(await u.Ed25519PublicKey.fromHex(r).hash()).hex();const{signingPath:i,addressParams:o,addressFieldType:n}=getDerivationPath(e.signWith,e.knownAddresses,this.accountIndex,this.purpose,s);const c=n===C.MessageAddressFieldType.ADDRESS&&o?{address:o,addressFieldType:C.MessageAddressFieldType.ADDRESS,hashPayload:t,messageHex:e.payload,network:{networkId:this.chainId.networkId,protocolMagic:this.chainId.networkMagic},preferHexDisplay:false,signingPath:i}:{addressFieldType:C.MessageAddressFieldType.KEY_HASH,hashPayload:t,messageHex:e.payload,preferHexDisplay:false,signingPath:i};const f=await LedgerKeyAgent.checkDeviceConnection(d(this,l,"f"),this.deviceConnection);const _=await f.signMessage(c);const w=p.util.hexToBytes((0,v.HexBlob)(_.addressFieldHex));const g=h.HeaderMap.new();g.set_algorithm_id(h.Label.from_algorithm_id(h.AlgorithmId.EdDSA));g.set_header(m.cip8.CoseLabel.address,h.CBORValue.new_bytes(w));const b=p.util.hexToBytes(t?y.blake2b.hash(e.payload,28):e.payload);const P=h.COSESign1Builder.new(h.Headers.new(h.ProtectedHeaderMap.new(g),h.HeaderMap.new()),b,false);const S=P.build(a.from(_.signatureHex,"hex"));const T=m.cip8.createCoseKey(w,u.Ed25519PublicKeyHex(_.signingPublicKeyHex));const E=p.util.bytesToHex(S.to_bytes());return{key:p.util.bytesToHex(T.to_bytes()),signature:t?setCOSESignHashed(E,true):E}}catch(A){if(28169===A.code){throw new m.errors.AuthenticationError("Transaction signing aborted",A)}throw transportTypedError(A)}}async signBlob(){throw new p.NotImplementedError("Operation not supported!")}async exportRootPrivateKey(){throw new p.NotImplementedError("Operation not supported!")}constructor({deviceConnection:e,...t},r){super({...t,__typename:m.KeyAgentType.Ledger},r);l.set(this,void 0);this.deviceConnection=e;n(this,l,t.communicationType,"f")}}t.LedgerKeyAgent=LedgerKeyAgent;LedgerKeyAgent.deviceConnections=[]},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/index.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/LedgerKeyAgent.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/types.js"),t)},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/assets.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapTokenMap=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const compareAssetNameCanonically=(e,t)=>{if(e.assetNameHex.length===t.assetNameHex.length){return e.assetNameHex>t.assetNameHex?1:-1}if(e.assetNameHex.length>t.assetNameHex.length)return 1;return -1};const comparePolicyIdCanonically=(e,t)=>e.policyIdHex>t.policyIdHex?1:-1;const tokenMapToAssetGroup=e=>{const t=new Map;for(const[r,s]of e.entries()){const i=a.Cardano.AssetId.getPolicyId(r);const o=a.Cardano.AssetId.getAssetName(r);if(!t.has(i))t.set(i,new Array);t.get(i).push({amount:s,assetNameHex:o})}const n=[];for(const[d,c]of t.entries()){c.sort(compareAssetNameCanonically);n.push({policyIdHex:d,tokens:c})}n.sort(comparePolicyIdCanonically);return n};const mapTokenMap=e=>{if(!e)return null;return tokenMapToAssetGroup(e)};t.mapTokenMap=mapTokenMap},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/auxiliaryData.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapAuxiliaryData=void 0;const a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const toAuxiliaryData=e=>({params:{hashHex:e},type:a.TxAuxiliaryDataType.ARBITRARY_HASH});const mapAuxiliaryData=e=>e?toAuxiliaryData(e):null;t.mapAuxiliaryData=mapAuxiliaryData},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/certificates.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapCerts=t.voteDelegationCertificate=t.poolRegistrationCertificate=t.stakeDelegationCertificate=t.getKnownAddress=void 0;const o=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const n=i(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const mapAnchorToParams=e=>{return{..."anchor"in e&&(null==e?void 0:e.anchor)&&{anchor:{hashHex:e.anchor.dataHash,url:e.anchor.url}}}};const credentialMapper=(e,t,r)=>{let a;switch(t){case d.Cardano.CredentialType.KeyHash:a=r?{keyPath:r,type:n.CredentialParamsType.KEY_PATH}:{keyHashHex:e.hash,type:n.CredentialParamsType.KEY_HASH};break;case d.Cardano.CredentialType.ScriptHash:default:a={scriptHashHex:e.hash,type:n.CredentialParamsType.SCRIPT_HASH}}return a};const drepParamsMapper=(e,t)=>{let r;switch(t){case d.Cardano.CredentialType.KeyHash:r={keyHashHex:e.hash,type:n.DRepParamsType.KEY_HASH};break;case d.Cardano.CredentialType.ScriptHash:default:r={scriptHashHex:e.hash,type:n.DRepParamsType.SCRIPT_HASH}}return r};const getKnownAddress=(e,t)=>{return t?null==t?void 0:t.knownAddresses.find(t=>(0,l.areStringsEqualInConstantTime)(d.Cardano.RewardAccount.toHash(t.rewardAccount),e.hash)):void 0};t.getKnownAddress=getKnownAddress;const getCredentialType=e=>{var t;const r=e?null===(t=d.Cardano.Address.fromBech32(e.rewardAccount))||void 0===t?void 0:t.asReward():null;return r?r.getPaymentCredential().type:n.CredentialParamsType.SCRIPT_HASH};const stakeCredentialMapper=(e,r)=>{const a=(0,t.getKnownAddress)(e,r);const s=getCredentialType(a);const i=c.util.stakeKeyPathFromGroupedAddress(a);return credentialMapper(e,s,i)};const getStakeAddressCertificate=(e,t)=>({params:{stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:e.__typename===d.Cardano.CertificateType.StakeRegistration?n.CertificateType.STAKE_REGISTRATION:n.CertificateType.STAKE_DEREGISTRATION});const getNewStakeAddressCertificate=(e,t)=>({params:{deposit:e.deposit,stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:e.__typename===d.Cardano.CertificateType.Registration?n.CertificateType.STAKE_REGISTRATION_CONWAY:n.CertificateType.STAKE_DEREGISTRATION_CONWAY});const stakeDelegationCertificate=(e,t)=>({params:{poolKeyHashHex:d.Cardano.PoolId.toKeyHash(e.poolId),stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:n.CertificateType.STAKE_DELEGATION});t.stakeDelegationCertificate=stakeDelegationCertificate;const toPoolMetadata=e=>({metadataHashHex:e.hash,metadataUrl:e.url});const getPoolOperatorKeyPath=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.rewardAccount===e);return c.util.stakeKeyPathFromGroupedAddress(r)};const poolRegistrationCertificate=(e,t)=>{const r=getPoolOperatorKeyPath(e.poolParameters.rewardAccount,t);const a=d.Cardano.RewardAccount.toHash(e.poolParameters.rewardAccount);return{params:{cost:e.poolParameters.cost,margin:e.poolParameters.margin,metadata:e.poolParameters.metadataJson?toPoolMetadata(e.poolParameters.metadataJson):void 0,pledge:e.poolParameters.pledge,poolKey:r?{params:{path:r},type:n.PoolKeyType.DEVICE_OWNED}:{params:{keyHashHex:a},type:n.PoolKeyType.THIRD_PARTY},poolOwners:e.poolParameters.owners.map(e=>{const r=getPoolOperatorKeyPath(e,t);const a=d.Cardano.RewardAccount.toHash(e);return r?{params:{stakingPath:r},type:n.PoolOwnerType.DEVICE_OWNED}:{params:{stakingKeyHashHex:a},type:n.PoolOwnerType.THIRD_PARTY}}),relays:e.poolParameters.relays.map(e=>{switch(e.__typename){case"RelayByAddress":return{params:{ipv4:e.ipv4,ipv6:e.ipv6,portNumber:e.port},type:0};case"RelayByName":return{params:{dnsName:e.hostname,portNumber:e.port},type:1};case"RelayByNameMultihost":return{params:{dnsName:e.dnsName},type:1}}}),rewardAccount:r?{params:{path:r},type:n.PoolRewardAccountType.DEVICE_OWNED}:{params:{rewardAccountHex:d.Cardano.Address.fromBech32(e.poolParameters.rewardAccount).toBytes()},type:n.PoolRewardAccountType.THIRD_PARTY},vrfKeyHashHex:e.poolParameters.vrf},type:n.CertificateType.STAKE_POOL_REGISTRATION}};t.poolRegistrationCertificate=poolRegistrationCertificate;const poolRetirementCertificate=(e,t)=>{const r=d.Cardano.PoolId.toKeyHash(e.poolId);const a=null==t?void 0:t.knownAddresses.find(e=>(0,l.areStringsEqualInConstantTime)(d.Cardano.RewardAccount.toHash(e.rewardAccount),r));const s=c.util.stakeKeyPathFromGroupedAddress(a);if(!s)throw new l.InvalidArgumentError("certificate","Missing key matching pool retirement certificate.");return{params:{poolKeyPath:s,retirementEpoch:e.epoch},type:n.CertificateType.STAKE_POOL_RETIREMENT}};const checkDrepPublicKeyAgainstCredential=(e,t)=>{if(!e||e!==o.Ed25519KeyHashHex(t)){throw new l.InvalidArgumentError("certificate","dRepPublicKey does not match certificate drep credential.")}};const drepRegistrationCertificate=(e,t)=>{if(!t)throw new l.InvalidArgumentError("LedgerTxTransformerContext","values was not provided");checkDrepPublicKeyAgainstCredential(null==t?void 0:t.dRepKeyHashHex,e.dRepCredential.hash);const r={...mapAnchorToParams(e),dRepCredential:credentialMapper(e.dRepCredential,e.dRepCredential.type,c.util.accountKeyDerivationPathToBip32Path(t.accountIndex,c.util.DREP_KEY_DERIVATION_PATH)),deposit:e.deposit};return{params:r,type:e.__typename===d.Cardano.CertificateType.RegisterDelegateRepresentative?n.CertificateType.DREP_REGISTRATION:n.CertificateType.DREP_DEREGISTRATION}};const updateDRepCertificate=(e,t)=>{if(!t)throw new l.InvalidArgumentError("LedgerTxTransformerContext","values was not provided");checkDrepPublicKeyAgainstCredential(null==t?void 0:t.dRepKeyHashHex,e.dRepCredential.hash);const r={...mapAnchorToParams(e),dRepCredential:credentialMapper(e.dRepCredential,e.dRepCredential.type,c.util.accountKeyDerivationPathToBip32Path(t.accountIndex,c.util.DREP_KEY_DERIVATION_PATH))};return{params:r,type:n.CertificateType.DREP_UPDATE}};const drepMapper=e=>{if(d.Cardano.isDRepAlwaysAbstain(e)){return{type:n.DRepParamsType.ABSTAIN}}if(d.Cardano.isDRepAlwaysNoConfidence(e)){return{type:n.DRepParamsType.NO_CONFIDENCE}}if(d.Cardano.isDRepCredential(e)){return drepParamsMapper(e,e.type)}throw new Error("incorrect drep supplied")};const voteDelegationCertificate=(e,t)=>({params:{dRep:drepMapper(e.dRep),stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:n.CertificateType.VOTE_DELEGATION});t.voteDelegationCertificate=voteDelegationCertificate;const toCert=(e,r)=>{switch(e.__typename){case d.Cardano.CertificateType.StakeRegistration:return getStakeAddressCertificate(e,r);case d.Cardano.CertificateType.StakeDeregistration:return getStakeAddressCertificate(e,r);case d.Cardano.CertificateType.StakeDelegation:return(0,t.stakeDelegationCertificate)(e,r);case d.Cardano.CertificateType.PoolRegistration:return(0,t.poolRegistrationCertificate)(e,r);case d.Cardano.CertificateType.PoolRetirement:return poolRetirementCertificate(e,r);case d.Cardano.CertificateType.Registration:return getNewStakeAddressCertificate(e,r);case d.Cardano.CertificateType.Unregistration:return getNewStakeAddressCertificate(e,r);case d.Cardano.CertificateType.VoteDelegation:return(0,t.voteDelegationCertificate)(e,r);case d.Cardano.CertificateType.RegisterDelegateRepresentative:return drepRegistrationCertificate(e,r);case d.Cardano.CertificateType.UnregisterDelegateRepresentative:return drepRegistrationCertificate(e,r);case d.Cardano.CertificateType.UpdateDelegateRepresentative:return updateDRepCertificate(e,r);default:throw new l.InvalidArgumentError("cert",`Certificate ${e.__typename} not supported.`)}};const mapCerts=(e,t)=>{if(!e)return null;return e.map(e=>toCert(e,t))};t.mapCerts=mapCerts},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/collateralInputs.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapCollateralTxIns=void 0;const a=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txIn.js");const mapCollateralTxIns=(e,t)=>e?(0,a.mapTxIns)(e,t):null;t.mapCollateralTxIns=mapCollateralTxIns},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/collateralOutput.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapCollateralTxOut=void 0;const a=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txOut.js");const mapCollateralTxOut=(e,t)=>e?(0,a.toTxOut)({index:0,isCollateral:true,txOut:e},t):null;t.mapCollateralTxOut=mapCollateralTxOut},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/assets.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/auxiliaryData.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/certificates.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/collateralOutput.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/collateralInputs.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/referenceInputs.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/requiredSigners.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/tx.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txIn.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txOut.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/withdrawals.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/votingProcedures.js"),t)},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/referenceInputs.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapReferenceInputs=void 0;const mapReferenceInputs=e=>e?e.map(e=>({outputIndex:e.index,path:null,txHashHex:e.txId.toString()})):null;t.mapReferenceInputs=mapReferenceInputs},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/requiredSigners.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapRequiredSigners=t.toRequiredSigner=void 0;const o=i(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const toRequiredSigner=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>{var r,a;const s=null===(a=null===(r=n.Cardano.Address.fromBech32(t.address))||void 0===r?void 0:r.asBase())||void 0===a?void 0:a.getPaymentCredential().hash;return!!s&&(0,d.areStringsEqualInConstantTime)(s.toString(),e)});const a=null==t?void 0:t.knownAddresses.find(t=>{const r=n.Cardano.RewardAccount.toHash(t.rewardAccount);return!!r&&(0,d.areStringsEqualInConstantTime)(r.toString(),e)});const s=r?c.util.paymentKeyPathFromGroupedAddress(r):null;const i=a?c.util.stakeKeyPathFromGroupedAddress(a):null;if(s){return{path:s,type:o.TxRequiredSignerType.PATH}}if(i){return{path:i,type:o.TxRequiredSignerType.PATH}}return{hashHex:e,type:o.TxRequiredSignerType.HASH}};t.toRequiredSigner=toRequiredSigner;const mapRequiredSigners=(e,r)=>e?e.map(e=>(0,t.toRequiredSigner)(e,r)):null;t.mapRequiredSigners=mapRequiredSigners},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/tx.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toLedgerTx=t.LedgerTxTransformer=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/auxiliaryData.js");const i=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/certificates.js");const o=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/collateralInputs.js");const n=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/collateralOutput.js");const d=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/referenceInputs.js");const c=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/requiredSigners.js");const l=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/assets.js");const u=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txIn.js");const f=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txOut.js");const h=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/votingProcedures.js");const p=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/withdrawals.js");t.LedgerTxTransformer={auxiliaryData:({auxiliaryDataHash:e})=>(0,s.mapAuxiliaryData)(e),certificates:({certificates:e},t)=>(0,i.mapCerts)(e,t),collateralInputs:({collaterals:e},t)=>(0,o.mapCollateralTxIns)(e,t),collateralOutput:({collateralReturn:e},t)=>(0,n.mapCollateralTxOut)(e,t),donation:({donation:e})=>e,fee:({fee:e})=>e,includeNetworkId:({networkId:e})=>!!e,inputs:({inputs:e},t)=>(0,u.mapTxIns)(e,t),mint:({mint:e})=>(0,l.mapTokenMap)(e),network:(e,t)=>({networkId:t.chainId.networkId,protocolMagic:t.chainId.networkMagic}),outputs:({outputs:e},t)=>(0,f.mapTxOuts)(e,t),referenceInputs:({referenceInputs:e})=>(0,d.mapReferenceInputs)(e),requiredSigners:({requiredExtraSignatures:e},t)=>(0,c.mapRequiredSigners)(e,t),scriptDataHashHex:({scriptIntegrityHash:e})=>{return null==e?void 0:e.toString()},totalCollateral:({totalCollateral:e})=>e,treasury:({treasuryValue:e})=>e,ttl:({validityInterval:e})=>{return null==e?void 0:e.invalidHereafter},validityIntervalStart:({validityInterval:e})=>{return null==e?void 0:e.invalidBefore},votingProcedures:({votingProcedures:e},t)=>(0,h.mapVotingProcedures)(e,t),withdrawals:({withdrawals:e},t)=>(0,p.mapWithdrawals)(e,t)};const toLedgerTx=(e,r)=>(0,a.transformObj)(e,t.LedgerTxTransformer,r);t.toLedgerTx=toLedgerTx},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txIn.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapTxIns=t.toTxIn=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const resolveKeyPath=(e,{accountIndex:t,txInKeyPathMap:r})=>{const s=r[(0,a.TxInId)(e)];if(s){return a.util.accountKeyDerivationPathToBip32Path(t,s)}return null};const toTxIn=(e,t)=>({outputIndex:e.index,path:resolveKeyPath(e,t),txHashHex:e.txId});t.toTxIn=toTxIn;const mapTxIns=(e,r)=>e.map(e=>(0,t.toTxIn)(e,r));t.mapTxIns=mapTxIns},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/txOut.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapTxOuts=t.toTxOut=void 0;const o=i(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/assets.js");const l=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const toInlineDatum=e=>({datumHex:n.Serialization.PlutusData.fromCore(e).toCbor(),type:o.DatumType.INLINE});const toDatumHash=e=>({datumHashHex:e.toString(),type:o.DatumType.HASH});const toDestination=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.address===e.address);const a=n.Cardano.util.isScriptAddress(e.address);if(r&&!a){const s=l.util.paymentKeyPathFromGroupedAddress(r);const i=l.util.stakeKeyPathFromGroupedAddress(r);if(!i)throw new d.InvalidArgumentError("txOut","Missing stake key key path.");return{params:{params:{spendingPath:s,stakingPath:i},type:o.AddressType.BASE_PAYMENT_KEY_STAKE_KEY},type:o.TxOutputDestinationType.DEVICE_OWNED}}const c=n.Cardano.Address.fromString(e.address);if(!c){throw new d.InvalidArgumentError("txOut","Invalid address format.")}return{params:{addressHex:c.toBytes()},type:o.TxOutputDestinationType.THIRD_PARTY}};const getScriptHex=e=>{const t=e.scriptRef();if(!t)return null;return t.toCbor()};const toTxOut=(e,t)=>{const{txOut:r,index:a,isCollateral:s}=e;const i=n.Serialization.TransactionOutput.fromCore(r);const d=getScriptHex(i);const l=s?null==t?void 0:t.collateralReturnFormat:null==t?void 0:t.outputsFormat[a];const u=l===o.TxOutputFormat.MAP_BABBAGE;var f;return{amount:r.value.coins,destination:toDestination(r,t),tokenBundle:(0,c.mapTokenMap)(r.value.assets),...u?{datum:r.datumHash?toDatumHash(r.datumHash):r.datum?toInlineDatum(r.datum):null,format:o.TxOutputFormat.MAP_BABBAGE,referenceScriptHex:d}:{datumHashHex:null!==(f=r.datumHash)&&void 0!==f?f:null,format:o.TxOutputFormat.ARRAY_LEGACY}}};t.toTxOut=toTxOut;const mapTxOuts=(e,r)=>e.map((e,a)=>(0,t.toTxOut)({index:a,isCollateral:false,txOut:e},r));t.mapTxOuts=mapTxOuts},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/votingProcedures.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapVotingProcedures=t.toVotingProcedure=t.toVotes=t.toVoteOption=t.toVoter=void 0;const o=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const n=i(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const toVoter=(e,t)=>{if(!t)throw new d.InvalidArgumentError("LedgerTxTransformerContext","values was not provided");switch(e.__typename){case"ccHotKeyHash":return{keyHashHex:e.credential.hash,type:n.VoterType.COMMITTEE_KEY_HASH};case"ccHotScriptHash":return{scriptHashHex:e.credential.hash,type:n.VoterType.COMMITTEE_SCRIPT_HASH};case"dRepKeyHash":if(!t.dRepKeyHashHex||t.dRepKeyHashHex!==o.Ed25519KeyHashHex(e.credential.hash)){throw new Error("Foreign voter drepKeyHash")}return{keyPath:c.util.accountKeyDerivationPathToBip32Path(t.accountIndex,c.util.DREP_KEY_DERIVATION_PATH),type:n.VoterType.DREP_KEY_PATH};case"dRepScriptHash":return{scriptHashHex:e.credential.hash,type:n.VoterType.DREP_SCRIPT_HASH};case"stakePoolKeyHash":return{keyHashHex:e.credential.hash,type:n.VoterType.STAKE_POOL_KEY_HASH};default:throw new Error("Unsupported voter type")}};t.toVoter=toVoter;const toVoteOption=e=>{switch(e){case 0:return n.VoteOption.NO;case 1:return n.VoteOption.YES;case 2:return n.VoteOption.ABSTAIN;default:throw new Error("Unsupported vote type")}};t.toVoteOption=toVoteOption;const toVotes=e=>e.map(e=>({govActionId:{govActionIndex:e.actionId.actionIndex,txHashHex:e.actionId.id},votingProcedure:{...e.votingProcedure.anchor&&{anchor:{hashHex:e.votingProcedure.anchor.dataHash,url:e.votingProcedure.anchor.url}},vote:(0,t.toVoteOption)(e.votingProcedure.vote)}}));t.toVotes=toVotes;const toVotingProcedure=(e,r)=>({voter:(0,t.toVoter)(e.voter,r),votes:(0,t.toVotes)(e.votes)});t.toVotingProcedure=toVotingProcedure;const mapVotingProcedures=(e,r)=>e?e.map(e=>(0,t.toVotingProcedure)(e,r)):null;t.mapVotingProcedures=mapVotingProcedures},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/transformers/withdrawals.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapWithdrawals=t.toWithdrawal=void 0;const o=i(r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js"));const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const d=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const resolveKeyPath=(e,t)=>{if(!t)return null;const r=t.find(({rewardAccount:t})=>t===e.toAddress().toBech32());if(r&&r.stakeKeyDerivationPath){return[d.util.harden(d.CardanoKeyConst.PURPOSE),d.util.harden(d.CardanoKeyConst.COIN_TYPE),d.util.harden(r.accountIndex),r.stakeKeyDerivationPath.role,r.stakeKeyDerivationPath.index]}return null};const toWithdrawal=(e,t)=>{const r=n.Cardano.Address.fromString(e.stakeAddress);const a=null==r?void 0:r.asReward();if(!a)throw new c.InvalidArgumentError("withdrawal","Invalid withdrawal stake address");let s;if((0,c.areNumbersEqualInConstantTime)(a.getPaymentCredential().type,n.Cardano.CredentialType.KeyHash)){const i=resolveKeyPath(a,null==t?void 0:t.knownAddresses);s=i?{amount:e.quantity,stakeCredential:{keyPath:i,type:o.CredentialParamsType.KEY_PATH}}:{amount:e.quantity,stakeCredential:{keyHashHex:a.getPaymentCredential().hash.toString(),type:o.CredentialParamsType.KEY_HASH}}}else{s={amount:e.quantity,stakeCredential:{scriptHashHex:a.getPaymentCredential().hash.toString(),type:o.CredentialParamsType.SCRIPT_HASH}}}return s};t.toWithdrawal=toWithdrawal;const mapWithdrawals=(e,r)=>{if(!e)return null;e.sort((e,t)=>{var r,a;const s=null===(r=n.Cardano.Address.fromString(e.stakeAddress))||void 0===r?void 0:r.asReward();const i=null===(a=n.Cardano.Address.fromString(t.stakeAddress))||void 0===a?void 0:a.asReward();if(!s||!i)throw new c.InvalidArgumentError("withdrawal","Invalid withdrawal stake address");return s.toAddress().toBytes()>i.toAddress().toBytes()?1:-1});return e.map(e=>(0,t.toWithdrawal)(e,r))};t.mapWithdrawals=mapWithdrawals},"../../node_modules/@cardano-sdk/hardware-ledger/dist/cjs/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DeviceType=void 0;var r;(function(e){e["Ledger"]="Ledger"})(r=t.DeviceType||(t.DeviceType={}))},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/LedgerKeyAgent.js":(e,t,r)=>{"use strict";r.d(t,{LedgerKeyAgent:()=>LedgerKeyAgent});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var i=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js");var o=r("../../node_modules/@emurgo/cardano-message-signing-browser/cardano_message_signing_bg.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborReader.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var f=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/TransportError.js");var h=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var p=r("../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/cip30signData.js");var m=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var _=r("../../node_modules/@cardano-sdk/key-management/dist/esm/KeyAgentBase.js");var v=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/AuthenticationError.js");var y=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/HwMappingError.js");var w=r("../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/util.js");var g=r("../../node_modules/node-hid/nodehid.js");var b=r("../../node_modules/@cardano-sdk/util/dist/esm/primitives.js");var P=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var C=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var S=r("../../node_modules/@ledgerhq/hw-transport-webusb/lib/webusb.js");var T=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/utils/address.js");var E=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/tx.js");var k=r("../../node_modules/@ledgerhq/hw-transport-node-hid-noevents/lib-es/TransportNodeHid.js");var A=r("../../node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js");var I=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var j;const x=A["default"]["default"]?A["default"]["default"]:A["default"];const R=i["default"]?i["default"]:i;const B=198;const isUsbDevice=e=>"undefined"!=typeof USBDevice&&e instanceof USBDevice;const setCOSESignHashed=(e,t)=>{const r=new n.CborReader((0,b.HexBlob)(e));r.readStartArray();const a=r.readEncodedValue();r.readEncodedValue();const s=r.readEncodedValue();const i=r.readEncodedValue();r.readEndArray();const o=new d.CborWriter;o.writeStartArray(4);o.writeEncodedValue(a);o.writeStartMap(1);o.writeTextString("hashed");o.writeBoolean(t);o.writeEncodedValue(s);o.writeEncodedValue(i);return o.encodeAsHex()};const isDeviceAlreadyOpenError=e=>{if("object"!=typeof e)return false;const t=e.innerError;if("object"!=typeof t)return false;return 11===t.code||"string"==typeof t.message&&t.message.includes("cannot open device with path")};const O="Cannot communicate with Ledger Cardano App";const transportTypedError=e=>new f.TransportError("Ledger transport failed",e);const hasRegistrationOrRetirementCerts=e=>{if(!e)return false;return e.some(e=>e.type===i.CertificateType.STAKE_POOL_RETIREMENT)||e.some(e=>e.type===i.CertificateType.STAKE_POOL_REGISTRATION)};const stakeCredentialCert=e=>e.type===i.CertificateType.STAKE_REGISTRATION||e.type===i.CertificateType.STAKE_DEREGISTRATION||e.type===i.CertificateType.STAKE_DELEGATION;const D="establishDeviceConnection";const parseEstablishDeviceConnectionSecondParam=(e,t)=>{let r;let a;const s=e===h.CommunicationType.Node&&t instanceof g.HID||e===h.CommunicationType.Web&&isUsbDevice(t);const i=e===h.CommunicationType.Node&&"string"==typeof t;if(s)r=t;else if(i)a=t;else if(void 0!==t){throw new Error(`Invalid arguments of the '${D}' method`)}return{device:r,nodeHidDevicePath:a}};const containsOnlyScriptHashCreds=e=>{var t;const r=!(null===(t=e.withdrawals)||void 0===t?void 0:t.some(e=>!(0,P.areNumbersEqualInConstantTime)(e.stakeCredential.type,i.CredentialParamsType.SCRIPT_HASH)));if(e.certificates){for(const a of e.certificates){if(!stakeCredentialCert(a))return false;const s=a.params;if(!(0,P.areNumbersEqualInConstantTime)(s.stakeCredential.type,i.CredentialParamsType.SCRIPT_HASH))return false}}return r};const isMultiSig=e=>{var t;const r=false;const a=!e.inputs.some(e=>null!==e.path);const s=!(null===(t=e.requiredSigners)||void 0===t?void 0:t.some(e=>e.type===i.TxRequiredSignerType.PATH));const o=!e.outputs.some(e=>e.destination.type!==i.TxOutputDestinationType.THIRD_PARTY);if(s&&a&&o&&!e.collateralInputs&&!e.requiredSigners&&!hasRegistrationOrRetirementCerts(e.certificates)&&containsOnlyScriptHashCreds(e)){return true}return r};const isPaymentAddress=e=>e.startsWith("addr");const getDerivationPath=(e,t,r,a,s)=>{const o=e.startsWith("stake");if(o){const n=t.find(({rewardAccount:t})=>t===e);if(!n)throw new p.Cip30DataSignError(p.Cip30DataSignErrorCode.ProofGeneration,"Unknown reward address");const d=m.accountKeyDerivationPathToBip32Path(r,n.stakeKeyDerivationPath||m.STAKE_KEY_DERIVATION_PATH,a);return{addressFieldType:i.MessageAddressFieldType.ADDRESS,addressParams:{params:{stakingPath:d},type:i.AddressType.REWARD_KEY},signingPath:d}}if(isPaymentAddress(e)){var l;const u=c.Address.fromString(e);if((null==u?void 0:u.getType())===c.AddressType.EnterpriseKey&&(null===(l=null==u?void 0:u.getProps().paymentPart)||void 0===l?void 0:l.hash)===s){const f=m.accountKeyDerivationPathToBip32Path(r,m.DREP_KEY_DERIVATION_PATH,a);return{addressFieldType:i.MessageAddressFieldType.KEY_HASH,signingPath:f}}}const _=t.find(({address:t})=>t===e);if(!_){throw new p.Cip30DataSignError(p.Cip30DataSignErrorCode.ProofGeneration,"Unknown address")}if(_.rewardAccount){const v=m.accountKeyDerivationPathToBip32Path(r,{index:_.index,role:_.type},a);const y=m.accountKeyDerivationPathToBip32Path(r,_.stakeKeyDerivationPath||{index:0,role:h.KeyRole.Stake},a);return{addressFieldType:i.MessageAddressFieldType.ADDRESS,addressParams:{params:{spendingPath:v,stakingPath:y},type:i.AddressType.BASE_PAYMENT_KEY_STAKE_KEY},signingPath:v}}const w=m.accountKeyDerivationPathToBip32Path(r,{index:_.index,role:_.type},a);return{addressFieldType:i.MessageAddressFieldType.ADDRESS,addressParams:{params:{spendingPath:w},type:i.AddressType.ENTERPRISE_KEY},signingPath:w}};const M=[m.accountKeyDerivationPathToBip32Path(0,{index:0,role:h.KeyRole.External},h.KeyPurpose.MULTI_SIG)];class LedgerKeyAgent extends _.KeyAgentBase{static async findConnectionByCommunicationTypeAndDevicePath(e,t,r){var a;const s=null===(a=this.deviceConnections)||void 0===a?void 0:a.find(a=>{const s=e===a.communicationType;if(a.communicationType===h.CommunicationType.Web){return s&&r===a.device}if(a.communicationType===h.CommunicationType.Node){return s&&r===a.device&&t===a.nodeHidDevicePath}});if(!s)return null;try{await this.testConnection(s.deviceConnection)}catch(i){if(i instanceof f.TransportError&&i.message.includes(O)){this.deviceConnections=this.deviceConnections.filter(e=>e!==s);return null}throw i}return s.deviceConnection}static async getHidDeviceList(e){try{return e===h.CommunicationType.Node?k["default"].list():x.list()}catch(t){throw new f.TransportError("Cannot fetch device list",t)}}static attachDisconnectionCleanupHandler(e){const onDisconnect=async()=>{e.off("disconnect",onDisconnect);this.deviceConnections=this.deviceConnections.filter(({deviceConnection:t})=>t.transport!==e);try{await e.close()}catch(t){if(t instanceof Error&&t.message.includes("The device was disconnected."))return;throw new f.TransportError("Failed to close transport after device disconnection",t)}};e.on("disconnect",onDisconnect)}static async openTransportForDevice({communicationType:e,device:t}){let r;try{if(e===h.CommunicationType.Node&&t instanceof g.HID)r=new k["default"](t);else if(e===h.CommunicationType.Web&&isUsbDevice(t))r=await x.open(t);else{throw new f.TransportError(`Invalid device object provided for communication type ${e}`)}}catch(a){throw new f.TransportError("Failed to open a transport for a given device",a)}this.attachDisconnectionCleanupHandler(r);return r}static async createTransport({communicationType:e,nodeHidDevicePath:t=""}){let r;try{r=e===h.CommunicationType.Node?await k["default"].open(t):await x.open(await (0,S.getFirstLedgerDevice)())}catch(a){throw new f.TransportError("Creating transport failed",a)}this.attachDisconnectionCleanupHandler(r);return r}static async testConnection(e){try{await e.getVersion()}catch(t){throw new f.TransportError(O,t)}}static async createDeviceConnection(e){const t=new R(e);await this.testConnection(t);return t}static rememberConnection({communicationType:e,device:t,deviceConnection:r,nodeHidDevicePath:a}){this.deviceConnections.push({deviceConnection:r,...e===h.CommunicationType.Node?{communicationType:e,...t instanceof g.HID&&{device:t},...void 0!==a&&{nodeHidDevicePath:a}}:{communicationType:e,...isUsbDevice(t)&&{device:t}}})}static async [(j=new WeakMap,D)](e,t){const{device:r,nodeHidDevicePath:a}=parseEstablishDeviceConnectionSecondParam(e,t);const s=await this.findConnectionByCommunicationTypeAndDevicePath(e,a,r);if(s)return s;let i;try{i=r?await LedgerKeyAgent.openTransportForDevice({communicationType:e,device:r}):await LedgerKeyAgent.createTransport({communicationType:e,nodeHidDevicePath:a});if(!i||!i.deviceModel){throw new f.TransportError("Missing transport")}const o=await LedgerKeyAgent.createDeviceConnection(i);this.rememberConnection({communicationType:e,device:r,deviceConnection:o,nodeHidDevicePath:a});return o}catch(n){if(isDeviceAlreadyOpenError(n)){throw new f.TransportError("Connection already established",n)}if(i)void i.close();throw new f.TransportError("Establishing device connection failed",n)}}static async checkDeviceConnection(e,t){try{if(!t){return await LedgerKeyAgent.establishDeviceConnection(e)}return await LedgerKeyAgent.createDeviceConnection(t.transport)}catch(r){if("DisconnectedDeviceDuringOperation"===r.name){return await LedgerKeyAgent.establishDeviceConnection(e)}throw r}}static async getXpub({deviceConnection:e,communicationType:t,accountIndex:r,purpose:s}){try{const i=await LedgerKeyAgent.checkDeviceConnection(t,e);const o=`${s}'/${h.CardanoKeyConst.COIN_TYPE}'/${r}'`;const n=await i.getExtendedPublicKey({path:(0,T.str_to_path)(o)});const d=`${n.publicKeyHex}${n.chainCodeHex}`;return a.Bip32PublicKeyHex(d)}catch(c){if(28169===c.code){throw new v.AuthenticationError("Failed to export extended account public key",c)}throw transportTypedError(c)}}static async getAppVersion(e,t){const r=await LedgerKeyAgent.checkDeviceConnection(e,t);return await r.getVersion()}static async createWithDevice({chainId:e,accountIndex:t=0,communicationType:r,deviceConnection:a,purpose:s=h.KeyPurpose.STANDARD},i){const o=await LedgerKeyAgent.getHidDeviceList(r);const n=await (a?LedgerKeyAgent.checkDeviceConnection(r,a):LedgerKeyAgent.establishDeviceConnection(r,o[0]));const d=await LedgerKeyAgent.getXpub({accountIndex:t,communicationType:r,deviceConnection:n,purpose:s});return new LedgerKeyAgent({accountIndex:t,chainId:e,communicationType:r,deviceConnection:n,extendedAccountPublicKey:d,purpose:s},i)}static isKeyHashOrScriptHashVoter(e){return!!(null==e?void 0:e.some(e=>{switch(e.voter.type){case i.VoterType.COMMITTEE_KEY_HASH:case i.VoterType.COMMITTEE_SCRIPT_HASH:case i.VoterType.DREP_KEY_HASH:case i.VoterType.DREP_SCRIPT_HASH:case i.VoterType.STAKE_POOL_KEY_HASH:return true;default:return false}}))}static getSigningMode(e){if(e.certificates){for(const t of e.certificates){if(t.type===i.CertificateType.STAKE_POOL_REGISTRATION&&t.params.poolOwners.some(e=>e.type===i.PoolOwnerType.DEVICE_OWNED))return i.TransactionSigningMode.POOL_REGISTRATION_AS_OWNER;if(t.type===i.CertificateType.STAKE_POOL_REGISTRATION&&t.params.poolKey.type===i.PoolKeyType.DEVICE_OWNED)return i.TransactionSigningMode.POOL_REGISTRATION_AS_OPERATOR}}if(e.collateralInputs||LedgerKeyAgent.isKeyHashOrScriptHashVoter(e.votingProcedures)||e.referenceInputs&&e.referenceInputs.length>0){return i.TransactionSigningMode.PLUTUS_TRANSACTION}if(isMultiSig(e)){return i.TransactionSigningMode.MULTISIG_TRANSACTION}return i.TransactionSigningMode.ORDINARY_TRANSACTION}async signTransaction(e,{knownAddresses:t,txInKeyPathMap:r}){try{var o;const n=e.toCore();const d=e.hash();const c=await this.derivePublicKey(m.DREP_KEY_DERIVATION_PATH);const l=(await s.Ed25519PublicKey.fromHex(c).hash()).hex();const u=e.outputs().map(e=>e.isBabbageOutput()?i.TxOutputFormat.MAP_BABBAGE:i.TxOutputFormat.ARRAY_LEGACY);const f=(null===(o=e.collateralReturn())||void 0===o?void 0:o.isBabbageOutput())?i.TxOutputFormat.MAP_BABBAGE:i.TxOutputFormat.ARRAY_LEGACY;const p=await (0,E.toLedgerTx)(n,{accountIndex:this.accountIndex,chainId:this.chainId,collateralReturnFormat:f,dRepKeyHashHex:l,knownAddresses:t,outputsFormat:u,txInKeyPathMap:r});const _=await LedgerKeyAgent.checkDeviceConnection(__classPrivateFieldGet(this,j,"f"),this.deviceConnection);const w=LedgerKeyAgent.getSigningMode(p);const g=await _.signTransaction({options:{tagCborSets:e.hasTaggedSets()},signingMode:w,tx:p,...w===i.TransactionSigningMode.MULTISIG_TRANSACTION&&{additionalWitnessPaths:M}});if(!(0,P.areStringsEqualInConstantTime)(g.txHashHex,d)){throw new y.HwMappingError("Ledger computed a different transaction id")}return new Map(await Promise.all(g.witnesses.map(async e=>{const t=await this.derivePublicKey({index:e.path[h.Cip1852PathLevelIndexes.INDEX],role:e.path[h.Cip1852PathLevelIndexes.ROLE]});const r=a.Ed25519SignatureHex(e.witnessSignatureHex);return[t,r]})))}catch(b){if(28169===b.code){throw new v.AuthenticationError("Transaction signing aborted",b)}throw transportTypedError(b)}}async signCip8Data(e){const t=e.payload.length/2>=B;try{const r=await this.derivePublicKey(m.DREP_KEY_DERIVATION_PATH);const n=(await s.Ed25519PublicKey.fromHex(r).hash()).hex();const{signingPath:d,addressParams:c,addressFieldType:u}=getDerivationPath(e.signWith,e.knownAddresses,this.accountIndex,this.purpose,n);const f=u===i.MessageAddressFieldType.ADDRESS&&c?{address:c,addressFieldType:i.MessageAddressFieldType.ADDRESS,hashPayload:t,messageHex:e.payload,network:{networkId:this.chainId.networkId,protocolMagic:this.chainId.networkMagic},preferHexDisplay:false,signingPath:d}:{addressFieldType:i.MessageAddressFieldType.KEY_HASH,hashPayload:t,messageHex:e.payload,preferHexDisplay:false,signingPath:d};const h=await LedgerKeyAgent.checkDeviceConnection(__classPrivateFieldGet(this,j,"f"),this.deviceConnection);const _=await h.signMessage(f);const y=l.hexToBytes((0,b.HexBlob)(_.addressFieldHex));const g=o.HeaderMap.new();g.set_algorithm_id(o.Label.from_algorithm_id(o.AlgorithmId.EdDSA));g.set_header(w.CoseLabel.address,o.CBORValue.new_bytes(y));const P=l.hexToBytes(t?C.blake2b.hash(e.payload,28):e.payload);const S=o.COSESign1Builder.new(o.Headers.new(o.ProtectedHeaderMap.new(g),o.HeaderMap.new()),P,false);const T=S.build(I.from(_.signatureHex,"hex"));const E=p.createCoseKey(y,a.Ed25519PublicKeyHex(_.signingPublicKeyHex));const k=l.bytesToHex(T.to_bytes());return{key:l.bytesToHex(E.to_bytes()),signature:t?setCOSESignHashed(k,true):k}}catch(A){if(28169===A.code){throw new v.AuthenticationError("Transaction signing aborted",A)}throw transportTypedError(A)}}async signBlob(){throw new u.NotImplementedError("Operation not supported!")}async exportRootPrivateKey(){throw new u.NotImplementedError("Operation not supported!")}constructor({deviceConnection:e,...t},r){super({...t,__typename:h.KeyAgentType.Ledger},r);j.set(this,void 0);this.deviceConnection=e;__classPrivateFieldSet(this,j,t.communicationType,"f")}}LedgerKeyAgent.deviceConnections=[]},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{DeviceType:()=>_,LedgerKeyAgent:()=>m.LedgerKeyAgent,LedgerTxTransformer:()=>l.LedgerTxTransformer,getKnownAddress:()=>i.getKnownAddress,mapAuxiliaryData:()=>s.mapAuxiliaryData,mapCerts:()=>i.mapCerts,mapCollateralTxIns:()=>n.mapCollateralTxIns,mapCollateralTxOut:()=>o.mapCollateralTxOut,mapReferenceInputs:()=>d.mapReferenceInputs,mapRequiredSigners:()=>c.mapRequiredSigners,mapTokenMap:()=>a.mapTokenMap,mapTxIns:()=>u.mapTxIns,mapTxOuts:()=>f.mapTxOuts,mapVotingProcedures:()=>p.mapVotingProcedures,mapWithdrawals:()=>h.mapWithdrawals,poolRegistrationCertificate:()=>i.poolRegistrationCertificate,stakeDelegationCertificate:()=>i.stakeDelegationCertificate,toLedgerTx:()=>l.toLedgerTx,toRequiredSigner:()=>c.toRequiredSigner,toTxIn:()=>u.toTxIn,toTxOut:()=>f.toTxOut,toVoteOption:()=>p.toVoteOption,toVoter:()=>p.toVoter,toVotes:()=>p.toVotes,toVotingProcedure:()=>p.toVotingProcedure,toWithdrawal:()=>h.toWithdrawal,voteDelegationCertificate:()=>i.voteDelegationCertificate});var a=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/assets.js");var s=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/auxiliaryData.js");var i=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/certificates.js");var o=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/collateralOutput.js");var n=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/collateralInputs.js");var d=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/referenceInputs.js");var c=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/requiredSigners.js");var l=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/tx.js");var u=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txIn.js");var f=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txOut.js");var h=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/withdrawals.js");var p=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/votingProcedures.js");var m=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/LedgerKeyAgent.js");var _;(function(e){e["Ledger"]="Ledger"})(_||(_={}))},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/assets.js":(e,t,r)=>{"use strict";r.d(t,{mapTokenMap:()=>mapTokenMap});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");const compareAssetNameCanonically=(e,t)=>{if(e.assetNameHex.length===t.assetNameHex.length){return e.assetNameHex>t.assetNameHex?1:-1}if(e.assetNameHex.length>t.assetNameHex.length)return 1;return -1};const comparePolicyIdCanonically=(e,t)=>e.policyIdHex>t.policyIdHex?1:-1;const tokenMapToAssetGroup=e=>{const t=new Map;for(const[r,s]of e.entries()){const i=a.AssetId.getPolicyId(r);const o=a.AssetId.getAssetName(r);if(!t.has(i))t.set(i,new Array);t.get(i).push({amount:s,assetNameHex:o})}const n=[];for(const[d,c]of t.entries()){c.sort(compareAssetNameCanonically);n.push({policyIdHex:d,tokens:c})}n.sort(comparePolicyIdCanonically);return n};const mapTokenMap=e=>{if(!e)return null;return tokenMapToAssetGroup(e)}},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/auxiliaryData.js":(e,t,r)=>{"use strict";r.d(t,{mapAuxiliaryData:()=>mapAuxiliaryData});var a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/types/public.js");const toAuxiliaryData=e=>({params:{hashHex:e},type:a.TxAuxiliaryDataType.ARBITRARY_HASH});const mapAuxiliaryData=e=>e?toAuxiliaryData(e):null},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/certificates.js":(e,t,r)=>{"use strict";r.d(t,{getKnownAddress:()=>getKnownAddress,mapCerts:()=>mapCerts,poolRegistrationCertificate:()=>poolRegistrationCertificate,stakeDelegationCertificate:()=>stakeDelegationCertificate,voteDelegationCertificate:()=>voteDelegationCertificate});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var f=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const mapAnchorToParams=e=>{return{..."anchor"in e&&(null==e?void 0:e.anchor)&&{anchor:{hashHex:e.anchor.dataHash,url:e.anchor.url}}}};const credentialMapper=(e,t,r)=>{let a;switch(t){case i.CredentialType.KeyHash:a=r?{keyPath:r,type:s.CredentialParamsType.KEY_PATH}:{keyHashHex:e.hash,type:s.CredentialParamsType.KEY_HASH};break;case i.CredentialType.ScriptHash:default:a={scriptHashHex:e.hash,type:s.CredentialParamsType.SCRIPT_HASH}}return a};const drepParamsMapper=(e,t)=>{let r;switch(t){case i.CredentialType.KeyHash:r={keyHashHex:e.hash,type:s.DRepParamsType.KEY_HASH};break;case i.CredentialType.ScriptHash:default:r={scriptHashHex:e.hash,type:s.DRepParamsType.SCRIPT_HASH}}return r};const getKnownAddress=(e,t)=>{return t?null==t?void 0:t.knownAddresses.find(t=>(0,u.areStringsEqualInConstantTime)(o.RewardAccount.toHash(t.rewardAccount),e.hash)):void 0};const getCredentialType=e=>{var t;const r=e?null===(t=i.Address.fromBech32(e.rewardAccount))||void 0===t?void 0:t.asReward():null;return r?r.getPaymentCredential().type:s.CredentialParamsType.SCRIPT_HASH};const stakeCredentialMapper=(e,t)=>{const r=getKnownAddress(e,t);const a=getCredentialType(r);const s=l.stakeKeyPathFromGroupedAddress(r);return credentialMapper(e,a,s)};const getStakeAddressCertificate=(e,t)=>({params:{stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:e.__typename===n.CertificateType.StakeRegistration?s.CertificateType.STAKE_REGISTRATION:s.CertificateType.STAKE_DEREGISTRATION});const getNewStakeAddressCertificate=(e,t)=>({params:{deposit:e.deposit,stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:e.__typename===n.CertificateType.Registration?s.CertificateType.STAKE_REGISTRATION_CONWAY:s.CertificateType.STAKE_DEREGISTRATION_CONWAY});const stakeDelegationCertificate=(e,t)=>({params:{poolKeyHashHex:d.PoolId.toKeyHash(e.poolId),stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:s.CertificateType.STAKE_DELEGATION});const toPoolMetadata=e=>({metadataHashHex:e.hash,metadataUrl:e.url});const getPoolOperatorKeyPath=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.rewardAccount===e);return l.stakeKeyPathFromGroupedAddress(r)};const poolRegistrationCertificate=(e,t)=>{const r=getPoolOperatorKeyPath(e.poolParameters.rewardAccount,t);const a=o.RewardAccount.toHash(e.poolParameters.rewardAccount);return{params:{cost:e.poolParameters.cost,margin:e.poolParameters.margin,metadata:e.poolParameters.metadataJson?toPoolMetadata(e.poolParameters.metadataJson):void 0,pledge:e.poolParameters.pledge,poolKey:r?{params:{path:r},type:s.PoolKeyType.DEVICE_OWNED}:{params:{keyHashHex:a},type:s.PoolKeyType.THIRD_PARTY},poolOwners:e.poolParameters.owners.map(e=>{const r=getPoolOperatorKeyPath(e,t);const a=o.RewardAccount.toHash(e);return r?{params:{stakingPath:r},type:s.PoolOwnerType.DEVICE_OWNED}:{params:{stakingKeyHashHex:a},type:s.PoolOwnerType.THIRD_PARTY}}),relays:e.poolParameters.relays.map(e=>{switch(e.__typename){case"RelayByAddress":return{params:{ipv4:e.ipv4,ipv6:e.ipv6,portNumber:e.port},type:0};case"RelayByName":return{params:{dnsName:e.hostname,portNumber:e.port},type:1};case"RelayByNameMultihost":return{params:{dnsName:e.dnsName},type:1}}}),rewardAccount:r?{params:{path:r},type:s.PoolRewardAccountType.DEVICE_OWNED}:{params:{rewardAccountHex:i.Address.fromBech32(e.poolParameters.rewardAccount).toBytes()},type:s.PoolRewardAccountType.THIRD_PARTY},vrfKeyHashHex:e.poolParameters.vrf},type:s.CertificateType.STAKE_POOL_REGISTRATION}};const poolRetirementCertificate=(e,t)=>{const r=d.PoolId.toKeyHash(e.poolId);const a=null==t?void 0:t.knownAddresses.find(e=>(0,u.areStringsEqualInConstantTime)(o.RewardAccount.toHash(e.rewardAccount),r));const i=l.stakeKeyPathFromGroupedAddress(a);if(!i)throw new f.InvalidArgumentError("certificate","Missing key matching pool retirement certificate.");return{params:{poolKeyPath:i,retirementEpoch:e.epoch},type:s.CertificateType.STAKE_POOL_RETIREMENT}};const checkDrepPublicKeyAgainstCredential=(e,t)=>{if(!e||e!==a.Ed25519KeyHashHex(t)){throw new f.InvalidArgumentError("certificate","dRepPublicKey does not match certificate drep credential.")}};const drepRegistrationCertificate=(e,t)=>{if(!t)throw new f.InvalidArgumentError("LedgerTxTransformerContext","values was not provided");checkDrepPublicKeyAgainstCredential(null==t?void 0:t.dRepKeyHashHex,e.dRepCredential.hash);const r={...mapAnchorToParams(e),dRepCredential:credentialMapper(e.dRepCredential,e.dRepCredential.type,l.accountKeyDerivationPathToBip32Path(t.accountIndex,l.DREP_KEY_DERIVATION_PATH)),deposit:e.deposit};return{params:r,type:e.__typename===n.CertificateType.RegisterDelegateRepresentative?s.CertificateType.DREP_REGISTRATION:s.CertificateType.DREP_DEREGISTRATION}};const updateDRepCertificate=(e,t)=>{if(!t)throw new f.InvalidArgumentError("LedgerTxTransformerContext","values was not provided");checkDrepPublicKeyAgainstCredential(null==t?void 0:t.dRepKeyHashHex,e.dRepCredential.hash);const r={...mapAnchorToParams(e),dRepCredential:credentialMapper(e.dRepCredential,e.dRepCredential.type,l.accountKeyDerivationPathToBip32Path(t.accountIndex,l.DREP_KEY_DERIVATION_PATH))};return{params:r,type:s.CertificateType.DREP_UPDATE}};const drepMapper=e=>{if(c.isDRepAlwaysAbstain(e)){return{type:s.DRepParamsType.ABSTAIN}}if(c.isDRepAlwaysNoConfidence(e)){return{type:s.DRepParamsType.NO_CONFIDENCE}}if(c.isDRepCredential(e)){return drepParamsMapper(e,e.type)}throw new Error("incorrect drep supplied")};const voteDelegationCertificate=(e,t)=>({params:{dRep:drepMapper(e.dRep),stakeCredential:stakeCredentialMapper(e.stakeCredential,t)},type:s.CertificateType.VOTE_DELEGATION});const toCert=(e,t)=>{switch(e.__typename){case n.CertificateType.StakeRegistration:return getStakeAddressCertificate(e,t);case n.CertificateType.StakeDeregistration:return getStakeAddressCertificate(e,t);case n.CertificateType.StakeDelegation:return stakeDelegationCertificate(e,t);case n.CertificateType.PoolRegistration:return poolRegistrationCertificate(e,t);case n.CertificateType.PoolRetirement:return poolRetirementCertificate(e,t);case n.CertificateType.Registration:return getNewStakeAddressCertificate(e,t);case n.CertificateType.Unregistration:return getNewStakeAddressCertificate(e,t);case n.CertificateType.VoteDelegation:return voteDelegationCertificate(e,t);case n.CertificateType.RegisterDelegateRepresentative:return drepRegistrationCertificate(e,t);case n.CertificateType.UnregisterDelegateRepresentative:return drepRegistrationCertificate(e,t);case n.CertificateType.UpdateDelegateRepresentative:return updateDRepCertificate(e,t);default:throw new f.InvalidArgumentError("cert",`Certificate ${e.__typename} not supported.`)}};const mapCerts=(e,t)=>{if(!e)return null;return e.map(e=>toCert(e,t))}},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/collateralInputs.js":(e,t,r)=>{"use strict";r.d(t,{mapCollateralTxIns:()=>mapCollateralTxIns});var a=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txIn.js");const mapCollateralTxIns=(e,t)=>e?(0,a.mapTxIns)(e,t):null},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/collateralOutput.js":(e,t,r)=>{"use strict";r.d(t,{mapCollateralTxOut:()=>mapCollateralTxOut});var a=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txOut.js");const mapCollateralTxOut=(e,t)=>e?(0,a.toTxOut)({index:0,isCollateral:true,txOut:e},t):null},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/referenceInputs.js":(e,t,r)=>{"use strict";r.d(t,{mapReferenceInputs:()=>mapReferenceInputs});const mapReferenceInputs=e=>e?e.map(e=>({outputIndex:e.index,path:null,txHashHex:e.txId.toString()})):null},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/requiredSigners.js":(e,t,r)=>{"use strict";r.d(t,{mapRequiredSigners:()=>mapRequiredSigners,toRequiredSigner:()=>toRequiredSigner});var a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var n=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");const toRequiredSigner=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>{var r,a;const i=null===(a=null===(r=s.Address.fromBech32(t.address))||void 0===r?void 0:r.asBase())||void 0===a?void 0:a.getPaymentCredential().hash;return!!i&&(0,o.areStringsEqualInConstantTime)(i.toString(),e)});const d=null==t?void 0:t.knownAddresses.find(t=>{const r=i.RewardAccount.toHash(t.rewardAccount);return!!r&&(0,o.areStringsEqualInConstantTime)(r.toString(),e)});const c=r?n.paymentKeyPathFromGroupedAddress(r):null;const l=d?n.stakeKeyPathFromGroupedAddress(d):null;if(c){return{path:c,type:a.TxRequiredSignerType.PATH}}if(l){return{path:l,type:a.TxRequiredSignerType.PATH}}return{hashHex:e,type:a.TxRequiredSignerType.HASH}};const mapRequiredSigners=(e,t)=>e?e.map(e=>toRequiredSigner(e,t)):null},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/tx.js":(e,t,r)=>{"use strict";r.d(t,{LedgerTxTransformer:()=>m,toLedgerTx:()=>toLedgerTx});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/transformer.js");var s=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/auxiliaryData.js");var i=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/certificates.js");var o=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/collateralInputs.js");var n=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/collateralOutput.js");var d=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/referenceInputs.js");var c=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/requiredSigners.js");var l=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/assets.js");var u=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txIn.js");var f=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txOut.js");var h=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/votingProcedures.js");var p=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/withdrawals.js");const m={auxiliaryData:({auxiliaryDataHash:e})=>(0,s.mapAuxiliaryData)(e),certificates:({certificates:e},t)=>(0,i.mapCerts)(e,t),collateralInputs:({collaterals:e},t)=>(0,o.mapCollateralTxIns)(e,t),collateralOutput:({collateralReturn:e},t)=>(0,n.mapCollateralTxOut)(e,t),donation:({donation:e})=>e,fee:({fee:e})=>e,includeNetworkId:({networkId:e})=>!!e,inputs:({inputs:e},t)=>(0,u.mapTxIns)(e,t),mint:({mint:e})=>(0,l.mapTokenMap)(e),network:(e,t)=>({networkId:t.chainId.networkId,protocolMagic:t.chainId.networkMagic}),outputs:({outputs:e},t)=>(0,f.mapTxOuts)(e,t),referenceInputs:({referenceInputs:e})=>(0,d.mapReferenceInputs)(e),requiredSigners:({requiredExtraSignatures:e},t)=>(0,c.mapRequiredSigners)(e,t),scriptDataHashHex:({scriptIntegrityHash:e})=>{return null==e?void 0:e.toString()},totalCollateral:({totalCollateral:e})=>e,treasury:({treasuryValue:e})=>e,ttl:({validityInterval:e})=>{return null==e?void 0:e.invalidHereafter},validityIntervalStart:({validityInterval:e})=>{return null==e?void 0:e.invalidBefore},votingProcedures:({votingProcedures:e},t)=>(0,h.mapVotingProcedures)(e,t),withdrawals:({withdrawals:e},t)=>(0,p.mapWithdrawals)(e,t)};const toLedgerTx=(e,t)=>(0,a.transformObj)(e,m,t)},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txIn.js":(e,t,r)=>{"use strict";r.d(t,{mapTxIns:()=>mapTxIns,toTxIn:()=>toTxIn});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");const resolveKeyPath=(e,{accountIndex:t,txInKeyPathMap:r})=>{const i=r[(0,a.TxInId)(e)];if(i){return s.accountKeyDerivationPathToBip32Path(t,i)}return null};const toTxIn=(e,t)=>({outputIndex:e.index,path:resolveKeyPath(e,t),txHashHex:e.txId});const mapTxIns=(e,t)=>e.map(e=>toTxIn(e,t))},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/txOut.js":(e,t,r)=>{"use strict";r.d(t,{mapTxOuts:()=>mapTxOuts,toTxOut:()=>toTxOut});var a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/isScriptAddress.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionOutput.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/assets.js");var l=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");const toInlineDatum=e=>({datumHex:s.PlutusData.fromCore(e).toCbor(),type:a.DatumType.INLINE});const toDatumHash=e=>({datumHashHex:e.toString(),type:a.DatumType.HASH});const toDestination=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.address===e.address);const s=i.isScriptAddress(e.address);if(r&&!s){const n=l.paymentKeyPathFromGroupedAddress(r);const c=l.stakeKeyPathFromGroupedAddress(r);if(!c)throw new d.InvalidArgumentError("txOut","Missing stake key key path.");return{params:{params:{spendingPath:n,stakingPath:c},type:a.AddressType.BASE_PAYMENT_KEY_STAKE_KEY},type:a.TxOutputDestinationType.DEVICE_OWNED}}const u=o.Address.fromString(e.address);if(!u){throw new d.InvalidArgumentError("txOut","Invalid address format.")}return{params:{addressHex:u.toBytes()},type:a.TxOutputDestinationType.THIRD_PARTY}};const getScriptHex=e=>{const t=e.scriptRef();if(!t)return null;return t.toCbor()};const toTxOut=(e,t)=>{const{txOut:r,index:s,isCollateral:i}=e;const o=n.TransactionOutput.fromCore(r);const d=getScriptHex(o);const l=i?null==t?void 0:t.collateralReturnFormat:null==t?void 0:t.outputsFormat[s];const u=l===a.TxOutputFormat.MAP_BABBAGE;var f;return{amount:r.value.coins,destination:toDestination(r,t),tokenBundle:(0,c.mapTokenMap)(r.value.assets),...u?{datum:r.datumHash?toDatumHash(r.datumHash):r.datum?toInlineDatum(r.datum):null,format:a.TxOutputFormat.MAP_BABBAGE,referenceScriptHex:d}:{datumHashHex:null!==(f=r.datumHash)&&void 0!==f?f:null,format:a.TxOutputFormat.ARRAY_LEGACY}}};const mapTxOuts=(e,t)=>e.map((e,r)=>toTxOut({index:r,isCollateral:false,txOut:e},t))},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/votingProcedures.js":(e,t,r)=>{"use strict";r.d(t,{mapVotingProcedures:()=>mapVotingProcedures,toVoteOption:()=>toVoteOption,toVoter:()=>toVoter,toVotes:()=>toVotes,toVotingProcedure:()=>toVotingProcedure});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");const toVoter=(e,t)=>{if(!t)throw new i.InvalidArgumentError("LedgerTxTransformerContext","values was not provided");switch(e.__typename){case"ccHotKeyHash":return{keyHashHex:e.credential.hash,type:s.VoterType.COMMITTEE_KEY_HASH};case"ccHotScriptHash":return{scriptHashHex:e.credential.hash,type:s.VoterType.COMMITTEE_SCRIPT_HASH};case"dRepKeyHash":if(!t.dRepKeyHashHex||t.dRepKeyHashHex!==a.Ed25519KeyHashHex(e.credential.hash)){throw new Error("Foreign voter drepKeyHash")}return{keyPath:o.accountKeyDerivationPathToBip32Path(t.accountIndex,o.DREP_KEY_DERIVATION_PATH),type:s.VoterType.DREP_KEY_PATH};case"dRepScriptHash":return{scriptHashHex:e.credential.hash,type:s.VoterType.DREP_SCRIPT_HASH};case"stakePoolKeyHash":return{keyHashHex:e.credential.hash,type:s.VoterType.STAKE_POOL_KEY_HASH};default:throw new Error("Unsupported voter type")}};const toVoteOption=e=>{switch(e){case 0:return s.VoteOption.NO;case 1:return s.VoteOption.YES;case 2:return s.VoteOption.ABSTAIN;default:throw new Error("Unsupported vote type")}};const toVotes=e=>e.map(e=>({govActionId:{govActionIndex:e.actionId.actionIndex,txHashHex:e.actionId.id},votingProcedure:{...e.votingProcedure.anchor&&{anchor:{hashHex:e.votingProcedure.anchor.dataHash,url:e.votingProcedure.anchor.url}},vote:toVoteOption(e.votingProcedure.vote)}}));const toVotingProcedure=(e,t)=>({voter:toVoter(e.voter,t),votes:toVotes(e.votes)});const mapVotingProcedures=(e,t)=>e?e.map(e=>toVotingProcedure(e,t)):null},"../../node_modules/@cardano-sdk/hardware-ledger/dist/esm/transformers/withdrawals.js":(e,t,r)=>{"use strict";r.d(t,{mapWithdrawals:()=>mapWithdrawals,toWithdrawal:()=>toWithdrawal});var a=r("../../node_modules/@cardano-foundation/ledgerjs-hw-app-cardano/dist/Ada.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var i=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var o=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");const resolveKeyPath=(e,t)=>{if(!t)return null;const r=t.find(({rewardAccount:t})=>t===e.toAddress().toBech32());if(r&&r.stakeKeyDerivationPath){return[i.harden(o.CardanoKeyConst.PURPOSE),i.harden(o.CardanoKeyConst.COIN_TYPE),i.harden(r.accountIndex),r.stakeKeyDerivationPath.role,r.stakeKeyDerivationPath.index]}return null};const toWithdrawal=(e,t)=>{const r=s.Address.fromString(e.stakeAddress);const i=null==r?void 0:r.asReward();if(!i)throw new n.InvalidArgumentError("withdrawal","Invalid withdrawal stake address");let o;if((0,d.areNumbersEqualInConstantTime)(i.getPaymentCredential().type,s.CredentialType.KeyHash)){const c=resolveKeyPath(i,null==t?void 0:t.knownAddresses);o=c?{amount:e.quantity,stakeCredential:{keyPath:c,type:a.CredentialParamsType.KEY_PATH}}:{amount:e.quantity,stakeCredential:{keyHashHex:i.getPaymentCredential().hash.toString(),type:a.CredentialParamsType.KEY_HASH}}}else{o={amount:e.quantity,stakeCredential:{scriptHashHex:i.getPaymentCredential().hash.toString(),type:a.CredentialParamsType.SCRIPT_HASH}}}return o};const mapWithdrawals=(e,t)=>{if(!e)return null;e.sort((e,t)=>{var r,a;const i=null===(r=s.Address.fromString(e.stakeAddress))||void 0===r?void 0:r.asReward();const o=null===(a=s.Address.fromString(t.stakeAddress))||void 0===a?void 0:a.asReward();if(!i||!o)throw new n.InvalidArgumentError("withdrawal","Invalid withdrawal stake address");return i.toAddress().toBytes()>o.toAddress().toBytes()?1:-1});return e.map(e=>toWithdrawal(e,t))}},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/TrezorKeyAgent.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var n=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var c,l;Object.defineProperty(t,"__esModule",{value:true});t.TrezorKeyAgent=void 0;const u=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=i(r("../../node_modules/@trezor/connect/lib/index-browser.js"));const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const m=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const _=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/tx.js");const v=d(r("../../node_modules/@trezor/connect-web/lib/index.js"));const y=f.default;const w=v.default.default?v.default.default:v.default;const transportTypedError=e=>new p.errors.AuthenticationError("Trezor transport failed",new p.errors.TransportError("Trezor transport failed",e));const getTrezorConnect=e=>e===p.CommunicationType.Node?y:w;const mapDerivationType=e=>{switch(e){case"ICARUS":return f.PROTO.CardanoDerivationType.ICARUS;case"ICARUS_TREZOR":return f.PROTO.CardanoDerivationType.ICARUS_TREZOR;case"LEDGER":return f.PROTO.CardanoDerivationType.LEDGER;default:throw new Error(`Unsupported derivation type: ${e}`)}};const stakeCredentialCert=e=>e===f.PROTO.CardanoCertificateType.STAKE_REGISTRATION||e===f.PROTO.CardanoCertificateType.STAKE_DEREGISTRATION||e===f.PROTO.CardanoCertificateType.STAKE_DELEGATION;const containsOnlyScriptHashCredentials=e=>{var t;if(e.certificates){for(const r of e.certificates)if(!stakeCredentialCert(r.type)||!r.scriptHash)return false}return!(null===(t=e.withdrawals)||void 0===t?void 0:t.some(e=>!e.scriptHash))};const g=[p.util.accountKeyDerivationPathToBip32Path(0,{index:0,role:p.KeyRole.External},p.KeyPurpose.MULTI_SIG)];const isMultiSig=e=>{var t;const r=!e.inputs.some(e=>e.path);const a=!(null===(t=e.requiredSigners)||void 0===t?void 0:t.some(e=>e.keyPath));const s=!e.outputs.some(e=>"addressParameters"in e);return r&&s&&a&&!e.collateralInputs&&!e.collateralReturn&&!e.totalCollateral&&!e.referenceInputs&&containsOnlyScriptHashCredentials(e)};class TrezorKeyAgent extends p.KeyAgentBase{get trezorConfig(){return n(this,l,"f")}static async initializeTrezorTransport({manifest:e,communicationType:t,silentMode:r=false,lazyLoad:a=false,shouldHandlePassphrase:s=false}){const i=getTrezorConnect(t);try{await i.init({lazyLoad:t!==p.CommunicationType.Node&&a,manifest:e,popup:t!==p.CommunicationType.Node&&!r});if(s)i.on(f.UI_EVENT,e=>{if(e.type===f.UI.REQUEST_PASSPHRASE&&e.payload.device)i.uiResponse({payload:{passphraseOnDevice:true,save:true,value:""},type:f.UI.RECEIVE_PASSPHRASE})});return true}catch(o){if("Init_AlreadyInitialized"===o.code)return true;throw transportTypedError(o)}}static async checkDeviceConnection(e){const t=getTrezorConnect(e);try{const r=await t.getFeatures();if(!r.success){throw new p.errors.TransportError("Failed to get device",r.payload)}return r.payload}catch(a){throw transportTypedError(a)}}static async getXpub({accountIndex:e,communicationType:t,purpose:r,derivationType:a}){try{await TrezorKeyAgent.checkDeviceConnection(t);const s=`m/${r}'/${p.CardanoKeyConst.COIN_TYPE}'/${e}'`;const i=getTrezorConnect(t);const o=a?mapDerivationType(a):void 0;const n=await i.cardanoGetPublicKey({path:s,showOnTrezor:true,...a&&{derivationType:o}});if(!n.success){throw new p.errors.TransportError("Failed to export extended account public key",n.payload)}return u.Bip32PublicKeyHex(n.payload.publicKey)}catch(d){throw transportTypedError(d)}}static async createWithDevice({chainId:e,accountIndex:t=0,trezorConfig:r,purpose:a=p.KeyPurpose.STANDARD},s){const i=await TrezorKeyAgent.initializeTrezorTransport(r);const o=await TrezorKeyAgent.getXpub({accountIndex:t,communicationType:r.communicationType,derivationType:r.derivationType,purpose:a});return new TrezorKeyAgent({accountIndex:t,chainId:e,extendedAccountPublicKey:o,isTrezorInitialized:i,purpose:a,trezorConfig:r},s)}static matchSigningMode(e){if(e.certificates){for(const t of e.certificates){var r;if(t.type===f.PROTO.CardanoCertificateType.STAKE_POOL_REGISTRATION&&(null===(r=t.poolParameters)||void 0===r?void 0:r.owners.some(e=>e.stakingKeyPath)))return f.PROTO.CardanoTxSigningMode.POOL_REGISTRATION_AS_OWNER}}if(e.collateralInputs||e.collateralReturn||e.totalCollateral||e.referenceInputs){return f.PROTO.CardanoTxSigningMode.PLUTUS_TRANSACTION}if(isMultiSig(e)){return f.PROTO.CardanoTxSigningMode.MULTISIG_TRANSACTION}return f.PROTO.CardanoTxSigningMode.ORDINARY_TRANSACTION}async signTransaction(e,{knownAddresses:t,txInKeyPathMap:r,scripts:a}){try{var s;await this.isTrezorInitialized;const i=e.toCore();const o=e.hash();const d=e.outputs().map(e=>e.isBabbageOutput()?f.PROTO.CardanoTxOutputSerializationFormat.MAP_BABBAGE:f.PROTO.CardanoTxOutputSerializationFormat.ARRAY_LEGACY);const l=(null===(s=e.collateralReturn())||void 0===s?void 0:s.isBabbageOutput())?f.PROTO.CardanoTxOutputSerializationFormat.MAP_BABBAGE:f.PROTO.CardanoTxOutputSerializationFormat.ARRAY_LEGACY;const h=await (0,_.txToTrezor)(i,{accountIndex:this.accountIndex,chainId:this.chainId,collateralReturnFormat:l,knownAddresses:t,outputsFormat:d,tagCborSets:e.hasTaggedSets(),txInKeyPathMap:r});const v=TrezorKeyAgent.matchSigningMode(h);const y=getTrezorConnect(n(this,c,"f"));const w=await y.cardanoSignTransaction({...h,...v===f.PROTO.CardanoTxSigningMode.MULTISIG_TRANSACTION&&{additionalWitnessRequests:g},signingMode:v,...this.trezorConfig.derivationType?{derivationType:mapDerivationType(this.trezorConfig.derivationType)}:{}});const b=await Promise.all(p.util.ownSignatureKeyPaths(i,t,r,void 0,a).map(e=>this.derivePublicKey(e)));if(!w.success){throw new p.errors.TransportError("Failed to export extended account public key",w.payload)}const P=w.payload;if(!(0,m.areStringsEqualInConstantTime)(P.hash,o)){throw new p.errors.HwMappingError(`Trezor computed a different transaction id: ${P.hash} than expected: ${o}`)}return new Map(await Promise.all(P.witnesses.filter(e=>b.includes(u.Ed25519PublicKeyHex(e.pubKey))).map(async e=>{const t=u.Ed25519PublicKeyHex(e.pubKey);const r=u.Ed25519SignatureHex(e.signature);return[t,r]})))}catch(S){var C;if((null===(C=S.innerError)||void 0===C?void 0:C.code)==="Failure_ActionCancelled"){throw new p.errors.AuthenticationError("Transaction signing aborted",S)}throw transportTypedError(S)}}async signBlob(){throw new h.NotImplementedError("signBlob")}async signCip8Data(){throw new h.NotImplementedError("signCip8Data")}async exportRootPrivateKey(){throw new h.NotImplementedError("Operation not supported!")}constructor({isTrezorInitialized:e,...t},r){super({...t,__typename:p.KeyAgentType.Trezor},r);c.set(this,void 0);l.set(this,void 0);if(!e)this.isTrezorInitialized=TrezorKeyAgent.initializeTrezorTransport(t.trezorConfig);o(this,c,t.trezorConfig.communicationType,"f");o(this,l,t.trezorConfig,"f")}}t.TrezorKeyAgent=TrezorKeyAgent;c=new WeakMap,l=new WeakMap},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/index.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/types.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/TrezorKeyAgent.js"),t)},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/additionalWitnessRequests.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.mapAdditionalWitnessRequests=void 0;const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/keyPaths.js");const o=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const n=a(r("../../node_modules/lodash/isArray.js"));const d=a(r("../../node_modules/lodash/uniq.js"));const mapAdditionalWitnessRequests=(e,t)=>{var r;const a=(0,d.default)(e.map(e=>(0,i.resolvePaymentKeyPathForTxIn)(e,t)).filter(s.isNotNil).filter(n.default));const c=[...a];if(null==t?void 0:null===(r=t.knownAddresses)||void 0===r?void 0:r.length){const l=o.util.stakeKeyPathFromGroupedAddress(t.knownAddresses[0]);if(l)c.push(l)}return c};t.mapAdditionalWitnessRequests=mapAdditionalWitnessRequests},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/assets.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapTokenMap=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const compareAssetNameCanonically=(e,t)=>{if(e.assetNameBytes.length===t.assetNameBytes.length){return e.assetNameBytes>t.assetNameBytes?1:-1}if(e.assetNameBytes.length>t.assetNameBytes.length)return 1;return -1};const comparePolicyIdCanonically=(e,t)=>e.policyId>t.policyId?1:-1;const tokenMapToAssetGroup=(e,t)=>{const r=new Map;for(const[s,i]of e.entries()){const o=a.Cardano.AssetId.getPolicyId(s);const n=a.Cardano.AssetId.getAssetName(s);if(!r.has(o))r.set(o,[]);r.get(o).push({assetNameBytes:n,...t?{mintAmount:i.toString()}:{amount:i.toString()}})}const d=[];for(const[c,l]of r.entries()){l.sort(compareAssetNameCanonically);d.push({policyId:c,tokenAmounts:l})}d.sort(comparePolicyIdCanonically);return d};const mapTokenMap=(e,t=false)=>e?tokenMapToAssetGroup(e,t):void 0;t.mapTokenMap=mapTokenMap},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/auxiliaryData.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapAuxiliaryData=void 0;const mapAuxiliaryData=e=>({cVoteRegistrationParameters:void 0,hash:e});t.mapAuxiliaryData=mapAuxiliaryData},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/certificates.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapCerts=t.getPoolRegistrationCertificate=t.voteDelegationCertificate=t.getNewStakeAddressCertificate=t.getStakeDelegationCertificate=t.getStakeAddressCertificate=void 0;const o=i(r("../../node_modules/@trezor/connect/lib/index-browser.js"));const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const d=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const getCertCredentials=(e,t)=>{var r;const a=null==t?void 0:t.find(t=>(0,c.areStringsEqualInConstantTime)(n.Cardano.RewardAccount.toHash(t.rewardAccount),e));const s=a?null===(r=n.Cardano.Address.fromBech32(a.rewardAccount))||void 0===r?void 0:r.asReward():null;if(!!s&&(0,c.areNumbersEqualInConstantTime)(null==s?void 0:s.getPaymentCredential().type,n.Cardano.CredentialType.KeyHash)){const i=d.util.stakeKeyPathFromGroupedAddress(a);return i?{path:i}:{keyHash:e}}return{scriptHash:e}};const toPoolMetadata=e=>({hash:e.hash,url:e.url});const getPoolOperatorKeyPath=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.rewardAccount===e);return d.util.stakeKeyPathFromGroupedAddress(r)};const getStakeAddressCertificate=(e,t)=>{const r=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);const a=e.__typename===n.Cardano.CertificateType.StakeRegistration?o.PROTO.CardanoCertificateType.STAKE_REGISTRATION:o.PROTO.CardanoCertificateType.STAKE_DEREGISTRATION;return{dRep:void 0,deposit:void 0,keyHash:r.keyHash,path:r.path,pool:void 0,poolParameters:void 0,scriptHash:r.scriptHash,type:a}};t.getStakeAddressCertificate=getStakeAddressCertificate;const getStakeDelegationCertificate=(e,t)=>{const r=n.Cardano.PoolId.toKeyHash(e.poolId);const a=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);return{dRep:void 0,deposit:void 0,keyHash:a.keyHash,path:a.path,pool:r,poolParameters:void 0,scriptHash:a.scriptHash,type:o.PROTO.CardanoCertificateType.STAKE_DELEGATION}};t.getStakeDelegationCertificate=getStakeDelegationCertificate;const getNewStakeAddressCertificate=(e,t)=>{const r=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);const a=e.__typename===n.Cardano.CertificateType.Registration?o.PROTO.CardanoCertificateType.STAKE_REGISTRATION_CONWAY:o.PROTO.CardanoCertificateType.STAKE_DEREGISTRATION_CONWAY;return{dRep:void 0,deposit:e.deposit.toString(),keyHash:r.keyHash,path:r.path,pool:void 0,poolParameters:void 0,scriptHash:r.scriptHash,type:a}};t.getNewStakeAddressCertificate=getNewStakeAddressCertificate;const drepParamsMapper=(e,t)=>{let r;switch(t){case n.Cardano.CredentialType.KeyHash:r={keyHash:e.hash,type:o.PROTO.CardanoDRepType.KEY_HASH};break;case n.Cardano.CredentialType.ScriptHash:default:r={scriptHash:e.hash,type:o.PROTO.CardanoDRepType.SCRIPT_HASH}}return r};const drepMapper=e=>{if(n.Cardano.isDRepAlwaysAbstain(e)){return{type:o.PROTO.CardanoDRepType.ABSTAIN}}if(n.Cardano.isDRepAlwaysNoConfidence(e)){return{type:o.PROTO.CardanoDRepType.NO_CONFIDENCE}}if(n.Cardano.isDRepCredential(e)){return drepParamsMapper(e,e.type)}throw new Error("incorrect drep supplied")};const voteDelegationCertificate=(e,t)=>{const r=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);return{dRep:drepMapper(e.dRep),deposit:void 0,keyHash:r.keyHash,path:r.path,pool:void 0,poolParameters:void 0,scriptHash:r.scriptHash,type:o.PROTO.CardanoCertificateType.VOTE_DELEGATION}};t.voteDelegationCertificate=voteDelegationCertificate;const getPoolRegistrationCertificate=(e,t)=>{if(!e.poolParameters.metadataJson)throw new c.InvalidArgumentError("certificate","Missing pool registration pool metadata.");return{dRep:void 0,deposit:void 0,keyHash:void 0,path:void 0,pool:void 0,poolParameters:{cost:e.poolParameters.cost.toString(),margin:{denominator:e.poolParameters.margin.denominator.toString(),numerator:e.poolParameters.margin.numerator.toString()},metadata:toPoolMetadata(e.poolParameters.metadataJson),owners:e.poolParameters.owners.map(e=>{const r=getPoolOperatorKeyPath(e,t);const a=n.Cardano.RewardAccount.toHash(e);return r?{stakingKeyPath:r}:{stakingKeyHash:a}}),pledge:e.poolParameters.pledge.toString(),poolId:n.Cardano.PoolId.toKeyHash(e.poolParameters.id),relays:e.poolParameters.relays.map(e=>{switch(e.__typename){case"RelayByAddress":return{ipv4Address:e.ipv4,ipv6Address:e.ipv6,port:e.port,type:o.PROTO.CardanoPoolRelayType.SINGLE_HOST_IP};case"RelayByName":return{hostName:e.hostname,port:e.port,type:o.PROTO.CardanoPoolRelayType.SINGLE_HOST_NAME};case"RelayByNameMultihost":return{hostName:e.dnsName,type:o.PROTO.CardanoPoolRelayType.MULTIPLE_HOST_NAME};default:throw new c.InvalidArgumentError("certificate","Unknown relay type.")}}),rewardAccount:e.poolParameters.rewardAccount,vrfKeyHash:e.poolParameters.vrf},scriptHash:void 0,type:o.PROTO.CardanoCertificateType.STAKE_POOL_REGISTRATION}};t.getPoolRegistrationCertificate=getPoolRegistrationCertificate;const toCert=(e,r)=>{switch(e.__typename){case n.Cardano.CertificateType.StakeRegistration:return(0,t.getStakeAddressCertificate)(e,r);case n.Cardano.CertificateType.StakeDeregistration:return(0,t.getStakeAddressCertificate)(e,r);case n.Cardano.CertificateType.StakeDelegation:return(0,t.getStakeDelegationCertificate)(e,r);case n.Cardano.CertificateType.PoolRegistration:return(0,t.getPoolRegistrationCertificate)(e,r);case n.Cardano.CertificateType.Registration:return(0,t.getNewStakeAddressCertificate)(e,r);case n.Cardano.CertificateType.Unregistration:return(0,t.getNewStakeAddressCertificate)(e,r);case n.Cardano.CertificateType.VoteDelegation:return(0,t.voteDelegationCertificate)(e,r);default:throw new c.InvalidArgumentError("cert",`Certificate ${e.__typename} not supported.`)}};const mapCerts=(e,t)=>e.map(e=>toCert(e,t));t.mapCerts=mapCerts},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/keyPaths.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/txIn.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/txOut.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/withdrawals.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/certificates.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/auxiliaryData.js"),t);s(r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/requiredSigners.js"),t)},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/keyPaths.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.resolveStakeKeyPath=t.resolvePaymentKeyPathForTxIn=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const resolvePaymentKeyPathForTxIn=(e,t)=>{if(!t)return;const r=null==t?void 0:t.txInKeyPathMap[(0,a.TxInId)(e)];if(r){return a.util.accountKeyDerivationPathToBip32Path(t.accountIndex,r)}};t.resolvePaymentKeyPathForTxIn=resolvePaymentKeyPathForTxIn;const resolveStakeKeyPath=(e,t)=>{const r=t.find(({rewardAccount:t})=>t===e.toAddress().toBech32());return a.util.stakeKeyPathFromGroupedAddress(r)};t.resolveStakeKeyPath=resolveStakeKeyPath},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/requiredSigners.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapRequiredSigners=t.toRequiredSigner=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const toRequiredSigner=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>{var r,i;const o=null===(i=null===(r=a.Cardano.Address.fromBech32(t.address))||void 0===r?void 0:r.asBase())||void 0===i?void 0:i.getPaymentCredential().hash;return!!o&&(0,s.areStringsEqualInConstantTime)(o.toString(),e)});const o=null==t?void 0:t.knownAddresses.find(t=>{const r=a.Cardano.RewardAccount.toHash(t.rewardAccount);return!!r&&(0,s.areStringsEqualInConstantTime)(r.toString(),e)});const n=r?i.util.paymentKeyPathFromGroupedAddress(r):null;const d=o?i.util.stakeKeyPathFromGroupedAddress(o):null;if(n){return{keyHash:void 0,keyPath:n}}if(d){return{keyHash:void 0,keyPath:d}}return{keyHash:e,keyPath:void 0}};t.toRequiredSigner=toRequiredSigner;const mapRequiredSigners=(e,r)=>e.map(e=>(0,t.toRequiredSigner)(e,r));t.mapRequiredSigners=mapRequiredSigners},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/tx.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.txToTrezor=t.trezorTxTransformer=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/additionalWitnessRequests.js");const i=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/index.js");const o=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/assets.js");t.trezorTxTransformer={additionalWitnessRequests:({inputs:e},t)=>(0,s.mapAdditionalWitnessRequests)(e,t),auxiliaryData:({auxiliaryDataHash:e})=>e?(0,i.mapAuxiliaryData)(e):void 0,certificates:({certificates:e},t)=>e?(0,i.mapCerts)(e,t):void 0,collateralInputs:({collaterals:e},t)=>e?(0,i.mapTxIns)(e,t):void 0,collateralReturn:({collateralReturn:e},t)=>e?(0,i.toTxOut)({index:0,isCollateral:true,txOut:e},t):void 0,fee:({fee:e})=>e.toString(),includeNetworkId:({networkId:e})=>!!e,inputs:({inputs:e},t)=>(0,i.mapTxIns)(e,t),mint:({mint:e})=>(0,o.mapTokenMap)(e,true),networkId:(e,t)=>t.chainId.networkId,outputs:({outputs:e},t)=>(0,i.mapTxOuts)(e,t),protocolMagic:(e,t)=>t.chainId.networkMagic,referenceInputs:({referenceInputs:e},t)=>e?(0,i.mapTxIns)(e,t):void 0,requiredSigners:({requiredExtraSignatures:e},t)=>e?(0,i.mapRequiredSigners)(e,t):void 0,scriptDataHash:({scriptIntegrityHash:e})=>{return null==e?void 0:e.toString()},tagCborSets:(e,t)=>t.tagCborSets,totalCollateral:({totalCollateral:e})=>{return null==e?void 0:e.toString()},ttl:({validityInterval:e})=>{var t;return null==e?void 0:null===(t=e.invalidHereafter)||void 0===t?void 0:t.toString()},validityIntervalStart:({validityInterval:e})=>{var t;return null==e?void 0:null===(t=e.invalidBefore)||void 0===t?void 0:t.toString()},withdrawals:({withdrawals:e},t)=>(0,i.mapWithdrawals)(e,t)};const txToTrezor=(e,r)=>(0,a.transformObj)(e,t.trezorTxTransformer,r);t.txToTrezor=txToTrezor},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/txIn.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapTxIns=t.toTrezorTxIn=void 0;const a=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/keyPaths.js");const toTrezorTxIn=(e,t)=>{const r=(0,a.resolvePaymentKeyPathForTxIn)(e,t);return{path:r,prev_hash:e.txId,prev_index:e.index}};t.toTrezorTxIn=toTrezorTxIn;const mapTxIns=(e,r)=>e.map(e=>(0,t.toTrezorTxIn)(e,r));t.mapTxIns=mapTxIns},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/txOut.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.mapTxOuts=t.toTxOut=void 0;const o=i(r("../../node_modules/@trezor/connect/lib/index-browser.js"));const n=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const d=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/assets.js");const toDestination=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.address===e.address);const a=n.Cardano.util.isScriptAddress(e.address);if(!r||a){return{address:e.address}}const s=d.util.paymentKeyPathFromGroupedAddress(r);const i=d.util.stakeKeyPathFromGroupedAddress(r);if(!i)throw new c.InvalidArgumentError("txOut","Missing staking key key path.");return{addressParameters:{addressType:o.PROTO.CardanoAddressType.BASE,path:s,stakingPath:i}}};const getScriptHex=e=>{const t=e.scriptRef();if(!t)return;return t.toCbor()};const getInlineDatum=e=>n.Serialization.PlutusData.fromCore(e).toCbor();const toTxOut=(e,t)=>{var r;const{txOut:a,index:s,isCollateral:i}=e;const d=n.Serialization.TransactionOutput.fromCore(a);const c=getScriptHex(d);const u=i?null==t?void 0:t.collateralReturnFormat:null==t?void 0:t.outputsFormat[s];const f=u===o.PROTO.CardanoTxOutputSerializationFormat.MAP_BABBAGE;return{...toDestination(a,t),amount:a.value.coins.toString(),datumHash:null===(r=a.datumHash)||void 0===r?void 0:r.toString(),format:u,inlineDatum:f&&a.datum?getInlineDatum(a.datum):void 0,referenceScript:f?c:void 0,tokenBundle:(0,l.mapTokenMap)(a.value.assets)}};t.toTxOut=toTxOut;const mapTxOuts=(e,r)=>e.map((e,a)=>(0,t.toTxOut)({index:a,isCollateral:false,txOut:e},r));t.mapTxOuts=mapTxOuts},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/withdrawals.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapWithdrawals=t.toTrezorWithdrawal=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/transformers/keyPaths.js");const toTrezorWithdrawal=(e,t)=>{const r=a.Cardano.Address.fromString(e.stakeAddress);const o=null==r?void 0:r.asReward();if(!o)throw new s.InvalidArgumentError("withdrawal","Invalid withdrawal stake address");let n;if((0,s.areNumbersEqualInConstantTime)(o.getPaymentCredential().type,a.Cardano.CredentialType.KeyHash)){const d=(null==t?void 0:t.knownAddresses)?(0,i.resolveStakeKeyPath)(o,t.knownAddresses):null;n=d?{amount:e.quantity.toString(),keyHash:void 0,path:d,scriptHash:void 0}:{amount:e.quantity.toString(),keyHash:o.getPaymentCredential().hash.toString(),path:void 0,scriptHash:void 0}}else{n={amount:e.quantity.toString(),keyHash:void 0,path:void 0,scriptHash:o.getPaymentCredential().hash.toString()}}return n};t.toTrezorWithdrawal=toTrezorWithdrawal;const mapWithdrawals=(e,r)=>e?e.map(e=>(0,t.toTrezorWithdrawal)(e,r)):void 0;t.mapWithdrawals=mapWithdrawals},"../../node_modules/@cardano-sdk/hardware-trezor/dist/cjs/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/TrezorKeyAgent.js":(e,t,r)=>{"use strict";r.d(t,{TrezorKeyAgent:()=>TrezorKeyAgent});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@trezor/connect/lib/index-browser.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var o=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/AuthenticationError.js");var n=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/TransportError.js");var d=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var c=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var l=r("../../node_modules/@cardano-sdk/key-management/dist/esm/KeyAgentBase.js");var u=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js");var f=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/HwMappingError.js");var h=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var p=r("../../node_modules/@cardano-sdk/util/dist/esm/transformer.js");var m=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");var _=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/keyPaths.js");var v=r("../../node_modules/lodash/isArray.js");var y=r("../../node_modules/lodash/uniq.js");const mapAdditionalWitnessRequests=(e,t)=>{var r;const a=y(e.map(e=>(0,_.resolvePaymentKeyPathForTxIn)(e,t)).filter(m.isNotNil).filter(v));const s=[...a];if(null==t?void 0:null===(r=t.knownAddresses)||void 0===r?void 0:r.length){const i=c.stakeKeyPathFromGroupedAddress(t.knownAddresses[0]);if(i)s.push(i)}return s};var w=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/auxiliaryData.js");var g=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/certificates.js");var b=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/txIn.js");var P=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/txOut.js");var C=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/requiredSigners.js");var S=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/withdrawals.js");var T=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/assets.js");const E={additionalWitnessRequests:({inputs:e},t)=>mapAdditionalWitnessRequests(e,t),auxiliaryData:({auxiliaryDataHash:e})=>e?(0,w.mapAuxiliaryData)(e):void 0,certificates:({certificates:e},t)=>e?(0,g.mapCerts)(e,t):void 0,collateralInputs:({collaterals:e},t)=>e?(0,b.mapTxIns)(e,t):void 0,collateralReturn:({collateralReturn:e},t)=>e?(0,P.toTxOut)({index:0,isCollateral:true,txOut:e},t):void 0,fee:({fee:e})=>e.toString(),includeNetworkId:({networkId:e})=>!!e,inputs:({inputs:e},t)=>(0,b.mapTxIns)(e,t),mint:({mint:e})=>(0,T.mapTokenMap)(e,true),networkId:(e,t)=>t.chainId.networkId,outputs:({outputs:e},t)=>(0,P.mapTxOuts)(e,t),protocolMagic:(e,t)=>t.chainId.networkMagic,referenceInputs:({referenceInputs:e},t)=>e?(0,b.mapTxIns)(e,t):void 0,requiredSigners:({requiredExtraSignatures:e},t)=>e?(0,C.mapRequiredSigners)(e,t):void 0,scriptDataHash:({scriptIntegrityHash:e})=>{return null==e?void 0:e.toString()},tagCborSets:(e,t)=>t.tagCborSets,totalCollateral:({totalCollateral:e})=>{return null==e?void 0:e.toString()},ttl:({validityInterval:e})=>{var t;return null==e?void 0:null===(t=e.invalidHereafter)||void 0===t?void 0:t.toString()},validityIntervalStart:({validityInterval:e})=>{var t;return null==e?void 0:null===(t=e.invalidBefore)||void 0===t?void 0:t.toString()},withdrawals:({withdrawals:e},t)=>(0,S.mapWithdrawals)(e,t)};const txToTrezor=(e,t)=>(0,p.transformObj)(e,E,t);var k=r("../../node_modules/@trezor/connect-web/lib/index.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var A,I;const j=s;const x=k["default"]?k["default"]:k;const transportTypedError=e=>new o.AuthenticationError("Trezor transport failed",new n.TransportError("Trezor transport failed",e));const getTrezorConnect=e=>e===d.CommunicationType.Node?j:x;const mapDerivationType=e=>{switch(e){case"ICARUS":return s.PROTO.CardanoDerivationType.ICARUS;case"ICARUS_TREZOR":return s.PROTO.CardanoDerivationType.ICARUS_TREZOR;case"LEDGER":return s.PROTO.CardanoDerivationType.LEDGER;default:throw new Error(`Unsupported derivation type: ${e}`)}};const stakeCredentialCert=e=>e===s.PROTO.CardanoCertificateType.STAKE_REGISTRATION||e===s.PROTO.CardanoCertificateType.STAKE_DEREGISTRATION||e===s.PROTO.CardanoCertificateType.STAKE_DELEGATION;const containsOnlyScriptHashCredentials=e=>{var t;if(e.certificates){for(const r of e.certificates)if(!stakeCredentialCert(r.type)||!r.scriptHash)return false}return!(null===(t=e.withdrawals)||void 0===t?void 0:t.some(e=>!e.scriptHash))};const R=[c.accountKeyDerivationPathToBip32Path(0,{index:0,role:d.KeyRole.External},d.KeyPurpose.MULTI_SIG)];const isMultiSig=e=>{var t;const r=!e.inputs.some(e=>e.path);const a=!(null===(t=e.requiredSigners)||void 0===t?void 0:t.some(e=>e.keyPath));const s=!e.outputs.some(e=>"addressParameters"in e);return r&&s&&a&&!e.collateralInputs&&!e.collateralReturn&&!e.totalCollateral&&!e.referenceInputs&&containsOnlyScriptHashCredentials(e)};class TrezorKeyAgent extends l.KeyAgentBase{get trezorConfig(){return __classPrivateFieldGet(this,I,"f")}static async initializeTrezorTransport({manifest:e,communicationType:t,silentMode:r=false,lazyLoad:a=false,shouldHandlePassphrase:i=false}){const o=getTrezorConnect(t);try{await o.init({lazyLoad:t!==d.CommunicationType.Node&&a,manifest:e,popup:t!==d.CommunicationType.Node&&!r});if(i)o.on(s.UI_EVENT,e=>{if(e.type===s.UI.REQUEST_PASSPHRASE&&e.payload.device)o.uiResponse({payload:{passphraseOnDevice:true,save:true,value:""},type:s.UI.RECEIVE_PASSPHRASE})});return true}catch(n){if("Init_AlreadyInitialized"===n.code)return true;throw transportTypedError(n)}}static async checkDeviceConnection(e){const t=getTrezorConnect(e);try{const r=await t.getFeatures();if(!r.success){throw new n.TransportError("Failed to get device",r.payload)}return r.payload}catch(a){throw transportTypedError(a)}}static async getXpub({accountIndex:e,communicationType:t,purpose:r,derivationType:s}){try{await TrezorKeyAgent.checkDeviceConnection(t);const i=`m/${r}'/${d.CardanoKeyConst.COIN_TYPE}'/${e}'`;const o=getTrezorConnect(t);const c=s?mapDerivationType(s):void 0;const l=await o.cardanoGetPublicKey({path:i,showOnTrezor:true,...s&&{derivationType:c}});if(!l.success){throw new n.TransportError("Failed to export extended account public key",l.payload)}return a.Bip32PublicKeyHex(l.payload.publicKey)}catch(u){throw transportTypedError(u)}}static async createWithDevice({chainId:e,accountIndex:t=0,trezorConfig:r,purpose:a=d.KeyPurpose.STANDARD},s){const i=await TrezorKeyAgent.initializeTrezorTransport(r);const o=await TrezorKeyAgent.getXpub({accountIndex:t,communicationType:r.communicationType,derivationType:r.derivationType,purpose:a});return new TrezorKeyAgent({accountIndex:t,chainId:e,extendedAccountPublicKey:o,isTrezorInitialized:i,purpose:a,trezorConfig:r},s)}static matchSigningMode(e){if(e.certificates){for(const t of e.certificates){var r;if(t.type===s.PROTO.CardanoCertificateType.STAKE_POOL_REGISTRATION&&(null===(r=t.poolParameters)||void 0===r?void 0:r.owners.some(e=>e.stakingKeyPath)))return s.PROTO.CardanoTxSigningMode.POOL_REGISTRATION_AS_OWNER}}if(e.collateralInputs||e.collateralReturn||e.totalCollateral||e.referenceInputs){return s.PROTO.CardanoTxSigningMode.PLUTUS_TRANSACTION}if(isMultiSig(e)){return s.PROTO.CardanoTxSigningMode.MULTISIG_TRANSACTION}return s.PROTO.CardanoTxSigningMode.ORDINARY_TRANSACTION}async signTransaction(e,{knownAddresses:t,txInKeyPathMap:r,scripts:i}){try{var d;await this.isTrezorInitialized;const c=e.toCore();const l=e.hash();const p=e.outputs().map(e=>e.isBabbageOutput()?s.PROTO.CardanoTxOutputSerializationFormat.MAP_BABBAGE:s.PROTO.CardanoTxOutputSerializationFormat.ARRAY_LEGACY);const m=(null===(d=e.collateralReturn())||void 0===d?void 0:d.isBabbageOutput())?s.PROTO.CardanoTxOutputSerializationFormat.MAP_BABBAGE:s.PROTO.CardanoTxOutputSerializationFormat.ARRAY_LEGACY;const _=await txToTrezor(c,{accountIndex:this.accountIndex,chainId:this.chainId,collateralReturnFormat:m,knownAddresses:t,outputsFormat:p,tagCborSets:e.hasTaggedSets(),txInKeyPathMap:r});const v=TrezorKeyAgent.matchSigningMode(_);const y=getTrezorConnect(__classPrivateFieldGet(this,A,"f"));const w=await y.cardanoSignTransaction({..._,...v===s.PROTO.CardanoTxSigningMode.MULTISIG_TRANSACTION&&{additionalWitnessRequests:R},signingMode:v,...this.trezorConfig.derivationType?{derivationType:mapDerivationType(this.trezorConfig.derivationType)}:{}});const g=await Promise.all(u.ownSignatureKeyPaths(c,t,r,void 0,i).map(e=>this.derivePublicKey(e)));if(!w.success){throw new n.TransportError("Failed to export extended account public key",w.payload)}const b=w.payload;if(!(0,h.areStringsEqualInConstantTime)(b.hash,l)){throw new f.HwMappingError(`Trezor computed a different transaction id: ${b.hash} than expected: ${l}`)}return new Map(await Promise.all(b.witnesses.filter(e=>g.includes(a.Ed25519PublicKeyHex(e.pubKey))).map(async e=>{const t=a.Ed25519PublicKeyHex(e.pubKey);const r=a.Ed25519SignatureHex(e.signature);return[t,r]})))}catch(C){var P;if((null===(P=C.innerError)||void 0===P?void 0:P.code)==="Failure_ActionCancelled"){throw new o.AuthenticationError("Transaction signing aborted",C)}throw transportTypedError(C)}}async signBlob(){throw new i.NotImplementedError("signBlob")}async signCip8Data(){throw new i.NotImplementedError("signCip8Data")}async exportRootPrivateKey(){throw new i.NotImplementedError("Operation not supported!")}constructor({isTrezorInitialized:e,...t},r){super({...t,__typename:d.KeyAgentType.Trezor},r);A.set(this,void 0);I.set(this,void 0);if(!e)this.isTrezorInitialized=TrezorKeyAgent.initializeTrezorTransport(t.trezorConfig);__classPrivateFieldSet(this,A,t.trezorConfig.communicationType,"f");__classPrivateFieldSet(this,I,t.trezorConfig,"f")}}A=new WeakMap,I=new WeakMap},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{TrezorKeyAgent:()=>l.TrezorKeyAgent,getNewStakeAddressCertificate:()=>n.getNewStakeAddressCertificate,getPoolRegistrationCertificate:()=>n.getPoolRegistrationCertificate,getStakeAddressCertificate:()=>n.getStakeAddressCertificate,getStakeDelegationCertificate:()=>n.getStakeDelegationCertificate,mapAuxiliaryData:()=>d.mapAuxiliaryData,mapCerts:()=>n.mapCerts,mapRequiredSigners:()=>c.mapRequiredSigners,mapTxIns:()=>s.mapTxIns,mapTxOuts:()=>i.mapTxOuts,mapWithdrawals:()=>o.mapWithdrawals,resolvePaymentKeyPathForTxIn:()=>a.resolvePaymentKeyPathForTxIn,resolveStakeKeyPath:()=>a.resolveStakeKeyPath,toRequiredSigner:()=>c.toRequiredSigner,toTrezorTxIn:()=>s.toTrezorTxIn,toTrezorWithdrawal:()=>o.toTrezorWithdrawal,toTxOut:()=>i.toTxOut,voteDelegationCertificate:()=>n.voteDelegationCertificate});var a=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/keyPaths.js");var s=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/txIn.js");var i=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/txOut.js");var o=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/withdrawals.js");var n=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/certificates.js");var d=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/auxiliaryData.js");var c=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/requiredSigners.js");var l=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/TrezorKeyAgent.js")},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/assets.js":(e,t,r)=>{"use strict";r.d(t,{mapTokenMap:()=>mapTokenMap});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Asset.js");const compareAssetNameCanonically=(e,t)=>{if(e.assetNameBytes.length===t.assetNameBytes.length){return e.assetNameBytes>t.assetNameBytes?1:-1}if(e.assetNameBytes.length>t.assetNameBytes.length)return 1;return -1};const comparePolicyIdCanonically=(e,t)=>e.policyId>t.policyId?1:-1;const tokenMapToAssetGroup=(e,t)=>{const r=new Map;for(const[s,i]of e.entries()){const o=a.AssetId.getPolicyId(s);const n=a.AssetId.getAssetName(s);if(!r.has(o))r.set(o,[]);r.get(o).push({assetNameBytes:n,...t?{mintAmount:i.toString()}:{amount:i.toString()}})}const d=[];for(const[c,l]of r.entries()){l.sort(compareAssetNameCanonically);d.push({policyId:c,tokenAmounts:l})}d.sort(comparePolicyIdCanonically);return d};const mapTokenMap=(e,t=false)=>e?tokenMapToAssetGroup(e,t):void 0},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/auxiliaryData.js":(e,t,r)=>{"use strict";r.d(t,{mapAuxiliaryData:()=>mapAuxiliaryData});const mapAuxiliaryData=e=>({cVoteRegistrationParameters:void 0,hash:e})},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/certificates.js":(e,t,r)=>{"use strict";r.d(t,{getNewStakeAddressCertificate:()=>getNewStakeAddressCertificate,getPoolRegistrationCertificate:()=>getPoolRegistrationCertificate,getStakeAddressCertificate:()=>getStakeAddressCertificate,getStakeDelegationCertificate:()=>getStakeDelegationCertificate,mapCerts:()=>mapCerts,voteDelegationCertificate:()=>voteDelegationCertificate});var a=r("../../node_modules/@trezor/connect/lib/index-browser.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var c=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var l=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var u=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const getCertCredentials=(e,t)=>{var r;const a=null==t?void 0:t.find(t=>(0,l.areStringsEqualInConstantTime)(s.RewardAccount.toHash(t.rewardAccount),e));const o=a?null===(r=i.Address.fromBech32(a.rewardAccount))||void 0===r?void 0:r.asReward():null;if(!!o&&(0,l.areNumbersEqualInConstantTime)(null==o?void 0:o.getPaymentCredential().type,i.CredentialType.KeyHash)){const n=c.stakeKeyPathFromGroupedAddress(a);return n?{path:n}:{keyHash:e}}return{scriptHash:e}};const toPoolMetadata=e=>({hash:e.hash,url:e.url});const getPoolOperatorKeyPath=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.rewardAccount===e);return c.stakeKeyPathFromGroupedAddress(r)};const getStakeAddressCertificate=(e,t)=>{const r=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);const s=e.__typename===o.CertificateType.StakeRegistration?a.PROTO.CardanoCertificateType.STAKE_REGISTRATION:a.PROTO.CardanoCertificateType.STAKE_DEREGISTRATION;return{dRep:void 0,deposit:void 0,keyHash:r.keyHash,path:r.path,pool:void 0,poolParameters:void 0,scriptHash:r.scriptHash,type:s}};const getStakeDelegationCertificate=(e,t)=>{const r=n.PoolId.toKeyHash(e.poolId);const s=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);return{dRep:void 0,deposit:void 0,keyHash:s.keyHash,path:s.path,pool:r,poolParameters:void 0,scriptHash:s.scriptHash,type:a.PROTO.CardanoCertificateType.STAKE_DELEGATION}};const getNewStakeAddressCertificate=(e,t)=>{const r=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);const s=e.__typename===o.CertificateType.Registration?a.PROTO.CardanoCertificateType.STAKE_REGISTRATION_CONWAY:a.PROTO.CardanoCertificateType.STAKE_DEREGISTRATION_CONWAY;return{dRep:void 0,deposit:e.deposit.toString(),keyHash:r.keyHash,path:r.path,pool:void 0,poolParameters:void 0,scriptHash:r.scriptHash,type:s}};const drepParamsMapper=(e,t)=>{let r;switch(t){case i.CredentialType.KeyHash:r={keyHash:e.hash,type:a.PROTO.CardanoDRepType.KEY_HASH};break;case i.CredentialType.ScriptHash:default:r={scriptHash:e.hash,type:a.PROTO.CardanoDRepType.SCRIPT_HASH}}return r};const drepMapper=e=>{if(d.isDRepAlwaysAbstain(e)){return{type:a.PROTO.CardanoDRepType.ABSTAIN}}if(d.isDRepAlwaysNoConfidence(e)){return{type:a.PROTO.CardanoDRepType.NO_CONFIDENCE}}if(d.isDRepCredential(e)){return drepParamsMapper(e,e.type)}throw new Error("incorrect drep supplied")};const voteDelegationCertificate=(e,t)=>{const r=getCertCredentials(e.stakeCredential.hash,null==t?void 0:t.knownAddresses);return{dRep:drepMapper(e.dRep),deposit:void 0,keyHash:r.keyHash,path:r.path,pool:void 0,poolParameters:void 0,scriptHash:r.scriptHash,type:a.PROTO.CardanoCertificateType.VOTE_DELEGATION}};const getPoolRegistrationCertificate=(e,t)=>{if(!e.poolParameters.metadataJson)throw new u.InvalidArgumentError("certificate","Missing pool registration pool metadata.");return{dRep:void 0,deposit:void 0,keyHash:void 0,path:void 0,pool:void 0,poolParameters:{cost:e.poolParameters.cost.toString(),margin:{denominator:e.poolParameters.margin.denominator.toString(),numerator:e.poolParameters.margin.numerator.toString()},metadata:toPoolMetadata(e.poolParameters.metadataJson),owners:e.poolParameters.owners.map(e=>{const r=getPoolOperatorKeyPath(e,t);const a=s.RewardAccount.toHash(e);return r?{stakingKeyPath:r}:{stakingKeyHash:a}}),pledge:e.poolParameters.pledge.toString(),poolId:n.PoolId.toKeyHash(e.poolParameters.id),relays:e.poolParameters.relays.map(e=>{switch(e.__typename){case"RelayByAddress":return{ipv4Address:e.ipv4,ipv6Address:e.ipv6,port:e.port,type:a.PROTO.CardanoPoolRelayType.SINGLE_HOST_IP};case"RelayByName":return{hostName:e.hostname,port:e.port,type:a.PROTO.CardanoPoolRelayType.SINGLE_HOST_NAME};case"RelayByNameMultihost":return{hostName:e.dnsName,type:a.PROTO.CardanoPoolRelayType.MULTIPLE_HOST_NAME};default:throw new u.InvalidArgumentError("certificate","Unknown relay type.")}}),rewardAccount:e.poolParameters.rewardAccount,vrfKeyHash:e.poolParameters.vrf},scriptHash:void 0,type:a.PROTO.CardanoCertificateType.STAKE_POOL_REGISTRATION}};const toCert=(e,t)=>{switch(e.__typename){case o.CertificateType.StakeRegistration:return getStakeAddressCertificate(e,t);case o.CertificateType.StakeDeregistration:return getStakeAddressCertificate(e,t);case o.CertificateType.StakeDelegation:return getStakeDelegationCertificate(e,t);case o.CertificateType.PoolRegistration:return getPoolRegistrationCertificate(e,t);case o.CertificateType.Registration:return getNewStakeAddressCertificate(e,t);case o.CertificateType.Unregistration:return getNewStakeAddressCertificate(e,t);case o.CertificateType.VoteDelegation:return voteDelegationCertificate(e,t);default:throw new u.InvalidArgumentError("cert",`Certificate ${e.__typename} not supported.`)}};const mapCerts=(e,t)=>e.map(e=>toCert(e,t))},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/keyPaths.js":(e,t,r)=>{"use strict";r.d(t,{resolvePaymentKeyPathForTxIn:()=>resolvePaymentKeyPathForTxIn,resolveStakeKeyPath:()=>resolveStakeKeyPath});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");const resolvePaymentKeyPathForTxIn=(e,t)=>{if(!t)return;const r=null==t?void 0:t.txInKeyPathMap[(0,a.TxInId)(e)];if(r){return s.accountKeyDerivationPathToBip32Path(t.accountIndex,r)}};const resolveStakeKeyPath=(e,t)=>{const r=t.find(({rewardAccount:t})=>t===e.toAddress().toBech32());return s.stakeKeyPathFromGroupedAddress(r)}},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/requiredSigners.js":(e,t,r)=>{"use strict";r.d(t,{mapRequiredSigners:()=>mapRequiredSigners,toRequiredSigner:()=>toRequiredSigner});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var o=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");const toRequiredSigner=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>{var r,s;const o=null===(s=null===(r=a.Address.fromBech32(t.address))||void 0===r?void 0:r.asBase())||void 0===s?void 0:s.getPaymentCredential().hash;return!!o&&(0,i.areStringsEqualInConstantTime)(o.toString(),e)});const n=null==t?void 0:t.knownAddresses.find(t=>{const r=s.RewardAccount.toHash(t.rewardAccount);return!!r&&(0,i.areStringsEqualInConstantTime)(r.toString(),e)});const d=r?o.paymentKeyPathFromGroupedAddress(r):null;const c=n?o.stakeKeyPathFromGroupedAddress(n):null;if(d){return{keyHash:void 0,keyPath:d}}if(c){return{keyHash:void 0,keyPath:c}}return{keyHash:e,keyPath:void 0}};const mapRequiredSigners=(e,t)=>e.map(e=>toRequiredSigner(e,t))},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/txIn.js":(e,t,r)=>{"use strict";r.d(t,{mapTxIns:()=>mapTxIns,toTrezorTxIn:()=>toTrezorTxIn});var a=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/keyPaths.js");const toTrezorTxIn=(e,t)=>{const r=(0,a.resolvePaymentKeyPathForTxIn)(e,t);return{path:r,prev_hash:e.txId,prev_index:e.index}};const mapTxIns=(e,t)=>e.map(e=>toTrezorTxIn(e,t))},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/txOut.js":(e,t,r)=>{"use strict";r.d(t,{mapTxOuts:()=>mapTxOuts,toTxOut:()=>toTxOut});var a=r("../../node_modules/@trezor/connect/lib/index-browser.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/isScriptAddress.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionOutput.js");var n=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var d=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var c=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/assets.js");const toDestination=(e,t)=>{const r=null==t?void 0:t.knownAddresses.find(t=>t.address===e.address);const i=s.isScriptAddress(e.address);if(!r||i){return{address:e.address}}const o=n.paymentKeyPathFromGroupedAddress(r);const c=n.stakeKeyPathFromGroupedAddress(r);if(!c)throw new d.InvalidArgumentError("txOut","Missing staking key key path.");return{addressParameters:{addressType:a.PROTO.CardanoAddressType.BASE,path:o,stakingPath:c}}};const getScriptHex=e=>{const t=e.scriptRef();if(!t)return;return t.toCbor()};const getInlineDatum=e=>i.PlutusData.fromCore(e).toCbor();const toTxOut=(e,t)=>{var r;const{txOut:s,index:i,isCollateral:n}=e;const d=o.TransactionOutput.fromCore(s);const l=getScriptHex(d);const u=n?null==t?void 0:t.collateralReturnFormat:null==t?void 0:t.outputsFormat[i];const f=u===a.PROTO.CardanoTxOutputSerializationFormat.MAP_BABBAGE;return{...toDestination(s,t),amount:s.value.coins.toString(),datumHash:null===(r=s.datumHash)||void 0===r?void 0:r.toString(),format:u,inlineDatum:f&&s.datum?getInlineDatum(s.datum):void 0,referenceScript:f?l:void 0,tokenBundle:(0,c.mapTokenMap)(s.value.assets)}};const mapTxOuts=(e,t)=>e.map((e,r)=>toTxOut({index:r,isCollateral:false,txOut:e},t))},"../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/withdrawals.js":(e,t,r)=>{"use strict";r.d(t,{mapWithdrawals:()=>mapWithdrawals,toTrezorWithdrawal:()=>toTrezorWithdrawal});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var i=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var o=r("../../node_modules/@cardano-sdk/hardware-trezor/dist/esm/transformers/keyPaths.js");const toTrezorWithdrawal=(e,t)=>{const r=a.Address.fromString(e.stakeAddress);const n=null==r?void 0:r.asReward();if(!n)throw new s.InvalidArgumentError("withdrawal","Invalid withdrawal stake address");let d;if((0,i.areNumbersEqualInConstantTime)(n.getPaymentCredential().type,a.CredentialType.KeyHash)){const c=(null==t?void 0:t.knownAddresses)?(0,o.resolveStakeKeyPath)(n,t.knownAddresses):null;d=c?{amount:e.quantity.toString(),keyHash:void 0,path:c,scriptHash:void 0}:{amount:e.quantity.toString(),keyHash:n.getPaymentCredential().hash.toString(),path:void 0,scriptHash:void 0}}else{d={amount:e.quantity.toString(),keyHash:void 0,path:void 0,scriptHash:n.getPaymentCredential().hash.toString()}}return d};const mapWithdrawals=(e,t)=>e?e.map(e=>toTrezorWithdrawal(e,t)):void 0},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/ChangeAddress/ChangeAddressResolver.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/ChangeAddress/StaticChangeAddressResolver.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i;Object.defineProperty(t,"__esModule",{value:true});t.StaticChangeAddressResolver=void 0;const o=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");class StaticChangeAddressResolver{async resolve(e){const t=await s(this,i,"f").call(this);if(0===t.length)throw new o.InvalidStateError("The wallet has no known addresses.");const r=t[0].address;return e.change.map(e=>({...e,address:r}))}constructor(e){i.set(this,void 0);a(this,i,e,"f")}}t.StaticChangeAddressResolver=StaticChangeAddressResolver;i=new WeakMap},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/ChangeAddress/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/ChangeAddress/ChangeAddressResolver.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/ChangeAddress/StaticChangeAddressResolver.js"),t)},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/GreedyInputSelector.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i;Object.defineProperty(t,"__esModule",{value:true});t.GreedyInputSelector=void 0;const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const n=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js");const d=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");const c=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/util.js");class GreedyInputSelector{async select(e){var t,r;const{preSelectedUtxo:a,utxo:l,outputs:u,constraints:f,implicitValue:h}=e;const p=new Set([...l,...a]);const m=(0,d.toValues)([...p]);const _=(0,d.toValues)([...u]);const v=(0,d.getCoinQuantity)(m);const y=(0,d.getCoinQuantity)(_);const w=(0,o.coalesceValueQuantities)(m).assets;const g=(0,o.coalesceValueQuantities)(_).assets;const b=(null==h?void 0:null===(t=h.coin)||void 0===t?void 0:t.input)||0n;const P=(null==h?void 0:null===(r=h.coin)||void 0===r?void 0:r.deposit)||0n;const C=(null==h?void 0:h.mint)||new Map;const S=v+b;const T=y+P;const E=(0,d.addTokenMaps)(w,C);const k=S-T;const A=(0,d.subtractTokenMaps)(E,g);if(0===p.size||T>S||(0,d.hasNegativeAssetValue)(A))throw new n.InputSelectionError(n.InputSelectionFailure.UtxoBalanceInsufficient);const I=await (0,c.splitChangeAndComputeFee)(p,u,k,A,f,s(this,i,"f").getChangeAddresses,0n);const j=I.change.filter(e=>{var t;return e.value.coins>0n||((null===(t=e.value.assets)||void 0===t?void 0:t.size)||0)>0});if(k-I.fee<0n)throw new n.InputSelectionError(n.InputSelectionFailure.UtxoBalanceInsufficient);if(p.size>await f.computeSelectionLimit({change:j,fee:I.fee,inputs:p,outputs:u})){throw new n.InputSelectionError(n.InputSelectionFailure.MaximumInputCountExceeded)}return{remainingUTxO:new Set,selection:{change:j,fee:I.fee,inputs:new Set([...p].sort(d.sortUtxoByTxIn)),outputs:u}}}constructor(e){i.set(this,void 0);a(this,i,e,"f")}}t.GreedyInputSelector=GreedyInputSelector;i=new WeakMap},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/GreedyInputSelector.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/util.js"),t)},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/util.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.splitChangeAndComputeFee=t.adjustOutputsForFee=t.splitChange=void 0;const a=r("../../node_modules/@cardano-sdk/input-selection/node_modules/bignumber.js/bignumber.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js");const o=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");const n=.05;const distributeAssets=(e,t,r,a)=>{const n=[...e];if(0===n.length)return n;const d=(0,s.coalesceValueQuantities)(n.map(e=>e.value)).assets;if(!d||0===d.size)return n;for(const c of n)c.value.assets=void 0;let l=0;const u=n;const f=[];while(d.size>0){const h=new Map([...d.entries()].splice(0,1));const p=l%u.length;const m={...u[p].value};m.assets=(0,o.addTokenMaps)(m.assets,h);if((0,o.isValidValue)(m,t,r,a)){u[p].value=m;d.delete([...h.keys()][0])}else{f.push(...u.splice(p,1))}if(0===u.length)throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted);++l}return[...n,...f]};const getMinUtxoAmount=e=>{const t=new a.BigNumber(.03);let r=e.toString().length-1;let s="1";while(r>0){s+="0";--r}return BigInt(new a.BigNumber(s).multipliedBy(t).toFixed(0,0))};const splitChangeOutput=(e,t,r)=>{const s=e.value.coins;const i=getMinUtxoAmount(s);let o=s;let n=0n;const d=new Array;const c=new a.BigNumber(2);while(o>=i){const l=BigInt(new a.BigNumber(o.toString()).dividedBy(c).toFixed(0,0));const u=o-l;if(u<=i||u<=t({address:e.address,value:{assets:e.value.assets,coins:s-n}})+r){d.push(s-n);break}n+=l;d.push(l);o-=l}return d.map(t=>({address:e.address,value:{assets:e.value.assets,coins:t}}))};const splitChange=async(e,t,r,s,d,c)=>{const l=await e();const u=[...l.values()].reduce((e,t)=>e+t,0);const f=new Map([...l.entries()].map(e=>[e[0],e[1]/u]));const h=[...f.values()].reduce((e,t)=>e+t,0);if(Math.abs(1-h)>n)throw new i.InputSelectionError(i.InputSelectionFailure.UtxoBalanceInsufficient);const p=[...f.entries()].map(e=>({address:e[0],value:{coins:0n}}));let m=0n;const _=new a.BigNumber(t.toString());for(const v of p){const y=new a.BigNumber(f.get(v.address));const w=BigInt(_.multipliedBy(y).toFixed(0,0));m+=w;v.value.coins=m>t?w-(m-t):w}if(m<t){const g=t-m;p[p.length-1].value.coins+=g}const b=p.flatMap(e=>splitChangeOutput(e,s,c));const P=b.sort(o.sortByCoins).filter(e=>e.value.coins>0n);if(P&&P.length>0)P[0].value.assets=r;if(!r||0===r.size)return P;return distributeAssets(P,s,d,c)};t.splitChange=splitChange;const adjustOutputsForFee=async(e,t,r,a,s,n)=>{const d=new Set([...a,...s]);const{fee:c,redeemers:l}=await t.computeMinimumCost({change:[],fee:n,inputs:r,outputs:d});if(c===e)return{change:[],fee:c,feeAccountedFor:true,redeemers:l};if(e<c)throw new i.InputSelectionError(i.InputSelectionFailure.UtxoBalanceInsufficient);const u=[...s];u.sort(o.sortByCoins);let f=false;for(const h of u){const p=h.value.coins-c;if(p>=t.computeMinimumCoinQuantity(h)){h.value.coins=p;f=true;break}}return{change:[...u],fee:c,feeAccountedFor:f,redeemers:l}};t.adjustOutputsForFee=adjustOutputsForFee;const splitChangeAndComputeFee=async(e,r,a,s,n,d,c)=>{const l=await (0,t.splitChange)(d,a,s,n.computeMinimumCoinQuantity,n.tokenBundleSizeExceedsLimit,c);let u=await (0,t.adjustOutputsForFee)(a,n,e,r,l,c);if(u.fee>=a){const f={change:[{address:o.stubMaxSizeAddress,value:{assets:s,coins:0n}}],fee:u.fee,feeAccountedFor:true};if(f.change[0].value.coins<n.computeMinimumCoinQuantity(f.change[0]))throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted);return f}if(c<u.fee){u=await (0,t.splitChangeAndComputeFee)(e,r,a,s,n,d,u.fee);if(0===u.change.length)throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted)}for(const h of u.change)if(h.value.coins<n.computeMinimumCoinQuantity(h))throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted);if(!u.feeAccountedFor)throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted);return u};t.splitChangeAndComputeFee=splitChangeAndComputeFee},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InputSelectionError=t.InputSelectionFailure=void 0;const a=r("../../node_modules/@cardano-sdk/input-selection/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e["UtxoBalanceInsufficient"]="UTxO Balance Insufficient";e["UtxoNotFragmentedEnough"]="UTxO Not Fragmented Enough";e["UtxoFullyDepleted"]="UTxO Fully Depleted";e["MaximumInputCountExceeded"]="Maximum Input Count Exceeded"})(s=t.InputSelectionFailure||(t.InputSelectionFailure={}));class InputSelectionError extends a.CustomError{constructor(e){super(e);this.failure=e}}t.InputSelectionError=InputSelectionError},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/LargeFirstSelection/LargeFirstInputSelector.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var o,n,d,c,l,u,f,h,p;Object.defineProperty(t,"__esModule",{value:true});t.LargeFirstSelector=void 0;const m=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const _=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");const v=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js");const y=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/change.js");const w=i(r("../../node_modules/lodash/uniq.js"));const pickAdditionalLargestUtxo=({utxoRemaining:e,utxoSelected:t})=>{if(0===e.length){return{utxoRemaining:e,utxoSelected:t}}const r=e.sort(([,e],[,t])=>(0,_.sortByCoins)(e,t));const[a,...s]=r;return{utxoRemaining:s,utxoSelected:[...t,a]}};class LargeFirstSelector{async select(e){var t;const{utxo:r,preSelectedUtxo:a,outputs:i,constraints:d,implicitValue:c}=e;const m=[...a];const y=[...r].filter(([e])=>!m.some(([t])=>t.txId===e.txId&&t.index===e.index));const w=[...m,...y];const{totalLovelaceOutput:g,outputAssets:b}=s(this,o,"m",l).call(this,new Set(w),i,c);let P=new Set(m);P=s(this,o,"m",u).call(this,b,w,[...P]);var C;P=s(this,o,"m",f).call(this,g,w,P,null!==(C=null==c?void 0:null===(t=c.coin)||void 0===t?void 0:t.input)&&void 0!==C?C:0n);const{finalSelection:S,fee:T,change:E}=await s(this,o,"m",p).call(this,P,i,w,b,d,s(this,n,"f").changeAddressResolver,c);const k=await d.computeSelectionLimit({change:E,fee:T,inputs:S,outputs:i});if(S.size>k)throw new v.InputSelectionError(v.InputSelectionFailure.MaximumInputCountExceeded);return{remainingUTxO:s(this,o,"m",h).call(this,[...r],S),selection:{change:E,fee:T,inputs:new Set([...S].sort(_.sortUtxoByTxIn)),outputs:i}}}constructor(e){o.add(this);n.set(this,void 0);a(this,n,e,"f")}}t.LargeFirstSelector=LargeFirstSelector;n=new WeakMap,o=new WeakSet,d=function _LargeFirstSelector_aggregateLovelace(e,t,r){var a,s;const i=(0,_.getCoinQuantity)(e);const o=(0,_.getCoinQuantity)(t);var n;const d=null!==(n=null==r?void 0:null===(a=r.coin)||void 0===a?void 0:a.input)&&void 0!==n?n:0n;var c;const l=null!==(c=null==r?void 0:null===(s=r.coin)||void 0===s?void 0:s.deposit)&&void 0!==c?c:0n;return{totalIn:i+d,totalOut:o+l}},c=function _LargeFirstSelector_aggregateAssets(e,t,r){var a;const s=null!==(a=(0,m.coalesceValueQuantities)(t).assets)&&void 0!==a?a:new Map;const i=(0,m.coalesceValueQuantities)(e).assets;var o;const n=null!==(o=null==r?void 0:r.mint)&&void 0!==o?o:new Map;const d=new Map;const c=new Map;for(const[l,u]of n)(u>0n?d:c).set(l,u>0n?u:-u);let f=(0,_.addTokenMaps)(s,c);var h;f=null!==(h=(0,_.subtractTokenMaps)(f,d))&&void 0!==h?h:new Map;var p;const v=null!==(p=(0,_.addTokenMaps)(i,d))&&void 0!==p?p:new Map;return{available:v,required:f}},l=function _LargeFirstSelector_computeNetImplicitSelectionValues(e,t,r){const a=(0,_.toValues)([...e]);const i=(0,_.toValues)([...t]);const{totalIn:n,totalOut:l}=s(this,o,"m",d).call(this,a,i,r);const{required:u,available:f}=s(this,o,"m",c).call(this,a,i,r);const h=n-l;const p=(0,_.subtractTokenMaps)(f,u);if(0===e.size||h<0n||(0,_.hasNegativeAssetValue)(p))throw new v.InputSelectionError(v.InputSelectionFailure.UtxoBalanceInsufficient);return{outputAssets:u,totalLovelaceInput:n,totalLovelaceOutput:l}},u=function _LargeFirstSelector_selectAssets(e,t,r){const a=new Set(r);for(const[s,i]of e){var o;const n=t.filter(([e,t])=>{var r;return(null!==(o=null===(r=t.value.assets)||void 0===r?void 0:r.get(s))&&void 0!==o?o:0n)>0n}).sort(([,e],[,t])=>(0,_.sortByAssetQuantity)(s)(e,t));let d=0n;for(const c of n){var l;a.add(c);var u;d+=null!==(u=null===(l=c[1].value.assets)||void 0===l?void 0:l.get(s))&&void 0!==u?u:0n;if(d>=i)break}if(d<i)throw new v.InputSelectionError(v.InputSelectionFailure.UtxoBalanceInsufficient)}return a},f=function _LargeFirstSelector_selectLovelace(e,t,r,a){const s=new Set(r);const i=new Set([...r].map(([e])=>e));const o=t.filter(([e])=>!i.has(e)).sort(([,e],[,t])=>(0,_.sortByCoins)(e,t));let n=(0,_.getCoinQuantity)((0,_.toValues)([...s]))+a;for(const d of o){if(n>=e)break;s.add(d);n+=d[1].value.coins}if(0===s.size){if(0===o.length)throw new v.InputSelectionError(v.InputSelectionFailure.UtxoBalanceInsufficient);s.add(o[0])}if(n<e)throw new v.InputSelectionError(v.InputSelectionFailure.UtxoBalanceInsufficient);return s},h=function _LargeFirstSelector_computeRemainingUtxo(e,t){const r=new Set([...t].map(([e])=>e));return new Set(e.filter(([e])=>!r.has(e)))},p=async function _LargeFirstSelector_expandUtxosUntilFeeCovered(e,t,r,a,s,i,o){var n,d,c,l;const u=[...e];const f=r.filter(t=>!e.has(t)).sort(([,e],[,t])=>(0,_.sortByCoins)(e,t));const h=(0,_.toValues)([...t]);const p=_.stubMaxSizeAddress;const m={deposit:(null==o?void 0:null===(n=o.coin)||void 0===n?void 0:n.deposit)||0n,input:(null==o?void 0:null===(d=o.coin)||void 0===d?void 0:d.input)||0n,reclaimDeposit:(null==o?void 0:null===(c=o.coin)||void 0===c?void 0:c.reclaimDeposit)||0n,withdrawals:(null==o?void 0:null===(l=o.coin)||void 0===l?void 0:l.withdrawals)||0n};const v=(null==o?void 0:o.mint)||new Map;const g=(0,w.default)([...a.keys(),...v.keys()]);const{implicitTokensInput:b,implicitTokensSpend:P}=(0,_.mintToImplicitTokens)(v);const C={input:e=>b.get(e)||0n,spend:e=>P.get(e)||0n};const{change:S,fee:T,inputs:E}=await (0,y.computeChangeAndAdjustForFee)({computeMinimumCoinQuantity:s.computeMinimumCoinQuantity,estimateTxCosts:(e,r)=>s.computeMinimumCost({change:r.map(e=>({address:p,value:e})),fee:_.MAX_U64,inputs:new Set(e),outputs:t}),implicitValue:{implicitCoin:m,implicitTokens:C},outputValues:h,pickAdditionalUtxo:pickAdditionalLargestUtxo,tokenBundleSizeExceedsLimit:s.tokenBundleSizeExceedsLimit,uniqueTxAssetIDs:g,utxoSelection:{utxoRemaining:f,utxoSelected:u}});if(0===S.length){return{change:[],fee:T,finalSelection:new Set(E)}}const k=S.map(e=>({address:p,value:e}));const A=await i.resolve({change:k,fee:T,inputs:new Set(E),outputs:t});return{change:A,fee:T,finalSelection:new Set(E)}}},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/LargeFirstSelection/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/LargeFirstSelection/LargeFirstInputSelector.js"),t)},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/RoundRobinRandomImprove/index.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.roundRobinRandomImprove=t.createPickAdditionalRandomUtxo=void 0;const a=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js");const s=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");const i=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/change.js");const o=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/RoundRobinRandomImprove/roundRobin.js");const createPickAdditionalRandomUtxo=e=>({utxoRemaining:t,utxoSelected:r})=>{const a=t.filter(([e,{value:t}])=>!t.assets);const s=a.length>0?a:t;const i=Math.floor(e()*s.length);const o=[...r,s[i]];const n=t.indexOf(s[i]);const d=[...t.slice(0,n),...t.slice(n+1)];return{utxoRemaining:d,utxoSelected:o}};t.createPickAdditionalRandomUtxo=createPickAdditionalRandomUtxo;const roundRobinRandomImprove=({changeAddressResolver:e,random:r=Math.random})=>({select:async({preSelectedUtxo:n,utxo:d,outputs:c,constraints:{computeMinimumCost:l,computeSelectionLimit:u,computeMinimumCoinQuantity:f,tokenBundleSizeExceedsLimit:h},implicitValue:p={}})=>{const m=s.stubMaxSizeAddress;const{requiredUtxo:_,utxo:v,outputs:y,uniqueTxAssetIDs:w,implicitValue:g}=(0,s.preProcessArgs)(n,d,c,m,p);(0,s.assertIsBalanceSufficient)(w,_,v,y,g);const b=(0,o.roundRobinSelection)({changeAddress:m,implicitValue:g,outputs:y,random:r,requiredUtxo:_,uniqueTxAssetIDs:w,utxo:v});const P=await (0,i.computeChangeAndAdjustForFee)({computeMinimumCoinQuantity:f,estimateTxCosts:(e,t)=>l({change:t.map(e=>({address:m,value:e})),fee:s.MAX_U64,inputs:new Set(e),outputs:c}),implicitValue:g,outputValues:(0,s.toValues)(y),pickAdditionalUtxo:(0,t.createPickAdditionalRandomUtxo)(r),tokenBundleSizeExceedsLimit:h,uniqueTxAssetIDs:w,utxoSelection:b});const C=new Set(P.inputs);const S={change:P.change.map(e=>({address:m,value:e})),fee:P.fee,inputs:C,outputs:c};S.change=await e.resolve(S);if(P.inputs.length>await u({change:S.change,fee:S.fee,inputs:C,outputs:c})){throw new a.InputSelectionError(a.InputSelectionFailure.MaximumInputCountExceeded)}S.inputs=new Set([...S.inputs].sort(s.sortUtxoByTxIn));return{redeemers:P.redeemers,remainingUTxO:new Set(P.remainingUTxO),selection:S}}});t.roundRobinRandomImprove=roundRobinRandomImprove},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/RoundRobinRandomImprove/roundRobin.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.roundRobinSelection=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");const improvesSelection=(e,t,r,s)=>{const i=s(e);if(i<r)return true;const o=i+s([t]);const n=2n*r;const d=a.BigIntMath.abs(n-o);const c=a.BigIntMath.abs(n-i);if(d<c)return true;return false};const listTokensWithin=(e,t,{implicitCoin:r,implicitTokens:a})=>{return[...e.map(e=>{const r=(0,s.assetQuantitySelector)(e);const i=a.input(e);const o=a.spend(e);return{filterUtxo:t=>{return t.filter(([t,{value:{assets:r}}])=>{return null==r?void 0:r.get(e)})},getTotalSelectedQuantity:e=>r((0,s.toValues)(e))+i,minimumTarget:r((0,s.toValues)(t))+o}}),{filterUtxo:e=>e,getTotalSelectedQuantity:e=>(0,s.getCoinQuantity)((0,s.toValues)(e))+r.input,minimumTarget:(0,s.getCoinQuantity)((0,s.toValues)(t))+r.deposit}]};const roundRobinSelection=({requiredUtxo:e,utxo:t,outputs:r,uniqueTxAssetIDs:a,random:s,implicitValue:i})=>{const o=e;const n=[...t];const d=listTokensWithin(a,r,i);while(d.length>0){for(const[c,{filterUtxo:l,minimumTarget:u,getTotalSelectedQuantity:f}]of d.entries()){const h=l(n);if(h.length>0){const p=Math.floor(s()*h.length);const m=h[p];if(improvesSelection(o,m,u,f)){o.push(m);n.splice(n.indexOf(m),1)}else{d.splice(c,1)}}else{d.splice(c,1)}}}if(0===o.length){o.push(n[0]);n.splice(0,1)}return{utxoRemaining:n,utxoSelected:o}};t.roundRobinSelection=roundRobinSelection},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/change.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.computeChangeAndAdjustForFee=t.coalesceChangeBundlesForMinCoinRequirement=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js");const o=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");const n=a(r("../../node_modules/lodash/minBy.js"));const d=a(r("../../node_modules/lodash/orderBy.js"));const c=a(r("../../node_modules/lodash/pick.js"));const getLeftoverAssets=(e,t)=>{const r=new Map;for(const[a,{value:{assets:s}}]of e)if(s){const i=[...s.keys()].filter(e=>!t.includes(e));for(const o of i){const n=s.get(o);if(0n===n)continue;const d=r.get(o)||[];r.set(o,[...d,n])}}return r};const redistributeLeftoverAssets=(e,t,r)=>{const a=getLeftoverAssets(e,r);const s=[...t];for(const i of a.keys()){const o=(0,d.default)(a.get(i),e=>e,"desc");if(0===s.length)s.push({coins:0n});while(o.length>s.length){const n=o.pop();o[o.length-1]+=n}for(const[c,l]of o.entries()){var u;const f=s[c];const h=(null===(u=f.assets)||void 0===u?void 0:u.entries())||[];s.splice(c,1,{assets:new Map([...h,[i,l]]),coins:f.coins})}}return s};const createBundlePerOutput=(e,t,r,a)=>{let s=0n;const i=new Map;const o=e.map(e=>{const o=t>0n?r*e.coins/t:0n;s+=o;if(!e.assets){return{coins:o}}const n=new Map;for(const[d,c]of e.assets.entries()){const{selected:l,requested:u}=a.get(d);const f=l-u;const h=f*c/l;i.set(d,(i.get(d)||0n)+h);n.set(d,h)}return{assets:n,coins:o}});return{bundles:o,totalAssetsBundled:i,totalCoinBundled:s}};const smallestBundleTokenMap=e=>{if(0===e.length){const t={assets:new Map,coins:0n};e.push(t);return t.assets}const r=(0,n.default)(e,({assets:e})=>{return(null==e?void 0:e.size)||0});if(!r.assets)r.assets=new Map;return r.assets};const computeRequestedAssetChangeBundles=(e,t,r,{implicitCoin:a,implicitTokens:s},i)=>{const n=new Map;const d=(0,o.toValues)(e);for(const c of r)n.set(c,{requested:(0,o.assetQuantitySelector)(c)(t)+s.spend(c),selected:(0,o.assetQuantitySelector)(c)(d)+s.input(c)});const l=(0,o.getCoinQuantity)(d)+a.input;const u=(0,o.getCoinQuantity)(t)+i+a.deposit;const f=l-u;const{totalCoinBundled:h,bundles:p,totalAssetsBundled:m}=createBundlePerOutput(t,u,f,n);const _=f-h;if(_>0)if(0===p.length)p.push({coins:_});else p[0].coins+=_;for(const v of r){const y=n.get(v);const w=m.get(v)||0n;const g=y.selected-y.requested-w;if(g>0n){var b;const P=(null===(b=p.find(({assets:e})=>{return null==e?void 0:e.has(v)}))||void 0===b?void 0:b.assets)||smallestBundleTokenMap(p);const C=P.get(v)||0n;P.set(v,C+g)}}return p};const mergeWithSmallestBundle=(e,t)=>{let r=[...e];const a=r.splice(t,1)[0];if(0===r.length)return[a];const i=r.splice(-1,1)[0];const o=(0,s.coalesceValueQuantities)([a,i]);r=[...r,o];r=(0,d.default)(r,({coins:e})=>e,"desc");return r};const coalesceChangeBundlesForMinCoinRequirement=(e,t)=>{if(0===e.length){return e}const r=e.map(({coins:e,assets:t})=>({assets:t?new Map([...t.entries()].filter(([e,t])=>t>0n)):void 0,coins:e}));let a=(0,d.default)(r,({coins:e})=>e,"desc");const satisfiesMinCoinRequirement=e=>{const r={address:o.stubMaxSizeAddress,value:e};return e.coins>=t(r)};let s=false;while(a.length>1&&!s){s=true;for(let i=a.length-1;i>=0;--i){const n=satisfiesMinCoinRequirement(a[i]);s=s&&n;if(!n){a=mergeWithSmallestBundle(a,i);break}}}if(!satisfiesMinCoinRequirement(a[0])){return}return a.filter(e=>{var t;return e.coins>0n||((null===(t=e.assets)||void 0===t?void 0:t.size)||0)>0})};t.coalesceChangeBundlesForMinCoinRequirement=coalesceChangeBundlesForMinCoinRequirement;const splitChangeIfTokenBundlesSizeExceedsLimit=(e,t,r)=>{const a=[];for(const s of e){const{assets:n,coins:d}=s;if(!n||0===n.size||!r(n)){a.push({assets:n,coins:d});continue}const c=[];let l={assets:new Map,coins:0n};for(const[u,f]of n.entries()){l.assets.set(u,f);if(r(l.assets)&&l.assets.size>1){l.assets.delete(u);c.push(l);l={assets:new Map([[u,f]]),coins:0n}}}c.push(l);let h=0n;for(const p of c){const m=t({address:o.stubMaxSizeAddress,value:p});p.coins=m;h+=m}if(d<h){throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted)}c[0].coins+=d-h;a.push(...c)}return a};const computeChangeBundles=({utxoSelection:e,outputValues:r,uniqueTxAssetIDs:a,implicitValue:s,computeMinimumCoinQuantity:i,tokenBundleSizeExceedsLimit:o,fee:n=0n})=>{const d=computeRequestedAssetChangeBundles(e.utxoSelected,r,a,s,n);const c=redistributeLeftoverAssets(e.utxoSelected,d,a);const l=(0,t.coalesceChangeBundlesForMinCoinRequirement)(c,i);if(!l){return false}const u=splitChangeIfTokenBundlesSizeExceedsLimit(l,i,o);return{changeBundles:u,...e}};const validateChangeBundles=(e,t)=>{for(const{assets:r}of e)if(!!r){if(t(r)){throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted)}}return e};const computeChangeAndAdjustForFee=async({computeMinimumCoinQuantity:e,tokenBundleSizeExceedsLimit:r,estimateTxCosts:a,outputValues:s,uniqueTxAssetIDs:n,implicitValue:d,pickAdditionalUtxo:l,utxoSelection:u})=>{const recomputeChangeAndAdjustForFeeWithExtraUtxo=o=>{if(o.utxoRemaining.length>0){return(0,t.computeChangeAndAdjustForFee)({computeMinimumCoinQuantity:e,estimateTxCosts:a,implicitValue:d,outputValues:s,pickAdditionalUtxo:l,tokenBundleSizeExceedsLimit:r,uniqueTxAssetIDs:n,utxoSelection:l(o)})}throw new i.InputSelectionError(i.InputSelectionFailure.UtxoFullyDepleted)};const f=computeChangeBundles({computeMinimumCoinQuantity:e,implicitValue:d,outputValues:s,tokenBundleSizeExceedsLimit:r,uniqueTxAssetIDs:n,utxoSelection:u});if(!f)return recomputeChangeAndAdjustForFeeWithExtraUtxo(u);const h=await a(f.utxoSelected,validateChangeBundles(f.changeBundles,r));const p=(0,o.getCoinQuantity)(s)+h.fee+d.implicitCoin.deposit;const m=(0,o.getCoinQuantity)((0,o.toValues)(f.utxoSelected))+d.implicitCoin.input;if(p>m){if(0===f.utxoRemaining.length){throw new i.InputSelectionError(i.InputSelectionFailure.UtxoBalanceInsufficient)}return recomputeChangeAndAdjustForFeeWithExtraUtxo(f)}const _=computeChangeBundles({computeMinimumCoinQuantity:e,fee:h.fee,implicitValue:d,outputValues:s,tokenBundleSizeExceedsLimit:r,uniqueTxAssetIDs:n,utxoSelection:(0,c.default)(f,["utxoRemaining","utxoSelected"])});if(!_){return recomputeChangeAndAdjustForFeeWithExtraUtxo(f)}const{changeBundles:v,utxoSelected:y,utxoRemaining:w}=_;return{change:validateChangeBundles(v,r),fee:h.fee,inputs:y,redeemers:h.redeemers,remainingUTxO:w}};t.computeChangeAndAdjustForFee=computeChangeAndAdjustForFee},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.sortUtxoByTxIn=t.sortTxIn=void 0;s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/RoundRobinRandomImprove/index.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/GreedySelection/index.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/LargeFirstSelection/index.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/types.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js"),t);s(r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/ChangeAddress/index.js"),t);var i=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js");Object.defineProperty(t,"sortTxIn",{enumerable:true,get:function(){return i.sortTxIn}});Object.defineProperty(t,"sortUtxoByTxIn",{enumerable:true,get:function(){return i.sortUtxoByTxIn}})},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/input-selection/dist/cjs/util.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.sortByAssetQuantity=t.isValidValue=t.hasNegativeAssetValue=t.addTokenMaps=t.subtractTokenMaps=t.sortByCoins=t.assertIsBalanceSufficient=t.assertIsCoinBalanceSufficient=t.getCoinQuantity=t.assetQuantitySelector=t.toValues=t.preProcessArgs=t.mintToImplicitTokens=t.sortUtxoByTxIn=t.sortTxIn=t.stubMaxSizeAddress=t.MAX_U64=void 0;const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/InputSelectionError.js");const n=a(r("../../node_modules/lodash/uniq.js"));t.MAX_U64=0xffffffffffffffffn;t.stubMaxSizeAddress=i.Cardano.PaymentAddress("addr_test1qqydn46r6mhge0kfpqmt36m6q43knzsd9ga32n96m89px3nuzcjqw982pcftgx53fu5527z2cj2tkx2h8ux2vxsg475qypp3m9");const sortTxIn=(e,t)=>{const r=e.txId.localeCompare(t.txId);if(0!==r)return r;return e.index-t.index};t.sortTxIn=sortTxIn;const sortUtxoByTxIn=(e,r)=>(0,t.sortTxIn)(e[0],r[0]);t.sortUtxoByTxIn=sortUtxoByTxIn;const mintToImplicitTokens=(e=new Map)=>{const t=[...e.entries()];const r=new Map(t.filter(([e,t])=>t>0));const a=new Map(t.filter(([e,t])=>t<0).map(([e,t])=>[e,-t]));return{implicitTokensInput:r,implicitTokensSpend:a}};t.mintToImplicitTokens=mintToImplicitTokens;const preProcessArgs=(e,r,a,s,i)=>{var o,d,c,l;const u=[...a];const f={deposit:(null==i?void 0:null===(o=i.coin)||void 0===o?void 0:o.deposit)||0n,input:(null==i?void 0:null===(d=i.coin)||void 0===d?void 0:d.input)||0n,reclaimDeposit:(null==i?void 0:null===(c=i.coin)||void 0===c?void 0:c.reclaimDeposit)||0n,withdrawals:(null==i?void 0:null===(l=i.coin)||void 0===l?void 0:l.withdrawals)||0n};const h=(null==i?void 0:i.mint)||new Map;const{implicitTokensInput:p,implicitTokensSpend:m}=(0,t.mintToImplicitTokens)(h);const _={input:e=>p.get(e)||0n,spend:e=>m.get(e)||0n};const v=(0,n.default)(u.flatMap(({value:{assets:e}})=>{return[...(null==e?void 0:e.keys())||[]]}));const y=(0,n.default)([...v,...h.keys()]);return{changeAddress:s,implicitValue:{implicitCoin:f,implicitTokens:_},outputs:u,requiredUtxo:[...e],uniqueTxAssetIDs:y,utxo:[...r]}};t.preProcessArgs=preProcessArgs;const isUtxoArray=e=>e.length>0&&Array.isArray(e[0]);function toValues(e){if(isUtxoArray(e)){return e.map(([e,{value:t}])=>t)}return e.map(({value:e})=>e)}t.toValues=toValues;const assetQuantitySelector=e=>{return t=>{return s.BigIntMath.sum(t.map(({assets:t})=>{return(null==t?void 0:t.get(e))||0n}))}};t.assetQuantitySelector=assetQuantitySelector;const getCoinQuantity=e=>s.BigIntMath.sum(e.map(({coins:e})=>e));t.getCoinQuantity=getCoinQuantity;const assertIsCoinBalanceSufficient=(e,r,a)=>{const s=(0,t.getCoinQuantity)(e);const i=(0,t.getCoinQuantity)(r);if(i+a.deposit>s+a.input){throw new o.InputSelectionError(o.InputSelectionFailure.UtxoBalanceInsufficient)}};t.assertIsCoinBalanceSufficient=assertIsCoinBalanceSufficient;const assertIsBalanceSufficient=(e,r,a,s,{implicitCoin:i,implicitTokens:n})=>{if(r.length+a.length===0){throw new o.InputSelectionError(o.InputSelectionFailure.UtxoBalanceInsufficient)}const d=[...toValues(a),...toValues(r)];const c=toValues(s);for(const l of e){const u=(0,t.assetQuantitySelector)(l);const f=u(d);const h=u(c);if(h+n.spend(l)>f+n.input(l)){throw new o.InputSelectionError(o.InputSelectionFailure.UtxoBalanceInsufficient)}}(0,t.assertIsCoinBalanceSufficient)(d,c,i)};t.assertIsBalanceSufficient=assertIsBalanceSufficient;const sortByCoins=(e,t)=>{if(e.value.coins>t.value.coins){return -1}if(e.value.coins<t.value.coins){return 1}return 0};t.sortByCoins=sortByCoins;const subtractTokenMaps=(e,t)=>{if(!t){if(!e)return;const r=new Map;for(const[a,s]of e.entries())if(0n!==s)r.set(a,s);return r}if(!e){const i=new Map;for(const[o,d]of t.entries())if(0n!==d)i.set(o,-d);return i}const c=new Map;const l=new Array;for(const[u,f]of e.entries()){if(t.has(u)){l.push(u);continue}if(0n!==f)c.set(u,f)}for(const[h,p]of t.entries()){if(e.has(h)){l.push(h);continue}if(0n!==p)c.set(h,-p)}const m=(0,n.default)(l);for(const _ of m){const v=e.get(_);const y=t.get(_);const w=v-y;if(0n!==w)c.set(_,w)}return c};t.subtractTokenMaps=subtractTokenMaps;const addTokenMaps=(e,t)=>{if(!e)return t;if(!t)return e;const r=new Map;const a=new Array;for(const[s,i]of e.entries()){if(t.has(s)){a.push(s);continue}if(0n!==i)r.set(s,i)}for(const[o,d]of t.entries()){if(e.has(o)){a.push(o);continue}if(0n!==d)r.set(o,d)}const c=(0,n.default)(a);for(const l of c){const u=e.get(l);const f=t.get(l);if(u+f!==0n)r.set(l,u+f)}return r};t.addTokenMaps=addTokenMaps;const hasNegativeAssetValue=e=>{if(!e)return false;const t=[...e.values()];return t.some(e=>e<0n)};t.hasNegativeAssetValue=hasNegativeAssetValue;const isValidValue=(e,r,a,s)=>{let i=e.coins-s>=r({address:t.stubMaxSizeAddress,value:e});if(e.assets)i=i&&!a(e.assets);return i};t.isValidValue=isValidValue;const sortByAssetQuantity=e=>{return(t,r)=>{var a,s;var i;const o=null!==(i=null===(a=t.value.assets)||void 0===a?void 0:a.get(e))&&void 0!==i?i:0n;var n;const d=null!==(n=null===(s=r.value.assets)||void 0===s?void 0:s.get(e))&&void 0!==n?n:0n;if(o>d)return -1;if(o<d)return 1;return 0}};t.sortByAssetQuantity=sortByAssetQuantity},"../../node_modules/@cardano-sdk/input-selection/dist/esm/ChangeAddress/StaticChangeAddressResolver.js":(e,t,r)=>{"use strict";r.d(t,{StaticChangeAddressResolver:()=>StaticChangeAddressResolver});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s;class StaticChangeAddressResolver{async resolve(e){const t=await __classPrivateFieldGet(this,s,"f").call(this);if(0===t.length)throw new a.InvalidStateError("The wallet has no known addresses.");const r=t[0].address;return e.change.map(e=>({...e,address:r}))}constructor(e){s.set(this,void 0);__classPrivateFieldSet(this,s,e,"f")}}s=new WeakMap},"../../node_modules/@cardano-sdk/input-selection/dist/esm/InputSelectionError.js":(e,t,r)=>{"use strict";r.d(t,{InputSelectionError:()=>InputSelectionError,InputSelectionFailure:()=>s});var a=r("../../node_modules/@cardano-sdk/input-selection/node_modules/ts-custom-error/dist/custom-error.mjs");var s;(function(e){e["UtxoBalanceInsufficient"]="UTxO Balance Insufficient";e["UtxoNotFragmentedEnough"]="UTxO Not Fragmented Enough";e["UtxoFullyDepleted"]="UTxO Fully Depleted";e["MaximumInputCountExceeded"]="Maximum Input Count Exceeded"})(s||(s={}));class InputSelectionError extends a.CustomError{constructor(e){super(e);this.failure=e}}},"../../node_modules/@cardano-sdk/input-selection/dist/esm/RoundRobinRandomImprove/index.js":(e,t,r)=>{"use strict";r.d(t,{roundRobinRandomImprove:()=>roundRobinRandomImprove});var a=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/InputSelectionError.js");var s=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/util.js");var i=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/change.js");var o=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");const improvesSelection=(e,t,r,a)=>{const s=a(e);if(s<r)return true;const i=s+a([t]);const n=2n*r;const d=o.BigIntMath.abs(n-i);const c=o.BigIntMath.abs(n-s);if(d<c)return true;return false};const listTokensWithin=(e,t,{implicitCoin:r,implicitTokens:a})=>{return[...e.map(e=>{const r=(0,s.assetQuantitySelector)(e);const i=a.input(e);const o=a.spend(e);return{filterUtxo:t=>{return t.filter(([t,{value:{assets:r}}])=>{return null==r?void 0:r.get(e)})},getTotalSelectedQuantity:e=>r((0,s.toValues)(e))+i,minimumTarget:r((0,s.toValues)(t))+o}}),{filterUtxo:e=>e,getTotalSelectedQuantity:e=>(0,s.getCoinQuantity)((0,s.toValues)(e))+r.input,minimumTarget:(0,s.getCoinQuantity)((0,s.toValues)(t))+r.deposit}]};const roundRobinSelection=({requiredUtxo:e,utxo:t,outputs:r,uniqueTxAssetIDs:a,random:s,implicitValue:i})=>{const o=e;const n=[...t];const d=listTokensWithin(a,r,i);while(d.length>0){for(const[c,{filterUtxo:l,minimumTarget:u,getTotalSelectedQuantity:f}]of d.entries()){const h=l(n);if(h.length>0){const p=Math.floor(s()*h.length);const m=h[p];if(improvesSelection(o,m,u,f)){o.push(m);n.splice(n.indexOf(m),1)}else{d.splice(c,1)}}else{d.splice(c,1)}}}if(0===o.length){o.push(n[0]);n.splice(0,1)}return{utxoRemaining:n,utxoSelected:o}};const createPickAdditionalRandomUtxo=e=>({utxoRemaining:t,utxoSelected:r})=>{const a=t.filter(([e,{value:t}])=>!t.assets);const s=a.length>0?a:t;const i=Math.floor(e()*s.length);const o=[...r,s[i]];const n=t.indexOf(s[i]);const d=[...t.slice(0,n),...t.slice(n+1)];return{utxoRemaining:d,utxoSelected:o}};const roundRobinRandomImprove=({changeAddressResolver:e,random:t=Math.random})=>({select:async({preSelectedUtxo:r,utxo:o,outputs:n,constraints:{computeMinimumCost:d,computeSelectionLimit:c,computeMinimumCoinQuantity:l,tokenBundleSizeExceedsLimit:u},implicitValue:f={}})=>{const h=s.stubMaxSizeAddress;const{requiredUtxo:p,utxo:m,outputs:_,uniqueTxAssetIDs:v,implicitValue:y}=(0,s.preProcessArgs)(r,o,n,h,f);(0,s.assertIsBalanceSufficient)(v,p,m,_,y);const w=roundRobinSelection({changeAddress:h,implicitValue:y,outputs:_,random:t,requiredUtxo:p,uniqueTxAssetIDs:v,utxo:m});const g=await (0,i.computeChangeAndAdjustForFee)({computeMinimumCoinQuantity:l,estimateTxCosts:(e,t)=>d({change:t.map(e=>({address:h,value:e})),fee:s.MAX_U64,inputs:new Set(e),outputs:n}),implicitValue:y,outputValues:(0,s.toValues)(_),pickAdditionalUtxo:createPickAdditionalRandomUtxo(t),tokenBundleSizeExceedsLimit:u,uniqueTxAssetIDs:v,utxoSelection:w});const b=new Set(g.inputs);const P={change:g.change.map(e=>({address:h,value:e})),fee:g.fee,inputs:b,outputs:n};P.change=await e.resolve(P);if(g.inputs.length>await c({change:P.change,fee:P.fee,inputs:b,outputs:n})){throw new a.InputSelectionError(a.InputSelectionFailure.MaximumInputCountExceeded)}P.inputs=new Set([...P.inputs].sort(s.sortUtxoByTxIn));return{redeemers:g.redeemers,remainingUTxO:new Set(g.remainingUTxO),selection:P}}})},"../../node_modules/@cardano-sdk/input-selection/dist/esm/change.js":(e,t,r)=>{"use strict";r.d(t,{computeChangeAndAdjustForFee:()=>computeChangeAndAdjustForFee});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/util/coalesceValueQuantities.js");var s=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/InputSelectionError.js");var i=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/util.js");var o=r("../../node_modules/lodash/minBy.js");var n=r("../../node_modules/lodash/orderBy.js");var d=r("../../node_modules/lodash/pick.js");const getLeftoverAssets=(e,t)=>{const r=new Map;for(const[a,{value:{assets:s}}]of e)if(s){const i=[...s.keys()].filter(e=>!t.includes(e));for(const o of i){const n=s.get(o);if(0n===n)continue;const d=r.get(o)||[];r.set(o,[...d,n])}}return r};const redistributeLeftoverAssets=(e,t,r)=>{const a=getLeftoverAssets(e,r);const s=[...t];for(const i of a.keys()){const o=n(a.get(i),e=>e,"desc");if(0===s.length)s.push({coins:0n});while(o.length>s.length){const d=o.pop();o[o.length-1]+=d}for(const[c,l]of o.entries()){var u;const f=s[c];const h=(null===(u=f.assets)||void 0===u?void 0:u.entries())||[];s.splice(c,1,{assets:new Map([...h,[i,l]]),coins:f.coins})}}return s};const createBundlePerOutput=(e,t,r,a)=>{let s=0n;const i=new Map;const o=e.map(e=>{const o=t>0n?r*e.coins/t:0n;s+=o;if(!e.assets){return{coins:o}}const n=new Map;for(const[d,c]of e.assets.entries()){const{selected:l,requested:u}=a.get(d);const f=l-u;const h=f*c/l;i.set(d,(i.get(d)||0n)+h);n.set(d,h)}return{assets:n,coins:o}});return{bundles:o,totalAssetsBundled:i,totalCoinBundled:s}};const smallestBundleTokenMap=e=>{if(0===e.length){const t={assets:new Map,coins:0n};e.push(t);return t.assets}const r=o(e,({assets:e})=>{return(null==e?void 0:e.size)||0});if(!r.assets)r.assets=new Map;return r.assets};const computeRequestedAssetChangeBundles=(e,t,r,{implicitCoin:a,implicitTokens:s},o)=>{const n=new Map;const d=(0,i.toValues)(e);for(const c of r)n.set(c,{requested:(0,i.assetQuantitySelector)(c)(t)+s.spend(c),selected:(0,i.assetQuantitySelector)(c)(d)+s.input(c)});const l=(0,i.getCoinQuantity)(d)+a.input;const u=(0,i.getCoinQuantity)(t)+o+a.deposit;const f=l-u;const{totalCoinBundled:h,bundles:p,totalAssetsBundled:m}=createBundlePerOutput(t,u,f,n);const _=f-h;if(_>0)if(0===p.length)p.push({coins:_});else p[0].coins+=_;for(const v of r){const y=n.get(v);const w=m.get(v)||0n;const g=y.selected-y.requested-w;if(g>0n){var b;const P=(null===(b=p.find(({assets:e})=>{return null==e?void 0:e.has(v)}))||void 0===b?void 0:b.assets)||smallestBundleTokenMap(p);const C=P.get(v)||0n;P.set(v,C+g)}}return p};const mergeWithSmallestBundle=(e,t)=>{let r=[...e];const s=r.splice(t,1)[0];if(0===r.length)return[s];const i=r.splice(-1,1)[0];const o=(0,a.coalesceValueQuantities)([s,i]);r=[...r,o];r=n(r,({coins:e})=>e,"desc");return r};const coalesceChangeBundlesForMinCoinRequirement=(e,t)=>{if(0===e.length){return e}const r=e.map(({coins:e,assets:t})=>({assets:t?new Map([...t.entries()].filter(([e,t])=>t>0n)):void 0,coins:e}));let a=n(r,({coins:e})=>e,"desc");const satisfiesMinCoinRequirement=e=>{const r={address:i.stubMaxSizeAddress,value:e};return e.coins>=t(r)};let s=false;while(a.length>1&&!s){s=true;for(let o=a.length-1;o>=0;--o){const d=satisfiesMinCoinRequirement(a[o]);s=s&&d;if(!d){a=mergeWithSmallestBundle(a,o);break}}}if(!satisfiesMinCoinRequirement(a[0])){return}return a.filter(e=>{var t;return e.coins>0n||((null===(t=e.assets)||void 0===t?void 0:t.size)||0)>0})};const splitChangeIfTokenBundlesSizeExceedsLimit=(e,t,r)=>{const a=[];for(const o of e){const{assets:n,coins:d}=o;if(!n||0===n.size||!r(n)){a.push({assets:n,coins:d});continue}const c=[];let l={assets:new Map,coins:0n};for(const[u,f]of n.entries()){l.assets.set(u,f);if(r(l.assets)&&l.assets.size>1){l.assets.delete(u);c.push(l);l={assets:new Map([[u,f]]),coins:0n}}}c.push(l);let h=0n;for(const p of c){const m=t({address:i.stubMaxSizeAddress,value:p});p.coins=m;h+=m}if(d<h){throw new s.InputSelectionError(s.InputSelectionFailure.UtxoFullyDepleted)}c[0].coins+=d-h;a.push(...c)}return a};const computeChangeBundles=({utxoSelection:e,outputValues:t,uniqueTxAssetIDs:r,implicitValue:a,computeMinimumCoinQuantity:s,tokenBundleSizeExceedsLimit:i,fee:o=0n})=>{const n=computeRequestedAssetChangeBundles(e.utxoSelected,t,r,a,o);const d=redistributeLeftoverAssets(e.utxoSelected,n,r);const c=coalesceChangeBundlesForMinCoinRequirement(d,s);if(!c){return false}const l=splitChangeIfTokenBundlesSizeExceedsLimit(c,s,i);return{changeBundles:l,...e}};const validateChangeBundles=(e,t)=>{for(const{assets:r}of e)if(!!r){if(t(r)){throw new s.InputSelectionError(s.InputSelectionFailure.UtxoFullyDepleted)}}return e};const computeChangeAndAdjustForFee=async({computeMinimumCoinQuantity:e,tokenBundleSizeExceedsLimit:t,estimateTxCosts:r,outputValues:a,uniqueTxAssetIDs:o,implicitValue:n,pickAdditionalUtxo:c,utxoSelection:l})=>{const recomputeChangeAndAdjustForFeeWithExtraUtxo=i=>{if(i.utxoRemaining.length>0){return computeChangeAndAdjustForFee({computeMinimumCoinQuantity:e,estimateTxCosts:r,implicitValue:n,outputValues:a,pickAdditionalUtxo:c,tokenBundleSizeExceedsLimit:t,uniqueTxAssetIDs:o,utxoSelection:c(i)})}throw new s.InputSelectionError(s.InputSelectionFailure.UtxoFullyDepleted)};const u=computeChangeBundles({computeMinimumCoinQuantity:e,implicitValue:n,outputValues:a,tokenBundleSizeExceedsLimit:t,uniqueTxAssetIDs:o,utxoSelection:l});if(!u)return recomputeChangeAndAdjustForFeeWithExtraUtxo(l);const f=await r(u.utxoSelected,validateChangeBundles(u.changeBundles,t));const h=(0,i.getCoinQuantity)(a)+f.fee+n.implicitCoin.deposit;const p=(0,i.getCoinQuantity)((0,i.toValues)(u.utxoSelected))+n.implicitCoin.input;if(h>p){if(0===u.utxoRemaining.length){throw new s.InputSelectionError(s.InputSelectionFailure.UtxoBalanceInsufficient)}return recomputeChangeAndAdjustForFeeWithExtraUtxo(u)}const m=computeChangeBundles({computeMinimumCoinQuantity:e,fee:f.fee,implicitValue:n,outputValues:a,tokenBundleSizeExceedsLimit:t,uniqueTxAssetIDs:o,utxoSelection:d(u,["utxoRemaining","utxoSelected"])});if(!m){return recomputeChangeAndAdjustForFeeWithExtraUtxo(u)}const{changeBundles:_,utxoSelected:v,utxoRemaining:y}=m;return{change:validateChangeBundles(_,t),fee:f.fee,inputs:v,redeemers:f.redeemers,remainingUTxO:y}}},"../../node_modules/@cardano-sdk/input-selection/dist/esm/util.js":(e,t,r)=>{"use strict";r.d(t,{MAX_U64:()=>n,addTokenMaps:()=>addTokenMaps,assertIsBalanceSufficient:()=>assertIsBalanceSufficient,assetQuantitySelector:()=>assetQuantitySelector,getCoinQuantity:()=>getCoinQuantity,hasNegativeAssetValue:()=>hasNegativeAssetValue,isValidValue:()=>isValidValue,mintToImplicitTokens:()=>mintToImplicitTokens,preProcessArgs:()=>preProcessArgs,sortByAssetQuantity:()=>sortByAssetQuantity,sortByCoins:()=>sortByCoins,sortTxIn:()=>sortTxIn,sortUtxoByTxIn:()=>sortUtxoByTxIn,stubMaxSizeAddress:()=>d,subtractTokenMaps:()=>subtractTokenMaps,toValues:()=>toValues});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js");var i=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/InputSelectionError.js");var o=r("../../node_modules/lodash/uniq.js");const n=0xffffffffffffffffn;const d=s.PaymentAddress("addr_test1qqydn46r6mhge0kfpqmt36m6q43knzsd9ga32n96m89px3nuzcjqw982pcftgx53fu5527z2cj2tkx2h8ux2vxsg475qypp3m9");const sortTxIn=(e,t)=>{const r=e.txId.localeCompare(t.txId);if(0!==r)return r;return e.index-t.index};const sortUtxoByTxIn=(e,t)=>sortTxIn(e[0],t[0]);const mintToImplicitTokens=(e=new Map)=>{const t=[...e.entries()];const r=new Map(t.filter(([e,t])=>t>0));const a=new Map(t.filter(([e,t])=>t<0).map(([e,t])=>[e,-t]));return{implicitTokensInput:r,implicitTokensSpend:a}};const preProcessArgs=(e,t,r,a,s)=>{var i,n,d,c;const l=[...r];const u={deposit:(null==s?void 0:null===(i=s.coin)||void 0===i?void 0:i.deposit)||0n,input:(null==s?void 0:null===(n=s.coin)||void 0===n?void 0:n.input)||0n,reclaimDeposit:(null==s?void 0:null===(d=s.coin)||void 0===d?void 0:d.reclaimDeposit)||0n,withdrawals:(null==s?void 0:null===(c=s.coin)||void 0===c?void 0:c.withdrawals)||0n};const f=(null==s?void 0:s.mint)||new Map;const{implicitTokensInput:h,implicitTokensSpend:p}=mintToImplicitTokens(f);const m={input:e=>h.get(e)||0n,spend:e=>p.get(e)||0n};const _=o(l.flatMap(({value:{assets:e}})=>{return[...(null==e?void 0:e.keys())||[]]}));const v=o([..._,...f.keys()]);return{changeAddress:a,implicitValue:{implicitCoin:u,implicitTokens:m},outputs:l,requiredUtxo:[...e],uniqueTxAssetIDs:v,utxo:[...t]}};const isUtxoArray=e=>e.length>0&&Array.isArray(e[0]);function toValues(e){if(isUtxoArray(e)){return e.map(([e,{value:t}])=>t)}return e.map(({value:e})=>e)}const assetQuantitySelector=e=>{return t=>{return a.BigIntMath.sum(t.map(({assets:t})=>{return(null==t?void 0:t.get(e))||0n}))}};const getCoinQuantity=e=>a.BigIntMath.sum(e.map(({coins:e})=>e));const assertIsCoinBalanceSufficient=(e,t,r)=>{const a=getCoinQuantity(e);const s=getCoinQuantity(t);if(s+r.deposit>a+r.input){throw new i.InputSelectionError(i.InputSelectionFailure.UtxoBalanceInsufficient)}};const assertIsBalanceSufficient=(e,t,r,a,{implicitCoin:s,implicitTokens:o})=>{if(t.length+r.length===0){throw new i.InputSelectionError(i.InputSelectionFailure.UtxoBalanceInsufficient)}const n=[...toValues(r),...toValues(t)];const d=toValues(a);for(const c of e){const l=assetQuantitySelector(c);const u=l(n);const f=l(d);if(f+o.spend(c)>u+o.input(c)){throw new i.InputSelectionError(i.InputSelectionFailure.UtxoBalanceInsufficient)}}assertIsCoinBalanceSufficient(n,d,s)};const sortByCoins=(e,t)=>{if(e.value.coins>t.value.coins){return -1}if(e.value.coins<t.value.coins){return 1}return 0};const subtractTokenMaps=(e,t)=>{if(!t){if(!e)return;const r=new Map;for(const[a,s]of e.entries())if(0n!==s)r.set(a,s);return r}if(!e){const i=new Map;for(const[n,d]of t.entries())if(0n!==d)i.set(n,-d);return i}const c=new Map;const l=new Array;for(const[u,f]of e.entries()){if(t.has(u)){l.push(u);continue}if(0n!==f)c.set(u,f)}for(const[h,p]of t.entries()){if(e.has(h)){l.push(h);continue}if(0n!==p)c.set(h,-p)}const m=o(l);for(const _ of m){const v=e.get(_);const y=t.get(_);const w=v-y;if(0n!==w)c.set(_,w)}return c};const addTokenMaps=(e,t)=>{if(!e)return t;if(!t)return e;const r=new Map;const a=new Array;for(const[s,i]of e.entries()){if(t.has(s)){a.push(s);continue}if(0n!==i)r.set(s,i)}for(const[n,d]of t.entries()){if(e.has(n)){a.push(n);continue}if(0n!==d)r.set(n,d)}const c=o(a);for(const l of c){const u=e.get(l);const f=t.get(l);if(u+f!==0n)r.set(l,u+f)}return r};const hasNegativeAssetValue=e=>{if(!e)return false;const t=[...e.values()];return t.some(e=>e<0n)};const isValidValue=(e,t,r,a)=>{let s=e.coins-a>=t({address:d,value:e});if(e.assets)s=s&&!r(e.assets);return s};const sortByAssetQuantity=e=>{return(t,r)=>{var a,s;var i;const o=null!==(i=null===(a=t.value.assets)||void 0===a?void 0:a.get(e))&&void 0!==i?i:0n;var n;const d=null!==(n=null===(s=r.value.assets)||void 0===s?void 0:s.get(e))&&void 0!==n?n:0n;if(o>d)return -1;if(o<d)return 1;return 0}}},"../../node_modules/@cardano-sdk/input-selection/node_modules/bignumber.js/bignumber.js":function(e,t,r){var a;(function(s){"use strict";var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,d=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",u=1e14,f=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,_=1e9;function clone(e){var t,r,a,s=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},i=new BigNumber(1),v=20,y=4,w=-7,g=21,b=-1e7,P=1e7,C=false,S=1,T=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",A=true;function BigNumber(e,t){var s,i,n,c,u,p,m,_,w=this;if(!(w instanceof BigNumber))return new BigNumber(e,t);if(null==t){if(e&&true===e._isBigNumber){w.s=e.s;if(!e.c||e.e>P)w.c=w.e=null;else if(e.e<b)w.c=[w.e=0];else{w.e=e.e;w.c=e.c.slice()}return}if((p="number"==typeof e)&&0*e==0){w.s=1/e<0?(e=-e,-1):1;if(e===~~e){for(c=0,u=e;u>=10;u/=10,c++);if(c>P)w.c=w.e=null;else{w.e=c;w.c=[e]}return}_=String(e)}else{if(!o.test(_=String(e)))return a(w,_,p);w.s=45==_.charCodeAt(0)?(_=_.slice(1),-1):1}if((c=_.indexOf("."))>-1)_=_.replace(".","");if((u=_.search(/e/i))>0){if(c<0)c=u;c+=+_.slice(u+1);_=_.substring(0,u)}else if(c<0)c=_.length}else{intCheck(t,2,k.length,"Base");if(10==t&&A){w=new BigNumber(e);return round(w,v+w.e+1,y)}_=String(e);if(p="number"==typeof e){if(0*e!=0)return a(w,_,p,t);w.s=1/e<0?(_=_.slice(1),-1):1;if(BigNumber.DEBUG&&_.replace(/^0\.0*|\./,"").length>15){throw Error(l+e)}}else{w.s=45===_.charCodeAt(0)?(_=_.slice(1),-1):1}s=k.slice(0,t);c=u=0;for(m=_.length;u<m;u++)if(s.indexOf(i=_.charAt(u))<0){if("."==i){if(u>c){c=m;continue}}else if(!n){if(_==_.toUpperCase()&&(_=_.toLowerCase())||_==_.toLowerCase()&&(_=_.toUpperCase())){n=true;u=-1;c=0;continue}}return a(w,String(e),p,t)}p=false;_=r(_,t,10,w.s);if((c=_.indexOf("."))>-1)_=_.replace(".","");else c=_.length}for(u=0;48===_.charCodeAt(u);u++);for(m=_.length;48===_.charCodeAt(--m););if(_=_.slice(u,++m)){m-=u;if(p&&BigNumber.DEBUG&&m>15&&(e>h||e!==d(e))){throw Error(l+w.s*e)}if((c=c-u-1)>P)w.c=w.e=null;else if(c<b)w.c=[w.e=0];else{w.e=c;w.c=[];u=(c+1)%f;if(c<0)u+=f;if(u<m){if(u)w.c.push(+_.slice(0,u));for(m-=f;u<m;)w.c.push(+_.slice(u,u+=f));u=f-(_=_.slice(u)).length}else{u-=m}for(;u--;_+="0");w.c.push(+_)}}else{w.c=[w.e=0]}}BigNumber.clone=clone;BigNumber.ROUND_UP=0;BigNumber.ROUND_DOWN=1;BigNumber.ROUND_CEIL=2;BigNumber.ROUND_FLOOR=3;BigNumber.ROUND_HALF_UP=4;BigNumber.ROUND_HALF_DOWN=5;BigNumber.ROUND_HALF_EVEN=6;BigNumber.ROUND_HALF_CEIL=7;BigNumber.ROUND_HALF_FLOOR=8;BigNumber.EUCLID=9;BigNumber.config=BigNumber.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")){r=e[t];intCheck(r,0,_,t);v=r}if(e.hasOwnProperty(t="ROUNDING_MODE")){r=e[t];intCheck(r,0,8,t);y=r}if(e.hasOwnProperty(t="EXPONENTIAL_AT")){r=e[t];if(r&&r.pop){intCheck(r[0],-_,0,t);intCheck(r[1],0,_,t);w=r[0];g=r[1]}else{intCheck(r,-_,_,t);w=-(g=r<0?-r:r)}}if(e.hasOwnProperty(t="RANGE")){r=e[t];if(r&&r.pop){intCheck(r[0],-_,-1,t);intCheck(r[1],1,_,t);b=r[0];P=r[1]}else{intCheck(r,-_,_,t);if(r)b=-(P=r<0?-r:r);else{throw Error(c+t+" cannot be zero: "+r)}}}if(e.hasOwnProperty(t="CRYPTO")){r=e[t];if(!!r===r)if(r)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))C=r;else{C=!r;throw Error(c+"crypto unavailable")}else C=r;else{throw Error(c+t+" not true or false: "+r)}}if(e.hasOwnProperty(t="MODULO_MODE")){r=e[t];intCheck(r,0,9,t);S=r}if(e.hasOwnProperty(t="POW_PRECISION")){r=e[t];intCheck(r,0,_,t);T=r}if(e.hasOwnProperty(t="FORMAT")){r=e[t];if("object"==typeof r)E=r;else throw Error(c+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){r=e[t];if("string"!=typeof r||/^.?$|[+\-.\s]|(.).*\1/.test(r)){throw Error(c+t+" invalid: "+r)}A="0123456789"==r.slice(0,10);k=r}}else{throw Error(c+"Object expected: "+e)}return{DECIMAL_PLACES:v,ROUNDING_MODE:y,EXPONENTIAL_AT:[w,g],RANGE:[b,P],CRYPTO:C,MODULO_MODE:S,POW_PRECISION:T,FORMAT:E,ALPHABET:k}};BigNumber.isBigNumber=function(e){if(!e||true!==e._isBigNumber)return false;if(!BigNumber.DEBUG)return true;var t,r,a=e.c,s=e.e,i=e.s;e:if("[object Array]"==({}).toString.call(a)){if((1===i||-1===i)&&s>=-_&&s<=_&&s===d(s)){if(0===a[0]){if(0===s&&1===a.length)return true;break e}t=(s+1)%f;if(t<1)t+=f;if(String(a[0]).length==t){for(t=0;t<a.length;t++){r=a[t];if(r<0||r>=u||r!==d(r))break e}if(0!==r)return true}}}else if(null===a&&null===s&&(null===i||1===i||-1===i)){return true}throw Error(c+"Invalid BigNumber: "+e)};BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,s.lt)};BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,s.gt)};BigNumber.random=function(){var e=9007199254740992;var t=Math.random()*e&2097151?function(){return d(Math.random()*e)}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)};return function(e){var r,a,s,o,l,u=0,h=[],m=new BigNumber(i);if(null==e)e=v;else intCheck(e,0,_);o=n(e/f);if(C)if(crypto.getRandomValues){r=crypto.getRandomValues(new Uint32Array(o*=2));for(;u<o;){l=131072*r[u]+(r[u+1]>>>11);if(l>=9e15){a=crypto.getRandomValues(new Uint32Array(2));r[u]=a[0];r[u+1]=a[1]}else{h.push(l%1e14);u+=2}}u=o/2}else if(crypto.randomBytes){r=crypto.randomBytes(o*=7);for(;u<o;){l=(31&r[u])*281474976710656+1099511627776*r[u+1]+4294967296*r[u+2]+16777216*r[u+3]+(r[u+4]<<16)+(r[u+5]<<8)+r[u+6];if(l>=9e15)crypto.randomBytes(7).copy(r,u);else{h.push(l%1e14);u+=7}}u=o/7}else{C=false;throw Error(c+"crypto unavailable")}if(!C){for(;u<o;){l=t();if(l<9e15)h[u++]=l%1e14}}o=h[--u];e%=f;if(o&&e){l=p[f-e];h[u]=d(o/l)*l}for(;0===h[u];h.pop(),u--);if(u<0)h=[s=0];else{for(s=-1;0===h[0];h.splice(0,1),s-=f);for(u=1,l=h[0];l>=10;l/=10,u++);if(u<f)s-=f-u}m.e=s;m.c=h;return m}}();BigNumber.sum=function(){var e=1,t=arguments,r=new BigNumber(t[0]);for(;e<t.length;)r=r.plus(t[e++]);return r};r=function(){var e="0123456789";function toBaseOut(e,t,r,a){var s,i=[0],o,n=0,d=e.length;for(;n<d;){for(o=i.length;o--;i[o]*=t);i[0]+=a.indexOf(e.charAt(n++));for(s=0;s<i.length;s++)if(i[s]>r-1){if(null==i[s+1])i[s+1]=0;i[s+1]+=i[s]/r|0;i[s]%=r}}return i.reverse()}return function(r,a,s,i,o){var n,d,c,l,u,f,h,p,m=r.indexOf("."),_=v,w=y;if(m>=0){l=T;T=0;r=r.replace(".","");p=new BigNumber(a);f=p.pow(r.length-m);T=l;p.c=toBaseOut(toFixedPoint(coeffToString(f.c),f.e,"0"),10,s,e);p.e=p.c.length}h=toBaseOut(r,a,s,o?(n=k,e):(n=e,k));c=l=h.length;for(;0==h[--l];h.pop());if(!h[0])return n.charAt(0);if(m<0)--c;else{f.c=h;f.e=c;f.s=i;f=t(f,p,_,w,s);h=f.c;u=f.r;c=f.e}d=c+_+1;m=h[d];l=s/2;u=u||d<0||null!=h[d+1];u=w<4?(null!=m||u)&&(0==w||w==(f.s<0?3:2)):m>l||m==l&&(4==w||u||6==w&&1&h[d-1]||w==(f.s<0?8:7));if(d<1||!h[0])r=u?toFixedPoint(n.charAt(1),-_,n.charAt(0)):n.charAt(0);else{h.length=d;if(u){for(--s;++h[--d]>s;){h[d]=0;if(!d){++c;h=[1].concat(h)}}}for(l=h.length;!h[--l];);for(m=0,r="";m<=l;r+=n.charAt(h[m++]));r=toFixedPoint(r,c,n.charAt(0))}return r}}();t=function(){function multiply(e,t,r){var a,s,i,o,n=0,d=e.length,c=t%m,l=t/m|0;for(e=e.slice();d--;){i=e[d]%m;o=e[d]/m|0;a=l*i+o*c;s=c*i+a%m*m+n;n=(s/r|0)+(a/m|0)+l*o;e[d]=s%r}if(n)e=[n].concat(e);return e}function compare(e,t,r,a){var s,i;if(r!=a)i=r>a?1:-1;else{for(s=i=0;s<r;s++)if(e[s]!=t[s]){i=e[s]>t[s]?1:-1;break}}return i}function subtract(e,t,r,a){var s=0;for(;r--;){e[r]-=s;s=e[r]<t[r]?1:0;e[r]=s*a+e[r]-t[r]}for(;!e[0]&&e.length>1;e.splice(0,1));}return function(e,t,r,a,s){var i,o,n,c,l,h,p,m,_,v,y,w,g,b,P,C,S,T=e.s==t.s?1:-1,E=e.c,k=t.c;if(!E||!E[0]||!k||!k[0]){return new BigNumber(e.s&&t.s&&(E?!k||E[0]!=k[0]:k)?E&&0==E[0]||!k?0*T:T/0:NaN)}m=new BigNumber(T);_=m.c=[];o=e.e-t.e;T=r+o+1;if(!s){s=u;o=bitFloor(e.e/f)-bitFloor(t.e/f);T=T/f|0}for(n=0;k[n]==(E[n]||0);n++);if(k[n]>(E[n]||0))o--;if(T<0){_.push(1);c=true}else{b=E.length;C=k.length;n=0;T+=2;l=d(s/(k[0]+1));if(l>1){k=multiply(k,l,s);E=multiply(E,l,s);C=k.length;b=E.length}g=C;v=E.slice(0,C);y=v.length;for(;y<C;v[y++]=0);S=k.slice();S=[0].concat(S);P=k[0];if(k[1]>=s/2)P++;do{l=0;i=compare(k,v,C,y);if(i<0){w=v[0];if(C!=y)w=w*s+(v[1]||0);l=d(w/P);if(l>1){if(l>=s)l=s-1;h=multiply(k,l,s);p=h.length;y=v.length;while(1==compare(h,v,p,y)){l--;subtract(h,C<p?S:k,p,s);p=h.length;i=1}}else{if(0==l)i=l=1;h=k.slice();p=h.length}if(p<y)h=[0].concat(h);subtract(v,h,y,s);y=v.length;if(-1==i){while(compare(k,v,C,y)<1){l++;subtract(v,C<y?S:k,y,s);y=v.length}}}else if(0===i){l++;v=[0]}_[n++]=l;if(v[0])v[y++]=E[g]||0;else{v=[E[g]];y=1}}while((g++<b||null!=v[0])&&T--)c=null!=v[0];if(!_[0])_.splice(0,1)}if(s==u){for(n=1,T=_[0];T>=10;T/=10,n++);round(m,r+(m.e=n+o*f-1)+1,a,c)}else{m.e=o;m.r=+c}return m}}();function format(e,t,r,a){var s,i,o,n,d;if(null==r)r=y;else intCheck(r,0,8);if(!e.c)return e.toString();s=e.c[0];o=e.e;if(null==t){d=coeffToString(e.c);d=1==a||2==a&&(o<=w||o>=g)?toExponential(d,o):toFixedPoint(d,o,"0")}else{e=round(new BigNumber(e),t,r);i=e.e;d=coeffToString(e.c);n=d.length;if(1==a||2==a&&(t<=i||i<=w)){for(;n<t;d+="0",n++);d=toExponential(d,i)}else{t-=o;d=toFixedPoint(d,i,"0");if(i+1>n){if(--t>0)for(d+=".";t--;d+="0");}else{t+=i-n;if(t>0){if(i+1==n)d+=".";for(;t--;d+="0");}}}}return e.s<0&&s?"-"+d:d}function maxOrMin(e,t){var r,a=1,s=new BigNumber(e[0]);for(;a<e.length;a++){r=new BigNumber(e[a]);if(r.s){if(t.call(s,r))s=r}else{s=r;break}}return s}function normalise(e,t,r){var a=1,s=t.length;for(;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,a++);if((r=a+r*f-1)>P)e.c=e.e=null;else if(r<b)e.c=[e.e=0];else{e.e=r;e.c=t}return e}a=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,a=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,o,n,d){var l,u=n?o:o.replace(s,"");if(a.test(u))i.s=isNaN(u)?null:u<0?-1:1;else{if(!n){u=u.replace(e,function(e,t,r){l="x"==(r=r.toLowerCase())?16:"b"==r?2:8;return d&&d!=l?e:t});if(d){l=d;u=u.replace(t,"$1").replace(r,"0.$1")}if(o!=u)return new BigNumber(u,l)}if(BigNumber.DEBUG){throw Error(c+"Not a"+(d?" base "+d:"")+" number: "+o)}i.s=null}i.c=i.e=null}}();function round(e,t,r,a){var s,i,o,c,l,h,m,_=e.c,v=p;if(_){e:{for(s=1,c=_[0];c>=10;c/=10,s++);i=t-s;if(i<0){i+=f;o=t;l=_[h=0];m=l/v[s-o-1]%10|0}else{h=n((i+1)/f);if(h>=_.length)if(a){for(;_.length<=h;_.push(0));l=m=0;s=1;i%=f;o=i-f+1}else{break e}else{l=c=_[h];for(s=1;c>=10;c/=10,s++);i%=f;o=i-f+s;m=o<0?0:l/v[s-o-1]%10|0}}a=a||t<0||null!=_[h+1]||(o<0?l:l%v[s-o-1]);a=r<4?(m||a)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||a||6==r&&(i>0?o>0?l/v[s-o]:0:_[h-1])%10&1||r==(e.s<0?8:7));if(t<1||!_[0]){_.length=0;if(a){t-=e.e+1;_[0]=v[(f-t%f)%f];e.e=-t||0}else{_[0]=e.e=0}return e}if(0==i){_.length=h;c=1;h--}else{_.length=h+1;c=v[f-i];_[h]=o>0?d(l/v[s-o]%v[o])*c:0}if(a){for(;;){if(0==h){for(i=1,o=_[0];o>=10;o/=10,i++);o=_[0]+=c;for(c=1;o>=10;o/=10,c++);if(i!=c){e.e++;if(_[0]==u)_[0]=1}break}_[h]+=c;if(_[h]!=u)break;_[h--]=0;c=1}}for(i=_.length;0===_[--i];_.pop());}if(e.e>P)e.c=e.e=null;else if(e.e<b)e.c=[e.e=0]}return e}function valueOf(e){var t,r=e.e;if(null===r)return e.toString();t=coeffToString(e.c);t=r<=w||r>=g?toExponential(t,r):toFixedPoint(t,r,"0");return e.s<0?"-"+t:t}s.absoluteValue=s.abs=function(){var e=new BigNumber(this);if(e.s<0)e.s=1;return e};s.comparedTo=function(e,t){return compare(this,new BigNumber(e,t))};s.decimalPlaces=s.dp=function(e,t){var r,a,s,i=this;if(null!=e){intCheck(e,0,_);if(null==t)t=y;else intCheck(t,0,8);return round(new BigNumber(i),e+i.e+1,t)}if(!(r=i.c))return null;a=((s=r.length-1)-bitFloor(this.e/f))*f;if(s=r[s])for(;s%10==0;s/=10,a--);if(a<0)a=0;return a};s.dividedBy=s.div=function(e,r){return t(this,new BigNumber(e,r),v,y)};s.dividedToIntegerBy=s.idiv=function(e,r){return t(this,new BigNumber(e,r),0,1)};s.exponentiatedBy=s.pow=function(e,t){var r,a,s,o,l,u,h,p,m,_=this;e=new BigNumber(e);if(e.c&&!e.isInteger()){throw Error(c+"Exponent not an integer: "+valueOf(e))}if(null!=t)t=new BigNumber(t);u=e.e>14;if(!_.c||!_.c[0]||1==_.c[0]&&!_.e&&1==_.c.length||!e.c||!e.c[0]){m=new BigNumber(Math.pow(+valueOf(_),u?e.s*(2-isOdd(e)):+valueOf(e)));return t?m.mod(t):m}h=e.s<0;if(t){if(t.c?!t.c[0]:!t.s)return new BigNumber(NaN);a=!h&&_.isInteger()&&t.isInteger();if(a)_=_.mod(t)}else if(e.e>9&&(_.e>0||_.e<-1||(0==_.e?_.c[0]>1||u&&_.c[1]>=24e7:_.c[0]<8e13||u&&_.c[0]<=9999975e7))){o=(_.s<0&&isOdd(e),-0);if(_.e>-1)o=1/o;return new BigNumber(h?1/o:o)}else if(T)o=n(T/f+2);if(u){r=new BigNumber(.5);if(h)e.s=1;p=isOdd(e)}else{s=Math.abs(+valueOf(e));p=s%2}m=new BigNumber(i);for(;;){if(p){m=m.times(_);if(!m.c)break;if(o){if(m.c.length>o)m.c.length=o}else if(a)m=m.mod(t)}if(s){s=d(s/2);if(0===s)break;p=s%2}else{e=e.times(r);round(e,e.e+1,1);if(e.e>14)p=isOdd(e);else{s=+valueOf(e);if(0===s)break;p=s%2}}_=_.times(_);if(o){if(_.c&&_.c.length>o)_.c.length=o}else if(a)_=_.mod(t)}if(a)return m;if(h)m=i.div(m);return t?m.mod(t):o?round(m,T,y,l):m};s.integerValue=function(e){var t=new BigNumber(this);if(null==e)e=y;else intCheck(e,0,8);return round(t,t.e+1,e)};s.isEqualTo=s.eq=function(e,t){return 0===compare(this,new BigNumber(e,t))};s.isFinite=function(){return!!this.c};s.isGreaterThan=s.gt=function(e,t){return compare(this,new BigNumber(e,t))>0};s.isGreaterThanOrEqualTo=s.gte=function(e,t){return 1===(t=compare(this,new BigNumber(e,t)))||0===t};s.isInteger=function(){return!!this.c&&bitFloor(this.e/f)>this.c.length-2};s.isLessThan=s.lt=function(e,t){return compare(this,new BigNumber(e,t))<0};s.isLessThanOrEqualTo=s.lte=function(e,t){return -1===(t=compare(this,new BigNumber(e,t)))||0===t};s.isNaN=function(){return!this.s};s.isNegative=function(){return this.s<0};s.isPositive=function(){return this.s>0};s.isZero=function(){return!!this.c&&0==this.c[0]};s.minus=function(e,t){var r,a,s,i,o=this,n=o.s;e=new BigNumber(e,t);t=e.s;if(!n||!t)return new BigNumber(NaN);if(n!=t){e.s=-t;return o.plus(e)}var d=o.e/f,c=e.e/f,l=o.c,h=e.c;if(!d||!c){if(!l||!h)return l?(e.s=-t,e):new BigNumber(h?o:NaN);if(!l[0]||!h[0]){return h[0]?(e.s=-t,e):new BigNumber(l[0]?o:-0)}}d=bitFloor(d);c=bitFloor(c);l=l.slice();if(n=d-c){if(i=n<0){n=-n;s=l}else{c=d;s=h}s.reverse();for(t=n;t--;s.push(0));s.reverse()}else{a=(i=(n=l.length)<(t=h.length))?n:t;for(n=t=0;t<a;t++)if(l[t]!=h[t]){i=l[t]<h[t];break}}if(i){s=l;l=h;h=s;e.s=-e.s}t=(a=h.length)-(r=l.length);if(t>0)for(;t--;l[r++]=0);t=u-1;for(;a>n;){if(l[--a]<h[a]){for(r=a;r&&!l[--r];l[r]=t);--l[r];l[a]+=u}l[a]-=h[a]}for(;0==l[0];l.splice(0,1),--c);if(!l[0]){e.s=3==y?-1:1;e.c=[e.e=0];return e}return normalise(e,l,c)};s.modulo=s.mod=function(e,r){var a,s,i=this;e=new BigNumber(e,r);if(i.c&&e.s&&(!e.c||e.c[0])){if(!e.c||i.c&&!i.c[0]){return new BigNumber(i)}}else{return new BigNumber(NaN)}if(9==S){s=e.s;e.s=1;a=t(i,e,0,3);e.s=s;a.s*=s}else{a=t(i,e,0,S)}e=i.minus(a.times(e));if(!e.c[0]&&1==S)e.s=i.s;return e};s.multipliedBy=s.times=function(e,t){var r,a,s,i,o,n,d,c,l,h,p,_,v,y,w,g=this,b=g.c,P=(e=new BigNumber(e,t)).c;if(!b||!P||!b[0]||!P[0]){if(g.s&&e.s&&(!b||b[0]||P)&&(!P||P[0]||b)){e.s*=g.s;if(b&&P){e.c=[0];e.e=0}else{e.c=e.e=null}}else{e.c=e.e=e.s=null}return e}a=bitFloor(g.e/f)+bitFloor(e.e/f);e.s*=g.s;d=b.length;h=P.length;if(d<h){v=b;b=P;P=v;s=d;d=h;h=s}for(s=d+h,v=[];s--;v.push(0));y=u;w=m;for(s=h;--s>=0;){r=0;p=P[s]%w;_=P[s]/w|0;for(o=d,i=s+o;i>s;){c=b[--o]%w;l=b[o]/w|0;n=_*c+l*p;c=p*c+n%w*w+v[i]+r;r=(c/y|0)+(n/w|0)+_*l;v[i--]=c%y}v[i]=r}if(r)++a;else v.splice(0,1);return normalise(e,v,a)};s.negated=function(){var e=new BigNumber(this);e.s=-e.s||null;return e};s.plus=function(e,t){var r,a=this,s=a.s;e=new BigNumber(e,t);t=e.s;if(!s||!t)return new BigNumber(NaN);if(s!=t){e.s=-t;return a.minus(e)}var i=a.e/f,o=e.e/f,n=a.c,d=e.c;if(!i||!o){if(!n||!d)return new BigNumber(s/0);if(!n[0]||!d[0])return d[0]?e:new BigNumber(n[0]?a:0*s)}i=bitFloor(i);o=bitFloor(o);n=n.slice();if(s=i-o){if(s>0){o=i;r=d}else{s=-s;r=n}r.reverse();for(;s--;r.push(0));r.reverse()}s=n.length;t=d.length;if(s-t<0){r=d;d=n;n=r;t=s}for(s=0;t;){s=(n[--t]=n[t]+d[t]+s)/u|0;n[t]=u===n[t]?0:n[t]%u}if(s){n=[s].concat(n);++o}return normalise(e,n,o)};s.precision=s.sd=function(e,t){var r,a,s,i=this;if(null!=e&&!!e!==e){intCheck(e,1,_);if(null==t)t=y;else intCheck(t,0,8);return round(new BigNumber(i),e,t)}if(!(r=i.c))return null;s=r.length-1;a=s*f+1;if(s=r[s]){for(;s%10==0;s/=10,a--);for(s=r[0];s>=10;s/=10,a++);}if(e&&i.e+1>a)a=i.e+1;return a};s.shiftedBy=function(e){intCheck(e,-h,h);return this.times("1e"+e)};s.squareRoot=s.sqrt=function(){var e,r,a,s,i,o=this,n=o.c,d=o.s,c=o.e,l=v+4,u=new BigNumber("0.5");if(1!==d||!n||!n[0]){return new BigNumber(!d||d<0&&(!n||n[0])?NaN:n?o:1/0)}d=Math.sqrt(+valueOf(o));if(0==d||d==1/0){r=coeffToString(n);if((r.length+c)%2==0)r+="0";d=Math.sqrt(+r);c=bitFloor((c+1)/2)-(c<0||c%2);if(d==1/0)r="5e"+c;else{r=d.toExponential();r=r.slice(0,r.indexOf("e")+1)+c}a=new BigNumber(r)}else{a=new BigNumber(d+"")}if(a.c[0]){c=a.e;d=c+l;if(d<3)d=0;for(;;){i=a;a=u.times(i.plus(t(o,i,l,1)));if(coeffToString(i.c).slice(0,d)===(r=coeffToString(a.c)).slice(0,d)){if(a.e<c)--d;r=r.slice(d-3,d+1);if("9999"!=r&&(s||"4999"!=r)){if(!+r||!+r.slice(1)&&"5"==r.charAt(0)){round(a,a.e+v+2,1);e=!a.times(a).eq(o)}break}if(!s){round(i,i.e+v+2,0);if(i.times(i).eq(o)){a=i;break}}l+=4;d+=4;s=1}}}return round(a,a.e+v+1,y,e)};s.toExponential=function(e,t){if(null!=e){intCheck(e,0,_);e++}return format(this,e,t,1)};s.toFixed=function(e,t){if(null!=e){intCheck(e,0,_);e=e+this.e+1}return format(this,e,t)};s.toFormat=function(e,t,r){var a,s=this;if(null==r)if(null!=e&&t&&"object"==typeof t){r=t;t=null}else if(e&&"object"==typeof e){r=e;e=t=null}else{r=E}else if("object"!=typeof r){throw Error(c+"Argument not an object: "+r)}a=s.toFixed(e,t);if(s.c){var i,o=a.split("."),n=+r.groupSize,d=+r.secondaryGroupSize,l=r.groupSeparator||"",u=o[0],f=o[1],h=s.s<0,p=h?u.slice(1):u,m=p.length;if(d){i=n;n=d;d=i;m-=i}if(n>0&&m>0){i=m%n||n;u=p.substr(0,i);for(;i<m;i+=n)u+=l+p.substr(i,n);if(d>0)u+=l+p.slice(i);if(h)u="-"+u}a=f?u+(r.decimalSeparator||"")+((d=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):u}return(r.prefix||"")+a+(r.suffix||"")};s.toFraction=function(e){var r,a,s,o,n,d,l,u,h,m,_,v,w=this,g=w.c;if(null!=e){l=new BigNumber(e);if(!l.isInteger()&&(l.c||1!==l.s)||l.lt(i)){throw Error(c+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+valueOf(l))}}if(!g)return new BigNumber(w);r=new BigNumber(i);h=a=new BigNumber(i);s=u=new BigNumber(i);v=coeffToString(g);n=r.e=v.length-w.e-1;r.c[0]=p[(d=n%f)<0?f+d:d];e=!e||l.comparedTo(r)>0?n>0?r:h:l;d=P;P=1/0;l=new BigNumber(v);u.c[0]=0;for(;;){m=t(l,r,0,1);o=a.plus(m.times(s));if(1==o.comparedTo(e))break;a=s;s=o;h=u.plus(m.times(o=h));u=o;r=l.minus(m.times(o=r));l=o}o=t(e.minus(a),s,0,1);u=u.plus(o.times(h));a=a.plus(o.times(s));u.s=h.s=w.s;n*=2;_=t(h,s,n,y).minus(w).abs().comparedTo(t(u,a,n,y).minus(w).abs())<1?[h,s]:[u,a];P=d;return _};s.toNumber=function(){return+valueOf(this)};s.toPrecision=function(e,t){if(null!=e)intCheck(e,1,_);return format(this,e,t,2)};s.toString=function(e){var t,a=this,s=a.s,i=a.e;if(null===i)if(s){t="Infinity";if(s<0)t="-"+t}else{t="NaN"}else{if(null==e)t=i<=w||i>=g?toExponential(coeffToString(a.c),i):toFixedPoint(coeffToString(a.c),i,"0");else if(10===e&&A){a=round(new BigNumber(a),v+i+1,y);t=toFixedPoint(coeffToString(a.c),a.e,"0")}else{intCheck(e,2,k.length,"Base");t=r(toFixedPoint(coeffToString(a.c),i,"0"),10,e,s,true)}if(s<0&&a.c[0])t="-"+t}return t};s.valueOf=s.toJSON=function(){return valueOf(this)};s._isBigNumber=true;if(null!=e)BigNumber.set(e);return BigNumber}function bitFloor(e){var t=0|e;return e>0||e===t?t:t-1}function coeffToString(e){var t,r,a=1,s=e.length,i=e[0]+"";for(;a<s;){t=e[a++]+"";r=f-t.length;for(;r--;t="0"+t);i+=t}for(s=i.length;48===i.charCodeAt(--s););return i.slice(0,s+1||1)}function compare(e,t){var r,a,s=e.c,i=t.c,o=e.s,n=t.s,d=e.e,c=t.e;if(!o||!n)return null;r=s&&!s[0];a=i&&!i[0];if(r||a)return r?a?0:-n:o;if(o!=n)return o;r=o<0;a=d==c;if(!s||!i)return a?0:!s^r?1:-1;if(!a)return d>c^r?1:-1;n=(d=s.length)<(c=i.length)?d:c;for(o=0;o<n;o++)if(s[o]!=i[o])return s[o]>i[o]^r?1:-1;return d==c?0:d>c^r?1:-1}function intCheck(e,t,r,a){if(e<t||e>r||e!==d(e)){throw Error(c+(a||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}}function isOdd(e){var t=e.c.length-1;return bitFloor(e.e/f)==t&&e.c[t]%2!=0}function toExponential(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function toFixedPoint(e,t,r){var a,s;if(t<0){for(s=r+".";++t;s+=r);e=s+e}else{a=e.length;if(++t>a){for(s=r,t-=a;--t;s+=r);e+=s}else if(t<a)e=e.slice(0,t)+"."+e.slice(t)}return e}i=clone();i["default"]=i.BigNumber=i;if(true)a=(function(){return i}).call(t,r,t,e),void 0!==a&&(e.exports=a)})(this)},"../../node_modules/@cardano-sdk/input-selection/node_modules/ts-custom-error/dist/custom-error.mjs":(e,t,r)=>{"use strict";r.r(t);r.d(t,{CustomError:()=>s,customErrorFactory:()=>customErrorFactory});function fixProto(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function fixStack(e,t){if(void 0===t)t=e.constructor;var r=Error.captureStackTrace;r&&r(e,t)}var a=function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){a(CustomError,e);function CustomError(t){var r=this.constructor;var a=e.call(this,t)||this;Object.defineProperty(a,"name",{value:r.name,enumerable:false,configurable:true});fixProto(a,r.prototype);fixStack(a);return a}return CustomError}(Error);var __spreadArrays=function(){var e=arguments;for(var t=0,r=0,a=arguments.length;r<a;r++)t+=e[r].length;for(var s=Array(t),i=0,r=0;r<a;r++){for(var o=arguments[r],n=0,d=o.length;n<d;n++,i++)s[i]=o[n]}return s};function customErrorFactory(e,t){if(void 0===t)t=Error;function CustomError(){var r=arguments;var a=[];for(var s=0;s<arguments.length;s++)a[s]=r[s];if(!(this instanceof CustomError)){return new(CustomError.bind.apply(CustomError,__spreadArrays([void 0],a)))}t.apply(this,a);Object.defineProperty(this,"name",{value:e.name||t.name,enumerable:false,configurable:true});e.apply(this,a);fixStack(this,CustomError)}return Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:true,configurable:true}})}})}},"../../node_modules/@cardano-sdk/key-management/dist/cjs/Bip32Account.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.Bip32Account=void 0;const n=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js");const d=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");class Bip32Account{async derivePublicKey(e){const t=await s(this,i,"f").derivePublicKeyAsync(this.extendedAccountPublicKeyHex,[e.role,e.index]);return d.Ed25519PublicKeyHex.fromBip32PublicKey(t)}async deriveAddress(e,t){const r={index:t,role:n.KeyRole.Stake};const a=await this.derivePublicKey({index:e.index,role:Number(e.type)});const i=await s(this,o,"f").hashAsync(a,d.BIP32_PUBLIC_KEY_HASH_LENGTH);const l=await this.derivePublicKey(r);const u=await s(this,o,"f").hashAsync(l,d.BIP32_PUBLIC_KEY_HASH_LENGTH);const f={hash:u,type:c.Cardano.CredentialType.KeyHash};const h=c.Cardano.BaseAddress.fromCredentials(this.chainId.networkId,{hash:i,type:c.Cardano.CredentialType.KeyHash},f).toAddress();const p=c.Cardano.RewardAddress.fromCredentials(this.chainId.networkId,f).toAddress();return{accountIndex:this.accountIndex,address:c.Cardano.PaymentAddress(h.toBech32()),networkId:this.chainId.networkId,rewardAccount:c.Cardano.RewardAccount(p.toBech32()),stakeKeyDerivationPath:r,...e}}static async createDefaultDependencies(){return{bip32Ed25519:await d.SodiumBip32Ed25519.create(),blake2b:d.blake2b}}static async fromAsyncKeyAgent(e,t){t||(t=await Bip32Account.createDefaultDependencies());return new Bip32Account({accountIndex:await e.getAccountIndex(),chainId:await e.getChainId(),extendedAccountPublicKey:await e.getExtendedAccountPublicKey()},t)}constructor({extendedAccountPublicKey:e,chainId:t,accountIndex:r},s){i.set(this,void 0);o.set(this,void 0);this.extendedAccountPublicKeyHex=e;a(this,i,s.bip32Ed25519,"f");a(this,o,s.blake2b,"f");this.chainId=t;this.accountIndex=r}}t.Bip32Account=Bip32Account;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/key-management/dist/cjs/InMemoryKeyAgent.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};var n=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var d=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var l,u,f;Object.defineProperty(t,"__esModule",{value:true});t.InMemoryKeyAgent=void 0;const h=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const p=o(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/index.js"));const m=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js");const _=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/index.js");const v=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/index.js");const y=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/KeyAgentBase.js");const w=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/emip3.js");const g=c(r("../../node_modules/lodash/uniqBy.js"));const getPassphraseRethrowTypedError=async e=>{try{return await e()}catch(t){throw new p.AuthenticationError("Failed to enter passphrase",t)}};class InMemoryKeyAgent extends y.KeyAgentBase{async signBlob({index:e,role:t},r){const a=await d(this,l,"m",f).call(this);const s=await (0,v.deriveAccountPrivateKey)({accountIndex:this.accountIndex,bip32Ed25519:this.bip32Ed25519,purpose:this.purpose,rootPrivateKey:a});const i=await this.bip32Ed25519.derivePrivateKey(s,[t,e]);const o=await this.bip32Ed25519.getRawPrivateKey(i);const n=await this.bip32Ed25519.sign(o,r);const c=await this.bip32Ed25519.getPublicKey(o);return{publicKey:c,signature:n}}async signCip8Data(e){return await (0,_.cip30signData)(this,e)}async exportRootPrivateKey(){return await d(this,l,"m",f).call(this,true)}static async fromBip39MnemonicWords({chainId:e,getPassphrase:t,mnemonicWords:r,mnemonic2ndFactorPassphrase:s="",accountIndex:i=0,purpose:o=m.KeyPurpose.STANDARD},n){const d=(0,v.joinMnemonicWords)(r);const c=(0,v.validateMnemonic)(d);if(!c)throw new p.InvalidMnemonicError;const l=a.from((0,v.mnemonicWordsToEntropy)(r),"hex");const u=n.bip32Ed25519.fromBip39Entropy(l,s);const f=await getPassphraseRethrowTypedError(t);const h=await (0,w.emip3encrypt)(a.from(u,"hex"),f);const _=await (0,v.deriveAccountPrivateKey)({accountIndex:i,bip32Ed25519:n.bip32Ed25519,purpose:o,rootPrivateKey:u});const y=await n.bip32Ed25519.getBip32PublicKey(_);return new InMemoryKeyAgent({accountIndex:i,chainId:e,encryptedRootPrivateKeyBytes:[...h],extendedAccountPublicKey:y,getPassphrase:t,purpose:o},n)}async signTransaction(e,{txInKeyPathMap:t,knownAddresses:r,scripts:a},{additionalKeyPaths:s=[]}={}){const i=e.hash();const o=e.toCore();const n=(await h.Ed25519PublicKey.fromHex(await this.derivePublicKey(v.DREP_KEY_DERIVATION_PATH)).hash()).hex();const d=(0,v.ownSignatureKeyPaths)(o,r,t,n,a);const c=(0,g.default)([...d,...s],({role:e,index:t})=>`${e}.${t}`);return new Map(await Promise.all(c.map(async({role:e,index:t})=>{const{publicKey:r,signature:a}=await this.signBlob({index:t,role:e},i);return[r,a]})))}async exportExtendedKeyPair(e){const t=await this.exportRootPrivateKey();const r=e.map(e=>(0,v.harden)(e));const a=await this.bip32Ed25519.derivePrivateKey(t,r);return{skey:a,vkey:await this.bip32Ed25519.getBip32PublicKey(a)}}constructor({getPassphrase:e,...t},r){super({...t,__typename:m.KeyAgentType.InMemory},r);l.add(this);u.set(this,void 0);n(this,u,e,"f")}}t.InMemoryKeyAgent=InMemoryKeyAgent;u=new WeakMap,l=new WeakSet,f=async function _InMemoryKeyAgent_decryptRootPrivateKey(e){const t=await getPassphraseRethrowTypedError(()=>d(this,u,"f").call(this,e));let r;try{r=await (0,w.emip3decrypt)(new Uint8Array(this.serializableData.encryptedRootPrivateKeyBytes),t)}catch(s){throw new p.AuthenticationError("Failed to decrypt root private key",s)}return h.Bip32PrivateKeyHex(a.from(r).toString("hex"))}},"../../node_modules/@cardano-sdk/key-management/dist/cjs/KeyAgentBase.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n;Object.defineProperty(t,"__esModule",{value:true});t.KeyAgentBase=void 0;const d=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js");const c=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/Bip32Account.js");const l=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");class KeyAgentBase{get serializableData(){return s(this,i,"f")}get extendedAccountPublicKey(){return this.serializableData.extendedAccountPublicKey}get chainId(){return this.serializableData.chainId}get accountIndex(){return this.serializableData.accountIndex}get bip32Ed25519(){return s(this,o,"f")}get purpose(){return this.serializableData.purpose||d.KeyPurpose.STANDARD}async deriveAddress(e,t){return s(this,n,"f").deriveAddress(e,t)}async derivePublicKey(e){return s(this,n,"f").derivePublicKey(e)}constructor(e,{bip32Ed25519:t}){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f");a(this,n,new c.Bip32Account(e,{bip32Ed25519:t,blake2b:l.blake2b}),"f")}}t.KeyAgentBase=KeyAgentBase;i=new WeakMap,o=new WeakMap,n=new WeakMap},"../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/cip30signData.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.cip30signData=t.createCoseKey=t.getAddressBytes=t.Cip30DataSignError=t.Cip30DataSignErrorCode=void 0;const n=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const d=r("../../node_modules/@emurgo/cardano-message-signing-browser/cardano_message_signing.js");const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const u=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/util.js");const f=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/index.js");var h;(function(e){e[e["ProofGeneration"]=1]="ProofGeneration";e[e["AddressNotPK"]=2]="AddressNotPK";e[e["UserDeclined"]=3]="UserDeclined"})(h=t.Cip30DataSignErrorCode||(t.Cip30DataSignErrorCode={}));class Cip30DataSignError extends l.ComposableError{constructor(e,t,r){super(`DataSignError code: ${e}`,r);this.code=e;this.info=t}}t.Cip30DataSignError=Cip30DataSignError;const getAddressBytes=e=>{const t=c.Cardano.Address.fromString(e);if(!t){throw new Cip30DataSignError(h.AddressNotPK,"Invalid address")}return a.from(t.toBytes(),"hex")};t.getAddressBytes=getAddressBytes;const isPaymentAddress=e=>e.startsWith("addr");const getDerivationPath=async(e,t,r)=>{const a=e.startsWith("stake");if(a){const s=t.find(({rewardAccount:t})=>t===e);if(!s)throw new Cip30DataSignError(h.ProofGeneration,"Unknown reward address");return s.stakeKeyDerivationPath||f.STAKE_KEY_DERIVATION_PATH}if(isPaymentAddress(e)){var i;const o=c.Cardano.Address.fromString(e);if((null==o?void 0:o.getType())===c.Cardano.AddressType.EnterpriseKey&&(null===(i=null==o?void 0:o.getProps().paymentPart)||void 0===i?void 0:i.hash)===r){return f.DREP_KEY_DERIVATION_PATH}}const n=t.find(({address:t})=>t===e);if(!n){throw new Cip30DataSignError(h.ProofGeneration,"Unknown address")}return{index:n.index,role:n.type}};const createSigStructureHeaders=e=>{const t=d.HeaderMap.new();t.set_key_id(e);t.set_header(u.CoseLabel.address,d.CBORValue.new_bytes(e));t.set_algorithm_id(d.Label.from_algorithm_id(d.AlgorithmId.EdDSA));return t};const signSigStructure=(e,t,r)=>{try{return e.signBlob(t,c.util.bytesToHex(r.to_bytes()))}catch(a){throw new Cip30DataSignError(h.UserDeclined,"Failed to sign",a)}};const createCoseKey=(e,t)=>{const r=d.COSEKey.new(d.Label.from_key_type(d.KeyType.OKP));r.set_key_id(e);r.set_algorithm_id(d.Label.from_algorithm_id(d.AlgorithmId.EdDSA));r.set_header(u.CoseLabel.crv,d.CBORValue.from_label(d.Label.from_curve_type(d.CurveType.Ed25519)));r.set_header(u.CoseLabel.x,d.CBORValue.new_bytes(a.from(t,"hex")));return r};t.createCoseKey=createCoseKey;const cip30signData=async(e,{knownAddresses:r,signWith:s,payload:i})=>{const o=n.Ed25519PublicKey.fromHex(await e.derivePublicKey(f.DREP_KEY_DERIVATION_PATH)).hash().hex();const l=(0,t.getAddressBytes)(s);const u=await getDerivationPath(s,r,o);const h=d.COSESign1Builder.new(d.Headers.new(d.ProtectedHeaderMap.new(createSigStructureHeaders(l)),d.HeaderMap.new()),a.from(i,"hex"),false);const p=h.make_data_to_sign();const{signature:m,publicKey:_}=await signSigStructure(e,u,p);const v=h.build(a.from(m,"hex"));const y=(0,t.createCoseKey)(l,_);return{key:c.util.bytesToHex(y.to_bytes()),signature:c.util.bytesToHex(v.to_bytes())}};t.cip30signData=cip30signData},"../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/cip30signData.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/types.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/util.js"),t)},"../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/util.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CoseLabel=void 0;const a=r("../../node_modules/@emurgo/cardano-message-signing-browser/cardano_message_signing.js");t.CoseLabel={address:a.Label.new_text("address"),crv:a.Label.new_int(a.Int.new_i32(-1)),x:a.Label.new_int(a.Int.new_i32(-2))}},"../../node_modules/@cardano-sdk/key-management/dist/cjs/emip3.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.emip3decrypt=t.emip3encrypt=t.createPbkdf2Key=void 0;const i=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/browser.js");const o=s(r("../../node_modules/chacha/browser.js"));const n=s(r("../../node_modules/get-random-values/index.js"));const d=32;const c=12;const l=19162;const u=32;const f=16;const h=a.from("","hex");const createPbkdf2Key=async(e,t)=>await new Promise((r,a)=>(0,i.pbkdf2)(e,t,l,d,"sha512",(e,t)=>{if(e)return a(e);r(t)}));t.createPbkdf2Key=createPbkdf2Key;const emip3encrypt=async(e,r)=>{const s=new Uint8Array(u);(0,n.default)(s);const i=await (0,t.createPbkdf2Key)(r,s);const d=new Uint8Array(c);(0,n.default)(d);const l=o.default.createCipher(i,a.from(d));l.setAAD(h,{plaintextLength:e.length});const f=l.update(e);const p=l.final();const m=l.getAuthTag();return a.concat([s,d,m,f,p])};t.emip3encrypt=emip3encrypt;const emip3decrypt=async(e,r)=>{const s=e.slice(0,u);const i=e.slice(u,u+c);const n=e.slice(u+c,u+c+f);const d=e.slice(u+c+f);const l=await (0,t.createPbkdf2Key)(r,s);const p=o.default.createDecipher(l,a.from(i));p.setAuthTag(a.from(n));p.setAAD(h);return a.concat([p.update(a.from(d)),p.final()])};t.emip3decrypt=emip3decrypt},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/AuthenticationError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AuthenticationError=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Authentication failure${t}`};class AuthenticationError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}t.AuthenticationError=AuthenticationError},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/HwMappingError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HwMappingError=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Hardware data mapping failure${t}`};class HwMappingError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}t.HwMappingError=HwMappingError},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/InvalidMnemonicError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidMnemonicError=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/node_modules/ts-custom-error/dist/custom-error.mjs");class InvalidMnemonicError extends a.CustomError{constructor(){super();this.message="Invalid Mnemonic";this.name="InvalidMnemonicError"}}t.InvalidMnemonicError=InvalidMnemonicError},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/InvalidSerializableDataError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidSerializableDataError=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/node_modules/ts-custom-error/dist/custom-error.mjs");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Invalid serializable key agent data${t}`};class InvalidSerializableDataError extends a.CustomError{constructor(e){super(formatMessage(e))}}t.InvalidSerializableDataError=InvalidSerializableDataError},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/ProofGenerationError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ProofGenerationError=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Proof generation failure${t}`};class ProofGenerationError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}t.ProofGenerationError=ProofGenerationError},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/TransportError.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TransportError=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Transport failure${t}`};class TransportError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}t.TransportError=TransportError},"../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/AuthenticationError.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/InvalidMnemonicError.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/InvalidSerializableDataError.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/TransportError.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/HwMappingError.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/ProofGenerationError.js"),t)},"../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.cip8=t.util=t.errors=void 0;t.errors=i(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/index.js"));o(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/KeyAgentBase.js"),t);o(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/InMemoryKeyAgent.js"),t);t.util=i(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/index.js"));o(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/emip3.js"),t);o(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js"),t);t.cip8=i(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/cip8/index.js"));o(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/Bip32Account.js"),t)},"../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TxInId=t.CommunicationType=t.DeviceType=t.AddressType=t.KeyPurpose=t.KeyRole=t.KeyAgentType=t.Cip1852PathLevelIndexes=t.CardanoKeyConst=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");var s;(function(e){e[e["PURPOSE"]=1852]="PURPOSE";e[e["COIN_TYPE"]=1815]="COIN_TYPE"})(s=t.CardanoKeyConst||(t.CardanoKeyConst={}));var i;(function(e){e[e["PURPOSE"]=0]="PURPOSE";e[e["COIN_TYPE"]=1]="COIN_TYPE";e[e["ACCOUNT"]=2]="ACCOUNT";e[e["ROLE"]=3]="ROLE";e[e["INDEX"]=4]="INDEX"})(i=t.Cip1852PathLevelIndexes||(t.Cip1852PathLevelIndexes={}));var o;(function(e){e["InMemory"]="InMemory";e["Ledger"]="Ledger";e["Trezor"]="Trezor"})(o=t.KeyAgentType||(t.KeyAgentType={}));var n;(function(e){e[e["External"]=0]="External";e[e["Internal"]=1]="Internal";e[e["Stake"]=2]="Stake";e[e["DRep"]=3]="DRep"})(n=t.KeyRole||(t.KeyRole={}));var d;(function(e){e[e["STANDARD"]=a.HD_WALLET_CIP_ID]="STANDARD";e[e["MULTI_SIG"]=a.MULTISIG_CIP_ID]="MULTI_SIG"})(d=t.KeyPurpose||(t.KeyPurpose={}));var c;(function(e){e[e["Internal"]=1]="Internal";e[e["External"]=0]="External"})(c=t.AddressType||(t.AddressType={}));var l;(function(e){e["Ledger"]="Ledger"})(l=t.DeviceType||(t.DeviceType={}));var u;(function(e){e["Web"]="web";e["Node"]="node"})(u=t.CommunicationType||(t.CommunicationType={}));const TxInId=({txId:e,index:t})=>`${e}_${t}`;t.TxInId=TxInId},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/KeyAgentTransactionSigner.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o;Object.defineProperty(t,"__esModule",{value:true});t.KeyAgentTransactionSigner=void 0;const n=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/errors/index.js");const d=1;class KeyAgentTransactionSigner{async sign(e){const t=await s(this,i,"f").signTransaction(e,{knownAddresses:[],txInKeyPathMap:{}},{additionalKeyPaths:[s(this,o,"f")]});if(t.size!==d)throw new n.ProofGenerationError(`Invalid number of signatures. Expected ${d} and got ${t.size}`);const[r]=t.keys();const[a]=t.values();return{pubKey:r,signature:a}}constructor(e,t){i.set(this,void 0);o.set(this,void 0);a(this,i,e,"f");a(this,o,t,"f")}}t.KeyAgentTransactionSigner=KeyAgentTransactionSigner;i=new WeakMap,o=new WeakMap},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/bip39.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.validateMnemonic=t.mnemonicWordsToEntropy=t.entropyToMnemonicWords=t.joinMnemonicWords=t.generateMnemonicWords=t.mnemonicToWords=void 0;const o=i(r("../../node_modules/bip39/src/index.js"));const mnemonicToWords=e=>e.split(" ");t.mnemonicToWords=mnemonicToWords;const generateMnemonicWords=(e=256)=>(0,t.mnemonicToWords)(o.generateMnemonic(e));t.generateMnemonicWords=generateMnemonicWords;const joinMnemonicWords=e=>e.join(" ");t.joinMnemonicWords=joinMnemonicWords;const entropyToMnemonicWords=e=>(0,t.mnemonicToWords)(o.entropyToMnemonic(e));t.entropyToMnemonicWords=entropyToMnemonicWords;const mnemonicWordsToEntropy=e=>o.mnemonicToEntropy((0,t.joinMnemonicWords)(e));t.mnemonicWordsToEntropy=mnemonicWordsToEntropy;t.validateMnemonic=o.validateMnemonic},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/createAsyncKeyAgent.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createAsyncKeyAgent=void 0;const createAsyncKeyAgent=(e,t)=>{return{deriveAddress(t,r){return e.deriveAddress(t,r)},derivePublicKey:e.derivePublicKey.bind(e),getAccountIndex:()=>Promise.resolve(e.accountIndex),getBip32Ed25519:()=>Promise.resolve(e.bip32Ed25519),getChainId:()=>Promise.resolve(e.chainId),getExtendedAccountPublicKey:()=>Promise.resolve(e.extendedAccountPublicKey),shutdown(){null==t?void 0:t()},signBlob:e.signBlob.bind(e),signCip8Data:e.signCip8Data.bind(e),signTransaction:e.signTransaction.bind(e)}};t.createAsyncKeyAgent=createAsyncKeyAgent},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/createWitnesser.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i;Object.defineProperty(t,"__esModule",{value:true});t.createBip32Ed25519Witnesser=t.Bip32Ed25519Witnesser=void 0;const o=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const n=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/stubSignTransaction.js");class Bip32Ed25519Witnesser{async witness(e,t,r){var a,d;const c=e.toCore();const l=e.getId();const u=(null==r?void 0:r.stubSign)!==void 0&&r.stubSign?await (0,n.stubSignTransaction)({context:t,signTransactionOptions:r,txBody:c.body}):await Bip32Ed25519Witnesser.getSignatures(s(this,i,"f"),e.body(),t,r);const f={auxiliaryData:c.auxiliaryData,body:c.body,id:l,isValid:e.isValid(),witness:{...c.witness,signatures:new Map([...u.entries(),...(null===(a=c.witness)||void 0===a?void 0:null===(d=a.signatures)||void 0===d?void 0:d.entries())||[]])}};var h;return{cbor:o.Serialization.TxCBOR.serialize(f),context:{handleResolutions:null!==(h=t.handleResolutions)&&void 0!==h?h:[]},tx:f}}async signData(e){return s(this,i,"f").signCip8Data(e)}static async getSignatures(e,t,r,a){const s=await e.signTransaction(t,r,a);if(null==a?void 0:a.extraSigners){for(const i of null==a?void 0:a.extraSigners){const o=await i.sign(t);s.set(o.pubKey,o.signature)}}return s}constructor(e){i.set(this,void 0);a(this,i,e,"f")}}t.Bip32Ed25519Witnesser=Bip32Ed25519Witnesser;i=new WeakMap;const createBip32Ed25519Witnesser=e=>new Bip32Ed25519Witnesser(e);t.createBip32Ed25519Witnesser=createBip32Ed25519Witnesser},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/ensureStakeKeys.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ensureStakeKeys=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js");const ensureStakeKeys=async({bip32Account:e,knownAddresses:t,count:r,logger:s,paymentKeyIndex:i=0})=>{const o=new Map(t.filter(({stakeKeyDerivationPath:e})=>{return(null==e?void 0:e.role)===a.KeyRole.Stake&&(null==e?void 0:e.index)!==void 0}).map(({rewardAccount:e,stakeKeyDerivationPath:t})=>[t.index,e]));s.debug(`Stake keys requested: ${r}; got ${o.size}`);const n=[];for(let d=0;o.size<r;d++)if(!o.has(d)){const c=await e.deriveAddress({index:i,type:a.AddressType.External},d);n.push(c);s.debug(`No derivation with stake key index ${d} exists. Derived a new stake key ${c.rewardAccount}.`);o.set(d,c.rewardAccount)}return{newAddresses:n,rewardAccounts:[...o.values()]}};t.ensureStakeKeys=ensureStakeKeys},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/bip39.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/createAsyncKeyAgent.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/key.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/ownSignatureKeyPaths.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/stubSignTransaction.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/KeyAgentTransactionSigner.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/ensureStakeKeys.js"),t);s(r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/createWitnesser.js"),t)},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/key.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.stakeKeyPathFromGroupedAddress=t.paymentKeyPathFromGroupedAddress=t.accountKeyDerivationPathToBip32Path=t.deriveAccountPrivateKey=t.toEd25519KeyPair=t.DREP_KEY_DERIVATION_PATH=t.STAKE_KEY_DERIVATION_PATH=t.harden=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js");const harden=e=>2147483648+e;t.harden=harden;t.STAKE_KEY_DERIVATION_PATH={index:0,role:a.KeyRole.Stake};t.DREP_KEY_DERIVATION_PATH={index:0,role:a.KeyRole.DRep};const toEd25519KeyPair=async(e,t)=>({skey:await t.getRawPrivateKey(e.skey),vkey:await t.getRawPublicKey(e.vkey)});t.toEd25519KeyPair=toEd25519KeyPair;const deriveAccountPrivateKey=async({rootPrivateKey:e,accountIndex:r,bip32Ed25519:s,purpose:i=a.KeyPurpose.STANDARD})=>await s.derivePrivateKey(e,[(0,t.harden)(i),(0,t.harden)(a.CardanoKeyConst.COIN_TYPE),(0,t.harden)(r)]);t.deriveAccountPrivateKey=deriveAccountPrivateKey;const accountKeyDerivationPathToBip32Path=(e,{index:r,role:s},i=a.CardanoKeyConst.PURPOSE)=>[(0,t.harden)(i),(0,t.harden)(a.CardanoKeyConst.COIN_TYPE),(0,t.harden)(e),s,r];t.accountKeyDerivationPathToBip32Path=accountKeyDerivationPathToBip32Path;const paymentKeyPathFromGroupedAddress=e=>[(0,t.harden)(a.CardanoKeyConst.PURPOSE),(0,t.harden)(a.CardanoKeyConst.COIN_TYPE),(0,t.harden)(e.accountIndex),e.type,e.index];t.paymentKeyPathFromGroupedAddress=paymentKeyPathFromGroupedAddress;const stakeKeyPathFromGroupedAddress=e=>{if(!(null==e?void 0:e.stakeKeyDerivationPath))return null;return[(0,t.harden)(a.CardanoKeyConst.PURPOSE),(0,t.harden)(a.CardanoKeyConst.COIN_TYPE),(0,t.harden)(e.accountIndex),e.stakeKeyDerivationPath.role,e.stakeKeyDerivationPath.index]};t.stakeKeyPathFromGroupedAddress=stakeKeyPathFromGroupedAddress},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/ownSignatureKeyPaths.js":function(e,t,r){"use strict";var a,s,i,o;var n=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r)}d(t,e);return t};var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.ownSignatureKeyPaths=t.createTxInKeyPathMap=t.getDRepCredentialKeyPaths=t.getVotingProcedureKeyPaths=t.checkStakeCredentialCertificates=void 0;const u=c(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const f=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/types.js");const h=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const p=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/key.js");const m=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const _=l(r("../../node_modules/lodash/isEqual.js"));const v=l(r("../../node_modules/lodash/uniqBy.js"));const y=l(r("../../node_modules/lodash/uniqWith.js"));const checkWithdrawals=({withdrawals:e},t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e){for(const a of e){const s=t.find(e=>e.rewardAccount===a.stakeAddress);if(s)r.derivationPaths.push(s.derivationPath);else r.requiresForeignSignatures=true}}return r};const checkStakeKeyHashCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};switch(e.__typename){case h.Cardano.CertificateType.VoteDelegation:case h.Cardano.CertificateType.StakeVoteDelegation:case h.Cardano.CertificateType.StakeRegistrationDelegation:case h.Cardano.CertificateType.VoteRegistrationDelegation:case h.Cardano.CertificateType.StakeVoteRegistrationDelegation:case h.Cardano.CertificateType.Registration:case h.Cardano.CertificateType.Unregistration:case h.Cardano.CertificateType.StakeDeregistration:case h.Cardano.CertificateType.StakeDelegation:{const a=t.find(t=>e.stakeCredential.type===h.Cardano.CredentialType.KeyHash&&t.stakeKeyHash===e.stakeCredential.hash);if(a)r.derivationPaths=[a.derivationPath];else r.requiresForeignSignatures=true}}return r};const checkPoolRegistrationCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e.__typename===h.Cardano.CertificateType.PoolRegistration){for(const a of e.poolParameters.owners){const s=t.find(e=>e.rewardAccount===a);if(s)r.derivationPaths.push(s.derivationPath);else r.requiresForeignSignatures=true}}return r};const checkPoolRetirementCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e.__typename===h.Cardano.CertificateType.PoolRetirement){const a=t.find(t=>t.poolId===e.poolId);if(a)r.derivationPaths.push(a.derivationPath);else r.requiresForeignSignatures=true}return r};const checkMirCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e.__typename===h.Cardano.CertificateType.MIR)if(e.kind===h.Cardano.MirCertificateKind.ToStakeCreds){const a=t.find(t=>u.Hash28ByteBase16(t.stakeKeyHash)===e.stakeCredential.hash);if(a)r.derivationPaths.push(a.derivationPath);else r.requiresForeignSignatures=true}else{r.requiresForeignSignatures=true}return r};const checkStakeCredentialCertificates=(e,{certificates:t})=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(!(null==t?void 0:t.length)){return r}for(const n of t){const d=checkStakeKeyHashCertificate(n,e);(a=r).requiresForeignSignatures||(a.requiresForeignSignatures=d.requiresForeignSignatures);r.derivationPaths.push(...d.derivationPaths);const c=checkPoolRegistrationCertificate(n,e);(s=r).requiresForeignSignatures||(s.requiresForeignSignatures=c.requiresForeignSignatures);r.derivationPaths.push(...c.derivationPaths);const l=checkPoolRetirementCertificate(n,e);(i=r).requiresForeignSignatures||(i.requiresForeignSignatures=l.requiresForeignSignatures);r.derivationPaths.push(...l.derivationPaths);const u=checkMirCertificate(n,e);(o=r).requiresForeignSignatures||(o.requiresForeignSignatures=u.requiresForeignSignatures);r.derivationPaths.push(...u.derivationPaths)}r.derivationPaths=(0,y.default)(r.derivationPaths,_.default);return r};t.checkStakeCredentialCertificates=checkStakeCredentialCertificates;const getSignersData=e=>(0,v.default)(e,"rewardAccount").map(e=>{const t=h.Cardano.RewardAccount.toHash(e.rewardAccount);const r=h.Cardano.PoolId.fromKeyHash(t);return{derivationPath:e.stakeKeyDerivationPath,poolId:r,rewardAccount:e.rewardAccount,stakeKeyHash:t}}).filter(e=>void 0!==e.derivationPath);const getStakeCredentialKeyPaths=(e,r)=>{let a=false;const s=[];const i=getSignersData(e);const o=checkWithdrawals(r,i);a||(a=o.requiresForeignSignatures);s.push(...o.derivationPaths);const n=(0,t.checkStakeCredentialCertificates)(i,r);a||(a=n.requiresForeignSignatures);s.push(...n.derivationPaths);return{derivationPaths:new Set(s),requiresForeignSignatures:a}};const getVotingProcedureKeyPaths=({groupedAddresses:e,dRepKeyHash:t,txBody:r})=>{const a={derivationPaths:[],requiresForeignSignatures:false};const s=getSignersData(e);for(const{voter:i}of r.votingProcedures||[]){switch(i.__typename){case h.Cardano.VoterType.dRepKeyHash:if(t&&i.credential.hash===t)a.derivationPaths.push(p.DREP_KEY_DERIVATION_PATH);else a.requiresForeignSignatures=true;break;case h.Cardano.VoterType.stakePoolKeyHash:{const o=s.find(e=>e.stakeKeyHash===i.credential.hash);if(o)a.derivationPaths.push(o.derivationPath);else a.requiresForeignSignatures=true;break}default:a.requiresForeignSignatures=true;break}}return a};t.getVotingProcedureKeyPaths=getVotingProcedureKeyPaths;const getRequiredSignersKeyPaths=(e,t)=>{const r=[];if(!t)return r;for(const a of t){for(const s of e){var i,o;const n=null===(o=null===(i=h.Cardano.Address.fromBech32(s.address))||void 0===i?void 0:i.asBase())||void 0===o?void 0:o.getPaymentCredential().hash;const d=h.Cardano.RewardAccount.toHash(s.rewardAccount);if(n&&n.toString()===a)r.push({index:s.index,role:Number(s.type)});if(d&&s.stakeKeyDerivationPath&&d.toString()===a)r.push(s.stakeKeyDerivationPath)}}return r};const checkStakeCredential=(e,t)=>e.stakeKeyDerivationPath&&h.Cardano.RewardAccount.toHash(e.rewardAccount)===t?{derivationPaths:[e.stakeKeyDerivationPath],requiresForeignSignatures:false}:{derivationPaths:[],requiresForeignSignatures:true};const checkPaymentCredential=(e,t)=>{var r,a;const s=null===(a=null===(r=h.Cardano.Address.fromBech32(e.address))||void 0===r?void 0:r.asBase())||void 0===a?void 0:a.getPaymentCredential();if((null==s?void 0:s.hash)===t){return{derivationPaths:[{index:e.index,role:Number(e.type)}],requiresForeignSignatures:false}}return{derivationPaths:[],requiresForeignSignatures:true}};const combineSignatureChecks=(e,t)=>({derivationPaths:[...e.derivationPaths,...t.derivationPaths],requiresForeignSignatures:e.requiresForeignSignatures||t.requiresForeignSignatures});const processSignatureScript=(e,t)=>{let r={derivationPaths:[],requiresForeignSignatures:false};for(const a of t){if(a.stakeKeyDerivationPath)r=combineSignatureChecks(r,checkStakeCredential(a,e.keyHash));r=combineSignatureChecks(r,checkPaymentCredential(a,e.keyHash))}return r};const getNativeScriptKeyPaths=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(!(null==t?void 0:t.length))return r;const processScript=t=>{if(!h.Cardano.isNativeScript(t)){return{derivationPaths:[],requiresForeignSignatures:false}}switch(t.kind){case h.Cardano.NativeScriptKind.RequireSignature:return processSignatureScript(t,e);case h.Cardano.NativeScriptKind.RequireAllOf:case h.Cardano.NativeScriptKind.RequireAnyOf:case h.Cardano.NativeScriptKind.RequireNOf:{const r=t;return r.scripts.reduce((e,t)=>combineSignatureChecks(e,processScript(t)),{derivationPaths:[],requiresForeignSignatures:false})}case h.Cardano.NativeScriptKind.RequireTimeBefore:case h.Cardano.NativeScriptKind.RequireTimeAfter:return{derivationPaths:[],requiresForeignSignatures:false}}};return t.reduce((e,t)=>combineSignatureChecks(e,processScript(t)),r)};const getDRepCredentialKeyPaths=({dRepKeyHash:e,txBody:t})=>{const r={derivationPaths:[],requiresForeignSignatures:false};for(const a of t.certificates||[])if(a.__typename===h.Cardano.CertificateType.UnregisterDelegateRepresentative||a.__typename===h.Cardano.CertificateType.UpdateDelegateRepresentative||a.__typename===h.Cardano.CertificateType.RegisterDelegateRepresentative)if(a.dRepCredential.type!==h.Cardano.CredentialType.ScriptHash&&e&&a.dRepCredential.hash===e)r.derivationPaths=[p.DREP_KEY_DERIVATION_PATH];else r.requiresForeignSignatures=true;return r};t.getDRepCredentialKeyPaths=getDRepCredentialKeyPaths;const createTxInKeyPathMap=async(e,t,r)=>{const a={};const s=[...e.inputs,...e.collaterals?e.collaterals:[]];await Promise.all(s.map(async e=>{const s=await r.resolveInput(e);if(!s)return;const i=t.find(({address:e})=>e===s.address);if(!i)return;a[(0,f.TxInId)(e)]={index:i.index,role:Number(i.type)}}));return a};t.createTxInKeyPathMap=createTxInKeyPathMap;const ownSignatureKeyPaths=(e,r,a,s,i)=>{const o=Object.values(a).filter(m.isNotNil);return(0,y.default)([...o,...getStakeCredentialKeyPaths(r,e).derivationPaths,...(0,t.getDRepCredentialKeyPaths)({dRepKeyHash:s,txBody:e}).derivationPaths,...getRequiredSignersKeyPaths(r,e.requiredExtraSignatures),...(0,t.getVotingProcedureKeyPaths)({dRepKeyHash:s,groupedAddresses:r,txBody:e}).derivationPaths,...getNativeScriptKeyPaths(r,i).derivationPaths],_.default)};t.ownSignatureKeyPaths=ownSignatureKeyPaths},"../../node_modules/@cardano-sdk/key-management/dist/cjs/util/stubSignTransaction.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.stubSignTransaction=void 0;const n=i(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const d=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/util/ownSignatureKeyPaths.js");const l=o(r("../../node_modules/lodash/uniqWith.js"));const randomHexChar=()=>Math.floor(16*Math.random()).toString(16);const randomPublicKey=()=>n.Ed25519PublicKeyHex(Array.from({length:64}).map(randomHexChar).join(""));const stubSignTransaction=async({txBody:e,context:{knownAddresses:t,txInKeyPathMap:r,dRepKeyHashHex:a,scripts:s},signTransactionOptions:{extraSigners:i,additionalKeyPaths:o=[]}={}})=>{const u=n.Ed25519SignatureHex("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const f=(0,l.default)([...(0,c.ownSignatureKeyPaths)(e,t,r,a,s),...o],d.deepEquals);const h=f.length+((null==i?void 0:i.length)||0);const p=new Map;for(let m=0;m<h;++m)p.set(randomPublicKey(),u);return p};t.stubSignTransaction=stubSignTransaction},"../../node_modules/@cardano-sdk/key-management/dist/esm/Bip32Account.js":(e,t,r)=>{"use strict";r.d(t,{Bip32Account:()=>Bip32Account});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/strategies/SodiumBip32Ed25519.js");var o=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/BaseAddress.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAddress.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/PaymentAddress.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var f,h;class Bip32Account{async derivePublicKey(e){const t=await __classPrivateFieldGet(this,f,"f").derivePublicKeyAsync(this.extendedAccountPublicKeyHex,[e.role,e.index]);return s.Ed25519PublicKeyHex.fromBip32PublicKey(t)}async deriveAddress(e,t){const r={index:t,role:a.KeyRole.Stake};const i=await this.derivePublicKey({index:e.index,role:Number(e.type)});const o=await __classPrivateFieldGet(this,h,"f").hashAsync(i,s.BIP32_PUBLIC_KEY_HASH_LENGTH);const f=await this.derivePublicKey(r);const p=await __classPrivateFieldGet(this,h,"f").hashAsync(f,s.BIP32_PUBLIC_KEY_HASH_LENGTH);const m={hash:p,type:n.CredentialType.KeyHash};const _=d.BaseAddress.fromCredentials(this.chainId.networkId,{hash:o,type:n.CredentialType.KeyHash},m).toAddress();const v=c.RewardAddress.fromCredentials(this.chainId.networkId,m).toAddress();return{accountIndex:this.accountIndex,address:l.PaymentAddress(_.toBech32()),networkId:this.chainId.networkId,rewardAccount:u.RewardAccount(v.toBech32()),stakeKeyDerivationPath:r,...e}}static async createDefaultDependencies(){return{bip32Ed25519:await i.SodiumBip32Ed25519.create(),blake2b:o.blake2b}}static async fromAsyncKeyAgent(e,t){t||(t=await Bip32Account.createDefaultDependencies());return new Bip32Account({accountIndex:await e.getAccountIndex(),chainId:await e.getChainId(),extendedAccountPublicKey:await e.getExtendedAccountPublicKey()},t)}constructor({extendedAccountPublicKey:e,chainId:t,accountIndex:r},a){f.set(this,void 0);h.set(this,void 0);this.extendedAccountPublicKeyHex=e;__classPrivateFieldSet(this,f,a.bip32Ed25519,"f");__classPrivateFieldSet(this,h,a.blake2b,"f");this.chainId=t;this.accountIndex=r}}f=new WeakMap,h=new WeakMap},"../../node_modules/@cardano-sdk/key-management/dist/esm/InMemoryKeyAgent.js":(e,t,r)=>{"use strict";r.d(t,{InMemoryKeyAgent:()=>InMemoryKeyAgent});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var s=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var i=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/AuthenticationError.js");var o=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/InvalidMnemonicError.js");var n=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var d=r("../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/cip30signData.js");var c=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var l=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/bip39.js");var u=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js");var f=r("../../node_modules/@cardano-sdk/key-management/dist/esm/KeyAgentBase.js");var h=r("../../node_modules/@cardano-sdk/key-management/dist/esm/emip3.js");var p=r("../../node_modules/lodash/uniqBy.js");var m=r("../../node_modules/buffer/index.js")["Buffer"];var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var _,v,y;const getPassphraseRethrowTypedError=async e=>{try{return await e()}catch(t){throw new i.AuthenticationError("Failed to enter passphrase",t)}};class InMemoryKeyAgent extends f.KeyAgentBase{async signBlob({index:e,role:t},r){const a=await __classPrivateFieldGet(this,_,"m",y).call(this);const s=await (0,c.deriveAccountPrivateKey)({accountIndex:this.accountIndex,bip32Ed25519:this.bip32Ed25519,purpose:this.purpose,rootPrivateKey:a});const i=await this.bip32Ed25519.derivePrivateKey(s,[t,e]);const o=await this.bip32Ed25519.getRawPrivateKey(i);const n=await this.bip32Ed25519.sign(o,r);const d=await this.bip32Ed25519.getPublicKey(o);return{publicKey:d,signature:n}}async signCip8Data(e){return await (0,d.cip30signData)(this,e)}async exportRootPrivateKey(){return await __classPrivateFieldGet(this,_,"m",y).call(this,true)}static async fromBip39MnemonicWords({chainId:e,getPassphrase:t,mnemonicWords:r,mnemonic2ndFactorPassphrase:a="",accountIndex:s=0,purpose:i=n.KeyPurpose.STANDARD},d){const u=(0,l.joinMnemonicWords)(r);const f=(0,l.validateMnemonic)(u);if(!f)throw new o.InvalidMnemonicError;const p=m.from((0,l.mnemonicWordsToEntropy)(r),"hex");const _=d.bip32Ed25519.fromBip39Entropy(p,a);const v=await getPassphraseRethrowTypedError(t);const y=await (0,h.emip3encrypt)(m.from(_,"hex"),v);const w=await (0,c.deriveAccountPrivateKey)({accountIndex:s,bip32Ed25519:d.bip32Ed25519,purpose:i,rootPrivateKey:_});const g=await d.bip32Ed25519.getBip32PublicKey(w);return new InMemoryKeyAgent({accountIndex:s,chainId:e,encryptedRootPrivateKeyBytes:[...y],extendedAccountPublicKey:g,getPassphrase:t,purpose:i},d)}async signTransaction(e,{txInKeyPathMap:t,knownAddresses:r,scripts:s},{additionalKeyPaths:i=[]}={}){const o=e.hash();const n=e.toCore();const d=(await a.Ed25519PublicKey.fromHex(await this.derivePublicKey(c.DREP_KEY_DERIVATION_PATH)).hash()).hex();const l=(0,u.ownSignatureKeyPaths)(n,r,t,d,s);const f=p([...l,...i],({role:e,index:t})=>`${e}.${t}`);return new Map(await Promise.all(f.map(async({role:e,index:t})=>{const{publicKey:r,signature:a}=await this.signBlob({index:t,role:e},o);return[r,a]})))}async exportExtendedKeyPair(e){const t=await this.exportRootPrivateKey();const r=e.map(e=>(0,c.harden)(e));const a=await this.bip32Ed25519.derivePrivateKey(t,r);return{skey:a,vkey:await this.bip32Ed25519.getBip32PublicKey(a)}}constructor({getPassphrase:e,...t},r){super({...t,__typename:n.KeyAgentType.InMemory},r);_.add(this);v.set(this,void 0);__classPrivateFieldSet(this,v,e,"f")}}v=new WeakMap,_=new WeakSet,y=async function _InMemoryKeyAgent_decryptRootPrivateKey(e){const t=await getPassphraseRethrowTypedError(()=>__classPrivateFieldGet(this,v,"f").call(this,e));let r;try{r=await (0,h.emip3decrypt)(new Uint8Array(this.serializableData.encryptedRootPrivateKeyBytes),t)}catch(a){throw new i.AuthenticationError("Failed to decrypt root private key",a)}return s.Bip32PrivateKeyHex(m.from(r).toString("hex"))}},"../../node_modules/@cardano-sdk/key-management/dist/esm/KeyAgentBase.js":(e,t,r)=>{"use strict";r.d(t,{KeyAgentBase:()=>KeyAgentBase});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/Bip32Account.js");var i=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var o,n,d;class KeyAgentBase{get serializableData(){return __classPrivateFieldGet(this,o,"f")}get extendedAccountPublicKey(){return this.serializableData.extendedAccountPublicKey}get chainId(){return this.serializableData.chainId}get accountIndex(){return this.serializableData.accountIndex}get bip32Ed25519(){return __classPrivateFieldGet(this,n,"f")}get purpose(){return this.serializableData.purpose||a.KeyPurpose.STANDARD}async deriveAddress(e,t){return __classPrivateFieldGet(this,d,"f").deriveAddress(e,t)}async derivePublicKey(e){return __classPrivateFieldGet(this,d,"f").derivePublicKey(e)}constructor(e,{bip32Ed25519:t}){o.set(this,void 0);n.set(this,void 0);d.set(this,void 0);__classPrivateFieldSet(this,o,e,"f");__classPrivateFieldSet(this,n,t,"f");__classPrivateFieldSet(this,d,new s.Bip32Account(e,{bip32Ed25519:t,blake2b:i.blake2b}),"f")}}o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/cip30signData.js":(e,t,r)=>{"use strict";r.d(t,{Cip30DataSignError:()=>Cip30DataSignError,Cip30DataSignErrorCode:()=>u,cip30signData:()=>cip30signData,createCoseKey:()=>createCoseKey,getAddressBytes:()=>getAddressBytes});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var s=r("../../node_modules/@emurgo/cardano-message-signing-browser/cardano_message_signing_bg.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/util/misc/encoding.js");var n=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");var d=r("../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/util.js");var c=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var l=r("../../node_modules/buffer/index.js")["Buffer"];var u;(function(e){e[e["ProofGeneration"]=1]="ProofGeneration";e[e["AddressNotPK"]=2]="AddressNotPK";e[e["UserDeclined"]=3]="UserDeclined"})(u||(u={}));class Cip30DataSignError extends n.ComposableError{constructor(e,t,r){super(`DataSignError code: ${e}`,r);this.code=e;this.info=t}}const getAddressBytes=e=>{const t=i.Address.fromString(e);if(!t){throw new Cip30DataSignError(u.AddressNotPK,"Invalid address")}return l.from(t.toBytes(),"hex")};const isPaymentAddress=e=>e.startsWith("addr");const getDerivationPath=async(e,t,r)=>{const a=e.startsWith("stake");if(a){const s=t.find(({rewardAccount:t})=>t===e);if(!s)throw new Cip30DataSignError(u.ProofGeneration,"Unknown reward address");return s.stakeKeyDerivationPath||c.STAKE_KEY_DERIVATION_PATH}if(isPaymentAddress(e)){var o;const n=i.Address.fromString(e);if((null==n?void 0:n.getType())===i.AddressType.EnterpriseKey&&(null===(o=null==n?void 0:n.getProps().paymentPart)||void 0===o?void 0:o.hash)===r){return c.DREP_KEY_DERIVATION_PATH}}const d=t.find(({address:t})=>t===e);if(!d){throw new Cip30DataSignError(u.ProofGeneration,"Unknown address")}return{index:d.index,role:d.type}};const createSigStructureHeaders=e=>{const t=s.HeaderMap.new();t.set_key_id(e);t.set_header(d.CoseLabel.address,s.CBORValue.new_bytes(e));t.set_algorithm_id(s.Label.from_algorithm_id(s.AlgorithmId.EdDSA));return t};const signSigStructure=(e,t,r)=>{try{return e.signBlob(t,o.bytesToHex(r.to_bytes()))}catch(a){throw new Cip30DataSignError(u.UserDeclined,"Failed to sign",a)}};const createCoseKey=(e,t)=>{const r=s.COSEKey.new(s.Label.from_key_type(s.KeyType.OKP));r.set_key_id(e);r.set_algorithm_id(s.Label.from_algorithm_id(s.AlgorithmId.EdDSA));r.set_header(d.CoseLabel.crv,s.CBORValue.from_label(s.Label.from_curve_type(s.CurveType.Ed25519)));r.set_header(d.CoseLabel.x,s.CBORValue.new_bytes(l.from(t,"hex")));return r};const cip30signData=async(e,{knownAddresses:t,signWith:r,payload:i})=>{const n=a.Ed25519PublicKey.fromHex(await e.derivePublicKey(c.DREP_KEY_DERIVATION_PATH)).hash().hex();const d=getAddressBytes(r);const u=await getDerivationPath(r,t,n);const f=s.COSESign1Builder.new(s.Headers.new(s.ProtectedHeaderMap.new(createSigStructureHeaders(d)),s.HeaderMap.new()),l.from(i,"hex"),false);const h=f.make_data_to_sign();const{signature:p,publicKey:m}=await signSigStructure(e,u,h);const _=f.build(l.from(p,"hex"));const v=createCoseKey(d,m);return{key:o.bytesToHex(v.to_bytes()),signature:o.bytesToHex(_.to_bytes())}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/util.js":(e,t,r)=>{"use strict";r.d(t,{CoseLabel:()=>s});var a=r("../../node_modules/@emurgo/cardano-message-signing-browser/cardano_message_signing_bg.js");const s={address:a.Label.new_text("address"),crv:a.Label.new_int(a.Int.new_i32(-1)),x:a.Label.new_int(a.Int.new_i32(-2))}},"../../node_modules/@cardano-sdk/key-management/dist/esm/emip3.js":(e,t,r)=>{"use strict";r.d(t,{createPbkdf2Key:()=>createPbkdf2Key,emip3decrypt:()=>emip3decrypt,emip3encrypt:()=>emip3encrypt});var a=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/browser.js");var s=r("../../node_modules/chacha/browser.js");var i=r("../../node_modules/get-random-values/index.js");var o=r("../../node_modules/buffer/index.js")["Buffer"];const n=32;const d=12;const c=19162;const l=32;const u=16;const f=o.from("","hex");const createPbkdf2Key=async(e,t)=>await new Promise((r,s)=>(0,a.pbkdf2)(e,t,c,n,"sha512",(e,t)=>{if(e)return s(e);r(t)}));const emip3encrypt=async(e,t)=>{const r=new Uint8Array(l);i(r);const a=await createPbkdf2Key(t,r);const n=new Uint8Array(d);i(n);const c=s.createCipher(a,o.from(n));c.setAAD(f,{plaintextLength:e.length});const u=c.update(e);const h=c.final();const p=c.getAuthTag();return o.concat([r,n,p,u,h])};const emip3decrypt=async(e,t)=>{const r=e.slice(0,l);const a=e.slice(l,l+d);const i=e.slice(l+d,l+d+u);const n=e.slice(l+d+u);const c=await createPbkdf2Key(t,r);const h=s.createDecipher(c,o.from(a));h.setAuthTag(o.from(i));h.setAAD(f);return o.concat([h.update(o.from(n)),h.final()])}},"../../node_modules/@cardano-sdk/key-management/dist/esm/errors/AuthenticationError.js":(e,t,r)=>{"use strict";r.d(t,{AuthenticationError:()=>AuthenticationError});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Authentication failure${t}`};class AuthenticationError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/errors/HwMappingError.js":(e,t,r)=>{"use strict";r.d(t,{HwMappingError:()=>HwMappingError});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Hardware data mapping failure${t}`};class HwMappingError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/errors/InvalidMnemonicError.js":(e,t,r)=>{"use strict";r.d(t,{InvalidMnemonicError:()=>InvalidMnemonicError});var a=r("../../node_modules/@cardano-sdk/key-management/node_modules/ts-custom-error/dist/custom-error.mjs");class InvalidMnemonicError extends a.CustomError{constructor(){super();this.message="Invalid Mnemonic";this.name="InvalidMnemonicError"}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/errors/ProofGenerationError.js":(e,t,r)=>{"use strict";r.d(t,{ProofGenerationError:()=>ProofGenerationError});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Proof generation failure${t}`};class ProofGenerationError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/errors/TransportError.js":(e,t,r)=>{"use strict";r.d(t,{TransportError:()=>TransportError});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/errors.js");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Transport failure${t}`};class TransportError extends a.ComposableError{constructor(e,t){super(formatMessage(e),t)}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/index.js":(e,t,r)=>{"use strict";r.r(t);r.d(t,{AddressType:()=>T.AddressType,Bip32Account:()=>A.Bip32Account,CardanoKeyConst:()=>T.CardanoKeyConst,Cip1852PathLevelIndexes:()=>T.Cip1852PathLevelIndexes,CommunicationType:()=>T.CommunicationType,DeviceType:()=>T.DeviceType,InMemoryKeyAgent:()=>h.InMemoryKeyAgent,KeyAgentBase:()=>f.KeyAgentBase,KeyAgentType:()=>T.KeyAgentType,KeyPurpose:()=>T.KeyPurpose,KeyRole:()=>T.KeyRole,TxInId:()=>T.TxInId,cip8:()=>i,createPbkdf2Key:()=>S.createPbkdf2Key,emip3decrypt:()=>S.emip3decrypt,emip3encrypt:()=>S.emip3encrypt,errors:()=>a,util:()=>s});var a={};r.r(a);r.d(a,{AuthenticationError:()=>o.AuthenticationError,HwMappingError:()=>l.HwMappingError,InvalidMnemonicError:()=>n.InvalidMnemonicError,InvalidSerializableDataError:()=>InvalidSerializableDataError,ProofGenerationError:()=>u.ProofGenerationError,TransportError:()=>c.TransportError});var s={};r.r(s);r.d(s,{Bip32Ed25519Witnesser:()=>C.Bip32Ed25519Witnesser,DREP_KEY_DERIVATION_PATH:()=>_.DREP_KEY_DERIVATION_PATH,KeyAgentTransactionSigner:()=>KeyAgentTransactionSigner,STAKE_KEY_DERIVATION_PATH:()=>_.STAKE_KEY_DERIVATION_PATH,accountKeyDerivationPathToBip32Path:()=>_.accountKeyDerivationPathToBip32Path,checkStakeCredentialCertificates:()=>v.checkStakeCredentialCertificates,createAsyncKeyAgent:()=>m.createAsyncKeyAgent,createBip32Ed25519Witnesser:()=>C.createBip32Ed25519Witnesser,createTxInKeyPathMap:()=>v.createTxInKeyPathMap,deriveAccountPrivateKey:()=>_.deriveAccountPrivateKey,ensureStakeKeys:()=>P.ensureStakeKeys,entropyToMnemonicWords:()=>p.entropyToMnemonicWords,generateMnemonicWords:()=>p.generateMnemonicWords,getDRepCredentialKeyPaths:()=>v.getDRepCredentialKeyPaths,getVotingProcedureKeyPaths:()=>v.getVotingProcedureKeyPaths,harden:()=>_.harden,joinMnemonicWords:()=>p.joinMnemonicWords,mnemonicToWords:()=>p.mnemonicToWords,mnemonicWordsToEntropy:()=>p.mnemonicWordsToEntropy,ownSignatureKeyPaths:()=>v.ownSignatureKeyPaths,paymentKeyPathFromGroupedAddress:()=>_.paymentKeyPathFromGroupedAddress,stakeKeyPathFromGroupedAddress:()=>_.stakeKeyPathFromGroupedAddress,stubSignTransaction:()=>y.stubSignTransaction,toEd25519KeyPair:()=>_.toEd25519KeyPair,validateMnemonic:()=>p.validateMnemonic});var i={};r.r(i);r.d(i,{Cip30DataSignError:()=>E.Cip30DataSignError,Cip30DataSignErrorCode:()=>E.Cip30DataSignErrorCode,CoseLabel:()=>k.CoseLabel,cip30signData:()=>E.cip30signData,createCoseKey:()=>E.createCoseKey,getAddressBytes:()=>E.getAddressBytes});var o=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/AuthenticationError.js");var n=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/InvalidMnemonicError.js");var d=r("../../node_modules/@cardano-sdk/key-management/node_modules/ts-custom-error/dist/custom-error.mjs");const formatMessage=e=>{const t=e?`: ${e}`:"";return`Invalid serializable key agent data${t}`};class InvalidSerializableDataError extends d.CustomError{constructor(e){super(formatMessage(e))}}var c=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/TransportError.js");var l=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/HwMappingError.js");var u=r("../../node_modules/@cardano-sdk/key-management/dist/esm/errors/ProofGenerationError.js");var f=r("../../node_modules/@cardano-sdk/key-management/dist/esm/KeyAgentBase.js");var h=r("../../node_modules/@cardano-sdk/key-management/dist/esm/InMemoryKeyAgent.js");var p=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/bip39.js");var m=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/createAsyncKeyAgent.js");var _=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var v=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js");var y=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/stubSignTransaction.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var w,g;const b=1;class KeyAgentTransactionSigner{async sign(e){const t=await __classPrivateFieldGet(this,w,"f").signTransaction(e,{knownAddresses:[],txInKeyPathMap:{}},{additionalKeyPaths:[__classPrivateFieldGet(this,g,"f")]});if(t.size!==b)throw new u.ProofGenerationError(`Invalid number of signatures. Expected ${b} and got ${t.size}`);const[r]=t.keys();const[a]=t.values();return{pubKey:r,signature:a}}constructor(e,t){w.set(this,void 0);g.set(this,void 0);__classPrivateFieldSet(this,w,e,"f");__classPrivateFieldSet(this,g,t,"f")}}w=new WeakMap,g=new WeakMap;var P=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ensureStakeKeys.js");var C=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/createWitnesser.js");var S=r("../../node_modules/@cardano-sdk/key-management/dist/esm/emip3.js");var T=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var E=r("../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/cip30signData.js");var k=r("../../node_modules/@cardano-sdk/key-management/dist/esm/cip8/util.js");var A=r("../../node_modules/@cardano-sdk/key-management/dist/esm/Bip32Account.js")},"../../node_modules/@cardano-sdk/key-management/dist/esm/types.js":(e,t,r)=>{"use strict";r.d(t,{AddressType:()=>l,CardanoKeyConst:()=>i,Cip1852PathLevelIndexes:()=>o,CommunicationType:()=>f,DeviceType:()=>u,KeyAgentType:()=>n,KeyPurpose:()=>c,KeyRole:()=>d,TxInId:()=>TxInId});const a=1854;const s=1852;var i;(function(e){e[e["PURPOSE"]=1852]="PURPOSE";e[e["COIN_TYPE"]=1815]="COIN_TYPE"})(i||(i={}));var o;(function(e){e[e["PURPOSE"]=0]="PURPOSE";e[e["COIN_TYPE"]=1]="COIN_TYPE";e[e["ACCOUNT"]=2]="ACCOUNT";e[e["ROLE"]=3]="ROLE";e[e["INDEX"]=4]="INDEX"})(o||(o={}));var n;(function(e){e["InMemory"]="InMemory";e["Ledger"]="Ledger";e["Trezor"]="Trezor"})(n||(n={}));var d;(function(e){e[e["External"]=0]="External";e[e["Internal"]=1]="Internal";e[e["Stake"]=2]="Stake";e[e["DRep"]=3]="DRep"})(d||(d={}));var c;(function(e){e[e["STANDARD"]=s]="STANDARD";e[e["MULTI_SIG"]=a]="MULTI_SIG"})(c||(c={}));var l;(function(e){e[e["Internal"]=1]="Internal";e[e["External"]=0]="External"})(l||(l={}));var u;(function(e){e["Ledger"]="Ledger"})(u||(u={}));var f;(function(e){e["Web"]="web";e["Node"]="node"})(f||(f={}));const TxInId=({txId:e,index:t})=>`${e}_${t}`},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/bip39.js":(e,t,r)=>{"use strict";r.d(t,{entropyToMnemonicWords:()=>entropyToMnemonicWords,generateMnemonicWords:()=>generateMnemonicWords,joinMnemonicWords:()=>joinMnemonicWords,mnemonicToWords:()=>mnemonicToWords,mnemonicWordsToEntropy:()=>mnemonicWordsToEntropy,validateMnemonic:()=>s});var a=r("../../node_modules/bip39/src/index.js");const mnemonicToWords=e=>e.split(" ");const generateMnemonicWords=(e=256)=>mnemonicToWords(a.generateMnemonic(e));const joinMnemonicWords=e=>e.join(" ");const entropyToMnemonicWords=e=>mnemonicToWords(a.entropyToMnemonic(e));const mnemonicWordsToEntropy=e=>a.mnemonicToEntropy(joinMnemonicWords(e));const s=a.validateMnemonic},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/createAsyncKeyAgent.js":(e,t,r)=>{"use strict";r.d(t,{createAsyncKeyAgent:()=>createAsyncKeyAgent});const createAsyncKeyAgent=(e,t)=>{return{deriveAddress(t,r){return e.deriveAddress(t,r)},derivePublicKey:e.derivePublicKey.bind(e),getAccountIndex:()=>Promise.resolve(e.accountIndex),getBip32Ed25519:()=>Promise.resolve(e.bip32Ed25519),getChainId:()=>Promise.resolve(e.chainId),getExtendedAccountPublicKey:()=>Promise.resolve(e.extendedAccountPublicKey),shutdown(){null==t?void 0:t()},signBlob:e.signBlob.bind(e),signCip8Data:e.signCip8Data.bind(e),signTransaction:e.signTransaction.bind(e)}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/createWitnesser.js":(e,t,r)=>{"use strict";r.d(t,{Bip32Ed25519Witnesser:()=>Bip32Ed25519Witnesser,createBip32Ed25519Witnesser:()=>createBip32Ed25519Witnesser});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/stubSignTransaction.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i;class Bip32Ed25519Witnesser{async witness(e,t,r){var o,n;const d=e.toCore();const c=e.getId();const l=(null==r?void 0:r.stubSign)!==void 0&&r.stubSign?await (0,s.stubSignTransaction)({context:t,signTransactionOptions:r,txBody:d.body}):await Bip32Ed25519Witnesser.getSignatures(__classPrivateFieldGet(this,i,"f"),e.body(),t,r);const u={auxiliaryData:d.auxiliaryData,body:d.body,id:c,isValid:e.isValid(),witness:{...d.witness,signatures:new Map([...l.entries(),...(null===(o=d.witness)||void 0===o?void 0:null===(n=o.signatures)||void 0===n?void 0:n.entries())||[]])}};var f;return{cbor:a.TxCBOR.serialize(u),context:{handleResolutions:null!==(f=t.handleResolutions)&&void 0!==f?f:[]},tx:u}}async signData(e){return __classPrivateFieldGet(this,i,"f").signCip8Data(e)}static async getSignatures(e,t,r,a){const s=await e.signTransaction(t,r,a);if(null==a?void 0:a.extraSigners){for(const i of null==a?void 0:a.extraSigners){const o=await i.sign(t);s.set(o.pubKey,o.signature)}}return s}constructor(e){i.set(this,void 0);__classPrivateFieldSet(this,i,e,"f")}}i=new WeakMap;const createBip32Ed25519Witnesser=e=>new Bip32Ed25519Witnesser(e)},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/ensureStakeKeys.js":(e,t,r)=>{"use strict";r.d(t,{ensureStakeKeys:()=>ensureStakeKeys});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");const ensureStakeKeys=async({bip32Account:e,knownAddresses:t,count:r,logger:s,paymentKeyIndex:i=0})=>{const o=new Map(t.filter(({stakeKeyDerivationPath:e})=>{return(null==e?void 0:e.role)===a.KeyRole.Stake&&(null==e?void 0:e.index)!==void 0}).map(({rewardAccount:e,stakeKeyDerivationPath:t})=>[t.index,e]));s.debug(`Stake keys requested: ${r}; got ${o.size}`);const n=[];for(let d=0;o.size<r;d++)if(!o.has(d)){const c=await e.deriveAddress({index:i,type:a.AddressType.External},d);n.push(c);s.debug(`No derivation with stake key index ${d} exists. Derived a new stake key ${c.rewardAccount}.`);o.set(d,c.rewardAccount)}return{newAddresses:n,rewardAccounts:[...o.values()]}}},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js":(e,t,r)=>{"use strict";r.d(t,{DREP_KEY_DERIVATION_PATH:()=>i,STAKE_KEY_DERIVATION_PATH:()=>s,accountKeyDerivationPathToBip32Path:()=>accountKeyDerivationPathToBip32Path,deriveAccountPrivateKey:()=>deriveAccountPrivateKey,harden:()=>harden,paymentKeyPathFromGroupedAddress:()=>paymentKeyPathFromGroupedAddress,stakeKeyPathFromGroupedAddress:()=>stakeKeyPathFromGroupedAddress,toEd25519KeyPair:()=>toEd25519KeyPair});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");const harden=e=>2147483648+e;const s={index:0,role:a.KeyRole.Stake};const i={index:0,role:a.KeyRole.DRep};const toEd25519KeyPair=async(e,t)=>({skey:await t.getRawPrivateKey(e.skey),vkey:await t.getRawPublicKey(e.vkey)});const deriveAccountPrivateKey=async({rootPrivateKey:e,accountIndex:t,bip32Ed25519:r,purpose:s=a.KeyPurpose.STANDARD})=>await r.derivePrivateKey(e,[harden(s),harden(a.CardanoKeyConst.COIN_TYPE),harden(t)]);const accountKeyDerivationPathToBip32Path=(e,{index:t,role:r},s=a.CardanoKeyConst.PURPOSE)=>[harden(s),harden(a.CardanoKeyConst.COIN_TYPE),harden(e),r,t];const paymentKeyPathFromGroupedAddress=e=>[harden(a.CardanoKeyConst.PURPOSE),harden(a.CardanoKeyConst.COIN_TYPE),harden(e.accountIndex),e.type,e.index];const stakeKeyPathFromGroupedAddress=e=>{if(!(null==e?void 0:e.stakeKeyDerivationPath))return null;return[harden(a.CardanoKeyConst.PURPOSE),harden(a.CardanoKeyConst.COIN_TYPE),harden(e.accountIndex),e.stakeKeyDerivationPath.role,e.stakeKeyDerivationPath.index]}},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js":(e,t,r)=>{"use strict";r.d(t,{checkStakeCredentialCertificates:()=>checkStakeCredentialCertificates,createTxInKeyPathMap:()=>createTxInKeyPathMap,getDRepCredentialKeyPaths:()=>getDRepCredentialKeyPaths,getVotingProcedureKeyPaths:()=>getVotingProcedureKeyPaths,ownSignatureKeyPaths:()=>ownSignatureKeyPaths});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/RewardAccount.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var u=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var f=r("../../node_modules/@cardano-sdk/util/dist/esm/isNotNil.js");var h=r("../../node_modules/lodash/isEqual.js");var p=r("../../node_modules/lodash/uniqBy.js");var m=r("../../node_modules/lodash/uniqWith.js");var _,v,y,w;const checkWithdrawals=({withdrawals:e},t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e){for(const a of e){const s=t.find(e=>e.rewardAccount===a.stakeAddress);if(s)r.derivationPaths.push(s.derivationPath);else r.requiresForeignSignatures=true}}return r};const checkStakeKeyHashCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};switch(e.__typename){case i.CertificateType.VoteDelegation:case i.CertificateType.StakeVoteDelegation:case i.CertificateType.StakeRegistrationDelegation:case i.CertificateType.VoteRegistrationDelegation:case i.CertificateType.StakeVoteRegistrationDelegation:case i.CertificateType.Registration:case i.CertificateType.Unregistration:case i.CertificateType.StakeDeregistration:case i.CertificateType.StakeDelegation:{const a=t.find(t=>e.stakeCredential.type===o.CredentialType.KeyHash&&t.stakeKeyHash===e.stakeCredential.hash);if(a)r.derivationPaths=[a.derivationPath];else r.requiresForeignSignatures=true}}return r};const checkPoolRegistrationCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e.__typename===i.CertificateType.PoolRegistration){for(const a of e.poolParameters.owners){const s=t.find(e=>e.rewardAccount===a);if(s)r.derivationPaths.push(s.derivationPath);else r.requiresForeignSignatures=true}}return r};const checkPoolRetirementCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e.__typename===i.CertificateType.PoolRetirement){const a=t.find(t=>t.poolId===e.poolId);if(a)r.derivationPaths.push(a.derivationPath);else r.requiresForeignSignatures=true}return r};const checkMirCertificate=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(e.__typename===i.CertificateType.MIR)if(e.kind===i.MirCertificateKind.ToStakeCreds){const s=t.find(t=>a.Hash28ByteBase16(t.stakeKeyHash)===e.stakeCredential.hash);if(s)r.derivationPaths.push(s.derivationPath);else r.requiresForeignSignatures=true}else{r.requiresForeignSignatures=true}return r};const checkStakeCredentialCertificates=(e,{certificates:t})=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(!(null==t?void 0:t.length)){return r}for(const a of t){const s=checkStakeKeyHashCertificate(a,e);(_=r).requiresForeignSignatures||(_.requiresForeignSignatures=s.requiresForeignSignatures);r.derivationPaths.push(...s.derivationPaths);const i=checkPoolRegistrationCertificate(a,e);(v=r).requiresForeignSignatures||(v.requiresForeignSignatures=i.requiresForeignSignatures);r.derivationPaths.push(...i.derivationPaths);const o=checkPoolRetirementCertificate(a,e);(y=r).requiresForeignSignatures||(y.requiresForeignSignatures=o.requiresForeignSignatures);r.derivationPaths.push(...o.derivationPaths);const n=checkMirCertificate(a,e);(w=r).requiresForeignSignatures||(w.requiresForeignSignatures=n.requiresForeignSignatures);r.derivationPaths.push(...n.derivationPaths)}r.derivationPaths=m(r.derivationPaths,h);return r};const getSignersData=e=>p(e,"rewardAccount").map(e=>{const t=n.RewardAccount.toHash(e.rewardAccount);const r=d.PoolId.fromKeyHash(t);return{derivationPath:e.stakeKeyDerivationPath,poolId:r,rewardAccount:e.rewardAccount,stakeKeyHash:t}}).filter(e=>void 0!==e.derivationPath);const getStakeCredentialKeyPaths=(e,t)=>{let r=false;const a=[];const s=getSignersData(e);const i=checkWithdrawals(t,s);r||(r=i.requiresForeignSignatures);a.push(...i.derivationPaths);const o=checkStakeCredentialCertificates(s,t);r||(r=o.requiresForeignSignatures);a.push(...o.derivationPaths);return{derivationPaths:new Set(a),requiresForeignSignatures:r}};const getVotingProcedureKeyPaths=({groupedAddresses:e,dRepKeyHash:t,txBody:r})=>{const a={derivationPaths:[],requiresForeignSignatures:false};const s=getSignersData(e);for(const{voter:i}of r.votingProcedures||[]){switch(i.__typename){case c.VoterType.dRepKeyHash:if(t&&i.credential.hash===t)a.derivationPaths.push(u.DREP_KEY_DERIVATION_PATH);else a.requiresForeignSignatures=true;break;case c.VoterType.stakePoolKeyHash:{const o=s.find(e=>e.stakeKeyHash===i.credential.hash);if(o)a.derivationPaths.push(o.derivationPath);else a.requiresForeignSignatures=true;break}default:a.requiresForeignSignatures=true;break}}return a};const getRequiredSignersKeyPaths=(e,t)=>{const r=[];if(!t)return r;for(const a of t){for(const s of e){var i,d;const c=null===(d=null===(i=o.Address.fromBech32(s.address))||void 0===i?void 0:i.asBase())||void 0===d?void 0:d.getPaymentCredential().hash;const l=n.RewardAccount.toHash(s.rewardAccount);if(c&&c.toString()===a)r.push({index:s.index,role:Number(s.type)});if(l&&s.stakeKeyDerivationPath&&l.toString()===a)r.push(s.stakeKeyDerivationPath)}}return r};const checkStakeCredential=(e,t)=>e.stakeKeyDerivationPath&&n.RewardAccount.toHash(e.rewardAccount)===t?{derivationPaths:[e.stakeKeyDerivationPath],requiresForeignSignatures:false}:{derivationPaths:[],requiresForeignSignatures:true};const checkPaymentCredential=(e,t)=>{var r,a;const s=null===(a=null===(r=o.Address.fromBech32(e.address))||void 0===r?void 0:r.asBase())||void 0===a?void 0:a.getPaymentCredential();if((null==s?void 0:s.hash)===t){return{derivationPaths:[{index:e.index,role:Number(e.type)}],requiresForeignSignatures:false}}return{derivationPaths:[],requiresForeignSignatures:true}};const combineSignatureChecks=(e,t)=>({derivationPaths:[...e.derivationPaths,...t.derivationPaths],requiresForeignSignatures:e.requiresForeignSignatures||t.requiresForeignSignatures});const processSignatureScript=(e,t)=>{let r={derivationPaths:[],requiresForeignSignatures:false};for(const a of t){if(a.stakeKeyDerivationPath)r=combineSignatureChecks(r,checkStakeCredential(a,e.keyHash));r=combineSignatureChecks(r,checkPaymentCredential(a,e.keyHash))}return r};const getNativeScriptKeyPaths=(e,t)=>{const r={derivationPaths:[],requiresForeignSignatures:false};if(!(null==t?void 0:t.length))return r;const processScript=t=>{if(!l.isNativeScript(t)){return{derivationPaths:[],requiresForeignSignatures:false}}switch(t.kind){case l.NativeScriptKind.RequireSignature:return processSignatureScript(t,e);case l.NativeScriptKind.RequireAllOf:case l.NativeScriptKind.RequireAnyOf:case l.NativeScriptKind.RequireNOf:{const r=t;return r.scripts.reduce((e,t)=>combineSignatureChecks(e,processScript(t)),{derivationPaths:[],requiresForeignSignatures:false})}case l.NativeScriptKind.RequireTimeBefore:case l.NativeScriptKind.RequireTimeAfter:return{derivationPaths:[],requiresForeignSignatures:false}}};return t.reduce((e,t)=>combineSignatureChecks(e,processScript(t)),r)};const getDRepCredentialKeyPaths=({dRepKeyHash:e,txBody:t})=>{const r={derivationPaths:[],requiresForeignSignatures:false};for(const a of t.certificates||[])if(a.__typename===i.CertificateType.UnregisterDelegateRepresentative||a.__typename===i.CertificateType.UpdateDelegateRepresentative||a.__typename===i.CertificateType.RegisterDelegateRepresentative)if(a.dRepCredential.type!==o.CredentialType.ScriptHash&&e&&a.dRepCredential.hash===e)r.derivationPaths=[u.DREP_KEY_DERIVATION_PATH];else r.requiresForeignSignatures=true;return r};const createTxInKeyPathMap=async(e,t,r)=>{const a={};const i=[...e.inputs,...e.collaterals?e.collaterals:[]];await Promise.all(i.map(async e=>{const i=await r.resolveInput(e);if(!i)return;const o=t.find(({address:e})=>e===i.address);if(!o)return;a[(0,s.TxInId)(e)]={index:o.index,role:Number(o.type)}}));return a};const ownSignatureKeyPaths=(e,t,r,a,s)=>{const i=Object.values(r).filter(f.isNotNil);return m([...i,...getStakeCredentialKeyPaths(t,e).derivationPaths,...getDRepCredentialKeyPaths({dRepKeyHash:a,txBody:e}).derivationPaths,...getRequiredSignersKeyPaths(t,e.requiredExtraSignatures),...getVotingProcedureKeyPaths({dRepKeyHash:a,groupedAddresses:t,txBody:e}).derivationPaths,...getNativeScriptKeyPaths(t,s).derivationPaths],h)}},"../../node_modules/@cardano-sdk/key-management/dist/esm/util/stubSignTransaction.js":(e,t,r)=>{"use strict";r.d(t,{stubSignTransaction:()=>stubSignTransaction});var a=r("../../node_modules/@cardano-sdk/crypto/dist/esm/hexTypes.js");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var i=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js");var o=r("../../node_modules/lodash/uniqWith.js");const randomHexChar=()=>Math.floor(16*Math.random()).toString(16);const randomPublicKey=()=>a.Ed25519PublicKeyHex(Array.from({length:64}).map(randomHexChar).join(""));const stubSignTransaction=async({txBody:e,context:{knownAddresses:t,txInKeyPathMap:r,dRepKeyHashHex:n,scripts:d},signTransactionOptions:{extraSigners:c,additionalKeyPaths:l=[]}={}})=>{const u=a.Ed25519SignatureHex("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const f=o([...(0,i.ownSignatureKeyPaths)(e,t,r,n,d),...l],s.deepEquals);const h=f.length+((null==c?void 0:c.length)||0);const p=new Map;for(let m=0;m<h;++m)p.set(randomPublicKey(),u);return p}},"../../node_modules/@cardano-sdk/key-management/node_modules/create-hash/make-hash.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=4;var i=new a(s);i.fill(0);var o=8;var n=16;function toArray(e){if(e.length%s!==0){var t=e.length+(s-e.length%s);e=a.concat([e,i],t)}var r=new Array(e.length>>>2);for(var o=0,n=0;o<e.length;o+=s,n++)r[n]=e.readInt32LE(o);return r}e.exports=function hash(e,t){var r=t(toArray(e),e.length*o);e=new a(n);for(var s=0;s<r.length;s++)e.writeInt32LE(r[s],s<<2,true);return e}},"../../node_modules/@cardano-sdk/key-management/node_modules/create-hash/md5.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/@cardano-sdk/key-management/node_modules/create-hash/make-hash.js");function core_md5(e,t){e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;var r=1732584193;var a=-271733879;var s=-1732584194;var i=271733878;for(var o=0;o<e.length;o+=16){var n=r;var d=a;var c=s;var l=i;r=md5_ff(r,a,s,i,e[o+0],7,-680876936);i=md5_ff(i,r,a,s,e[o+1],12,-389564586);s=md5_ff(s,i,r,a,e[o+2],17,606105819);a=md5_ff(a,s,i,r,e[o+3],22,-1044525330);r=md5_ff(r,a,s,i,e[o+4],7,-176418897);i=md5_ff(i,r,a,s,e[o+5],12,1200080426);s=md5_ff(s,i,r,a,e[o+6],17,-1473231341);a=md5_ff(a,s,i,r,e[o+7],22,-45705983);r=md5_ff(r,a,s,i,e[o+8],7,1770035416);i=md5_ff(i,r,a,s,e[o+9],12,-1958414417);s=md5_ff(s,i,r,a,e[o+10],17,-42063);a=md5_ff(a,s,i,r,e[o+11],22,-1990404162);r=md5_ff(r,a,s,i,e[o+12],7,1804603682);i=md5_ff(i,r,a,s,e[o+13],12,-40341101);s=md5_ff(s,i,r,a,e[o+14],17,-1502002290);a=md5_ff(a,s,i,r,e[o+15],22,1236535329);r=md5_gg(r,a,s,i,e[o+1],5,-165796510);i=md5_gg(i,r,a,s,e[o+6],9,-1069501632);s=md5_gg(s,i,r,a,e[o+11],14,643717713);a=md5_gg(a,s,i,r,e[o+0],20,-373897302);r=md5_gg(r,a,s,i,e[o+5],5,-701558691);i=md5_gg(i,r,a,s,e[o+10],9,38016083);s=md5_gg(s,i,r,a,e[o+15],14,-660478335);a=md5_gg(a,s,i,r,e[o+4],20,-405537848);r=md5_gg(r,a,s,i,e[o+9],5,568446438);i=md5_gg(i,r,a,s,e[o+14],9,-1019803690);s=md5_gg(s,i,r,a,e[o+3],14,-187363961);a=md5_gg(a,s,i,r,e[o+8],20,1163531501);r=md5_gg(r,a,s,i,e[o+13],5,-1444681467);i=md5_gg(i,r,a,s,e[o+2],9,-51403784);s=md5_gg(s,i,r,a,e[o+7],14,1735328473);a=md5_gg(a,s,i,r,e[o+12],20,-1926607734);r=md5_hh(r,a,s,i,e[o+5],4,-378558);i=md5_hh(i,r,a,s,e[o+8],11,-2022574463);s=md5_hh(s,i,r,a,e[o+11],16,1839030562);a=md5_hh(a,s,i,r,e[o+14],23,-35309556);r=md5_hh(r,a,s,i,e[o+1],4,-1530992060);i=md5_hh(i,r,a,s,e[o+4],11,1272893353);s=md5_hh(s,i,r,a,e[o+7],16,-155497632);a=md5_hh(a,s,i,r,e[o+10],23,-1094730640);r=md5_hh(r,a,s,i,e[o+13],4,681279174);i=md5_hh(i,r,a,s,e[o+0],11,-358537222);s=md5_hh(s,i,r,a,e[o+3],16,-722521979);a=md5_hh(a,s,i,r,e[o+6],23,76029189);r=md5_hh(r,a,s,i,e[o+9],4,-640364487);i=md5_hh(i,r,a,s,e[o+12],11,-421815835);s=md5_hh(s,i,r,a,e[o+15],16,530742520);a=md5_hh(a,s,i,r,e[o+2],23,-995338651);r=md5_ii(r,a,s,i,e[o+0],6,-198630844);i=md5_ii(i,r,a,s,e[o+7],10,1126891415);s=md5_ii(s,i,r,a,e[o+14],15,-1416354905);a=md5_ii(a,s,i,r,e[o+5],21,-57434055);r=md5_ii(r,a,s,i,e[o+12],6,1700485571);i=md5_ii(i,r,a,s,e[o+3],10,-1894986606);s=md5_ii(s,i,r,a,e[o+10],15,-1051523);a=md5_ii(a,s,i,r,e[o+1],21,-2054922799);r=md5_ii(r,a,s,i,e[o+8],6,1873313359);i=md5_ii(i,r,a,s,e[o+15],10,-30611744);s=md5_ii(s,i,r,a,e[o+6],15,-1560198380);a=md5_ii(a,s,i,r,e[o+13],21,1309151649);r=md5_ii(r,a,s,i,e[o+4],6,-145523070);i=md5_ii(i,r,a,s,e[o+11],10,-1120210379);s=md5_ii(s,i,r,a,e[o+2],15,718787259);a=md5_ii(a,s,i,r,e[o+9],21,-343485551);r=safe_add(r,n);a=safe_add(a,d);s=safe_add(s,c);i=safe_add(i,l)}return[r,a,s,i]}function md5_cmn(e,t,r,a,s,i){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(a,i)),s),r)}function md5_ff(e,t,r,a,s,i,o){return md5_cmn(t&r|~t&a,e,t,s,i,o)}function md5_gg(e,t,r,a,s,i,o){return md5_cmn(t&a|r&~a,e,t,s,i,o)}function md5_hh(e,t,r,a,s,i,o){return md5_cmn(t^r^a,e,t,s,i,o)}function md5_ii(e,t,r,a,s,i,o){return md5_cmn(r^(t|~a),e,t,s,i,o)}function safe_add(e,t){var r=(65535&e)+(65535&t);var a=(e>>16)+(t>>16)+(r>>16);return a<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}e.exports=function md5(e){return a(e,core_md5)}},"../../node_modules/@cardano-sdk/key-management/node_modules/hash-base/index.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=r("../../node_modules/readable-stream/readable-browser.js").Transform;var i=r("../../node_modules/inherits/inherits_browser.js");function HashBase(e){s.call(this);this._block=new a(e);this._blockSize=e;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}i(HashBase,s);HashBase.prototype._transform=function(e,t,r){var s=null;try{if("buffer"!==t)e=new a(e,t);this.update(e)}catch(i){s=i}r(s)};HashBase.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(r){t=r}e(t)};HashBase.prototype.update=function(e,t){if(!a.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");if(!a.isBuffer(e))e=new a(e,t||"binary");var r=this._block;var s=0;while(this._blockOffset+e.length-s>=this._blockSize){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[s++];this._update();this._blockOffset=0}while(s<e.length)r[this._blockOffset++]=e[s++];for(var o=0,n=8*e.length;n>0;++o){this._length[o]+=n;n=this._length[o]/4294967296|0;if(n>0)this._length[o]-=4294967296*n}return this};HashBase.prototype._update=function(e){throw new Error("_update is not implemented")};HashBase.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var t=this._digest();if(void 0!==e)t=t.toString(e);return t};HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")};e.exports=HashBase},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/browser.js":(e,t,r)=>{"use strict";t.pbkdf2=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/async.js");t.pbkdf2Sync=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/sync-browser.js")},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/async.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/safe-buffer/index.js").Buffer;var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/precondition.js");var i=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/default-encoding.js");var o=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/sync-browser.js");var n=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/to-buffer.js");var d;var c=r.g.crypto&&r.g.crypto.subtle;var l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"};var u=[];var f;function getNextTick(){if(f){return f}f=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout;return f}function browserPbkdf2(e,t,r,s,i){return c.importKey("raw",e,{name:"PBKDF2"},false,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,s<<3)}).then(function(e){return a.from(e)})}function checkNative(e){if(r.g.process&&!r.g.process.browser){return Promise.resolve(false)}if(!c||!c.importKey||!c.deriveBits){return Promise.resolve(false)}if(void 0!==u[e]){return u[e]}d=d||a.alloc(8);var t=browserPbkdf2(d,d,10,128,e).then(function(){return true},function(){return false});u[e]=t;return t}function resolvePromise(e,t){e.then(function(e){getNextTick()(function(){t(null,e)})},function(e){getNextTick()(function(){t(e)})})}e.exports=function(e,t,a,d,c,u){if("function"==typeof c){u=c;c=void 0}c=c||"sha1";var f=l[c.toLowerCase()];if(!f||"function"!=typeof r.g.Promise){getNextTick()(function(){var r;try{r=o(e,t,a,d,c)}catch(s){u(s);return}u(null,r)});return}s(a,d);e=n(e,i,"Password");t=n(t,i,"Salt");if("function"!=typeof u){throw new Error("No callback provided to pbkdf2")}resolvePromise(checkNative(f).then(function(r){if(r){return browserPbkdf2(e,t,a,d,f)}return o(e,t,a,d,c)}),u)}},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/default-encoding.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/process/browser.js");var s;if(r.g.process&&r.g.process.browser)s="utf-8";else if(r.g.process&&r.g.process.version){var i=parseInt(a.version.split(".")[0].slice(1),10);s=i>=6?"utf-8":"binary"}else{s="utf-8"}e.exports=s},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/precondition.js":e=>{"use strict";var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e){throw new TypeError("Iterations not a number")}if(e<0){throw new TypeError("Bad iterations")}if("number"!=typeof r){throw new TypeError("Key length not a number")}if(r<0||r>t||r!==r){throw new TypeError("Bad key length")}}},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/sync-browser.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/@cardano-sdk/key-management/node_modules/create-hash/md5.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/ripemd160/index.js");var i=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/index.js");var o=r("../../node_modules/safe-buffer/index.js").Buffer;var n=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/precondition.js");var d=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/default-encoding.js");var c=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/to-buffer.js");var l=o.alloc(128);var u={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20};var f={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function rmd160Func(e){return new s().update(e).digest()}function getDigest(e){function shaFunc(t){return i(e).update(t).digest()}if("rmd160"===e||"ripemd160"===e){return rmd160Func}if("md5"===e){return a}return shaFunc}function Hmac(e,t,r){var a=getDigest(e);var s="sha512"===e||"sha384"===e?128:64;if(t.length>s)t=a(t);else if(t.length<s)t=o.concat([t,l],s);var i=o.allocUnsafe(s+u[e]);var n=o.allocUnsafe(s+u[e]);for(var d=0;d<s;d++){i[d]=54^t[d];n[d]=92^t[d]}var c=o.allocUnsafe(s+r+4);i.copy(c,0,0,s);this.ipad1=c;this.ipad2=i;this.opad=n;this.alg=e;this.blocksize=s;this.hash=a;this.size=u[e]}Hmac.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);r.copy(this.opad,this.blocksize);return this.hash(this.opad)};function pbkdf2(e,t,r,a,s){n(r,a);e=c(e,d,"Password");t=c(t,d,"Salt");var i=(s||"sha1").toLowerCase();var l=f[i]||i;var h=u[l];if("number"!=typeof h||!h){throw new TypeError("Digest algorithm not supported: "+s)}var p=new Hmac(l,e,t.length);var m=o.allocUnsafe(a);var _=o.allocUnsafe(t.length+4);t.copy(_,0,0,t.length);var v=0;var y=h;var w=Math.ceil(a/y);for(var g=1;g<=w;g++){_.writeUInt32BE(g,t.length);var b=p.run(_,p.ipad1);var P=b;for(var C=1;C<r;C++){P=p.run(P,p.ipad2);for(var S=0;S<y;S++)b[S]^=P[S]}b.copy(m,v);v+=y}return m}e.exports=pbkdf2},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/lib/to-buffer.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/safe-buffer/index.js").Buffer;var s=r("../../node_modules/to-buffer/index.js");var i="undefined"!=typeof Uint8Array;var o=i&&"undefined"!=typeof ArrayBuffer;var n=o&&ArrayBuffer.isView;e.exports=function(e,t,r){if("string"==typeof e||a.isBuffer(e)||i&&e instanceof Uint8Array||n&&n(e)){return s(e,t)}throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/ripemd160/index.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=r("../../node_modules/inherits/inherits_browser.js");var i=r("../../node_modules/@cardano-sdk/key-management/node_modules/hash-base/index.js");function RIPEMD160(){i.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}s(RIPEMD160,i);RIPEMD160.prototype._update=function(){var e=new Array(16);for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a;var a=this._b;var s=this._c;var i=this._d;var o=this._e;r=fn1(r,a,s,i,o,e[0],0,11);s=rotl(s,10);o=fn1(o,r,a,s,i,e[1],0,14);a=rotl(a,10);i=fn1(i,o,r,a,s,e[2],0,15);r=rotl(r,10);s=fn1(s,i,o,r,a,e[3],0,12);o=rotl(o,10);a=fn1(a,s,i,o,r,e[4],0,5);i=rotl(i,10);r=fn1(r,a,s,i,o,e[5],0,8);s=rotl(s,10);o=fn1(o,r,a,s,i,e[6],0,7);a=rotl(a,10);i=fn1(i,o,r,a,s,e[7],0,9);r=rotl(r,10);s=fn1(s,i,o,r,a,e[8],0,11);o=rotl(o,10);a=fn1(a,s,i,o,r,e[9],0,13);i=rotl(i,10);r=fn1(r,a,s,i,o,e[10],0,14);s=rotl(s,10);o=fn1(o,r,a,s,i,e[11],0,15);a=rotl(a,10);i=fn1(i,o,r,a,s,e[12],0,6);r=rotl(r,10);s=fn1(s,i,o,r,a,e[13],0,7);o=rotl(o,10);a=fn1(a,s,i,o,r,e[14],0,9);i=rotl(i,10);r=fn1(r,a,s,i,o,e[15],0,8);s=rotl(s,10);o=fn2(o,r,a,s,i,e[7],1518500249,7);a=rotl(a,10);i=fn2(i,o,r,a,s,e[4],1518500249,6);r=rotl(r,10);s=fn2(s,i,o,r,a,e[13],1518500249,8);o=rotl(o,10);a=fn2(a,s,i,o,r,e[1],1518500249,13);i=rotl(i,10);r=fn2(r,a,s,i,o,e[10],1518500249,11);s=rotl(s,10);o=fn2(o,r,a,s,i,e[6],1518500249,9);a=rotl(a,10);i=fn2(i,o,r,a,s,e[15],1518500249,7);r=rotl(r,10);s=fn2(s,i,o,r,a,e[3],1518500249,15);o=rotl(o,10);a=fn2(a,s,i,o,r,e[12],1518500249,7);i=rotl(i,10);r=fn2(r,a,s,i,o,e[0],1518500249,12);s=rotl(s,10);o=fn2(o,r,a,s,i,e[9],1518500249,15);a=rotl(a,10);i=fn2(i,o,r,a,s,e[5],1518500249,9);r=rotl(r,10);s=fn2(s,i,o,r,a,e[2],1518500249,11);o=rotl(o,10);a=fn2(a,s,i,o,r,e[14],1518500249,7);i=rotl(i,10);r=fn2(r,a,s,i,o,e[11],1518500249,13);s=rotl(s,10);o=fn2(o,r,a,s,i,e[8],1518500249,12);a=rotl(a,10);i=fn3(i,o,r,a,s,e[3],1859775393,11);r=rotl(r,10);s=fn3(s,i,o,r,a,e[10],1859775393,13);o=rotl(o,10);a=fn3(a,s,i,o,r,e[14],1859775393,6);i=rotl(i,10);r=fn3(r,a,s,i,o,e[4],1859775393,7);s=rotl(s,10);o=fn3(o,r,a,s,i,e[9],1859775393,14);a=rotl(a,10);i=fn3(i,o,r,a,s,e[15],1859775393,9);r=rotl(r,10);s=fn3(s,i,o,r,a,e[8],1859775393,13);o=rotl(o,10);a=fn3(a,s,i,o,r,e[1],1859775393,15);i=rotl(i,10);r=fn3(r,a,s,i,o,e[2],1859775393,14);s=rotl(s,10);o=fn3(o,r,a,s,i,e[7],1859775393,8);a=rotl(a,10);i=fn3(i,o,r,a,s,e[0],1859775393,13);r=rotl(r,10);s=fn3(s,i,o,r,a,e[6],1859775393,6);o=rotl(o,10);a=fn3(a,s,i,o,r,e[13],1859775393,5);i=rotl(i,10);r=fn3(r,a,s,i,o,e[11],1859775393,12);s=rotl(s,10);o=fn3(o,r,a,s,i,e[5],1859775393,7);a=rotl(a,10);i=fn3(i,o,r,a,s,e[12],1859775393,5);r=rotl(r,10);s=fn4(s,i,o,r,a,e[1],2400959708,11);o=rotl(o,10);a=fn4(a,s,i,o,r,e[9],2400959708,12);i=rotl(i,10);r=fn4(r,a,s,i,o,e[11],2400959708,14);s=rotl(s,10);o=fn4(o,r,a,s,i,e[10],2400959708,15);a=rotl(a,10);i=fn4(i,o,r,a,s,e[0],2400959708,14);r=rotl(r,10);s=fn4(s,i,o,r,a,e[8],2400959708,15);o=rotl(o,10);a=fn4(a,s,i,o,r,e[12],2400959708,9);i=rotl(i,10);r=fn4(r,a,s,i,o,e[4],2400959708,8);s=rotl(s,10);o=fn4(o,r,a,s,i,e[13],2400959708,9);a=rotl(a,10);i=fn4(i,o,r,a,s,e[3],2400959708,14);r=rotl(r,10);s=fn4(s,i,o,r,a,e[7],2400959708,5);o=rotl(o,10);a=fn4(a,s,i,o,r,e[15],2400959708,6);i=rotl(i,10);r=fn4(r,a,s,i,o,e[14],2400959708,8);s=rotl(s,10);o=fn4(o,r,a,s,i,e[5],2400959708,6);a=rotl(a,10);i=fn4(i,o,r,a,s,e[6],2400959708,5);r=rotl(r,10);s=fn4(s,i,o,r,a,e[2],2400959708,12);o=rotl(o,10);a=fn5(a,s,i,o,r,e[4],2840853838,9);i=rotl(i,10);r=fn5(r,a,s,i,o,e[0],2840853838,15);s=rotl(s,10);o=fn5(o,r,a,s,i,e[5],2840853838,5);a=rotl(a,10);i=fn5(i,o,r,a,s,e[9],2840853838,11);r=rotl(r,10);s=fn5(s,i,o,r,a,e[7],2840853838,6);o=rotl(o,10);a=fn5(a,s,i,o,r,e[12],2840853838,8);i=rotl(i,10);r=fn5(r,a,s,i,o,e[2],2840853838,13);s=rotl(s,10);o=fn5(o,r,a,s,i,e[10],2840853838,12);a=rotl(a,10);i=fn5(i,o,r,a,s,e[14],2840853838,5);r=rotl(r,10);s=fn5(s,i,o,r,a,e[1],2840853838,12);o=rotl(o,10);a=fn5(a,s,i,o,r,e[3],2840853838,13);i=rotl(i,10);r=fn5(r,a,s,i,o,e[8],2840853838,14);s=rotl(s,10);o=fn5(o,r,a,s,i,e[11],2840853838,11);a=rotl(a,10);i=fn5(i,o,r,a,s,e[6],2840853838,8);r=rotl(r,10);s=fn5(s,i,o,r,a,e[15],2840853838,5);o=rotl(o,10);a=fn5(a,s,i,o,r,e[13],2840853838,6);i=rotl(i,10);var n=this._a;var d=this._b;var c=this._c;var l=this._d;var u=this._e;n=fn5(n,d,c,l,u,e[5],1352829926,8);c=rotl(c,10);u=fn5(u,n,d,c,l,e[14],1352829926,9);d=rotl(d,10);l=fn5(l,u,n,d,c,e[7],1352829926,9);n=rotl(n,10);c=fn5(c,l,u,n,d,e[0],1352829926,11);u=rotl(u,10);d=fn5(d,c,l,u,n,e[9],1352829926,13);l=rotl(l,10);n=fn5(n,d,c,l,u,e[2],1352829926,15);c=rotl(c,10);u=fn5(u,n,d,c,l,e[11],1352829926,15);d=rotl(d,10);l=fn5(l,u,n,d,c,e[4],1352829926,5);n=rotl(n,10);c=fn5(c,l,u,n,d,e[13],1352829926,7);u=rotl(u,10);d=fn5(d,c,l,u,n,e[6],1352829926,7);l=rotl(l,10);n=fn5(n,d,c,l,u,e[15],1352829926,8);c=rotl(c,10);u=fn5(u,n,d,c,l,e[8],1352829926,11);d=rotl(d,10);l=fn5(l,u,n,d,c,e[1],1352829926,14);n=rotl(n,10);c=fn5(c,l,u,n,d,e[10],1352829926,14);u=rotl(u,10);d=fn5(d,c,l,u,n,e[3],1352829926,12);l=rotl(l,10);n=fn5(n,d,c,l,u,e[12],1352829926,6);c=rotl(c,10);u=fn4(u,n,d,c,l,e[6],1548603684,9);d=rotl(d,10);l=fn4(l,u,n,d,c,e[11],1548603684,13);n=rotl(n,10);c=fn4(c,l,u,n,d,e[3],1548603684,15);u=rotl(u,10);d=fn4(d,c,l,u,n,e[7],1548603684,7);l=rotl(l,10);n=fn4(n,d,c,l,u,e[0],1548603684,12);c=rotl(c,10);u=fn4(u,n,d,c,l,e[13],1548603684,8);d=rotl(d,10);l=fn4(l,u,n,d,c,e[5],1548603684,9);n=rotl(n,10);c=fn4(c,l,u,n,d,e[10],1548603684,11);u=rotl(u,10);d=fn4(d,c,l,u,n,e[14],1548603684,7);l=rotl(l,10);n=fn4(n,d,c,l,u,e[15],1548603684,7);c=rotl(c,10);u=fn4(u,n,d,c,l,e[8],1548603684,12);d=rotl(d,10);l=fn4(l,u,n,d,c,e[12],1548603684,7);n=rotl(n,10);c=fn4(c,l,u,n,d,e[4],1548603684,6);u=rotl(u,10);d=fn4(d,c,l,u,n,e[9],1548603684,15);l=rotl(l,10);n=fn4(n,d,c,l,u,e[1],1548603684,13);c=rotl(c,10);u=fn4(u,n,d,c,l,e[2],1548603684,11);d=rotl(d,10);l=fn3(l,u,n,d,c,e[15],1836072691,9);n=rotl(n,10);c=fn3(c,l,u,n,d,e[5],1836072691,7);u=rotl(u,10);d=fn3(d,c,l,u,n,e[1],1836072691,15);l=rotl(l,10);n=fn3(n,d,c,l,u,e[3],1836072691,11);c=rotl(c,10);u=fn3(u,n,d,c,l,e[7],1836072691,8);d=rotl(d,10);l=fn3(l,u,n,d,c,e[14],1836072691,6);n=rotl(n,10);c=fn3(c,l,u,n,d,e[6],1836072691,6);u=rotl(u,10);d=fn3(d,c,l,u,n,e[9],1836072691,14);l=rotl(l,10);n=fn3(n,d,c,l,u,e[11],1836072691,12);c=rotl(c,10);u=fn3(u,n,d,c,l,e[8],1836072691,13);d=rotl(d,10);l=fn3(l,u,n,d,c,e[12],1836072691,5);n=rotl(n,10);c=fn3(c,l,u,n,d,e[2],1836072691,14);u=rotl(u,10);d=fn3(d,c,l,u,n,e[10],1836072691,13);l=rotl(l,10);n=fn3(n,d,c,l,u,e[0],1836072691,13);c=rotl(c,10);u=fn3(u,n,d,c,l,e[4],1836072691,7);d=rotl(d,10);l=fn3(l,u,n,d,c,e[13],1836072691,5);n=rotl(n,10);c=fn2(c,l,u,n,d,e[8],2053994217,15);u=rotl(u,10);d=fn2(d,c,l,u,n,e[6],2053994217,5);l=rotl(l,10);n=fn2(n,d,c,l,u,e[4],2053994217,8);c=rotl(c,10);u=fn2(u,n,d,c,l,e[1],2053994217,11);d=rotl(d,10);l=fn2(l,u,n,d,c,e[3],2053994217,14);n=rotl(n,10);c=fn2(c,l,u,n,d,e[11],2053994217,14);u=rotl(u,10);d=fn2(d,c,l,u,n,e[15],2053994217,6);l=rotl(l,10);n=fn2(n,d,c,l,u,e[0],2053994217,14);c=rotl(c,10);u=fn2(u,n,d,c,l,e[5],2053994217,6);d=rotl(d,10);l=fn2(l,u,n,d,c,e[12],2053994217,9);n=rotl(n,10);c=fn2(c,l,u,n,d,e[2],2053994217,12);u=rotl(u,10);d=fn2(d,c,l,u,n,e[13],2053994217,9);l=rotl(l,10);n=fn2(n,d,c,l,u,e[9],2053994217,12);c=rotl(c,10);u=fn2(u,n,d,c,l,e[7],2053994217,5);d=rotl(d,10);l=fn2(l,u,n,d,c,e[10],2053994217,15);n=rotl(n,10);c=fn2(c,l,u,n,d,e[14],2053994217,8);u=rotl(u,10);d=fn1(d,c,l,u,n,e[12],0,8);l=rotl(l,10);n=fn1(n,d,c,l,u,e[15],0,5);c=rotl(c,10);u=fn1(u,n,d,c,l,e[10],0,12);d=rotl(d,10);l=fn1(l,u,n,d,c,e[4],0,9);n=rotl(n,10);c=fn1(c,l,u,n,d,e[1],0,12);u=rotl(u,10);d=fn1(d,c,l,u,n,e[5],0,5);l=rotl(l,10);n=fn1(n,d,c,l,u,e[8],0,14);c=rotl(c,10);u=fn1(u,n,d,c,l,e[7],0,6);d=rotl(d,10);l=fn1(l,u,n,d,c,e[6],0,8);n=rotl(n,10);c=fn1(c,l,u,n,d,e[2],0,13);u=rotl(u,10);d=fn1(d,c,l,u,n,e[13],0,6);l=rotl(l,10);n=fn1(n,d,c,l,u,e[14],0,5);c=rotl(c,10);u=fn1(u,n,d,c,l,e[0],0,15);d=rotl(d,10);l=fn1(l,u,n,d,c,e[3],0,13);n=rotl(n,10);c=fn1(c,l,u,n,d,e[9],0,11);u=rotl(u,10);d=fn1(d,c,l,u,n,e[11],0,11);l=rotl(l,10);var f=this._b+s+l|0;this._b=this._c+i+u|0;this._c=this._d+o+n|0;this._d=this._e+r+d|0;this._e=this._a+a+c|0;this._a=f};RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=new a(20);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);e.writeInt32LE(this._e,16);return e};function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,r,a,s,i,o,n){return rotl(e+(t^r^a)+i+o|0,n)+s|0}function fn2(e,t,r,a,s,i,o,n){return rotl(e+(t&r|~t&a)+i+o|0,n)+s|0}function fn3(e,t,r,a,s,i,o,n){return rotl(e+((t|~r)^a)+i+o|0,n)+s|0}function fn4(e,t,r,a,s,i,o,n){return rotl(e+(t&a|r&~a)+i+o|0,n)+s|0}function fn5(e,t,r,a,s,i,o,n){return rotl(e+(t^(r|~a))+i+o|0,n)+s|0}e.exports=RIPEMD160},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/safe-buffer/index.js").Buffer;var s=r("../../node_modules/to-buffer/index.js");function Hash(e,t){this._block=a.alloc(e);this._finalSize=t;this._blockSize=e;this._len=0}Hash.prototype.update=function(e,t){e=s(e,t||"utf8");var r=this._block;var a=this._blockSize;var i=e.length;var o=this._len;for(var n=0;n<i;){var d=o%a;var c=Math.min(i-n,a-d);for(var l=0;l<c;l++)r[d+l]=e[n+l];o+=c;n+=c;if(o%a===0)this._update(r)}this._len+=i;return this};Hash.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128;this._block.fill(0,t+1);if(t>=this._finalSize){this._update(this._block);this._block.fill(0)}var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var a=(4294967295&r)>>>0;var s=(r-a)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8);this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};e.exports=Hash},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/index.js":(e,t,r)=>{"use strict";e.exports=function SHA(t){var r=t.toLowerCase();var a=e.exports[r];if(!a){throw new Error(r+" is not supported (we accept pull requests)")}return new a};e.exports.sha=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha.js");e.exports.sha1=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha1.js");e.exports.sha224=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha224.js");e.exports.sha256=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha256.js");e.exports.sha384=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha384.js");e.exports.sha512=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha512.js")},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1518500249,1859775393,-1894007588,-899497514];var n=new Array(80);function Sha(){this.init();this._w=n;s.call(this,64,56)}a(Sha,s);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,a){if(0===e){return t&r|~t&a}if(2===e){return t&r|t&a|r&a}return t^r^a}Sha.prototype._update=function(e){var t=this._w;var r=0|this._a;var a=0|this._b;var s=0|this._c;var i=0|this._d;var n=0|this._e;for(var d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=t[d-3]^t[d-8]^t[d-14]^t[d-16];for(var c=0;c<80;++c){var l=~~(c/20);var u=rotl5(r)+ft(l,a,s,i)+n+t[c]+o[l]|0;n=i;i=s;s=rotl30(a);a=r;r=u}this._a=r+this._a|0;this._b=a+this._b|0;this._c=s+this._c|0;this._d=i+this._d|0;this._e=n+this._e|0};Sha.prototype._hash=function(){var e=i.allocUnsafe(20);e.writeInt32BE(0|this._a,0);e.writeInt32BE(0|this._b,4);e.writeInt32BE(0|this._c,8);e.writeInt32BE(0|this._d,12);e.writeInt32BE(0|this._e,16);return e};e.exports=Sha},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha1.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1518500249,1859775393,-1894007588,-899497514];var n=new Array(80);function Sha1(){this.init();this._w=n;s.call(this,64,56)}a(Sha1,s);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,a){if(0===e){return t&r|~t&a}if(2===e){return t&r|t&a|r&a}return t^r^a}Sha1.prototype._update=function(e){var t=this._w;var r=0|this._a;var a=0|this._b;var s=0|this._c;var i=0|this._d;var n=0|this._e;for(var d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=rotl1(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var c=0;c<80;++c){var l=~~(c/20);var u=rotl5(r)+ft(l,a,s,i)+n+t[c]+o[l]|0;n=i;i=s;s=rotl30(a);a=r;r=u}this._a=r+this._a|0;this._b=a+this._b|0;this._c=s+this._c|0;this._d=i+this._d|0;this._e=n+this._e|0};Sha1.prototype._hash=function(){var e=i.allocUnsafe(20);e.writeInt32BE(0|this._a,0);e.writeInt32BE(0|this._b,4);e.writeInt32BE(0|this._c,8);e.writeInt32BE(0|this._d,12);e.writeInt32BE(0|this._e,16);return e};e.exports=Sha1},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha224.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha256.js");var i=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js");var o=r("../../node_modules/safe-buffer/index.js").Buffer;var n=new Array(64);function Sha224(){this.init();this._w=n;i.call(this,64,56)}a(Sha224,s);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var e=o.allocUnsafe(28);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);return e};e.exports=Sha224},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha256.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var n=new Array(64);function Sha256(){this.init();this._w=n;s.call(this,64,56)}a(Sha256,s);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Sha256.prototype._update=function(e){var t=this._w;var r=0|this._a;var a=0|this._b;var s=0|this._c;var i=0|this._d;var n=0|this._e;var d=0|this._f;var c=0|this._g;var l=0|this._h;for(var u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<64;++u)t[u]=gamma1(t[u-2])+t[u-7]+gamma0(t[u-15])+t[u-16]|0;for(var f=0;f<64;++f){var h=l+sigma1(n)+ch(n,d,c)+o[f]+t[f]|0;var p=sigma0(r)+maj(r,a,s)|0;l=c;c=d;d=n;n=i+h|0;i=s;s=a;a=r;r=h+p|0}this._a=r+this._a|0;this._b=a+this._b|0;this._c=s+this._c|0;this._d=i+this._d|0;this._e=n+this._e|0;this._f=d+this._f|0;this._g=c+this._g|0;this._h=l+this._h|0};Sha256.prototype._hash=function(){var e=i.allocUnsafe(32);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);e.writeInt32BE(this._h,28);return e};e.exports=Sha256},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha384.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha512.js");var i=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js");var o=r("../../node_modules/safe-buffer/index.js").Buffer;var n=new Array(160);function Sha384(){this.init();this._w=n;i.call(this,128,112)}a(Sha384,s);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var e=o.allocUnsafe(48);function writeInt64BE(t,r,a){e.writeInt32BE(t,a);e.writeInt32BE(r,a+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return e};e.exports=Sha384},"../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/sha512.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/inherits/inherits_browser.js");var s=r("../../node_modules/@cardano-sdk/key-management/node_modules/pbkdf2/node_modules/sha.js/hash.js");var i=r("../../node_modules/safe-buffer/index.js").Buffer;var o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var n=new Array(160);function Sha512(){this.init();this._w=n;s.call(this,128,112)}a(Sha512,s);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}Sha512.prototype._update=function(e){var t=this._w;var r=0|this._ah;var a=0|this._bh;var s=0|this._ch;var i=0|this._dh;var n=0|this._eh;var d=0|this._fh;var c=0|this._gh;var l=0|this._hh;var u=0|this._al;var f=0|this._bl;var h=0|this._cl;var p=0|this._dl;var m=0|this._el;var _=0|this._fl;var v=0|this._gl;var y=0|this._hl;for(var w=0;w<32;w+=2){t[w]=e.readInt32BE(4*w);t[w+1]=e.readInt32BE(4*w+4)}for(;w<160;w+=2){var g=t[w-30];var b=t[w-30+1];var P=Gamma0(g,b);var C=Gamma0l(b,g);g=t[w-4];b=t[w-4+1];var S=Gamma1(g,b);var T=Gamma1l(b,g);var E=t[w-14];var k=t[w-14+1];var A=t[w-32];var I=t[w-32+1];var j=C+k|0;var x=P+E+getCarry(j,C)|0;j=j+T|0;x=x+S+getCarry(j,T)|0;j=j+I|0;x=x+A+getCarry(j,I)|0;t[w]=x;t[w+1]=j}for(var R=0;R<160;R+=2){x=t[R];j=t[R+1];var B=maj(r,a,s);var O=maj(u,f,h);var D=sigma0(r,u);var M=sigma0(u,r);var F=sigma1(n,m);var N=sigma1(m,n);var H=o[R];var G=o[R+1];var V=Ch(n,d,c);var K=Ch(m,_,v);var L=y+N|0;var z=l+F+getCarry(L,y)|0;L=L+K|0;z=z+V+getCarry(L,K)|0;L=L+G|0;z=z+H+getCarry(L,G)|0;L=L+j|0;z=z+x+getCarry(L,j)|0;var U=M+O|0;var W=D+B+getCarry(U,M)|0;l=c;y=v;c=d;v=_;d=n;_=m;m=p+L|0;n=i+z+getCarry(m,p)|0;i=s;p=h;s=a;h=f;a=r;f=u;u=L+U|0;r=z+W+getCarry(u,L)|0}this._al=this._al+u|0;this._bl=this._bl+f|0;this._cl=this._cl+h|0;this._dl=this._dl+p|0;this._el=this._el+m|0;this._fl=this._fl+_|0;this._gl=this._gl+v|0;this._hl=this._hl+y|0;this._ah=this._ah+r+getCarry(this._al,u)|0;this._bh=this._bh+a+getCarry(this._bl,f)|0;this._ch=this._ch+s+getCarry(this._cl,h)|0;this._dh=this._dh+i+getCarry(this._dl,p)|0;this._eh=this._eh+n+getCarry(this._el,m)|0;this._fh=this._fh+d+getCarry(this._fl,_)|0;this._gh=this._gh+c+getCarry(this._gl,v)|0;this._hh=this._hh+l+getCarry(this._hl,y)|0};Sha512.prototype._hash=function(){var e=i.allocUnsafe(64);function writeInt64BE(t,r,a){e.writeInt32BE(t,a);e.writeInt32BE(r,a+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return e};e.exports=Sha512},"../../node_modules/@cardano-sdk/key-management/node_modules/ts-custom-error/dist/custom-error.mjs":(e,t,r)=>{"use strict";r.r(t);r.d(t,{CustomError:()=>s,customErrorFactory:()=>customErrorFactory});function fixProto(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function fixStack(e,t){if(void 0===t)t=e.constructor;var r=Error.captureStackTrace;r&&r(e,t)}var a=function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){a(CustomError,e);function CustomError(t){var r=this.constructor;var a=e.call(this,t)||this;Object.defineProperty(a,"name",{value:r.name,enumerable:false,configurable:true});fixProto(a,r.prototype);fixStack(a);return a}return CustomError}(Error);var __spreadArrays=function(){var e=arguments;for(var t=0,r=0,a=arguments.length;r<a;r++)t+=e[r].length;for(var s=Array(t),i=0,r=0;r<a;r++){for(var o=arguments[r],n=0,d=o.length;n<d;n++,i++)s[i]=o[n]}return s};function customErrorFactory(e,t){if(void 0===t)t=Error;function CustomError(){var r=arguments;var a=[];for(var s=0;s<arguments.length;s++)a[s]=r[s];if(!(this instanceof CustomError)){return new(CustomError.bind.apply(CustomError,__spreadArrays([void 0],a)))}t.apply(this,a);Object.defineProperty(this,"name",{value:e.name||t.name,enumerable:false,configurable:true});e.apply(this,a);fixStack(this,CustomError)}return Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:true,configurable:true}})}})}},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/computeScriptDataHash.js":function(e,t,r){"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];var s=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))s(t,e,r)}i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.computeScriptDataHash=void 0;const n=o(r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js"));const d=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const c=new Uint8Array([160]);const getCborEncodedArray=e=>{const t=new d.Serialization.CborWriter;t.writeStartArray(e.length);for(const r of e)t.writeEncodedValue(a.from(r.toCbor(),"hex"));return t.encode()};const hashScriptData=(e,t,r)=>{const s=new d.Serialization.CborWriter;if(r&&r.length>0&&(!t||0===t.length)){s.writeEncodedValue(c);s.writeEncodedValue(getCborEncodedArray(r));s.writeEncodedValue(c)}else{if(!t||0===t.length)return;s.writeEncodedValue(getCborEncodedArray(t));if(r&&r.length>0)s.writeEncodedValue(getCborEncodedArray(r));s.writeEncodedValue(a.from(e.languageViewsEncoding(),"hex"))}return n.blake2b.hash(a.from(s.encode()).toString("hex"),32)};const computeScriptDataHash=(e,t,r,a)=>{if((!r||0===r.length)&&(!a||0===a.length))return;const s=new d.Serialization.Costmdls;for(const i of t){const o=e.get(i);if(o)s.insert(new d.Serialization.CostModel(i,o))}return hashScriptData(s,null==r?void 0:r.map(e=>d.Serialization.Redeemer.fromCore(e)),null==a?void 0:a.map(e=>d.Serialization.PlutusData.fromCore(e)))};t.computeScriptDataHash=computeScriptDataHash},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/createTransactionInternals.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createTransactionInternals=t.includeChangeAndInputs=t.createPreInputSelectionTxBody=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/computeScriptDataHash.js");const i=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/costModels.js");const createPreInputSelectionTxBody=({auxiliaryData:e,withdrawals:t,certificates:r,validityInterval:s,collaterals:i,collateralReturn:o,mint:n,scriptIntegrityHash:d,referenceInputs:c,requiredExtraSignatures:l,outputs:u})=>{return{auxiliaryData:e,txBody:{auxiliaryDataHash:e?a.Cardano.computeAuxiliaryDataHash(e):void 0,certificates:r,mint:n,outputs:u||[],referenceInputs:c?[...c]:void 0,requiredExtraSignatures:l,scriptIntegrityHash:d,validityInterval:s,...(null==t?void 0:t.length)&&{withdrawals:t},...(null==i?void 0:i.size)&&{collaterals:[...i]},collateralReturn:o}}};t.createPreInputSelectionTxBody=createPreInputSelectionTxBody;const includeChangeAndInputs=({bodyPreInputSelection:e,inputSelection:t,scriptVersions:r,witness:o})=>{const n={...e,fee:t.fee,inputs:[...t.inputs].map(([e])=>e),outputs:[...t.outputs,...t.change]};if(r&&o){const d=(0,i.getDefaultCostModelsForVersions)([...r]);n.scriptIntegrityHash=(0,s.computeScriptDataHash)(d,[...r],o.redeemers,o.datums)}const c=a.Serialization.TransactionBody.fromCore(n);return{body:n,hash:c.hash()}};t.includeChangeAndInputs=includeChangeAndInputs;const createTransactionInternals=e=>{const{txBody:r}=(0,t.createPreInputSelectionTxBody)({...e});return(0,t.includeChangeAndInputs)({bodyPreInputSelection:r,inputSelection:e.inputSelection})};t.createTransactionInternals=createTransactionInternals},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/ensureValidityInterval.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ensureValidityInterval=t.calcTimeOffsetSlotNumber=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const s=(0,a.Seconds)(7200);const calcTimeOffsetSlotNumber=(e,t,r)=>a.Cardano.Slot(e+t*r);t.calcTimeOffsetSlotNumber=calcTimeOffsetSlotNumber;const ensureValidityInterval=(e,{slotLength:r},a)=>({invalidHereafter:(0,t.calcTimeOffsetSlotNumber)(e,s,r),...a});t.ensureValidityInterval=ensureValidityInterval},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/fees/fees.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.minFee=t.minAdaRequired=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const i=160;const serializeBigInt=e=>{const t=new s.Serialization.CborWriter;t.writeInt(BigInt(e));return t.encode()};const serializeTxOutputSize=e=>s.Serialization.TransactionOutput.fromCore(e).toCbor().length/2;const serializeTx=e=>a.from(s.Serialization.Transaction.fromCore(e).toCbor(),"hex");const getTotalExUnits=e=>{const t={memory:0,steps:0};for(const r of e){t.memory+=r.executionUnits.memory;t.steps+=r.executionUnits.steps}return t};const minRefScriptFee=(e,t,r)=>{if(0===r)return BigInt(0);let a=r;const i=25600;const o=1.2;let n=0;var d;const c=[...e.body.inputs,...null!==(d=e.body.referenceInputs)&&void 0!==d?d:[]];for(const l of c){const u=t.find(e=>e[0].txId===l.txId&&e[0].index===l.index);if(u&&u[1].scriptReference)n+=s.Serialization.Script.fromCore(u[1].scriptReference).toCbor().length/2}let f=0;while(n>0){f+=Math.ceil(Math.min(i,n)*a);n=Math.max(n-i,0);a*=o}return BigInt(f)};const minScriptFee=(e,t,r,a)=>{const s=minRefScriptFee(e,r,a);if(!e.witness.redeemers)return BigInt(s);const i=getTotalExUnits(e.witness.redeemers);return BigInt(Math.ceil(i.steps*t.steps+i.memory*t.memory))+s};const minNoScriptFee=(e,t,r)=>{const a=serializeTx(e).length;return BigInt(Math.ceil(a*r+t))};const minAdaRequired=(e,t)=>{const r=serializeBigInt(e.value.coins.toString()).length;let a=r;let s=false;while(!s){const o=a-r;const n=BigInt(serializeTxOutputSize(e)+i+o)*t;const d=serializeBigInt(n.toString()).length;s=a===d;a=d}const c=a-r;return BigInt(serializeTxOutputSize(e)+i+c)*t};t.minAdaRequired=minAdaRequired;const minFee=(e,t,r)=>minNoScriptFee(e,r.minFeeConstant,r.minFeeCoefficient)+minScriptFee(e,r.prices,t,r.minFeeRefScriptCostPerByte?Number(r.minFeeRefScriptCostPerByte):0);t.minFee=minFee},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/fees/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/fees/fees.js"),t)},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});t.createTransactionInternals=void 0;var i=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/createTransactionInternals.js");Object.defineProperty(t,"createTransactionInternals",{enumerable:true,get:function(){return i.createTransactionInternals}});s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/fees/index.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/index.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/index.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/index.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-metadata/index.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/ensureValidityInterval.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/types.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/computeScriptDataHash.js"),t)},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/selectionConstraints.js"),t)},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/selectionConstraints.js":(e,t,r)=>{"use strict";var a=r("../../node_modules/buffer/index.js")["Buffer"];Object.defineProperty(t,"__esModule",{value:true});t.defaultSelectionConstraints=t.computeSelectionLimit=t.tokenBundleSizeExceedsLimit=t.computeMinimumCoinQuantity=t.computeMinimumCost=t.MAX_U64=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/fees/index.js");t.MAX_U64=0xffffffffffffffffn;const updateRedeemers=(e,t,r)=>{const a=[];const i={[s.Cardano.RedeemerPurpose.spend]:t.spend,[s.Cardano.RedeemerPurpose.mint]:t.mint,[s.Cardano.RedeemerPurpose.certificate]:t.certificate,[s.Cardano.RedeemerPurpose.withdrawal]:t.withdrawal,[s.Cardano.RedeemerPurpose.propose]:t.propose,[s.Cardano.RedeemerPurpose.vote]:t.vote};for(const o of e){const n=i[o.purpose];if(!n)throw new Error(`No redeemers found for ${o.purpose} purpose`);let d;if(o.purpose===s.Cardano.RedeemerPurpose.spend){const c=r[o.index];d=n.get(`${c.txId}#${c.index}`);if(!d)throw new Error(`Known Redeemer not found for tx id ${c.txId} and index ${c.index}`)}else{const l=n;d=l.find(e=>e.index===o.index);if(!d)throw new Error(`Known Redeemer not found for index ${o.index}`)}a.push({...d,executionUnits:o.budget})}return a};const reorgRedeemers=(e,t,r)=>{let a=[];if(t.redeemers){a=t.redeemers.filter(e=>e.purpose!==s.Cardano.RedeemerPurpose.spend);if(e.spend){for(const[i,o]of e.spend){const n=r.findIndex(e=>i===`${e.txId}#${e.index}`);if(n<0)throw new Error(`Redeemer not found for tx id ${i}`);o.index=n;a.push({...o})}}}return a};const computeMinimumCost=(e,t,r,a)=>async s=>{const n=await t(s);const d=[...s.inputs];const c=d.map(e=>e[0]).sort(i.sortTxIn);if(n.witness&&n.witness.redeemers&&n.witness.redeemers.length>0){n.witness.redeemers=reorgRedeemers(a,n.witness,c);n.witness.redeemers=updateRedeemers(await r.evaluate(n,d),a,c)}return{fee:(0,o.minFee)(n,d,e),redeemers:n.witness.redeemers}};t.computeMinimumCost=computeMinimumCost;const computeMinimumCoinQuantity=e=>t=>(0,o.minAdaRequired)(t,BigInt(e));t.computeMinimumCoinQuantity=computeMinimumCoinQuantity;const tokenBundleSizeExceedsLimit=e=>r=>{if(!r){return false}const a=new s.Serialization.Value(t.MAX_U64);a.setMultiasset(r);return a.toCbor().length/2>e};t.tokenBundleSizeExceedsLimit=tokenBundleSizeExceedsLimit;const getTxSize=e=>a.from(e.toCbor(),"hex").length;const computeSelectionLimit=(e,t)=>async r=>{const a=await t(r);const i=getTxSize(s.Serialization.Transaction.fromCore(a));if(i<=e){return r.inputs.size}return r.inputs.size-1};t.computeSelectionLimit=computeSelectionLimit;const defaultSelectionConstraints=({protocolParameters:e,buildTx:r,redeemersByType:a,txEvaluator:i})=>{if(!e.coinsPerUtxoByte||!e.maxTxSize||!e.maxValueSize||!e.minFeeCoefficient||!e.minFeeConstant||!e.prices){throw new s.InvalidProtocolParametersError("Missing one of: coinsPerUtxoByte, maxTxSize, maxValueSize, minFeeCoefficient, minFeeConstant, prices")}return{computeMinimumCoinQuantity:(0,t.computeMinimumCoinQuantity)(e.coinsPerUtxoByte),computeMinimumCost:(0,t.computeMinimumCost)(e,r,i,a),computeSelectionLimit:(0,t.computeSelectionLimit)(e.maxTxSize,r),tokenBundleSizeExceedsLimit:(0,t.tokenBundleSizeExceedsLimit)(e.maxValueSize)}};t.defaultSelectionConstraints=defaultSelectionConstraints},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/outputValidator.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/types.js"),t)},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/outputValidator.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createOutputValidator=void 0;const a=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/index.js");const createOutputValidator=({protocolParameters:e})=>{const validateOutput=async({address:t,value:r},i)=>{const{coinsPerUtxoByte:o,maxValueSize:n}=i||await e();const d={address:t,value:r};const c=!!r.assets&&[...r.assets.values()].some(e=>e<=0);if(c){return{coinMissing:0n,minimumCoin:0n,negativeAssetQty:c,tokenBundleSizeExceedsLimit:false}}const l=BigInt((0,s.computeMinimumCoinQuantity)(o)(d));return{coinMissing:a.BigIntMath.max([l-r.coins,0n]),minimumCoin:l,negativeAssetQty:c,tokenBundleSizeExceedsLimit:(0,s.tokenBundleSizeExceedsLimit)(n)(r.assets)}};return{validateOutput,async validateOutputs(t){const r=await e();const a=new Map;for(const s of t)a.set(s,await validateOutput(s,r));return a}}};t.createOutputValidator=createOutputValidator},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/GreedyTxEvaluator.js":function(e,t){"use strict";var r=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var a=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var s;Object.defineProperty(t,"__esModule",{value:true});t.GreedyTxEvaluator=void 0;class GreedyTxEvaluator{async evaluate(e,t){const{maxExecutionUnitsPerTransaction:r}=await a(this,s,"f").call(this);const{witness:i}=e;if(!i||!i.redeemers)return[];const o=[];for(const n of i.redeemers)o.push({budget:r,index:n.index,purpose:n.purpose});return o}constructor(e){s.set(this,void 0);r(this,s,e,"f")}}t.GreedyTxEvaluator=GreedyTxEvaluator;s=new WeakMap},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/OutputBuilder.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i,o,n,d;Object.defineProperty(t,"__esModule",{value:true});t.TxOutputBuilder=void 0;const c=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const l=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/types.js");const isViableTxOut=e=>{var t;return!!(((null==e?void 0:e.address)||(null==e?void 0:e.handle))&&(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.coins))};const toOutputValidationError=(e,t)=>{if(t.negativeAssetQty){return new l.OutputValidationNegativeAssetQtyError(e,t)}if(t.coinMissing){return new l.OutputValidationMinimumCoinError(e,t)}if(t.tokenBundleSizeExceedsLimit){return new l.OutputValidationTokenBundleSizeError(e,t)}};class TxOutputBuilder{toTxOut(){if(!isViableTxOut(s(this,i,"f"))){throw new l.OutputValidationMissingRequiredError(s(this,i,"f"))}s(this,n,"f").debug("toTxOut result:",s(this,i,"f"));return{...s(this,i,"f")}}async inspect(){return s(this,i,"f")}value(e){a(this,i,{...s(this,i,"f"),value:{...e}},"f");return this}coin(e){var t;a(this,i,{...s(this,i,"f"),value:{...null===(t=s(this,i,"f"))||void 0===t?void 0:t.value,coins:e}},"f");return this}assets(e){var t;a(this,i,{...s(this,i,"f"),value:{...null===(t=s(this,i,"f"))||void 0===t?void 0:t.value,assets:e}},"f");return this}asset(e,t){var r,a;const o=new Map(null===(r=s(this,i,"f"))||void 0===r?void 0:null===(a=r.value)||void 0===a?void 0:a.assets);0n===t?o.delete(e):o.set(e,t);return this.assets(o)}address(e){a(this,i,{...s(this,i,"f"),address:e},"f");return this}datum(e){c.Serialization.isDatumHash(e)?a(this,i,{...s(this,i,"f"),datumHash:e},"f"):a(this,i,{...s(this,i,"f"),datum:e},"f");return this}scriptReference(e){if(!c.Cardano.isPlutusScript(e))throw new Error("Only plutus scripts can be added as reference scripts.");a(this,i,{...s(this,i,"f"),scriptReference:e},"f");return this}handle(e){if(!s(this,d,"f")){throw new l.InvalidConfigurationError(l.TxOutputFailure.MissingHandleProviderError)}a(this,i,{...s(this,i,"f"),handle:e},"f");return this}async build(){const e=this.toTxOut();if(s(this,i,"f").handle&&s(this,d,"f")){const t=await s(this,d,"f").resolveHandles({handles:[s(this,i,"f").handle]});if(null!==t[0]){e.handleResolution=t[0];e.address=t[0].cardanoAddress}else{throw new l.HandleNotFoundError(s(this,i,"f"))}}const r=toOutputValidationError(e,await s(this,o,"f").validateOutput(e));if(r){throw r}return e}constructor({outputValidator:e,txOut:t,logger:r,handleProvider:s}){i.set(this,void 0);o.set(this,void 0);n.set(this,void 0);d.set(this,null);a(this,i,{...t},"f");a(this,o,e,"f");a(this,n,r,"f");if(s)a(this,d,s,"f")}}t.TxOutputBuilder=TxOutputBuilder;i=new WeakMap,o=new WeakMap,n=new WeakMap,d=new WeakMap},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/TxBuilder.js":function(e,t,r){"use strict";var a=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var s=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var o,n,d,c,l,u,f,h,p,m,_,v,y,w,g,b,P,C,S,T,E,k,A,I,j,x,R,B,O,D,M,F;Object.defineProperty(t,"__esModule",{value:true});t.GenericTxBuilder=void 0;const N=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const H=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const G=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/types.js");const V=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/GreedyTxEvaluator.js");const K=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/index.js");const L=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/OutputBuilder.js");const z=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/utils.js");const U=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");const W=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/output-validation/index.js");const $=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/ensureNoDeRegistrationsWithRewardsLocked.js");const q=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/initializeTx.js");const Y=r("../../node_modules/rxjs/dist/esm5/index.js");const Q=r("../../node_modules/@cardano-sdk/util-rxjs/dist/cjs/index.js");const X=i(r("../../node_modules/lodash/omit.js"));const J=i(r("../../node_modules/lodash/uniq.js"));const Z="0".repeat(64);class LazyTxSigner{async inspect(){const{tx:e,ctx:{signingContext:{knownAddresses:t,handleResolutions:r},auxiliaryData:a,witness:i},inputSelection:n}=await s(this,o,"m",l).call(this);return{...e,auxiliaryData:a,handleResolutions:r,inputSelection:n,ownAddresses:t,witness:i}}async sign(){return s(this,d,"f").sign(await s(this,o,"m",l).call(this))}constructor({builder:e,signer:t}){o.add(this);n.set(this,void 0);d.set(this,void 0);c.set(this,void 0);a(this,c,e,"f");a(this,d,t,"f")}}n=new WeakMap,d=new WeakMap,c=new WeakMap,o=new WeakSet,l=async function _LazyTxSigner_build(){return a(this,n,s(this,n,"f")||await s(this,c,"f").build(),"f")};class GenericTxBuilder{async inspect(){return{auxiliaryData:this.partialAuxiliaryData,body:this.partialTxBody,extraSigners:this.partialExtraSigners,signingOptions:this.partialSigningOptions}}addReferenceInput(e){if(Array.isArray(e)){const t=`${e[0].txId}#${e[0].index}`;s(this,b,"f").set(t,e);return this}if(!s(this,A,"f").some(t=>t.txId===e.txId&&t.index===e.index))s(this,A,"f").push(e);return this}addInput(e,t){if(t){s(this,u,"m",F).call(this,e,t);return this}if(Array.isArray(e)){const r=`${e[0].txId}#${e[0].index}`;s(this,g,"f").set(r,e);return this}if(!s(this,k,"f").some(t=>t.txId===e.txId&&t.index===e.index))s(this,k,"f").push(e);return this}addDatum(e){const t=H.Serialization.PlutusData.fromCore(e).hash();s(this,S,"f").set(t,e);return this}addOutput(e){if(e.handleResolution)a(this,y,[...s(this,y,"f"),e.handleResolution],"f");const t=(0,X.default)(e,["handle","handleResolution"]);this.partialTxBody={...this.partialTxBody,outputs:[...this.partialTxBody.outputs||[],t]};return this}removeOutput(e){var t;a(this,y,s(this,y,"f").filter(t=>t.handle!==e.handle),"f");this.partialTxBody={...this.partialTxBody,outputs:null===(t=this.partialTxBody.outputs)||void 0===t?void 0:t.filter(t=>!(0,U.deepEquals)(t,e))};return this}buildOutput(e){return new L.TxOutputBuilder({handleProvider:s(this,v,"f"),logger:(0,U.contextLogger)(s(this,_,"f"),"outputBuilder"),outputValidator:s(this,h,"f"),txOut:e})}delegateFirstStakeCredential(e){a(this,w,e,"f");return this}delegatePortfolio(e){if(!s(this,f,"f").bip32Account)throw new Error("BIP32 account is required to delegate portfolio.");if((null==e?void 0:e.pools.length)===0){throw new Error("Portfolio should define at least one delegation pool.")}var t;a(this,p,(null!==(t=null==e?void 0:e.pools)&&void 0!==t?t:[]).map(e=>({...e,id:H.Cardano.PoolId.fromKeyHash(e.id)})),"f");if(e){var r;if(null===(r=this.partialAuxiliaryData)||void 0===r?void 0:r.blob)this.partialAuxiliaryData.blob.set(H.Cardano.DelegationMetadataLabel,H.metadatum.jsonToMetadatum(H.Cardano.portfolioMetadataFromCip17(e)));else this.partialAuxiliaryData={...this.partialAuxiliaryData,blob:new Map([[H.Cardano.DelegationMetadataLabel,H.metadatum.jsonToMetadatum(H.Cardano.portfolioMetadataFromCip17(e))]])}}return this}metadata(e){this.partialAuxiliaryData={...this.partialAuxiliaryData,blob:new Map(e)};return this}extraSigners(e){this.partialExtraSigners=[...e];return this}signingOptions(e){this.partialSigningOptions={...e};return this}customize(e){a(this,j,e,"f");return this}build(){return new LazyTxSigner({builder:{build:async()=>{s(this,_,"f").debug("Building");try{const e=s(this,f,"f").bip32Account?await s(this,u,"m",O).call(this):await s(this,u,"m",B).call(this);await s(this,u,"m",x).call(this);(0,z.validateValidityInterval)(await s(this,f,"f").txBuilderProviders.tip(),this.partialTxBody.validityInterval);const t=await s(this,f,"f").txBuilderProviders.addresses.get();const r=(await s(this,f,"f").txBuilderProviders.rewardAccounts()).filter(e=>e.credentialStatus===H.Cardano.StakeCredentialStatus.Registered||e.credentialStatus===H.Cardano.StakeCredentialStatus.Registering);const a=this.partialAuxiliaryData&&{...this.partialAuxiliaryData};const i=this.partialExtraSigners&&[...this.partialExtraSigners];const o=this.partialSigningOptions&&{...this.partialSigningOptions,extraSigners:i};if(this.partialAuxiliaryData)this.partialTxBody.auxiliaryDataHash=H.Cardano.computeAuxiliaryDataHash(this.partialAuxiliaryData);const n={...s(this,f,"f")};const d=void 0!==s(this,p,"f")||void 0!==s(this,w,"f");let c=false;if(s(this,f,"f").bip32Account&&d&&(e.size>1||r.length>1&&e.size<=1)){if(0===e.size){const l=await s(this,f,"f").bip32Account.deriveAddress({index:0,type:N.AddressType.External},0);e.set(l.rewardAccount,1)}n.inputSelector=(0,z.createGreedyInputSelector)(e,t);c=true}await Promise.all(s(this,k,"f").map(e=>s(this,u,"m",M).call(this,e,s(this,g,"f"))));await Promise.all(s(this,A,"f").map(e=>s(this,u,"m",M).call(this,e,s(this,b,"f"))));await Promise.all(s(this,I,"f").map(e=>s(this,u,"m",D).call(this,e)));const h=await (0,z.buildWitness)(s(this,P,"f"),s(this,C,"f"),s(this,S,"f"),s(this,T,"f"),s(this,E,"f"),s(this,f,"f").txBuilderProviders);const v=[...s(this,P,"f").values()].some(e=>H.Cardano.isPlutusScript(e));const{collaterals:R,collateralReturn:F}=v?await (0,z.computeCollateral)(s(this,f,"f").txBuilderProviders):{collateralReturn:void 0,collaterals:void 0};const G=new Set;for(const V of s(this,P,"f").values())if(H.Cardano.isPlutusScript(V))G.add(V.version);const L={auxiliaryData:a,certificates:this.partialTxBody.certificates,collateralReturn:F,collaterals:R,customizeCb:s(this,j,"f"),handleResolutions:s(this,y,"f"),inputs:new Set(s(this,g,"f").values()),options:{validityInterval:this.partialTxBody.validityInterval},outputs:new Set(this.partialTxBody.outputs||[]),proposalProcedures:this.partialTxBody.proposalProcedures,redeemersByType:s(this,E,"f"),referenceInputs:new Set([...s(this,b,"f").values()].map(e=>e[0])),scriptIntegrityHash:v?Z:void 0,scriptVersions:G,signingOptions:o,txEvaluator:s(this,m,"f"),witness:h};let U;try{U=await (0,q.initializeTx)(L,n)}catch(W){if(c||!(W instanceof K.InputSelectionError)||W.failure===K.InputSelectionFailure.UtxoBalanceInsufficient){throw W}n.inputSelector=new K.LargeFirstSelector({changeAddressResolver:new K.StaticChangeAddressResolver(async()=>t)});s(this,_,"f").warn(`Building attempt failed with ${W.failure}, retrying with large first selector`);U=await (0,q.initializeTx)(L,n)}const{body:$,hash:Y,inputSelection:Q,redeemers:X}=U;h.redeemers=X;return{ctx:{auxiliaryData:a,ownAddresses:t,signingContext:{handleResolutions:s(this,y,"f"),knownAddresses:t,txInKeyPathMap:await N.util.createTxInKeyPathMap($,t,s(this,f,"f").inputResolver)},signingOptions:{...o,extraSigners:i},witness:h},inputSelection:Q,tx:{body:$,hash:Y}}}catch(J){s(this,_,"f").debug("Transaction build error",J);if(Array.isArray(J))throw J[0];throw J}}},signer:{sign:({tx:e,ctx:t})=>{var r;const a=new H.Serialization.Transaction(H.Serialization.TransactionBody.fromCore(e.body),H.Serialization.TransactionWitnessSet.fromCore(null!==(r=t.witness)&&void 0!==r?r:{signatures:new Map}),t.auxiliaryData?H.Serialization.AuxiliaryData.fromCore(t.auxiliaryData):void 0);if(void 0!==t.isValid)a.setIsValid(t.isValid);const i={...t.signingOptions,stubSign:false};const o=t.signingContext;return s(this,f,"f").witnesser.witness(a,o,i)}}})}setValidityInterval(e){this.partialTxBody={...this.partialTxBody,validityInterval:e};return this}constructor(e){u.add(this);this.partialTxBody={};f.set(this,void 0);h.set(this,void 0);p.set(this,void 0);m.set(this,void 0);_.set(this,void 0);v.set(this,void 0);y.set(this,void 0);w.set(this,void 0);g.set(this,new Map);b.set(this,new Map);P.set(this,new Map);C.set(this,new Set);S.set(this,new Map);T.set(this,new Set);E.set(this,{certificate:new Array,mint:new Array,propose:new Array,spend:new Map,vote:new Array,withdrawal:new Array});k.set(this,new Array);A.set(this,new Array);I.set(this,new Array);j.set(this,void 0);a(this,h,e.outputValidator||(0,W.createOutputValidator)({protocolParameters:e.txBuilderProviders.protocolParameters}),"f");a(this,f,e,"f");a(this,_,e.logger,"f");a(this,v,e.handleProvider,"f");a(this,y,[],"f");var t;a(this,m,null!==(t=e.txEvaluator)&&void 0!==t?t:new V.GreedyTxEvaluator(e.txBuilderProviders.protocolParameters),"f")}}t.GenericTxBuilder=GenericTxBuilder;f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,_=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,b=new WeakMap,P=new WeakMap,C=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,j=new WeakMap,u=new WeakSet,x=async function _GenericTxBuilder_validateOutputs(){if(this.partialTxBody.outputs){var e;const t=[];await Promise.all(null===(e=this.partialTxBody.outputs)||void 0===e?void 0:e.map(e=>this.buildOutput(e).build().catch(e=>t.push(e))));if(t.length>0){throw t}}},R=async function _GenericTxBuilder_getOrCreateRewardAccounts(e){let t=[];if(s(this,p,"f")){const r=await s(this,f,"f").txBuilderProviders.addresses.get();const{newAddresses:a}=await N.util.ensureStakeKeys({bip32Account:e,count:s(this,p,"f").length,knownAddresses:r,logger:(0,U.contextLogger)(s(this,_,"f"),"getOrCreateRewardAccounts")});await s(this,f,"f").txBuilderProviders.addresses.add(...a);t=(0,J.default)([...r,...a]).map(({rewardAccount:e})=>e)}const i=(0,Q.poll)({logger:(0,U.contextLogger)(s(this,_,"f"),"getOrCreateRewardAccounts"),pollUntil:e=>t.every(t=>e.some(e=>e.address===t)),retryBackoffConfig:{initialInterval:10,maxInterval:100,maxRetries:10},sample:s(this,f,"f").txBuilderProviders.rewardAccounts});try{return await (0,Y.lastValueFrom)(i)}catch{throw new G.OutOfSyncRewardAccounts(t)}},B=async function _GenericTxBuilder_delegateFirstStakeCredential(){var e;const t=new Map;if(void 0===s(this,w,"f")){return Promise.resolve(t)}const r=await s(this,f,"f").txBuilderProviders.rewardAccounts();if(!(null==r?void 0:r.length)){throw new Error("Could not find any rewardAccount.")}const a=r[0];this.partialTxBody={...this.partialTxBody,certificates:[]};const i=null===(e=H.Cardano.Address.fromBech32(a.address).asReward())||void 0===e?void 0:e.getPaymentCredential();if(!i){throw new Error(`Invalid credential ${i}.`)}if(null===s(this,w,"f"))if(a.credentialStatus===H.Cardano.StakeCredentialStatus.Unregistered)s(this,_,"f").warn("Stake key not registered.",a.address,a.credentialStatus);else this.partialTxBody.certificates.push({__typename:H.Cardano.CertificateType.StakeDeregistration,stakeCredential:i});else{if(a.credentialStatus!==H.Cardano.StakeCredentialStatus.Unregistered)s(this,_,"f").debug("Stake key already registered",a.address,a.credentialStatus);else this.partialTxBody.certificates.push({__typename:H.Cardano.CertificateType.StakeRegistration,stakeCredential:i});t.set(a.address,1);this.partialTxBody.certificates.push({__typename:H.Cardano.CertificateType.StakeDelegation,poolId:s(this,w,"f"),stakeCredential:i})}return t},O=async function _GenericTxBuilder_delegatePortfolio(){const e=new Map;if(!s(this,p,"f")){return e}if(!s(this,f,"f").bip32Account)throw new Error("BIP32 account is required to delegate portfolio.");const t=await s(this,u,"m",R).call(this,s(this,f,"f").bip32Account);const r=s(this,p,"f").filter(e=>{return t.every(t=>{var r,a;return(null===(r=t.delegatee)||void 0===r?void 0:null===(a=r.nextNextEpoch)||void 0===a?void 0:a.id)!==e.id})}).reverse();s(this,_,"f").debug("New poolIds requested in portfolio:",r.map(({id:e})=>e));for(const a of t.filter(e=>{var t,r;return e.credentialStatus===H.Cardano.StakeCredentialStatus.Registered&&(null===(t=e.delegatee)||void 0===t?void 0:t.nextNextEpoch)&&(null===(r=s(this,p,"f"))||void 0===r?void 0:r.some(({id:t})=>{var r,a;return t===(null===(r=e.delegatee)||void 0===r?void 0:null===(a=r.nextNextEpoch)||void 0===a?void 0:a.id)}))}))e.set(a.address,s(this,p,"f").find(({id:e})=>{var t,r;return e===(null===(t=a.delegatee)||void 0===t?void 0:null===(r=t.nextNextEpoch)||void 0===r?void 0:r.id)}).weight);const i=t.filter(e=>{var t,r;return e.credentialStatus===H.Cardano.StakeCredentialStatus.Unregistered||!(null===(t=e.delegatee)||void 0===t?void 0:t.nextNextEpoch)||(null===(r=s(this,p,"f"))||void 0===r?void 0:r.every(({id:t})=>{var r,a;return t!==(null===(r=e.delegatee)||void 0===r?void 0:null===(a=r.nextNextEpoch)||void 0===a?void 0:a.id)}))}).sort(z.sortRewardAccountsDelegatedFirst).reverse();if(r.length>i.length){throw new G.InsufficientRewardAccounts(r.map(({id:e})=>e),i.map(({address:e})=>e))}const o=[];while(r.length>0&&i.length>0){const{id:n,weight:d}=r.pop();const c=i.pop();s(this,_,"f").debug(`Building delegation certificate for ${n} ${c}`);if(c.credentialStatus!==H.Cardano.StakeCredentialStatus.Registered&&c.credentialStatus!==H.Cardano.StakeCredentialStatus.Registering)o.push(H.Cardano.createStakeRegistrationCert(c.address));o.push(H.Cardano.createDelegationCert(c.address,n));e.set(c.address,d)}(0,$.ensureNoDeRegistrationsWithRewardsLocked)(i);s(this,_,"f").debug(`De-registering ${i.length} stake keys`);for(const l of i)if(l.credentialStatus===H.Cardano.StakeCredentialStatus.Registered)o.push(H.Cardano.createStakeDeregistrationCert(l.address,H.inConwayEra?l.deposit:void 0));this.partialTxBody={...this.partialTxBody,certificates:o};return e},D=async function _GenericTxBuilder_resolveDatum(e){if(s(this,S,"f").has(e))return;if(!s(this,f,"f").datumResolver)throw new Error("Cant resolve unknown datums. Datum resolver not set.");const t=await s(this,f,"f").datumResolver.resolve(e);if(!t)throw new Error(`Could not resolve datum with datum hash ${e}`);s(this,S,"f").set(e,t)},M=async function _GenericTxBuilder_resolveInput(e,t){const r=`${e.txId}#${e.index}`;const a=await s(this,f,"f").inputResolver.resolveInput(e);if(!a)throw new Error(`Could not resolve input ${r}`);if(a.scriptReference){const i=H.Serialization.Script.fromCore(a.scriptReference).hash();s(this,P,"f").set(i,a.scriptReference);s(this,C,"f").add(i)}const o=a.datum;if(o)if(H.Serialization.isDatumHash(o)){if(!s(this,S,"f").has(o))s(this,I,"f").push(o)}else{const n=H.Serialization.PlutusData.fromCore(o).hash();s(this,S,"f").set(n,o);s(this,T,"f").add(n)}t.set(r,[{...e,address:a.address},a])},F=function _GenericTxBuilder_addScriptInput(e,t){let r;if(Array.isArray(e)){r=`${e[0].txId}#${e[0].index}`;s(this,g,"f").set(r,e);if(e[1].datum){const a=H.Serialization.PlutusData.fromCore(e[1].datum).hash();s(this,S,"f").set(a,e[1].datum);s(this,T,"f").add(a)}if(e[1].datumHash)s(this,I,"f").push(e[1].datumHash)}else{r=`${e.txId}#${e.index}`;if(!s(this,k,"f").some(t=>t.txId===e.txId&&t.index===e.index))s(this,k,"f").push(e)}if(t.script){const i=H.Serialization.Script.fromCore(t.script).hash();s(this,P,"f").set(i,t.script)}if(t.redeemer){var o;null===(o=s(this,E,"f").spend)||void 0===o?void 0:o.set(r,{data:t.redeemer,executionUnits:{memory:0,steps:0},index:0,purpose:H.Cardano.RedeemerPurpose.spend})}if(t.datum)if(H.Serialization.isDatumHash(t.datum)){if(!s(this,S,"f").has(t.datum))s(this,I,"f").push(t.datum)}else{const n=H.Serialization.PlutusData.fromCore(t.datum).hash();s(this,S,"f").set(n,t.datum)}}},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/costModels.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getDefaultCostModelsForVersions=t.buildCostModels=t.plutusV3CostModel=t.plutusV2CostModel=t.plutusV1CostModel=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");t.plutusV1CostModel={prices:[205665,812,1,1,1e3,571,0,1,1e3,24177,4,1,1e3,32,117366,10475,4,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,100,100,23e3,100,19537,32,175354,32,46417,4,221973,511,0,1,89141,32,497525,14068,4,2,196500,453240,220,0,1,1,1e3,28662,4,2,245e3,216773,62,1,1060367,12586,1,208512,421,1,187e3,1e3,52998,1,80436,32,43249,32,1e3,32,80556,1,57667,4,1e3,10,197145,156,1,197145,156,1,204924,473,1,208896,511,1,52467,32,64832,32,65493,32,22558,32,16563,32,76511,32,196500,453240,220,0,1,1,69522,11687,0,1,60091,32,196500,453240,220,0,1,1,196500,453240,220,0,1,1,806990,30482,4,1927926,82523,4,265318,0,4,0,85931,32,205665,812,1,1,41182,32,212342,32,31220,32,32696,32,43357,32,32247,32,38314,32,57996947,18975,10],version:a.Cardano.PlutusLanguageVersion.V1};t.plutusV2CostModel={prices:[205665,812,1,1,1e3,571,0,1,1e3,24177,4,1,1e3,32,117366,10475,4,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,100,100,23e3,100,19537,32,175354,32,46417,4,221973,511,0,1,89141,32,497525,14068,4,2,196500,453240,220,0,1,1,1e3,28662,4,2,245e3,216773,62,1,1060367,12586,1,208512,421,1,187e3,1e3,52998,1,80436,32,43249,32,1e3,32,80556,1,57667,4,1e3,10,197145,156,1,197145,156,1,204924,473,1,208896,511,1,52467,32,64832,32,65493,32,22558,32,16563,32,76511,32,196500,453240,220,0,1,1,69522,11687,0,1,60091,32,196500,453240,220,0,1,1,196500,453240,220,0,1,1,1159724,392670,0,2,806990,30482,4,1927926,82523,4,265318,0,4,0,85931,32,205665,812,1,1,41182,32,212342,32,31220,32,32696,32,43357,32,32247,32,38314,32,35892428,10,57996947,18975,10,38887044,32947,10],version:a.Cardano.PlutusLanguageVersion.V2};t.plutusV3CostModel={prices:[205665,812,1,1,1e3,571,0,1,1e3,24177,4,1,1e3,32,117366,10475,4,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,100,100,23e3,100,19537,32,175354,32,46417,4,221973,511,0,1,89141,32,497525,14068,4,2,196500,453240,220,0,1,1,1e3,28662,4,2,245e3,216773,62,1,1060367,12586,1,208512,421,1,187e3,1e3,52998,1,80436,32,43249,32,1e3,32,80556,1,57667,4,1e3,10,197145,156,1,197145,156,1,204924,473,1,208896,511,1,52467,32,64832,32,65493,32,22558,32,16563,32,76511,32,196500,453240,220,0,1,1,69522,11687,0,1,60091,32,196500,453240,220,0,1,1,196500,453240,220,0,1,1,1159724,392670,0,2,806990,30482,4,1927926,82523,4,265318,0,4,0,85931,32,205665,812,1,1,41182,32,212342,32,31220,32,32696,32,43357,32,32247,32,38314,32,35190005,10,57996947,18975,10,39121781,32260,10,100,23e3,100,832808,18,3209094,6,331451,1,65990684,23097,18,114242,18,94393407,87060,18,16420089,18,2145798,36,3795345,12,889023,1,204237282,23271,36,129165,36,189977790,85902,36,33012864,36,388443360,1,401885761,72,2331379,72,1927926,82523,4,117366,10475,4,1292075,24469,74,0,1,936157,49601,237,0,1],version:a.Cardano.PlutusLanguageVersion.V3};const buildCostModels=e=>{const t=new a.Serialization.Costmdls;for(const r of e){const s=new a.Serialization.CostModel(r.version,r.prices);t.insert(s)}return t.toCore()};t.buildCostModels=buildCostModels;const getDefaultCostModelsForVersions=e=>{const r=[...new Set(e)];const s=r.map(e=>{switch(e){case a.Cardano.PlutusLanguageVersion.V1:return t.plutusV1CostModel;case a.Cardano.PlutusLanguageVersion.V2:return t.plutusV2CostModel;case a.Cardano.PlutusLanguageVersion.V3:return t.plutusV3CostModel;default:throw new Error("Invalid plutus language")}});return(0,t.buildCostModels)(s)};t.getDefaultCostModelsForVersions=getDefaultCostModelsForVersions},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/ensureNoDeRegistrationsWithRewardsLocked.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ensureNoDeRegistrationsWithRewardsLocked=void 0;const a=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/types.js");const s=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/hasCorrectVoteDelegation.js");const ensureNoDeRegistrationsWithRewardsLocked=e=>{const t=e.filter(e=>e.rewardBalance>0n&&!(0,s.hasCorrectVoteDelegation)(e));if(t.length>0){throw new a.DeRegistrationsWithRewardsLocked(t)}};t.ensureNoDeRegistrationsWithRewardsLocked=ensureNoDeRegistrationsWithRewardsLocked},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/hasCorrectVoteDelegation.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.hasCorrectVoteDelegation=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const hasCorrectVoteDelegation=({dRepDelegatee:e})=>{const t=null==e?void 0:e.delegateRepresentative;return!!t&&(!a.Cardano.isDrepInfo(t)||t.active)};t.hasCorrectVoteDelegation=hasCorrectVoteDelegation},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__exportStar||function(e,t){for(var r in e)if("default"!==r&&!Object.prototype.hasOwnProperty.call(t,r))a(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/OutputBuilder.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/initializeTx.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/types.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/TxBuilder.js"),t);s(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/GreedyTxEvaluator.js"),t)},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/initializeTx.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initializeTx=void 0;const a=r("../../node_modules/@cardano-sdk/key-management/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/crypto/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/GreedyTxEvaluator.js");const n=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/index.js");const d=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/index.js");const c=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/createTransactionInternals.js");const l=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/ensureValidityInterval.js");const u=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/hasCorrectVoteDelegation.js");const dRepPublicKeyHash=async e=>e&&i.Ed25519PublicKey.fromHex(await e.derivePublicKey(a.util.DREP_KEY_DERIVATION_PATH)).hash().hex();const f=10;const getWithdrawals=(e,t)=>e.filter(e=>(!(t.major>=f)||(0,u.hasCorrectVoteDelegation)(e))&&!!e.rewardBalance).map(({rewardBalance:e,address:t})=>({quantity:e,stakeAddress:t}));const initializeTx=async(e,{txBuilderProviders:t,inputSelector:r,inputResolver:i,bip32Account:u,witnesser:f,logger:h})=>{var p;const[m,_,v,y,w,g]=await Promise.all([t.tip(),t.genesisParameters(),t.protocolParameters(),t.rewardAccounts(),t.utxoAvailable(),t.addresses.get()]);var b;const P=null!==(b=e.txEvaluator)&&void 0!==b?b:new o.GreedyTxEvaluator(()=>t.protocolParameters());r=null!=r?r:(0,d.roundRobinRandomImprove)({changeAddressResolver:new d.StaticChangeAddressResolver(async()=>g)});const{txBody:C,auxiliaryData:S}=(0,c.createPreInputSelectionTxBody)({auxiliaryData:e.auxiliaryData,certificates:e.certificates,collateralReturn:e.collateralReturn,collaterals:e.collaterals,mint:e.mint,outputs:[...e.outputs||[]],referenceInputs:e.referenceInputs,requiredExtraSignatures:e.requiredExtraSignatures,scriptIntegrityHash:e.scriptIntegrityHash,validityInterval:(0,l.ensureValidityInterval)(m.slot,_,null===(p=e.options)||void 0===p?void 0:p.validityInterval),withdrawals:getWithdrawals(y,v.protocolVersion)});const T=e.customizeCb?e.customizeCb({txBody:C}):C;var E;const k=(0,n.defaultSelectionConstraints)({buildTx:async t=>{var r;h.debug("Building TX for selection constraints",t);if(null===(r=T.withdrawals)||void 0===r?void 0:r.length)h.debug("Adding rewards withdrawal in the transaction",T.withdrawals);const o=(0,c.includeChangeAndInputs)({bodyPreInputSelection:T,inputSelection:t,scriptVersions:e.scriptVersions,witness:e.witness});const n=await dRepPublicKeyHash(u);const d=new s.Serialization.Transaction(s.Serialization.TransactionBody.fromCore(o.body),s.Serialization.TransactionWitnessSet.fromCore(e.witness?e.witness:{signatures:new Map}),S?s.Serialization.AuxiliaryData.fromCore(S):void 0);var l;const p={...n&&{dRepKeyHashHex:n},handleResolutions:null!==(l=e.handleResolutions)&&void 0!==l?l:[],knownAddresses:g,txInKeyPathMap:await a.util.createTxInKeyPathMap(o.body,g,i)};const m={...e.signingOptions,stubSign:true};const{tx:_}=await f.witness(d,p,m);return _},protocolParameters:v,redeemersByType:null!==(E=e.redeemersByType)&&void 0!==E?E:{},txEvaluator:P});const A=s.Cardano.util.computeImplicitCoin(v,{certificates:T.certificates,proposalProcedures:T.proposalProcedures,withdrawals:T.withdrawals});const{selection:I,redeemers:j}=await r.select({constraints:k,implicitValue:{coin:A,mint:T.mint},outputs:new Set(T.outputs),preSelectedUtxo:e.inputs||new Set,utxo:new Set(w)});const x={...e.witness,redeemers:j};const{body:R,hash:B}=(0,c.includeChangeAndInputs)({bodyPreInputSelection:T,inputSelection:I,scriptVersions:e.scriptVersions,witness:x});return{body:R,hash:B,inputSelection:I,redeemers:j}};t.initializeTx=initializeTx},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/types.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InvalidHereafterError=t.OutputValidationNegativeAssetQtyError=t.OutputValidationTokenBundleSizeError=t.OutputValidationMinimumCoinError=t.OutputValidationMissingRequiredError=t.OutOfSyncRewardAccounts=t.DeRegistrationsWithRewardsLocked=t.InsufficientRewardAccounts=t.HandleNotFoundError=t.InvalidConfigurationError=t.TxValidityIntervalFailure=t.TxOutputFailure=void 0;const a=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const s=r("../../node_modules/@cardano-sdk/tx-construction/node_modules/ts-custom-error/dist/custom-error.mjs");var i;(function(e){e["MinimumCoin"]="Minimum coin not met";e["TokenBundleSizeExceedsLimit"]="Token Bundle Exceeds Limit";e["MissingRequiredFields"]="Mandatory fields address or coin are missing";e["MissingHandleProviderError"]="Missing 'HandleProvider'";e["HandleNotFound"]="Handle not found";e["NegativeAssetQty"]="Negative or zero asset quantity"})(i=t.TxOutputFailure||(t.TxOutputFailure={}));var o;(function(e){e["Expired"]="Transaction expired"})(o=t.TxValidityIntervalFailure||(t.TxValidityIntervalFailure={}));class InvalidConfigurationError extends s.CustomError{constructor(e){super(e);this.message=e}}t.InvalidConfigurationError=InvalidConfigurationError;class HandleNotFoundError extends s.CustomError{constructor(e){super(i.HandleNotFound);this.txOut=e}}t.HandleNotFoundError=HandleNotFoundError;class InsufficientRewardAccounts extends s.CustomError{constructor(e,t){const r=`Internal error: insufficient stake keys: ${t.length}. Required: ${e.length}.
    Pool ids: ${e.join(",")}; Reward accounts: ${t.length}`;super(r)}}t.InsufficientRewardAccounts=InsufficientRewardAccounts;class DeRegistrationsWithRewardsLocked extends s.CustomError{constructor(e){super("Tried to de-register reward accounts that have not delegated vote but have rewards");this.keysWithLockedRewards=e.map(({address:e})=>{var t;return{cbor:null===(t=a.Cardano.Address.fromString(e))||void 0===t?void 0:t.toBytes(),key:e}})}}t.DeRegistrationsWithRewardsLocked=DeRegistrationsWithRewardsLocked;class OutOfSyncRewardAccounts extends s.CustomError{constructor(e){const t=`Timeout while waiting for reward accounts provider to contain new reward accounts: ${e}`;super(t)}}t.OutOfSyncRewardAccounts=OutOfSyncRewardAccounts;class OutputValidationMissingRequiredError extends s.CustomError{constructor(e){super(i.MissingRequiredFields);this.txOut=e}}t.OutputValidationMissingRequiredError=OutputValidationMissingRequiredError;class OutputValidationMinimumCoinError extends s.CustomError{constructor(e,t){super(i.MinimumCoin);this.txOut=e;this.outputValidation=t}}t.OutputValidationMinimumCoinError=OutputValidationMinimumCoinError;class OutputValidationTokenBundleSizeError extends s.CustomError{constructor(e,t){super(i.TokenBundleSizeExceedsLimit);this.txOut=e;this.outputValidation=t}}t.OutputValidationTokenBundleSizeError=OutputValidationTokenBundleSizeError;class OutputValidationNegativeAssetQtyError extends s.CustomError{constructor(e,t){super(i.NegativeAssetQty);this.txOut=e;this.outputValidation=t}}t.OutputValidationNegativeAssetQtyError=OutputValidationNegativeAssetQtyError;class InvalidHereafterError extends s.CustomError{constructor(){super(o.Expired)}}t.InvalidHereafterError=InvalidHereafterError},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/utils.js":function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.computeCollateral=t.buildWitness=t.validateValidityInterval=t.buildRedeemers=t.sortRewardAccountsDelegatedFirst=t.createGreedyInputSelector=void 0;const s=r("../../node_modules/@cardano-sdk/core/dist/cjs/index.js");const i=r("../../node_modules/@cardano-sdk/input-selection/dist/cjs/index.js");const o=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-builder/types.js");const n=r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/input-selection/index.js");const d=a(r("../../node_modules/lodash/minBy.js"));const c=5000000n;const sortByCoins=(e,t)=>{if(e[1].value.coins>t[1].value.coins){return -1}if(e[1].value.coins<t[1].value.coins){return 1}return 0};const isValidValue=(e,t,r)=>{let a=e.value.coins>=t(e);if(e.value.assets)a=a&&!r(e.value.assets);return a};const createGreedyInputSelector=(e,t)=>{const r=new Map([...e].map(([e,r])=>{const a=(0,d.default)(t.filter(t=>t.rewardAccount===e),({index:e})=>e);if(!a){throw new Error(`Could not find any address associated with ${e}.`)}return[a.address,r]}));return new i.GreedyInputSelector({getChangeAddresses:()=>Promise.resolve(r)})};t.createGreedyInputSelector=createGreedyInputSelector;const sortRewardAccountsDelegatedFirst=(e,t)=>{const getScore=e=>{let t=2;if(e.credentialStatus===s.Cardano.StakeCredentialStatus.Registered){var r;t=1;if(null===(r=e.delegatee)||void 0===r?void 0:r.nextNextEpoch)t=0}return t};return getScore(e)-getScore(t)};t.sortRewardAccountsDelegatedFirst=sortRewardAccountsDelegatedFirst;const buildRedeemers=(e,t)=>{const r=[];var a,s,i,o,n;const d=[...null!==(a=e.mint)&&void 0!==a?a:[],...null!==(s=e.vote)&&void 0!==s?s:[],...null!==(i=e.propose)&&void 0!==i?i:[],...null!==(o=e.certificate)&&void 0!==o?o:[],...null!==(n=e.withdrawal)&&void 0!==n?n:[],...e.spend?[...e.spend.values()]:[]];for(const c of d){const l=Number.MAX_SAFE_INTEGER;r.push({data:c.data,executionUnits:0===c.executionUnits.memory&&0===c.executionUnits.steps?t:c.executionUnits,index:l,purpose:c.purpose})}return r};t.buildRedeemers=buildRedeemers;const validateValidityInterval=(e,t)=>{if(!(null==t?void 0:t.invalidHereafter)){return}if(e.slot>=t.invalidHereafter){throw new o.InvalidHereafterError}};t.validateValidityInterval=validateValidityInterval;const buildWitness=async(e,r,a,s,i,o)=>{const n={signatures:new Map};if(a){n.datums=[];for(const[d,c]of a)if(!s.has(d))n.datums.push(c)}if(e){n.scripts=[];for(const[l,u]of e)if(!r.has(l))n.scripts.push(u)}const{maxExecutionUnitsPerTransaction:f}=await o.protocolParameters();if(i)n.redeemers=(0,t.buildRedeemers)(i,f);return n};t.buildWitness=buildWitness;const computeCollateral=async e=>{const t=(await e.utxoAvailable()).sort(sortByCoins);const r=[];const{coinsPerUtxoByte:a,maxValueSize:i}=await e.protocolParameters();let o=0n;for(const d of t){r.push(d);o+=d[1].value.coins;if(o>c){const l=r[0][1].address;const u=r.map(e=>e[1].value);const f=(0,s.coalesceValueQuantities)(u);const h={...f};h.coins-=c;const p={address:l,value:h};if(isValidValue(p,(0,n.computeMinimumCoinQuantity)(a),(0,n.tokenBundleSizeExceedsLimit)(i))){return{collateralReturn:p,collaterals:new Set(r.map(e=>e[0]))}}}}throw new Error("No suitable collateral found")};t.computeCollateral=computeCollateral},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-metadata/cip20.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toTxMetadata=t.validateMessage=t.MessageValidationError=t.MessageValidationFailure=t.METADATUM_LABEL=void 0;const a=r("../../node_modules/@cardano-sdk/tx-construction/node_modules/ts-custom-error/dist/custom-error.mjs");const s=r("../../node_modules/@cardano-sdk/util/dist/cjs/index.js");t.METADATUM_LABEL=674n;const i=64;var o;(function(e){e["wrongType"]="WrongType";e["oversize"]="Oversize"})(o=t.MessageValidationFailure||(t.MessageValidationFailure={}));class MessageValidationError extends a.CustomError{constructor(e){const t=[e.entries()].map(([[e,t]])=>`${t.failure}: ${e.slice(0,Math.max(0,i+1))}`);super(`The provided message array contains validation errors | ${t}`)}}t.MessageValidationError=MessageValidationError;const validateMessage=e=>{if("string"!=typeof e)return{failure:o.wrongType,valid:false};if(s.StringUtils.byteSize(e)>i)return{failure:o.oversize,valid:false};return{valid:true}};t.validateMessage=validateMessage;const toTxMetadata=e=>{const r="string"==typeof e?s.StringUtils.chunkByBytes(e,i):e.messages;const a=new Map;for(const o of r){const n=(0,t.validateMessage)(o);if(!n.valid)a.set(o,n)}if(a.size>0)throw new MessageValidationError(a);return new Map([[t.METADATUM_LABEL,new Map([["msg",r]])]])};t.toTxMetadata=toTxMetadata},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-metadata/index.js":function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){if(void 0===a)a=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable))s={enumerable:true,get:function(){return t[r]}};Object.defineProperty(e,a,s)}:function(e,t,r,a){if(void 0===a)a=r;e[a]=t[r]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r))a(t,e,r)}s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.CIP20=void 0;t.CIP20=i(r("../../node_modules/@cardano-sdk/tx-construction/dist/cjs/tx-metadata/cip20.js"))},"../../node_modules/@cardano-sdk/tx-construction/dist/cjs/types.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/input-selection/selectionConstraints.js":(e,t,r)=>{"use strict";r.d(t,{computeMinimumCoinQuantity:()=>computeMinimumCoinQuantity,defaultSelectionConstraints:()=>defaultSelectionConstraints,tokenBundleSizeExceedsLimit:()=>tokenBundleSizeExceedsLimit});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var s=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/Value.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/errors.js");var n=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/util.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionOutput.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/Script.js");var u=r("../../node_modules/buffer/index.js")["Buffer"];const f=160;const serializeBigInt=e=>{const t=new d.CborWriter;t.writeInt(BigInt(e));return t.encode()};const serializeTxOutputSize=e=>c.TransactionOutput.fromCore(e).toCbor().length/2;const serializeTx=e=>u.from(i.Transaction.fromCore(e).toCbor(),"hex");const getTotalExUnits=e=>{const t={memory:0,steps:0};for(const r of e){t.memory+=r.executionUnits.memory;t.steps+=r.executionUnits.steps}return t};const minRefScriptFee=(e,t,r)=>{if(0===r)return BigInt(0);let a=r;const s=25600;const i=1.2;let o=0;var n;const d=[...e.body.inputs,...null!==(n=e.body.referenceInputs)&&void 0!==n?n:[]];for(const c of d){const u=t.find(e=>e[0].txId===c.txId&&e[0].index===c.index);if(u&&u[1].scriptReference)o+=l.Script.fromCore(u[1].scriptReference).toCbor().length/2}let f=0;while(o>0){f+=Math.ceil(Math.min(s,o)*a);o=Math.max(o-s,0);a*=i}return BigInt(f)};const minScriptFee=(e,t,r,a)=>{const s=minRefScriptFee(e,r,a);if(!e.witness.redeemers)return BigInt(s);const i=getTotalExUnits(e.witness.redeemers);return BigInt(Math.ceil(i.steps*t.steps+i.memory*t.memory))+s};const minNoScriptFee=(e,t,r)=>{const a=serializeTx(e).length;return BigInt(Math.ceil(a*r+t))};const minAdaRequired=(e,t)=>{const r=serializeBigInt(e.value.coins.toString()).length;let a=r;let s=false;while(!s){const i=a-r;const o=BigInt(serializeTxOutputSize(e)+f+i)*t;const n=serializeBigInt(o.toString()).length;s=a===n;a=n}const d=a-r;return BigInt(serializeTxOutputSize(e)+f+d)*t};const minFee=(e,t,r)=>minNoScriptFee(e,r.minFeeConstant,r.minFeeCoefficient)+minScriptFee(e,r.prices,t,r.minFeeRefScriptCostPerByte?Number(r.minFeeRefScriptCostPerByte):0);var h=r("../../node_modules/buffer/index.js")["Buffer"];const p=0xffffffffffffffffn;const updateRedeemers=(e,t,r)=>{const s=[];const i={[a.RedeemerPurpose.spend]:t.spend,[a.RedeemerPurpose.mint]:t.mint,[a.RedeemerPurpose.certificate]:t.certificate,[a.RedeemerPurpose.withdrawal]:t.withdrawal,[a.RedeemerPurpose.propose]:t.propose,[a.RedeemerPurpose.vote]:t.vote};for(const o of e){const n=i[o.purpose];if(!n)throw new Error(`No redeemers found for ${o.purpose} purpose`);let d;if(o.purpose===a.RedeemerPurpose.spend){const c=r[o.index];d=n.get(`${c.txId}#${c.index}`);if(!d)throw new Error(`Known Redeemer not found for tx id ${c.txId} and index ${c.index}`)}else{const l=n;d=l.find(e=>e.index===o.index);if(!d)throw new Error(`Known Redeemer not found for index ${o.index}`)}s.push({...d,executionUnits:o.budget})}return s};const reorgRedeemers=(e,t,r)=>{let s=[];if(t.redeemers){s=t.redeemers.filter(e=>e.purpose!==a.RedeemerPurpose.spend);if(e.spend){for(const[i,o]of e.spend){const n=r.findIndex(e=>i===`${e.txId}#${e.index}`);if(n<0)throw new Error(`Redeemer not found for tx id ${i}`);o.index=n;s.push({...o})}}}return s};const computeMinimumCost=(e,t,r,a)=>async s=>{const i=await t(s);const o=[...s.inputs];const d=o.map(e=>e[0]).sort(n.sortTxIn);if(i.witness&&i.witness.redeemers&&i.witness.redeemers.length>0){i.witness.redeemers=reorgRedeemers(a,i.witness,d);i.witness.redeemers=updateRedeemers(await r.evaluate(i,o),a,d)}return{fee:minFee(i,o,e),redeemers:i.witness.redeemers}};const computeMinimumCoinQuantity=e=>t=>minAdaRequired(t,BigInt(e));const tokenBundleSizeExceedsLimit=e=>t=>{if(!t){return false}const r=new s.Value(p);r.setMultiasset(t);return r.toCbor().length/2>e};const getTxSize=e=>h.from(e.toCbor(),"hex").length;const computeSelectionLimit=(e,t)=>async r=>{const a=await t(r);const s=getTxSize(i.Transaction.fromCore(a));if(s<=e){return r.inputs.size}return r.inputs.size-1};const defaultSelectionConstraints=({protocolParameters:e,buildTx:t,redeemersByType:r,txEvaluator:a})=>{if(!e.coinsPerUtxoByte||!e.maxTxSize||!e.maxValueSize||!e.minFeeCoefficient||!e.minFeeConstant||!e.prices){throw new o.InvalidProtocolParametersError("Missing one of: coinsPerUtxoByte, maxTxSize, maxValueSize, minFeeCoefficient, minFeeConstant, prices")}return{computeMinimumCoinQuantity:computeMinimumCoinQuantity(e.coinsPerUtxoByte),computeMinimumCost:computeMinimumCost(e,t,a,r),computeSelectionLimit:computeSelectionLimit(e.maxTxSize,t),tokenBundleSizeExceedsLimit:tokenBundleSizeExceedsLimit(e.maxValueSize)}}},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/output-validation/outputValidator.js":(e,t,r)=>{"use strict";r.d(t,{createOutputValidator:()=>createOutputValidator});var a=r("../../node_modules/@cardano-sdk/util/dist/esm/BigIntMath.js");var s=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/input-selection/selectionConstraints.js");const createOutputValidator=({protocolParameters:e})=>{const validateOutput=async({address:t,value:r},i)=>{const{coinsPerUtxoByte:o,maxValueSize:n}=i||await e();const d={address:t,value:r};const c=!!r.assets&&[...r.assets.values()].some(e=>e<=0);if(c){return{coinMissing:0n,minimumCoin:0n,negativeAssetQty:c,tokenBundleSizeExceedsLimit:false}}const l=BigInt((0,s.computeMinimumCoinQuantity)(o)(d));return{coinMissing:a.BigIntMath.max([l-r.coins,0n]),minimumCoin:l,negativeAssetQty:c,tokenBundleSizeExceedsLimit:(0,s.tokenBundleSizeExceedsLimit)(n)(r.assets)}};return{validateOutput,async validateOutputs(t){const r=await e();const a=new Map;for(const s of t)a.set(s,await validateOutput(s,r));return a}}}},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/GreedyTxEvaluator.js":(e,t,r)=>{"use strict";r.d(t,{GreedyTxEvaluator:()=>GreedyTxEvaluator});var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var a;class GreedyTxEvaluator{async evaluate(e,t){const{maxExecutionUnitsPerTransaction:r}=await __classPrivateFieldGet(this,a,"f").call(this);const{witness:s}=e;if(!s||!s.redeemers)return[];const i=[];for(const o of s.redeemers)i.push({budget:r,index:o.index,purpose:o.purpose});return i}constructor(e){a.set(this,void 0);__classPrivateFieldSet(this,a,e,"f")}}a=new WeakMap},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/TxBuilder.js":(e,t,r)=>{"use strict";r.d(t,{GenericTxBuilder:()=>GenericTxBuilder});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/types.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js");var i=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ensureStakeKeys.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/StakePool/primitives.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/DelegationsAndRewards.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/util/metadatum.js");var l=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/AuxiliaryData.js");var u=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");var f=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var h=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionBody.js");var p=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/TransactionWitnessSet.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/AuxiliaryData.js");var _=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Certificate.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/util/conwayEra.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Scripts/Script.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Common/Datum.js");var b=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Transaction.js");var P=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/types.js");var C=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/GreedyTxEvaluator.js");var S=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/InputSelectionError.js");var T=r("../../node_modules/@cardano-sdk/core/dist/esm/util/coalesceValueQuantities.js");var E=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/util.js");var k=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/change.js");var A=r("../../node_modules/lodash/uniq.js");var __classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var __classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var I,j,x,R,B,O,D,M,F;const pickAdditionalLargestUtxo=({utxoRemaining:e,utxoSelected:t})=>{if(0===e.length){return{utxoRemaining:e,utxoSelected:t}}const r=e.sort(([,e],[,t])=>(0,E.sortByCoins)(e,t));const[a,...s]=r;return{utxoRemaining:s,utxoSelected:[...t,a]}};class LargeFirstSelector{async select(e){var t;const{utxo:r,preSelectedUtxo:a,outputs:s,constraints:i,implicitValue:o}=e;const n=[...a];const d=[...r].filter(([e])=>!n.some(([t])=>t.txId===e.txId&&t.index===e.index));const c=[...n,...d];const{totalLovelaceOutput:l,outputAssets:u}=__classPrivateFieldGet(this,I,"m",B).call(this,new Set(c),s,o);let f=new Set(n);f=__classPrivateFieldGet(this,I,"m",O).call(this,u,c,[...f]);var h;f=__classPrivateFieldGet(this,I,"m",D).call(this,l,c,f,null!==(h=null==o?void 0:null===(t=o.coin)||void 0===t?void 0:t.input)&&void 0!==h?h:0n);const{finalSelection:p,fee:m,change:_}=await __classPrivateFieldGet(this,I,"m",F).call(this,f,s,c,u,i,__classPrivateFieldGet(this,j,"f").changeAddressResolver,o);const v=await i.computeSelectionLimit({change:_,fee:m,inputs:p,outputs:s});if(p.size>v)throw new S.InputSelectionError(S.InputSelectionFailure.MaximumInputCountExceeded);return{remainingUTxO:__classPrivateFieldGet(this,I,"m",M).call(this,[...r],p),selection:{change:_,fee:m,inputs:new Set([...p].sort(E.sortUtxoByTxIn)),outputs:s}}}constructor(e){I.add(this);j.set(this,void 0);__classPrivateFieldSet(this,j,e,"f")}}j=new WeakMap,I=new WeakSet,x=function _LargeFirstSelector_aggregateLovelace(e,t,r){var a,s;const i=(0,E.getCoinQuantity)(e);const o=(0,E.getCoinQuantity)(t);var n;const d=null!==(n=null==r?void 0:null===(a=r.coin)||void 0===a?void 0:a.input)&&void 0!==n?n:0n;var c;const l=null!==(c=null==r?void 0:null===(s=r.coin)||void 0===s?void 0:s.deposit)&&void 0!==c?c:0n;return{totalIn:i+d,totalOut:o+l}},R=function _LargeFirstSelector_aggregateAssets(e,t,r){var a;const s=null!==(a=(0,T.coalesceValueQuantities)(t).assets)&&void 0!==a?a:new Map;const i=(0,T.coalesceValueQuantities)(e).assets;var o;const n=null!==(o=null==r?void 0:r.mint)&&void 0!==o?o:new Map;const d=new Map;const c=new Map;for(const[l,u]of n)(u>0n?d:c).set(l,u>0n?u:-u);let f=(0,E.addTokenMaps)(s,c);var h;f=null!==(h=(0,E.subtractTokenMaps)(f,d))&&void 0!==h?h:new Map;var p;const m=null!==(p=(0,E.addTokenMaps)(i,d))&&void 0!==p?p:new Map;return{available:m,required:f}},B=function _LargeFirstSelector_computeNetImplicitSelectionValues(e,t,r){const a=(0,E.toValues)([...e]);const s=(0,E.toValues)([...t]);const{totalIn:i,totalOut:o}=__classPrivateFieldGet(this,I,"m",x).call(this,a,s,r);const{required:n,available:d}=__classPrivateFieldGet(this,I,"m",R).call(this,a,s,r);const c=i-o;const l=(0,E.subtractTokenMaps)(d,n);if(0===e.size||c<0n||(0,E.hasNegativeAssetValue)(l))throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);return{outputAssets:n,totalLovelaceInput:i,totalLovelaceOutput:o}},O=function _LargeFirstSelector_selectAssets(e,t,r){const a=new Set(r);for(const[s,i]of e){var o;const n=t.filter(([e,t])=>{var r;return(null!==(o=null===(r=t.value.assets)||void 0===r?void 0:r.get(s))&&void 0!==o?o:0n)>0n}).sort(([,e],[,t])=>(0,E.sortByAssetQuantity)(s)(e,t));let d=0n;for(const c of n){var l;a.add(c);var u;d+=null!==(u=null===(l=c[1].value.assets)||void 0===l?void 0:l.get(s))&&void 0!==u?u:0n;if(d>=i)break}if(d<i)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient)}return a},D=function _LargeFirstSelector_selectLovelace(e,t,r,a){const s=new Set(r);const i=new Set([...r].map(([e])=>e));const o=t.filter(([e])=>!i.has(e)).sort(([,e],[,t])=>(0,E.sortByCoins)(e,t));let n=(0,E.getCoinQuantity)((0,E.toValues)([...s]))+a;for(const d of o){if(n>=e)break;s.add(d);n+=d[1].value.coins}if(0===s.size){if(0===o.length)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);s.add(o[0])}if(n<e)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);return s},M=function _LargeFirstSelector_computeRemainingUtxo(e,t){const r=new Set([...t].map(([e])=>e));return new Set(e.filter(([e])=>!r.has(e)))},F=async function _LargeFirstSelector_expandUtxosUntilFeeCovered(e,t,r,a,s,i,o){var n,d,c,l;const u=[...e];const f=r.filter(t=>!e.has(t)).sort(([,e],[,t])=>(0,E.sortByCoins)(e,t));const h=(0,E.toValues)([...t]);const p=E.stubMaxSizeAddress;const m={deposit:(null==o?void 0:null===(n=o.coin)||void 0===n?void 0:n.deposit)||0n,input:(null==o?void 0:null===(d=o.coin)||void 0===d?void 0:d.input)||0n,reclaimDeposit:(null==o?void 0:null===(c=o.coin)||void 0===c?void 0:c.reclaimDeposit)||0n,withdrawals:(null==o?void 0:null===(l=o.coin)||void 0===l?void 0:l.withdrawals)||0n};const _=(null==o?void 0:o.mint)||new Map;const v=A([...a.keys(),..._.keys()]);const{implicitTokensInput:y,implicitTokensSpend:w}=(0,E.mintToImplicitTokens)(_);const g={input:e=>y.get(e)||0n,spend:e=>w.get(e)||0n};const{change:b,fee:P,inputs:C}=await (0,k.computeChangeAndAdjustForFee)({computeMinimumCoinQuantity:s.computeMinimumCoinQuantity,estimateTxCosts:(e,r)=>s.computeMinimumCost({change:r.map(e=>({address:p,value:e})),fee:E.MAX_U64,inputs:new Set(e),outputs:t}),implicitValue:{implicitCoin:m,implicitTokens:g},outputValues:h,pickAdditionalUtxo:pickAdditionalLargestUtxo,tokenBundleSizeExceedsLimit:s.tokenBundleSizeExceedsLimit,uniqueTxAssetIDs:v,utxoSelection:{utxoRemaining:f,utxoSelected:u}});if(0===b.length){return{change:[],fee:P,finalSelection:new Set(C)}}const S=b.map(e=>({address:p,value:e}));const T=await i.resolve({change:S,fee:P,inputs:new Set(C),outputs:t});return{change:T,fee:P,finalSelection:new Set(C)}};var N=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/ChangeAddress/StaticChangeAddressResolver.js");var OutputBuilder_classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var OutputBuilder_classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var H,G,V,K;const isViableTxOut=e=>{var t;return!!(((null==e?void 0:e.address)||(null==e?void 0:e.handle))&&(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.coins))};const toOutputValidationError=(e,t)=>{if(t.negativeAssetQty){return new P.OutputValidationNegativeAssetQtyError(e,t)}if(t.coinMissing){return new P.OutputValidationMinimumCoinError(e,t)}if(t.tokenBundleSizeExceedsLimit){return new P.OutputValidationTokenBundleSizeError(e,t)}};class TxOutputBuilder{toTxOut(){if(!isViableTxOut(OutputBuilder_classPrivateFieldGet(this,H,"f"))){throw new P.OutputValidationMissingRequiredError(OutputBuilder_classPrivateFieldGet(this,H,"f"))}OutputBuilder_classPrivateFieldGet(this,V,"f").debug("toTxOut result:",OutputBuilder_classPrivateFieldGet(this,H,"f"));return{...OutputBuilder_classPrivateFieldGet(this,H,"f")}}async inspect(){return OutputBuilder_classPrivateFieldGet(this,H,"f")}value(e){OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),value:{...e}},"f");return this}coin(e){var t;OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),value:{...null===(t=OutputBuilder_classPrivateFieldGet(this,H,"f"))||void 0===t?void 0:t.value,coins:e}},"f");return this}assets(e){var t;OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),value:{...null===(t=OutputBuilder_classPrivateFieldGet(this,H,"f"))||void 0===t?void 0:t.value,assets:e}},"f");return this}asset(e,t){var r,a;const s=new Map(null===(r=OutputBuilder_classPrivateFieldGet(this,H,"f"))||void 0===r?void 0:null===(a=r.value)||void 0===a?void 0:a.assets);0n===t?s.delete(e):s.set(e,t);return this.assets(s)}address(e){OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),address:e},"f");return this}datum(e){g.isDatumHash(e)?OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),datumHash:e},"f"):OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),datum:e},"f");return this}scriptReference(e){if(!u.isPlutusScript(e))throw new Error("Only plutus scripts can be added as reference scripts.");OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),scriptReference:e},"f");return this}handle(e){if(!OutputBuilder_classPrivateFieldGet(this,K,"f")){throw new P.InvalidConfigurationError(P.TxOutputFailure.MissingHandleProviderError)}OutputBuilder_classPrivateFieldSet(this,H,{...OutputBuilder_classPrivateFieldGet(this,H,"f"),handle:e},"f");return this}async build(){const e=this.toTxOut();if(OutputBuilder_classPrivateFieldGet(this,H,"f").handle&&OutputBuilder_classPrivateFieldGet(this,K,"f")){const t=await OutputBuilder_classPrivateFieldGet(this,K,"f").resolveHandles({handles:[OutputBuilder_classPrivateFieldGet(this,H,"f").handle]});if(null!==t[0]){e.handleResolution=t[0];e.address=t[0].cardanoAddress}else{throw new P.HandleNotFoundError(OutputBuilder_classPrivateFieldGet(this,H,"f"))}}const r=toOutputValidationError(e,await OutputBuilder_classPrivateFieldGet(this,G,"f").validateOutput(e));if(r){throw r}return e}constructor({outputValidator:e,txOut:t,logger:r,handleProvider:a}){H.set(this,void 0);G.set(this,void 0);V.set(this,void 0);K.set(this,null);OutputBuilder_classPrivateFieldSet(this,H,{...t},"f");OutputBuilder_classPrivateFieldSet(this,G,e,"f");OutputBuilder_classPrivateFieldSet(this,V,r,"f");if(a)OutputBuilder_classPrivateFieldSet(this,K,a,"f")}}H=new WeakMap,G=new WeakMap,V=new WeakMap,K=new WeakMap;var L=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,z=Math.ceil,U=Math.floor,W="[BigNumber Error] ",$=W+"Number primitive has more than 15 significant digits: ",q=1e14,Y=14,Q=9007199254740991,X=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],J=1e7,Z=1e9;function clone(e){var t,r,a,s=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},i=new BigNumber(1),o=20,n=4,d=-7,c=21,l=-1e7,u=1e7,f=false,h=1,p=0,m={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},_="0123456789abcdefghijklmnopqrstuvwxyz",v=true;function BigNumber(e,t){var s,i,d,c,f,h,p,m,y=this;if(!(y instanceof BigNumber))return new BigNumber(e,t);if(null==t){if(e&&true===e._isBigNumber){y.s=e.s;if(!e.c||e.e>u)y.c=y.e=null;else if(e.e<l)y.c=[y.e=0];else{y.e=e.e;y.c=e.c.slice()}return}if((h="number"==typeof e)&&0*e==0){y.s=1/e<0?(e=-e,-1):1;if(e===~~e){for(c=0,f=e;f>=10;f/=10,c++);if(c>u)y.c=y.e=null;else{y.e=c;y.c=[e]}return}m=String(e)}else{if(!L.test(m=String(e)))return a(y,m,h);y.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}if((c=m.indexOf("."))>-1)m=m.replace(".","");if((f=m.search(/e/i))>0){if(c<0)c=f;c+=+m.slice(f+1);m=m.substring(0,f)}else if(c<0)c=m.length}else{intCheck(t,2,_.length,"Base");if(10==t&&v){y=new BigNumber(e);return round(y,o+y.e+1,n)}m=String(e);if(h="number"==typeof e){if(0*e!=0)return a(y,m,h,t);y.s=1/e<0?(m=m.slice(1),-1):1;if(BigNumber.DEBUG&&m.replace(/^0\.0*|\./,"").length>15){throw Error($+e)}}else{y.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1}s=_.slice(0,t);c=f=0;for(p=m.length;f<p;f++)if(s.indexOf(i=m.charAt(f))<0){if("."==i){if(f>c){c=p;continue}}else if(!d){if(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase())){d=true;f=-1;c=0;continue}}return a(y,String(e),h,t)}h=false;m=r(m,t,10,y.s);if((c=m.indexOf("."))>-1)m=m.replace(".","");else c=m.length}for(f=0;48===m.charCodeAt(f);f++);for(p=m.length;48===m.charCodeAt(--p););if(m=m.slice(f,++p)){p-=f;if(h&&BigNumber.DEBUG&&p>15&&(e>Q||e!==U(e))){throw Error($+y.s*e)}if((c=c-f-1)>u)y.c=y.e=null;else if(c<l)y.c=[y.e=0];else{y.e=c;y.c=[];f=(c+1)%Y;if(c<0)f+=Y;if(f<p){if(f)y.c.push(+m.slice(0,f));for(p-=Y;f<p;)y.c.push(+m.slice(f,f+=Y));f=Y-(m=m.slice(f)).length}else{f-=p}for(;f--;m+="0");y.c.push(+m)}}else{y.c=[y.e=0]}}BigNumber.clone=clone;BigNumber.ROUND_UP=0;BigNumber.ROUND_DOWN=1;BigNumber.ROUND_CEIL=2;BigNumber.ROUND_FLOOR=3;BigNumber.ROUND_HALF_UP=4;BigNumber.ROUND_HALF_DOWN=5;BigNumber.ROUND_HALF_EVEN=6;BigNumber.ROUND_HALF_CEIL=7;BigNumber.ROUND_HALF_FLOOR=8;BigNumber.EUCLID=9;BigNumber.config=BigNumber.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")){r=e[t];intCheck(r,0,Z,t);o=r}if(e.hasOwnProperty(t="ROUNDING_MODE")){r=e[t];intCheck(r,0,8,t);n=r}if(e.hasOwnProperty(t="EXPONENTIAL_AT")){r=e[t];if(r&&r.pop){intCheck(r[0],-Z,0,t);intCheck(r[1],0,Z,t);d=r[0];c=r[1]}else{intCheck(r,-Z,Z,t);d=-(c=r<0?-r:r)}}if(e.hasOwnProperty(t="RANGE")){r=e[t];if(r&&r.pop){intCheck(r[0],-Z,-1,t);intCheck(r[1],1,Z,t);l=r[0];u=r[1]}else{intCheck(r,-Z,Z,t);if(r)l=-(u=r<0?-r:r);else{throw Error(W+t+" cannot be zero: "+r)}}}if(e.hasOwnProperty(t="CRYPTO")){r=e[t];if(!!r===r)if(r)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))f=r;else{f=!r;throw Error(W+"crypto unavailable")}else f=r;else{throw Error(W+t+" not true or false: "+r)}}if(e.hasOwnProperty(t="MODULO_MODE")){r=e[t];intCheck(r,0,9,t);h=r}if(e.hasOwnProperty(t="POW_PRECISION")){r=e[t];intCheck(r,0,Z,t);p=r}if(e.hasOwnProperty(t="FORMAT")){r=e[t];if("object"==typeof r)m=r;else throw Error(W+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){r=e[t];if("string"!=typeof r||/^.?$|[+\-.\s]|(.).*\1/.test(r)){throw Error(W+t+" invalid: "+r)}v="0123456789"==r.slice(0,10);_=r}}else{throw Error(W+"Object expected: "+e)}return{DECIMAL_PLACES:o,ROUNDING_MODE:n,EXPONENTIAL_AT:[d,c],RANGE:[l,u],CRYPTO:f,MODULO_MODE:h,POW_PRECISION:p,FORMAT:m,ALPHABET:_}};BigNumber.isBigNumber=function(e){if(!e||true!==e._isBigNumber)return false;if(!BigNumber.DEBUG)return true;var t,r,a=e.c,s=e.e,i=e.s;e:if("[object Array]"==({}).toString.call(a)){if((1===i||-1===i)&&s>=-Z&&s<=Z&&s===U(s)){if(0===a[0]){if(0===s&&1===a.length)return true;break e}t=(s+1)%Y;if(t<1)t+=Y;if(String(a[0]).length==t){for(t=0;t<a.length;t++){r=a[t];if(r<0||r>=q||r!==U(r))break e}if(0!==r)return true}}}else if(null===a&&null===s&&(null===i||1===i||-1===i)){return true}throw Error(W+"Invalid BigNumber: "+e)};BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,s.lt)};BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,s.gt)};BigNumber.random=function(){var e=9007199254740992;var t=Math.random()*e&2097151?function(){return U(Math.random()*e)}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)};return function(e){var r,a,s,n,d,c=0,l=[],u=new BigNumber(i);if(null==e)e=o;else intCheck(e,0,Z);n=z(e/Y);if(f)if(crypto.getRandomValues){r=crypto.getRandomValues(new Uint32Array(n*=2));for(;c<n;){d=131072*r[c]+(r[c+1]>>>11);if(d>=9e15){a=crypto.getRandomValues(new Uint32Array(2));r[c]=a[0];r[c+1]=a[1]}else{l.push(d%1e14);c+=2}}c=n/2}else if(crypto.randomBytes){r=crypto.randomBytes(n*=7);for(;c<n;){d=(31&r[c])*281474976710656+1099511627776*r[c+1]+4294967296*r[c+2]+16777216*r[c+3]+(r[c+4]<<16)+(r[c+5]<<8)+r[c+6];if(d>=9e15)crypto.randomBytes(7).copy(r,c);else{l.push(d%1e14);c+=7}}c=n/7}else{f=false;throw Error(W+"crypto unavailable")}if(!f){for(;c<n;){d=t();if(d<9e15)l[c++]=d%1e14}}n=l[--c];e%=Y;if(n&&e){d=X[Y-e];l[c]=U(n/d)*d}for(;0===l[c];l.pop(),c--);if(c<0)l=[s=0];else{for(s=-1;0===l[0];l.splice(0,1),s-=Y);for(c=1,d=l[0];d>=10;d/=10,c++);if(c<Y)s-=Y-c}u.e=s;u.c=l;return u}}();BigNumber.sum=function(){var e=1,t=arguments,r=new BigNumber(t[0]);for(;e<t.length;)r=r.plus(t[e++]);return r};r=function(){var e="0123456789";function toBaseOut(e,t,r,a){var s,i=[0],o,n=0,d=e.length;for(;n<d;){for(o=i.length;o--;i[o]*=t);i[0]+=a.indexOf(e.charAt(n++));for(s=0;s<i.length;s++)if(i[s]>r-1){if(null==i[s+1])i[s+1]=0;i[s+1]+=i[s]/r|0;i[s]%=r}}return i.reverse()}return function(r,a,s,i,d){var c,l,u,f,h,m,v,y,w=r.indexOf("."),g=o,b=n;if(w>=0){f=p;p=0;r=r.replace(".","");y=new BigNumber(a);m=y.pow(r.length-w);p=f;y.c=toBaseOut(toFixedPoint(coeffToString(m.c),m.e,"0"),10,s,e);y.e=y.c.length}v=toBaseOut(r,a,s,d?(c=_,e):(c=e,_));u=f=v.length;for(;0==v[--f];v.pop());if(!v[0])return c.charAt(0);if(w<0)--u;else{m.c=v;m.e=u;m.s=i;m=t(m,y,g,b,s);v=m.c;h=m.r;u=m.e}l=u+g+1;w=v[l];f=s/2;h=h||l<0||null!=v[l+1];h=b<4?(null!=w||h)&&(0==b||b==(m.s<0?3:2)):w>f||w==f&&(4==b||h||6==b&&1&v[l-1]||b==(m.s<0?8:7));if(l<1||!v[0])r=h?toFixedPoint(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{v.length=l;if(h){for(--s;++v[--l]>s;){v[l]=0;if(!l){++u;v=[1].concat(v)}}}for(f=v.length;!v[--f];);for(w=0,r="";w<=f;r+=c.charAt(v[w++]));r=toFixedPoint(r,u,c.charAt(0))}return r}}();t=function(){function multiply(e,t,r){var a,s,i,o,n=0,d=e.length,c=t%J,l=t/J|0;for(e=e.slice();d--;){i=e[d]%J;o=e[d]/J|0;a=l*i+o*c;s=c*i+a%J*J+n;n=(s/r|0)+(a/J|0)+l*o;e[d]=s%r}if(n)e=[n].concat(e);return e}function compare(e,t,r,a){var s,i;if(r!=a)i=r>a?1:-1;else{for(s=i=0;s<r;s++)if(e[s]!=t[s]){i=e[s]>t[s]?1:-1;break}}return i}function subtract(e,t,r,a){var s=0;for(;r--;){e[r]-=s;s=e[r]<t[r]?1:0;e[r]=s*a+e[r]-t[r]}for(;!e[0]&&e.length>1;e.splice(0,1));}return function(e,t,r,a,s){var i,o,n,d,c,l,u,f,h,p,m,_,v,y,w,g,b,P=e.s==t.s?1:-1,C=e.c,S=t.c;if(!C||!C[0]||!S||!S[0]){return new BigNumber(e.s&&t.s&&(C?!S||C[0]!=S[0]:S)?C&&0==C[0]||!S?0*P:P/0:NaN)}f=new BigNumber(P);h=f.c=[];o=e.e-t.e;P=r+o+1;if(!s){s=q;o=bitFloor(e.e/Y)-bitFloor(t.e/Y);P=P/Y|0}for(n=0;S[n]==(C[n]||0);n++);if(S[n]>(C[n]||0))o--;if(P<0){h.push(1);d=true}else{y=C.length;g=S.length;n=0;P+=2;c=U(s/(S[0]+1));if(c>1){S=multiply(S,c,s);C=multiply(C,c,s);g=S.length;y=C.length}v=g;p=C.slice(0,g);m=p.length;for(;m<g;p[m++]=0);b=S.slice();b=[0].concat(b);w=S[0];if(S[1]>=s/2)w++;do{c=0;i=compare(S,p,g,m);if(i<0){_=p[0];if(g!=m)_=_*s+(p[1]||0);c=U(_/w);if(c>1){if(c>=s)c=s-1;l=multiply(S,c,s);u=l.length;m=p.length;while(1==compare(l,p,u,m)){c--;subtract(l,g<u?b:S,u,s);u=l.length;i=1}}else{if(0==c)i=c=1;l=S.slice();u=l.length}if(u<m)l=[0].concat(l);subtract(p,l,m,s);m=p.length;if(-1==i){while(compare(S,p,g,m)<1){c++;subtract(p,g<m?b:S,m,s);m=p.length}}}else if(0===i){c++;p=[0]}h[n++]=c;if(p[0])p[m++]=C[v]||0;else{p=[C[v]];m=1}}while((v++<y||null!=p[0])&&P--)d=null!=p[0];if(!h[0])h.splice(0,1)}if(s==q){for(n=1,P=h[0];P>=10;P/=10,n++);round(f,r+(f.e=n+o*Y-1)+1,a,d)}else{f.e=o;f.r=+d}return f}}();function format(e,t,r,a){var s,i,o,l,u;if(null==r)r=n;else intCheck(r,0,8);if(!e.c)return e.toString();s=e.c[0];o=e.e;if(null==t){u=coeffToString(e.c);u=1==a||2==a&&(o<=d||o>=c)?toExponential(u,o):toFixedPoint(u,o,"0")}else{e=round(new BigNumber(e),t,r);i=e.e;u=coeffToString(e.c);l=u.length;if(1==a||2==a&&(t<=i||i<=d)){for(;l<t;u+="0",l++);u=toExponential(u,i)}else{t-=o;u=toFixedPoint(u,i,"0");if(i+1>l){if(--t>0)for(u+=".";t--;u+="0");}else{t+=i-l;if(t>0){if(i+1==l)u+=".";for(;t--;u+="0");}}}}return e.s<0&&s?"-"+u:u}function maxOrMin(e,t){var r,a=1,s=new BigNumber(e[0]);for(;a<e.length;a++){r=new BigNumber(e[a]);if(r.s){if(t.call(s,r))s=r}else{s=r;break}}return s}function normalise(e,t,r){var a=1,s=t.length;for(;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,a++);if((r=a+r*Y-1)>u)e.c=e.e=null;else if(r<l)e.c=[e.e=0];else{e.e=r;e.c=t}return e}a=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,a=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,o,n,d){var c,l=n?o:o.replace(s,"");if(a.test(l))i.s=isNaN(l)?null:l<0?-1:1;else{if(!n){l=l.replace(e,function(e,t,r){c="x"==(r=r.toLowerCase())?16:"b"==r?2:8;return d&&d!=c?e:t});if(d){c=d;l=l.replace(t,"$1").replace(r,"0.$1")}if(o!=l)return new BigNumber(l,c)}if(BigNumber.DEBUG){throw Error(W+"Not a"+(d?" base "+d:"")+" number: "+o)}i.s=null}i.c=i.e=null}}();function round(e,t,r,a){var s,i,o,n,d,c,f,h=e.c,p=X;if(h){e:{for(s=1,n=h[0];n>=10;n/=10,s++);i=t-s;if(i<0){i+=Y;o=t;d=h[c=0];f=d/p[s-o-1]%10|0}else{c=z((i+1)/Y);if(c>=h.length)if(a){for(;h.length<=c;h.push(0));d=f=0;s=1;i%=Y;o=i-Y+1}else{break e}else{d=n=h[c];for(s=1;n>=10;n/=10,s++);i%=Y;o=i-Y+s;f=o<0?0:d/p[s-o-1]%10|0}}a=a||t<0||null!=h[c+1]||(o<0?d:d%p[s-o-1]);a=r<4?(f||a)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||a||6==r&&(i>0?o>0?d/p[s-o]:0:h[c-1])%10&1||r==(e.s<0?8:7));if(t<1||!h[0]){h.length=0;if(a){t-=e.e+1;h[0]=p[(Y-t%Y)%Y];e.e=-t||0}else{h[0]=e.e=0}return e}if(0==i){h.length=c;n=1;c--}else{h.length=c+1;n=p[Y-i];h[c]=o>0?U(d/p[s-o]%p[o])*n:0}if(a){for(;;){if(0==c){for(i=1,o=h[0];o>=10;o/=10,i++);o=h[0]+=n;for(n=1;o>=10;o/=10,n++);if(i!=n){e.e++;if(h[0]==q)h[0]=1}break}h[c]+=n;if(h[c]!=q)break;h[c--]=0;n=1}}for(i=h.length;0===h[--i];h.pop());}if(e.e>u)e.c=e.e=null;else if(e.e<l)e.c=[e.e=0]}return e}function valueOf(e){var t,r=e.e;if(null===r)return e.toString();t=coeffToString(e.c);t=r<=d||r>=c?toExponential(t,r):toFixedPoint(t,r,"0");return e.s<0?"-"+t:t}s.absoluteValue=s.abs=function(){var e=new BigNumber(this);if(e.s<0)e.s=1;return e};s.comparedTo=function(e,t){return compare(this,new BigNumber(e,t))};s.decimalPlaces=s.dp=function(e,t){var r,a,s,i=this;if(null!=e){intCheck(e,0,Z);if(null==t)t=n;else intCheck(t,0,8);return round(new BigNumber(i),e+i.e+1,t)}if(!(r=i.c))return null;a=((s=r.length-1)-bitFloor(this.e/Y))*Y;if(s=r[s])for(;s%10==0;s/=10,a--);if(a<0)a=0;return a};s.dividedBy=s.div=function(e,r){return t(this,new BigNumber(e,r),o,n)};s.dividedToIntegerBy=s.idiv=function(e,r){return t(this,new BigNumber(e,r),0,1)};s.exponentiatedBy=s.pow=function(e,t){var r,a,s,o,d,c,l,u,f,h=this;e=new BigNumber(e);if(e.c&&!e.isInteger()){throw Error(W+"Exponent not an integer: "+valueOf(e))}if(null!=t)t=new BigNumber(t);c=e.e>14;if(!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0]){f=new BigNumber(Math.pow(+valueOf(h),c?e.s*(2-isOdd(e)):+valueOf(e)));return t?f.mod(t):f}l=e.s<0;if(t){if(t.c?!t.c[0]:!t.s)return new BigNumber(NaN);a=!l&&h.isInteger()&&t.isInteger();if(a)h=h.mod(t)}else if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||c&&h.c[1]>=24e7:h.c[0]<8e13||c&&h.c[0]<=9999975e7))){o=(h.s<0&&isOdd(e),-0);if(h.e>-1)o=1/o;return new BigNumber(l?1/o:o)}else if(p)o=z(p/Y+2);if(c){r=new BigNumber(.5);if(l)e.s=1;u=isOdd(e)}else{s=Math.abs(+valueOf(e));u=s%2}f=new BigNumber(i);for(;;){if(u){f=f.times(h);if(!f.c)break;if(o){if(f.c.length>o)f.c.length=o}else if(a)f=f.mod(t)}if(s){s=U(s/2);if(0===s)break;u=s%2}else{e=e.times(r);round(e,e.e+1,1);if(e.e>14)u=isOdd(e);else{s=+valueOf(e);if(0===s)break;u=s%2}}h=h.times(h);if(o){if(h.c&&h.c.length>o)h.c.length=o}else if(a)h=h.mod(t)}if(a)return f;if(l)f=i.div(f);return t?f.mod(t):o?round(f,p,n,d):f};s.integerValue=function(e){var t=new BigNumber(this);if(null==e)e=n;else intCheck(e,0,8);return round(t,t.e+1,e)};s.isEqualTo=s.eq=function(e,t){return 0===compare(this,new BigNumber(e,t))};s.isFinite=function(){return!!this.c};s.isGreaterThan=s.gt=function(e,t){return compare(this,new BigNumber(e,t))>0};s.isGreaterThanOrEqualTo=s.gte=function(e,t){return 1===(t=compare(this,new BigNumber(e,t)))||0===t};s.isInteger=function(){return!!this.c&&bitFloor(this.e/Y)>this.c.length-2};s.isLessThan=s.lt=function(e,t){return compare(this,new BigNumber(e,t))<0};s.isLessThanOrEqualTo=s.lte=function(e,t){return -1===(t=compare(this,new BigNumber(e,t)))||0===t};s.isNaN=function(){return!this.s};s.isNegative=function(){return this.s<0};s.isPositive=function(){return this.s>0};s.isZero=function(){return!!this.c&&0==this.c[0]};s.minus=function(e,t){var r,a,s,i,o=this,d=o.s;e=new BigNumber(e,t);t=e.s;if(!d||!t)return new BigNumber(NaN);if(d!=t){e.s=-t;return o.plus(e)}var c=o.e/Y,l=e.e/Y,u=o.c,f=e.c;if(!c||!l){if(!u||!f)return u?(e.s=-t,e):new BigNumber(f?o:NaN);if(!u[0]||!f[0]){return f[0]?(e.s=-t,e):new BigNumber(u[0]?o:-0)}}c=bitFloor(c);l=bitFloor(l);u=u.slice();if(d=c-l){if(i=d<0){d=-d;s=u}else{l=c;s=f}s.reverse();for(t=d;t--;s.push(0));s.reverse()}else{a=(i=(d=u.length)<(t=f.length))?d:t;for(d=t=0;t<a;t++)if(u[t]!=f[t]){i=u[t]<f[t];break}}if(i)s=u,u=f,f=s,e.s=-e.s;t=(a=f.length)-(r=u.length);if(t>0)for(;t--;u[r++]=0);t=q-1;for(;a>d;){if(u[--a]<f[a]){for(r=a;r&&!u[--r];u[r]=t);--u[r];u[a]+=q}u[a]-=f[a]}for(;0==u[0];u.splice(0,1),--l);if(!u[0]){e.s=3==n?-1:1;e.c=[e.e=0];return e}return normalise(e,u,l)};s.modulo=s.mod=function(e,r){var a,s,i=this;e=new BigNumber(e,r);if(i.c&&e.s&&(!e.c||e.c[0])){if(!e.c||i.c&&!i.c[0]){return new BigNumber(i)}}else{return new BigNumber(NaN)}if(9==h){s=e.s;e.s=1;a=t(i,e,0,3);e.s=s;a.s*=s}else{a=t(i,e,0,h)}e=i.minus(a.times(e));if(!e.c[0]&&1==h)e.s=i.s;return e};s.multipliedBy=s.times=function(e,t){var r,a,s,i,o,n,d,c,l,u,f,h,p,m,_,v=this,y=v.c,w=(e=new BigNumber(e,t)).c;if(!y||!w||!y[0]||!w[0]){if(v.s&&e.s&&(!y||y[0]||w)&&(!w||w[0]||y)){e.s*=v.s;if(y&&w){e.c=[0];e.e=0}else{e.c=e.e=null}}else{e.c=e.e=e.s=null}return e}a=bitFloor(v.e/Y)+bitFloor(e.e/Y);e.s*=v.s;d=y.length;u=w.length;if(d<u)p=y,y=w,w=p,s=d,d=u,u=s;for(s=d+u,p=[];s--;p.push(0));m=q;_=J;for(s=u;--s>=0;){r=0;f=w[s]%_;h=w[s]/_|0;for(o=d,i=s+o;i>s;){c=y[--o]%_;l=y[o]/_|0;n=h*c+l*f;c=f*c+n%_*_+p[i]+r;r=(c/m|0)+(n/_|0)+h*l;p[i--]=c%m}p[i]=r}if(r)++a;else p.splice(0,1);return normalise(e,p,a)};s.negated=function(){var e=new BigNumber(this);e.s=-e.s||null;return e};s.plus=function(e,t){var r,a=this,s=a.s;e=new BigNumber(e,t);t=e.s;if(!s||!t)return new BigNumber(NaN);if(s!=t){e.s=-t;return a.minus(e)}var i=a.e/Y,o=e.e/Y,n=a.c,d=e.c;if(!i||!o){if(!n||!d)return new BigNumber(s/0);if(!n[0]||!d[0])return d[0]?e:new BigNumber(n[0]?a:0*s)}i=bitFloor(i);o=bitFloor(o);n=n.slice();if(s=i-o){if(s>0){o=i;r=d}else{s=-s;r=n}r.reverse();for(;s--;r.push(0));r.reverse()}s=n.length;t=d.length;if(s-t<0)r=d,d=n,n=r,t=s;for(s=0;t;){s=(n[--t]=n[t]+d[t]+s)/q|0;n[t]=q===n[t]?0:n[t]%q}if(s){n=[s].concat(n);++o}return normalise(e,n,o)};s.precision=s.sd=function(e,t){var r,a,s,i=this;if(null!=e&&!!e!==e){intCheck(e,1,Z);if(null==t)t=n;else intCheck(t,0,8);return round(new BigNumber(i),e,t)}if(!(r=i.c))return null;s=r.length-1;a=s*Y+1;if(s=r[s]){for(;s%10==0;s/=10,a--);for(s=r[0];s>=10;s/=10,a++);}if(e&&i.e+1>a)a=i.e+1;return a};s.shiftedBy=function(e){intCheck(e,-Q,Q);return this.times("1e"+e)};s.squareRoot=s.sqrt=function(){var e,r,a,s,i,d=this,c=d.c,l=d.s,u=d.e,f=o+4,h=new BigNumber("0.5");if(1!==l||!c||!c[0]){return new BigNumber(!l||l<0&&(!c||c[0])?NaN:c?d:1/0)}l=Math.sqrt(+valueOf(d));if(0==l||l==1/0){r=coeffToString(c);if((r.length+u)%2==0)r+="0";l=Math.sqrt(+r);u=bitFloor((u+1)/2)-(u<0||u%2);if(l==1/0)r="5e"+u;else{r=l.toExponential();r=r.slice(0,r.indexOf("e")+1)+u}a=new BigNumber(r)}else{a=new BigNumber(l+"")}if(a.c[0]){u=a.e;l=u+f;if(l<3)l=0;for(;;){i=a;a=h.times(i.plus(t(d,i,f,1)));if(coeffToString(i.c).slice(0,l)===(r=coeffToString(a.c)).slice(0,l)){if(a.e<u)--l;r=r.slice(l-3,l+1);if("9999"!=r&&(s||"4999"!=r)){if(!+r||!+r.slice(1)&&"5"==r.charAt(0)){round(a,a.e+o+2,1);e=!a.times(a).eq(d)}break}if(!s){round(i,i.e+o+2,0);if(i.times(i).eq(d)){a=i;break}}f+=4;l+=4;s=1}}}return round(a,a.e+o+1,n,e)};s.toExponential=function(e,t){if(null!=e){intCheck(e,0,Z);e++}return format(this,e,t,1)};s.toFixed=function(e,t){if(null!=e){intCheck(e,0,Z);e=e+this.e+1}return format(this,e,t)};s.toFormat=function(e,t,r){var a,s=this;if(null==r)if(null!=e&&t&&"object"==typeof t){r=t;t=null}else if(e&&"object"==typeof e){r=e;e=t=null}else{r=m}else if("object"!=typeof r){throw Error(W+"Argument not an object: "+r)}a=s.toFixed(e,t);if(s.c){var i,o=a.split("."),n=+r.groupSize,d=+r.secondaryGroupSize,c=r.groupSeparator||"",l=o[0],u=o[1],f=s.s<0,h=f?l.slice(1):l,p=h.length;if(d)i=n,n=d,d=i,p-=i;if(n>0&&p>0){i=p%n||n;l=h.substr(0,i);for(;i<p;i+=n)l+=c+h.substr(i,n);if(d>0)l+=c+h.slice(i);if(f)l="-"+l}a=u?l+(r.decimalSeparator||"")+((d=+r.fractionGroupSize)?u.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):u):l}return(r.prefix||"")+a+(r.suffix||"")};s.toFraction=function(e){var r,a,s,o,d,c,l,f,h,p,m,_,v=this,y=v.c;if(null!=e){l=new BigNumber(e);if(!l.isInteger()&&(l.c||1!==l.s)||l.lt(i)){throw Error(W+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+valueOf(l))}}if(!y)return new BigNumber(v);r=new BigNumber(i);h=a=new BigNumber(i);s=f=new BigNumber(i);_=coeffToString(y);d=r.e=_.length-v.e-1;r.c[0]=X[(c=d%Y)<0?Y+c:c];e=!e||l.comparedTo(r)>0?d>0?r:h:l;c=u;u=1/0;l=new BigNumber(_);f.c[0]=0;for(;;){p=t(l,r,0,1);o=a.plus(p.times(s));if(1==o.comparedTo(e))break;a=s;s=o;h=f.plus(p.times(o=h));f=o;r=l.minus(p.times(o=r));l=o}o=t(e.minus(a),s,0,1);f=f.plus(o.times(h));a=a.plus(o.times(s));f.s=h.s=v.s;d*=2;m=t(h,s,d,n).minus(v).abs().comparedTo(t(f,a,d,n).minus(v).abs())<1?[h,s]:[f,a];u=c;return m};s.toNumber=function(){return+valueOf(this)};s.toPrecision=function(e,t){if(null!=e)intCheck(e,1,Z);return format(this,e,t,2)};s.toString=function(e){var t,a=this,s=a.s,i=a.e;if(null===i)if(s){t="Infinity";if(s<0)t="-"+t}else{t="NaN"}else{if(null==e)t=i<=d||i>=c?toExponential(coeffToString(a.c),i):toFixedPoint(coeffToString(a.c),i,"0");else if(10===e&&v){a=round(new BigNumber(a),o+i+1,n);t=toFixedPoint(coeffToString(a.c),a.e,"0")}else{intCheck(e,2,_.length,"Base");t=r(toFixedPoint(coeffToString(a.c),i,"0"),10,e,s,true)}if(s<0&&a.c[0])t="-"+t}return t};s.valueOf=s.toJSON=function(){return valueOf(this)};s._isBigNumber=true;s[Symbol.toStringTag]="BigNumber";s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf;if(null!=e)BigNumber.set(e);return BigNumber}function bitFloor(e){var t=0|e;return e>0||e===t?t:t-1}function coeffToString(e){var t,r,a=1,s=e.length,i=e[0]+"";for(;a<s;){t=e[a++]+"";r=Y-t.length;for(;r--;t="0"+t);i+=t}for(s=i.length;48===i.charCodeAt(--s););return i.slice(0,s+1||1)}function compare(e,t){var r,a,s=e.c,i=t.c,o=e.s,n=t.s,d=e.e,c=t.e;if(!o||!n)return null;r=s&&!s[0];a=i&&!i[0];if(r||a)return r?a?0:-n:o;if(o!=n)return o;r=o<0;a=d==c;if(!s||!i)return a?0:!s^r?1:-1;if(!a)return d>c^r?1:-1;n=(d=s.length)<(c=i.length)?d:c;for(o=0;o<n;o++)if(s[o]!=i[o])return s[o]>i[o]^r?1:-1;return d==c?0:d>c^r?1:-1}function intCheck(e,t,r,a){if(e<t||e>r||e!==U(e)){throw Error(W+(a||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}}function isOdd(e){var t=e.c.length-1;return bitFloor(e.e/Y)==t&&e.c[t]%2!=0}function toExponential(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function toFixedPoint(e,t,r){var a,s;if(t<0){for(s=r+".";++t;s+=r);e=s+e}else{a=e.length;if(++t>a){for(s=r,t-=a;--t;s+=r);e+=s}else if(t<a)e=e.slice(0,t)+"."+e.slice(t)}return e}var ee=clone();const et=null;const er=.05;const distributeAssets=(e,t,r,a)=>{const s=[...e];if(0===s.length)return s;const i=(0,T.coalesceValueQuantities)(s.map(e=>e.value)).assets;if(!i||0===i.size)return s;for(const o of s)o.value.assets=void 0;let n=0;const d=s;const c=[];while(i.size>0){const l=new Map([...i.entries()].splice(0,1));const u=n%d.length;const f={...d[u].value};f.assets=(0,E.addTokenMaps)(f.assets,l);if((0,E.isValidValue)(f,t,r,a)){d[u].value=f;i.delete([...l.keys()][0])}else{c.push(...d.splice(u,1))}if(0===d.length)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoFullyDepleted);++n}return[...s,...c]};const getMinUtxoAmount=e=>{const t=new ee(.03);let r=e.toString().length-1;let a="1";while(r>0){a+="0";--r}return BigInt(new ee(a).multipliedBy(t).toFixed(0,0))};const splitChangeOutput=(e,t,r)=>{const a=e.value.coins;const s=getMinUtxoAmount(a);let i=a;let o=0n;const n=new Array;const d=new ee(2);while(i>=s){const c=BigInt(new ee(i.toString()).dividedBy(d).toFixed(0,0));const l=i-c;if(l<=s||l<=t({address:e.address,value:{assets:e.value.assets,coins:a-o}})+r){n.push(a-o);break}o+=c;n.push(c);i-=c}return n.map(t=>({address:e.address,value:{assets:e.value.assets,coins:t}}))};const splitChange=async(e,t,r,a,s,i)=>{const o=await e();const n=[...o.values()].reduce((e,t)=>e+t,0);const d=new Map([...o.entries()].map(e=>[e[0],e[1]/n]));const c=[...d.values()].reduce((e,t)=>e+t,0);if(Math.abs(1-c)>er)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);const l=[...d.entries()].map(e=>({address:e[0],value:{coins:0n}}));let u=0n;const f=new ee(t.toString());for(const h of l){const p=new ee(d.get(h.address));const m=BigInt(f.multipliedBy(p).toFixed(0,0));u+=m;h.value.coins=u>t?m-(u-t):m}if(u<t){const _=t-u;l[l.length-1].value.coins+=_}const v=l.flatMap(e=>splitChangeOutput(e,a,i));const y=v.sort(E.sortByCoins).filter(e=>e.value.coins>0n);if(y&&y.length>0)y[0].value.assets=r;if(!r||0===r.size)return y;return distributeAssets(y,a,s,i)};const adjustOutputsForFee=async(e,t,r,a,s,i)=>{const o=new Set([...a,...s]);const{fee:n,redeemers:d}=await t.computeMinimumCost({change:[],fee:i,inputs:r,outputs:o});if(n===e)return{change:[],fee:n,feeAccountedFor:true,redeemers:d};if(e<n)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);const c=[...s];c.sort(E.sortByCoins);let l=false;for(const u of c){const f=u.value.coins-n;if(f>=t.computeMinimumCoinQuantity(u)){u.value.coins=f;l=true;break}}return{change:[...c],fee:n,feeAccountedFor:l,redeemers:d}};const splitChangeAndComputeFee=async(e,t,r,a,s,i,o)=>{const n=await splitChange(i,r,a,s.computeMinimumCoinQuantity,s.tokenBundleSizeExceedsLimit,o);let d=await adjustOutputsForFee(r,s,e,t,n,o);if(d.fee>=r){const c={change:[{address:E.stubMaxSizeAddress,value:{assets:a,coins:0n}}],fee:d.fee,feeAccountedFor:true};if(c.change[0].value.coins<s.computeMinimumCoinQuantity(c.change[0]))throw new S.InputSelectionError(S.InputSelectionFailure.UtxoFullyDepleted);return c}if(o<d.fee){d=await splitChangeAndComputeFee(e,t,r,a,s,i,d.fee);if(0===d.change.length)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoFullyDepleted)}for(const l of d.change)if(l.value.coins<s.computeMinimumCoinQuantity(l))throw new S.InputSelectionError(S.InputSelectionFailure.UtxoFullyDepleted);if(!d.feeAccountedFor)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoFullyDepleted);return d};var GreedyInputSelector_classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var GreedyInputSelector_classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var ea;class GreedyInputSelector{async select(e){var t,r;const{preSelectedUtxo:a,utxo:s,outputs:i,constraints:o,implicitValue:n}=e;const d=new Set([...s,...a]);const c=(0,E.toValues)([...d]);const l=(0,E.toValues)([...i]);const u=(0,E.getCoinQuantity)(c);const f=(0,E.getCoinQuantity)(l);const h=(0,T.coalesceValueQuantities)(c).assets;const p=(0,T.coalesceValueQuantities)(l).assets;const m=(null==n?void 0:null===(t=n.coin)||void 0===t?void 0:t.input)||0n;const _=(null==n?void 0:null===(r=n.coin)||void 0===r?void 0:r.deposit)||0n;const v=(null==n?void 0:n.mint)||new Map;const y=u+m;const w=f+_;const g=(0,E.addTokenMaps)(h,v);const b=y-w;const P=(0,E.subtractTokenMaps)(g,p);if(0===d.size||w>y||(0,E.hasNegativeAssetValue)(P))throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);const C=await splitChangeAndComputeFee(d,i,b,P,o,GreedyInputSelector_classPrivateFieldGet(this,ea,"f").getChangeAddresses,0n);const k=C.change.filter(e=>{var t;return e.value.coins>0n||((null===(t=e.value.assets)||void 0===t?void 0:t.size)||0)>0});if(b-C.fee<0n)throw new S.InputSelectionError(S.InputSelectionFailure.UtxoBalanceInsufficient);if(d.size>await o.computeSelectionLimit({change:k,fee:C.fee,inputs:d,outputs:i})){throw new S.InputSelectionError(S.InputSelectionFailure.MaximumInputCountExceeded)}return{remainingUTxO:new Set,selection:{change:k,fee:C.fee,inputs:new Set([...d].sort(E.sortUtxoByTxIn)),outputs:i}}}constructor(e){ea.set(this,void 0);GreedyInputSelector_classPrivateFieldSet(this,ea,e,"f")}}ea=new WeakMap;var es=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/input-selection/selectionConstraints.js");var ei=r("../../node_modules/lodash/minBy.js");const eo=5000000n;const sortByCoins=(e,t)=>{if(e[1].value.coins>t[1].value.coins){return -1}if(e[1].value.coins<t[1].value.coins){return 1}return 0};const isValidValue=(e,t,r)=>{let a=e.value.coins>=t(e);if(e.value.assets)a=a&&!r(e.value.assets);return a};const createGreedyInputSelector=(e,t)=>{const r=new Map([...e].map(([e,r])=>{const a=ei(t.filter(t=>t.rewardAccount===e),({index:e})=>e);if(!a){throw new Error(`Could not find any address associated with ${e}.`)}return[a.address,r]}));return new GreedyInputSelector({getChangeAddresses:()=>Promise.resolve(r)})};const sortRewardAccountsDelegatedFirst=(e,t)=>{const getScore=e=>{let t=2;if(e.credentialStatus===d.StakeCredentialStatus.Registered){var r;t=1;if(null===(r=e.delegatee)||void 0===r?void 0:r.nextNextEpoch)t=0}return t};return getScore(e)-getScore(t)};const buildRedeemers=(e,t)=>{const r=[];var a,s,i,o,n;const d=[...null!==(a=e.mint)&&void 0!==a?a:[],...null!==(s=e.vote)&&void 0!==s?s:[],...null!==(i=e.propose)&&void 0!==i?i:[],...null!==(o=e.certificate)&&void 0!==o?o:[],...null!==(n=e.withdrawal)&&void 0!==n?n:[],...e.spend?[...e.spend.values()]:[]];for(const c of d){const l=Number.MAX_SAFE_INTEGER;r.push({data:c.data,executionUnits:0===c.executionUnits.memory&&0===c.executionUnits.steps?t:c.executionUnits,index:l,purpose:c.purpose})}return r};const validateValidityInterval=(e,t)=>{if(!(null==t?void 0:t.invalidHereafter)){return}if(e.slot>=t.invalidHereafter){throw new P.InvalidHereafterError}};const buildWitness=async(e,t,r,a,s,i)=>{const o={signatures:new Map};if(r){o.datums=[];for(const[n,d]of r)if(!a.has(n))o.datums.push(d)}if(e){o.scripts=[];for(const[c,l]of e)if(!t.has(c))o.scripts.push(l)}const{maxExecutionUnitsPerTransaction:u}=await i.protocolParameters();if(s)o.redeemers=buildRedeemers(s,u);return o};const computeCollateral=async e=>{const t=(await e.utxoAvailable()).sort(sortByCoins);const r=[];const{coinsPerUtxoByte:a,maxValueSize:s}=await e.protocolParameters();let i=0n;for(const o of t){r.push(o);i+=o[1].value.coins;if(i>eo){const n=r[0][1].address;const d=r.map(e=>e[1].value);const c=(0,T.coalesceValueQuantities)(d);const l={...c};l.coins-=eo;const u={address:n,value:l};if(isValidValue(u,(0,es.computeMinimumCoinQuantity)(a),(0,es.tokenBundleSizeExceedsLimit)(s))){return{collateralReturn:u,collaterals:new Set(r.map(e=>e[0]))}}}}throw new Error("No suitable collateral found")};var en=r("../../node_modules/@cardano-sdk/util/dist/esm/equals.js");var ed=r("../../node_modules/@cardano-sdk/util/dist/esm/logging.js");var ec=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/output-validation/outputValidator.js");var el=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/hasCorrectVoteDelegation.js");const ensureNoDeRegistrationsWithRewardsLocked=e=>{const t=e.filter(e=>e.rewardBalance>0n&&!(0,el.hasCorrectVoteDelegation)(e));if(t.length>0){throw new P.DeRegistrationsWithRewardsLocked(t)}};var eu=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/initializeTx.js");var ef=r("../../node_modules/rxjs/dist/esm5/internal/lastValueFrom.js");var eh=r("../../node_modules/@cardano-sdk/util-rxjs/dist/esm/poll.js");var ep=r("../../node_modules/lodash/omit.js");var TxBuilder_classPrivateFieldSet=function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r};var TxBuilder_classPrivateFieldGet=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};var em,e_,ev,ey,ew,eg,eb,eP,eC,eS,eT,eE,ek,eA,eI,ej,ex,eR,eB,eO,eD,eM,eF,eN,eH,eG,eV,eK,eL,ez,eU,eW;const e$="0".repeat(64);class LazyTxSigner{async inspect(){const{tx:e,ctx:{signingContext:{knownAddresses:t,handleResolutions:r},auxiliaryData:a,witness:s},inputSelection:i}=await TxBuilder_classPrivateFieldGet(this,em,"m",ew).call(this);return{...e,auxiliaryData:a,handleResolutions:r,inputSelection:i,ownAddresses:t,witness:s}}async sign(){return TxBuilder_classPrivateFieldGet(this,ev,"f").sign(await TxBuilder_classPrivateFieldGet(this,em,"m",ew).call(this))}constructor({builder:e,signer:t}){em.add(this);e_.set(this,void 0);ev.set(this,void 0);ey.set(this,void 0);TxBuilder_classPrivateFieldSet(this,ey,e,"f");TxBuilder_classPrivateFieldSet(this,ev,t,"f")}}e_=new WeakMap,ev=new WeakMap,ey=new WeakMap,em=new WeakSet,ew=async function _LazyTxSigner_build(){return TxBuilder_classPrivateFieldSet(this,e_,TxBuilder_classPrivateFieldGet(this,e_,"f")||await TxBuilder_classPrivateFieldGet(this,ey,"f").build(),"f")};class GenericTxBuilder{async inspect(){return{auxiliaryData:this.partialAuxiliaryData,body:this.partialTxBody,extraSigners:this.partialExtraSigners,signingOptions:this.partialSigningOptions}}addReferenceInput(e){if(Array.isArray(e)){const t=`${e[0].txId}#${e[0].index}`;TxBuilder_classPrivateFieldGet(this,ej,"f").set(t,e);return this}if(!TxBuilder_classPrivateFieldGet(this,eF,"f").some(t=>t.txId===e.txId&&t.index===e.index))TxBuilder_classPrivateFieldGet(this,eF,"f").push(e);return this}addInput(e,t){if(t){TxBuilder_classPrivateFieldGet(this,eg,"m",eW).call(this,e,t);return this}if(Array.isArray(e)){const r=`${e[0].txId}#${e[0].index}`;TxBuilder_classPrivateFieldGet(this,eI,"f").set(r,e);return this}if(!TxBuilder_classPrivateFieldGet(this,eM,"f").some(t=>t.txId===e.txId&&t.index===e.index))TxBuilder_classPrivateFieldGet(this,eM,"f").push(e);return this}addDatum(e){const t=o.PlutusData.fromCore(e).hash();TxBuilder_classPrivateFieldGet(this,eB,"f").set(t,e);return this}addOutput(e){if(e.handleResolution)TxBuilder_classPrivateFieldSet(this,ek,[...TxBuilder_classPrivateFieldGet(this,ek,"f"),e.handleResolution],"f");const t=ep(e,["handle","handleResolution"]);this.partialTxBody={...this.partialTxBody,outputs:[...this.partialTxBody.outputs||[],t]};return this}removeOutput(e){var t;TxBuilder_classPrivateFieldSet(this,ek,TxBuilder_classPrivateFieldGet(this,ek,"f").filter(t=>t.handle!==e.handle),"f");this.partialTxBody={...this.partialTxBody,outputs:null===(t=this.partialTxBody.outputs)||void 0===t?void 0:t.filter(t=>!(0,en.deepEquals)(t,e))};return this}buildOutput(e){return new TxOutputBuilder({handleProvider:TxBuilder_classPrivateFieldGet(this,eE,"f"),logger:(0,ed.contextLogger)(TxBuilder_classPrivateFieldGet(this,eT,"f"),"outputBuilder"),outputValidator:TxBuilder_classPrivateFieldGet(this,eP,"f"),txOut:e})}delegateFirstStakeCredential(e){TxBuilder_classPrivateFieldSet(this,eA,e,"f");return this}delegatePortfolio(e){if(!TxBuilder_classPrivateFieldGet(this,eb,"f").bip32Account)throw new Error("BIP32 account is required to delegate portfolio.");if((null==e?void 0:e.pools.length)===0){throw new Error("Portfolio should define at least one delegation pool.")}var t;TxBuilder_classPrivateFieldSet(this,eC,(null!==(t=null==e?void 0:e.pools)&&void 0!==t?t:[]).map(e=>({...e,id:n.PoolId.fromKeyHash(e.id)})),"f");if(e){var r;if(null===(r=this.partialAuxiliaryData)||void 0===r?void 0:r.blob)this.partialAuxiliaryData.blob.set(d.DelegationMetadataLabel,c.jsonToMetadatum(d.portfolioMetadataFromCip17(e)));else this.partialAuxiliaryData={...this.partialAuxiliaryData,blob:new Map([[d.DelegationMetadataLabel,c.jsonToMetadatum(d.portfolioMetadataFromCip17(e))]])}}return this}metadata(e){this.partialAuxiliaryData={...this.partialAuxiliaryData,blob:new Map(e)};return this}extraSigners(e){this.partialExtraSigners=[...e];return this}signingOptions(e){this.partialSigningOptions={...e};return this}customize(e){TxBuilder_classPrivateFieldSet(this,eH,e,"f");return this}build(){return new LazyTxSigner({builder:{build:async()=>{TxBuilder_classPrivateFieldGet(this,eT,"f").debug("Building");try{const e=TxBuilder_classPrivateFieldGet(this,eb,"f").bip32Account?await TxBuilder_classPrivateFieldGet(this,eg,"m",eL).call(this):await TxBuilder_classPrivateFieldGet(this,eg,"m",eK).call(this);await TxBuilder_classPrivateFieldGet(this,eg,"m",eG).call(this);validateValidityInterval(await TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.tip(),this.partialTxBody.validityInterval);const t=await TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.addresses.get();const r=(await TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.rewardAccounts()).filter(e=>e.credentialStatus===d.StakeCredentialStatus.Registered||e.credentialStatus===d.StakeCredentialStatus.Registering);const i=this.partialAuxiliaryData&&{...this.partialAuxiliaryData};const o=this.partialExtraSigners&&[...this.partialExtraSigners];const n=this.partialSigningOptions&&{...this.partialSigningOptions,extraSigners:o};if(this.partialAuxiliaryData)this.partialTxBody.auxiliaryDataHash=l.computeAuxiliaryDataHash(this.partialAuxiliaryData);const c={...TxBuilder_classPrivateFieldGet(this,eb,"f")};const f=void 0!==TxBuilder_classPrivateFieldGet(this,eC,"f")||void 0!==TxBuilder_classPrivateFieldGet(this,eA,"f");let h=false;if(TxBuilder_classPrivateFieldGet(this,eb,"f").bip32Account&&f&&(e.size>1||r.length>1&&e.size<=1)){if(0===e.size){const p=await TxBuilder_classPrivateFieldGet(this,eb,"f").bip32Account.deriveAddress({index:0,type:a.AddressType.External},0);e.set(p.rewardAccount,1)}c.inputSelector=createGreedyInputSelector(e,t);h=true}await Promise.all(TxBuilder_classPrivateFieldGet(this,eM,"f").map(e=>TxBuilder_classPrivateFieldGet(this,eg,"m",eU).call(this,e,TxBuilder_classPrivateFieldGet(this,eI,"f"))));await Promise.all(TxBuilder_classPrivateFieldGet(this,eF,"f").map(e=>TxBuilder_classPrivateFieldGet(this,eg,"m",eU).call(this,e,TxBuilder_classPrivateFieldGet(this,ej,"f"))));await Promise.all(TxBuilder_classPrivateFieldGet(this,eN,"f").map(e=>TxBuilder_classPrivateFieldGet(this,eg,"m",ez).call(this,e)));const m=await buildWitness(TxBuilder_classPrivateFieldGet(this,ex,"f"),TxBuilder_classPrivateFieldGet(this,eR,"f"),TxBuilder_classPrivateFieldGet(this,eB,"f"),TxBuilder_classPrivateFieldGet(this,eO,"f"),TxBuilder_classPrivateFieldGet(this,eD,"f"),TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders);const _=[...TxBuilder_classPrivateFieldGet(this,ex,"f").values()].some(e=>u.isPlutusScript(e));const{collaterals:v,collateralReturn:y}=_?await computeCollateral(TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders):{collateralReturn:void 0,collaterals:void 0};const w=new Set;for(const g of TxBuilder_classPrivateFieldGet(this,ex,"f").values())if(u.isPlutusScript(g))w.add(g.version);const b={auxiliaryData:i,certificates:this.partialTxBody.certificates,collateralReturn:y,collaterals:v,customizeCb:TxBuilder_classPrivateFieldGet(this,eH,"f"),handleResolutions:TxBuilder_classPrivateFieldGet(this,ek,"f"),inputs:new Set(TxBuilder_classPrivateFieldGet(this,eI,"f").values()),options:{validityInterval:this.partialTxBody.validityInterval},outputs:new Set(this.partialTxBody.outputs||[]),proposalProcedures:this.partialTxBody.proposalProcedures,redeemersByType:TxBuilder_classPrivateFieldGet(this,eD,"f"),referenceInputs:new Set([...TxBuilder_classPrivateFieldGet(this,ej,"f").values()].map(e=>e[0])),scriptIntegrityHash:_?e$:void 0,scriptVersions:w,signingOptions:n,txEvaluator:TxBuilder_classPrivateFieldGet(this,eS,"f"),witness:m};let P;try{P=await (0,eu.initializeTx)(b,c)}catch(C){if(h||!(C instanceof S.InputSelectionError)||C.failure===S.InputSelectionFailure.UtxoBalanceInsufficient){throw C}c.inputSelector=new LargeFirstSelector({changeAddressResolver:new N.StaticChangeAddressResolver(async()=>t)});TxBuilder_classPrivateFieldGet(this,eT,"f").warn(`Building attempt failed with ${C.failure}, retrying with large first selector`);P=await (0,eu.initializeTx)(b,c)}const{body:T,hash:E,inputSelection:k,redeemers:A}=P;m.redeemers=A;return{ctx:{auxiliaryData:i,ownAddresses:t,signingContext:{handleResolutions:TxBuilder_classPrivateFieldGet(this,ek,"f"),knownAddresses:t,txInKeyPathMap:await s.createTxInKeyPathMap(T,t,TxBuilder_classPrivateFieldGet(this,eb,"f").inputResolver)},signingOptions:{...n,extraSigners:o},witness:m},inputSelection:k,tx:{body:T,hash:E}}}catch(I){TxBuilder_classPrivateFieldGet(this,eT,"f").debug("Transaction build error",I);if(Array.isArray(I))throw I[0];throw I}}},signer:{sign:({tx:e,ctx:t})=>{var r;const a=new f.Transaction(h.TransactionBody.fromCore(e.body),p.TransactionWitnessSet.fromCore(null!==(r=t.witness)&&void 0!==r?r:{signatures:new Map}),t.auxiliaryData?m.AuxiliaryData.fromCore(t.auxiliaryData):void 0);if(void 0!==t.isValid)a.setIsValid(t.isValid);const s={...t.signingOptions,stubSign:false};const i=t.signingContext;return TxBuilder_classPrivateFieldGet(this,eb,"f").witnesser.witness(a,i,s)}}})}setValidityInterval(e){this.partialTxBody={...this.partialTxBody,validityInterval:e};return this}constructor(e){eg.add(this);this.partialTxBody={};eb.set(this,void 0);eP.set(this,void 0);eC.set(this,void 0);eS.set(this,void 0);eT.set(this,void 0);eE.set(this,void 0);ek.set(this,void 0);eA.set(this,void 0);eI.set(this,new Map);ej.set(this,new Map);ex.set(this,new Map);eR.set(this,new Set);eB.set(this,new Map);eO.set(this,new Set);eD.set(this,{certificate:new Array,mint:new Array,propose:new Array,spend:new Map,vote:new Array,withdrawal:new Array});eM.set(this,new Array);eF.set(this,new Array);eN.set(this,new Array);eH.set(this,void 0);TxBuilder_classPrivateFieldSet(this,eP,e.outputValidator||(0,ec.createOutputValidator)({protocolParameters:e.txBuilderProviders.protocolParameters}),"f");TxBuilder_classPrivateFieldSet(this,eb,e,"f");TxBuilder_classPrivateFieldSet(this,eT,e.logger,"f");TxBuilder_classPrivateFieldSet(this,eE,e.handleProvider,"f");TxBuilder_classPrivateFieldSet(this,ek,[],"f");var t;TxBuilder_classPrivateFieldSet(this,eS,null!==(t=e.txEvaluator)&&void 0!==t?t:new C.GreedyTxEvaluator(e.txBuilderProviders.protocolParameters),"f")}}eb=new WeakMap,eP=new WeakMap,eC=new WeakMap,eS=new WeakMap,eT=new WeakMap,eE=new WeakMap,ek=new WeakMap,eA=new WeakMap,eI=new WeakMap,ej=new WeakMap,ex=new WeakMap,eR=new WeakMap,eB=new WeakMap,eO=new WeakMap,eD=new WeakMap,eM=new WeakMap,eF=new WeakMap,eN=new WeakMap,eH=new WeakMap,eg=new WeakSet,eG=async function _GenericTxBuilder_validateOutputs(){if(this.partialTxBody.outputs){var e;const t=[];await Promise.all(null===(e=this.partialTxBody.outputs)||void 0===e?void 0:e.map(e=>this.buildOutput(e).build().catch(e=>t.push(e))));if(t.length>0){throw t}}},eV=async function _GenericTxBuilder_getOrCreateRewardAccounts(e){let t=[];if(TxBuilder_classPrivateFieldGet(this,eC,"f")){const r=await TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.addresses.get();const{newAddresses:a}=await i.ensureStakeKeys({bip32Account:e,count:TxBuilder_classPrivateFieldGet(this,eC,"f").length,knownAddresses:r,logger:(0,ed.contextLogger)(TxBuilder_classPrivateFieldGet(this,eT,"f"),"getOrCreateRewardAccounts")});await TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.addresses.add(...a);t=A([...r,...a]).map(({rewardAccount:e})=>e)}const s=(0,eh.poll)({logger:(0,ed.contextLogger)(TxBuilder_classPrivateFieldGet(this,eT,"f"),"getOrCreateRewardAccounts"),pollUntil:e=>t.every(t=>e.some(e=>e.address===t)),retryBackoffConfig:{initialInterval:10,maxInterval:100,maxRetries:10},sample:TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.rewardAccounts});try{return await (0,ef.lastValueFrom)(s)}catch{throw new P.OutOfSyncRewardAccounts(t)}},eK=async function _GenericTxBuilder_delegateFirstStakeCredential(){var e;const t=new Map;if(void 0===TxBuilder_classPrivateFieldGet(this,eA,"f")){return Promise.resolve(t)}const r=await TxBuilder_classPrivateFieldGet(this,eb,"f").txBuilderProviders.rewardAccounts();if(!(null==r?void 0:r.length)){throw new Error("Could not find any rewardAccount.")}const a=r[0];this.partialTxBody={...this.partialTxBody,certificates:[]};const s=null===(e=_.Address.fromBech32(a.address).asReward())||void 0===e?void 0:e.getPaymentCredential();if(!s){throw new Error(`Invalid credential ${s}.`)}if(null===TxBuilder_classPrivateFieldGet(this,eA,"f"))if(a.credentialStatus===d.StakeCredentialStatus.Unregistered)TxBuilder_classPrivateFieldGet(this,eT,"f").warn("Stake key not registered.",a.address,a.credentialStatus);else this.partialTxBody.certificates.push({__typename:v.CertificateType.StakeDeregistration,stakeCredential:s});else{if(a.credentialStatus!==d.StakeCredentialStatus.Unregistered)TxBuilder_classPrivateFieldGet(this,eT,"f").debug("Stake key already registered",a.address,a.credentialStatus);else this.partialTxBody.certificates.push({__typename:v.CertificateType.StakeRegistration,stakeCredential:s});t.set(a.address,1);this.partialTxBody.certificates.push({__typename:v.CertificateType.StakeDelegation,poolId:TxBuilder_classPrivateFieldGet(this,eA,"f"),stakeCredential:s})}return t},eL=async function _GenericTxBuilder_delegatePortfolio(){const e=new Map;if(!TxBuilder_classPrivateFieldGet(this,eC,"f")){return e}if(!TxBuilder_classPrivateFieldGet(this,eb,"f").bip32Account)throw new Error("BIP32 account is required to delegate portfolio.");const t=await TxBuilder_classPrivateFieldGet(this,eg,"m",eV).call(this,TxBuilder_classPrivateFieldGet(this,eb,"f").bip32Account);const r=TxBuilder_classPrivateFieldGet(this,eC,"f").filter(e=>{return t.every(t=>{var r,a;return(null===(r=t.delegatee)||void 0===r?void 0:null===(a=r.nextNextEpoch)||void 0===a?void 0:a.id)!==e.id})}).reverse();TxBuilder_classPrivateFieldGet(this,eT,"f").debug("New poolIds requested in portfolio:",r.map(({id:e})=>e));for(const a of t.filter(e=>{var t,r;return e.credentialStatus===d.StakeCredentialStatus.Registered&&(null===(t=e.delegatee)||void 0===t?void 0:t.nextNextEpoch)&&(null===(r=TxBuilder_classPrivateFieldGet(this,eC,"f"))||void 0===r?void 0:r.some(({id:t})=>{var r,a;return t===(null===(r=e.delegatee)||void 0===r?void 0:null===(a=r.nextNextEpoch)||void 0===a?void 0:a.id)}))}))e.set(a.address,TxBuilder_classPrivateFieldGet(this,eC,"f").find(({id:e})=>{var t,r;return e===(null===(t=a.delegatee)||void 0===t?void 0:null===(r=t.nextNextEpoch)||void 0===r?void 0:r.id)}).weight);const s=t.filter(e=>{var t,r;return e.credentialStatus===d.StakeCredentialStatus.Unregistered||!(null===(t=e.delegatee)||void 0===t?void 0:t.nextNextEpoch)||(null===(r=TxBuilder_classPrivateFieldGet(this,eC,"f"))||void 0===r?void 0:r.every(({id:t})=>{var r,a;return t!==(null===(r=e.delegatee)||void 0===r?void 0:null===(a=r.nextNextEpoch)||void 0===a?void 0:a.id)}))}).sort(sortRewardAccountsDelegatedFirst).reverse();if(r.length>s.length){throw new P.InsufficientRewardAccounts(r.map(({id:e})=>e),s.map(({address:e})=>e))}const i=[];while(r.length>0&&s.length>0){const{id:o,weight:n}=r.pop();const c=s.pop();TxBuilder_classPrivateFieldGet(this,eT,"f").debug(`Building delegation certificate for ${o} ${c}`);if(c.credentialStatus!==d.StakeCredentialStatus.Registered&&c.credentialStatus!==d.StakeCredentialStatus.Registering)i.push(v.createStakeRegistrationCert(c.address));i.push(v.createDelegationCert(c.address,o));e.set(c.address,n)}ensureNoDeRegistrationsWithRewardsLocked(s);TxBuilder_classPrivateFieldGet(this,eT,"f").debug(`De-registering ${s.length} stake keys`);for(const l of s)if(l.credentialStatus===d.StakeCredentialStatus.Registered)i.push(v.createStakeDeregistrationCert(l.address,y.inConwayEra?l.deposit:void 0));this.partialTxBody={...this.partialTxBody,certificates:i};return e},ez=async function _GenericTxBuilder_resolveDatum(e){if(TxBuilder_classPrivateFieldGet(this,eB,"f").has(e))return;if(!TxBuilder_classPrivateFieldGet(this,eb,"f").datumResolver)throw new Error("Cant resolve unknown datums. Datum resolver not set.");const t=await TxBuilder_classPrivateFieldGet(this,eb,"f").datumResolver.resolve(e);if(!t)throw new Error(`Could not resolve datum with datum hash ${e}`);TxBuilder_classPrivateFieldGet(this,eB,"f").set(e,t)},eU=async function _GenericTxBuilder_resolveInput(e,t){const r=`${e.txId}#${e.index}`;const a=await TxBuilder_classPrivateFieldGet(this,eb,"f").inputResolver.resolveInput(e);if(!a)throw new Error(`Could not resolve input ${r}`);if(a.scriptReference){const s=w.Script.fromCore(a.scriptReference).hash();TxBuilder_classPrivateFieldGet(this,ex,"f").set(s,a.scriptReference);TxBuilder_classPrivateFieldGet(this,eR,"f").add(s)}const i=a.datum;if(i)if(g.isDatumHash(i)){if(!TxBuilder_classPrivateFieldGet(this,eB,"f").has(i))TxBuilder_classPrivateFieldGet(this,eN,"f").push(i)}else{const n=o.PlutusData.fromCore(i).hash();TxBuilder_classPrivateFieldGet(this,eB,"f").set(n,i);TxBuilder_classPrivateFieldGet(this,eO,"f").add(n)}t.set(r,[{...e,address:a.address},a])},eW=function _GenericTxBuilder_addScriptInput(e,t){let r;if(Array.isArray(e)){r=`${e[0].txId}#${e[0].index}`;TxBuilder_classPrivateFieldGet(this,eI,"f").set(r,e);if(e[1].datum){const a=o.PlutusData.fromCore(e[1].datum).hash();TxBuilder_classPrivateFieldGet(this,eB,"f").set(a,e[1].datum);TxBuilder_classPrivateFieldGet(this,eO,"f").add(a)}if(e[1].datumHash)TxBuilder_classPrivateFieldGet(this,eN,"f").push(e[1].datumHash)}else{r=`${e.txId}#${e.index}`;if(!TxBuilder_classPrivateFieldGet(this,eM,"f").some(t=>t.txId===e.txId&&t.index===e.index))TxBuilder_classPrivateFieldGet(this,eM,"f").push(e)}if(t.script){const s=w.Script.fromCore(t.script).hash();TxBuilder_classPrivateFieldGet(this,ex,"f").set(s,t.script)}if(t.redeemer){var i;null===(i=TxBuilder_classPrivateFieldGet(this,eD,"f").spend)||void 0===i?void 0:i.set(r,{data:t.redeemer,executionUnits:{memory:0,steps:0},index:0,purpose:b.RedeemerPurpose.spend})}if(t.datum)if(g.isDatumHash(t.datum)){if(!TxBuilder_classPrivateFieldGet(this,eB,"f").has(t.datum))TxBuilder_classPrivateFieldGet(this,eN,"f").push(t.datum)}else{const n=o.PlutusData.fromCore(t.datum).hash();TxBuilder_classPrivateFieldGet(this,eB,"f").set(n,t.datum)}}},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/hasCorrectVoteDelegation.js":(e,t,r)=>{"use strict";r.d(t,{hasCorrectVoteDelegation:()=>hasCorrectVoteDelegation});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Governance.js");const hasCorrectVoteDelegation=({dRepDelegatee:e})=>{const t=null==e?void 0:e.delegateRepresentative;return!!t&&(!a.isDrepInfo(t)||t.active)}},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/initializeTx.js":(e,t,r)=>{"use strict";r.d(t,{initializeTx:()=>initializeTx});var a=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/key.js");var s=r("../../node_modules/@cardano-sdk/key-management/dist/esm/util/ownSignatureKeyPaths.js");var i=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Transaction.js");var o=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionBody/TransactionBody.js");var n=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/TransactionWitnessSet.js");var d=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/AuxiliaryData/AuxiliaryData.js");var c=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/util/computeImplicitCoin.js");var l=r("../../node_modules/@cardano-sdk/crypto/dist/esm/Ed25519e/Ed25519PublicKey.js");var u=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/GreedyTxEvaluator.js");var f=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/input-selection/selectionConstraints.js");var h=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/RoundRobinRandomImprove/index.js");var p=r("../../node_modules/@cardano-sdk/input-selection/dist/esm/ChangeAddress/StaticChangeAddressResolver.js");var m=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/AuxiliaryData.js");var _=r("../../node_modules/@cardano-sdk/crypto/dist/esm/blake2b-hash.js");var v=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/CBOR/CborWriter.js");var y=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/Costmdls.js");var w=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/Update/Costmdls/CostModel.js");var g=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/TransactionWitnessSet/Redeemer/Redeemer.js");var b=r("../../node_modules/@cardano-sdk/core/dist/esm/Serialization/PlutusData/PlutusData.js");var P=r("../../node_modules/buffer/index.js")["Buffer"];const C=new Uint8Array([160]);const getCborEncodedArray=e=>{const t=new v.CborWriter;t.writeStartArray(e.length);for(const r of e)t.writeEncodedValue(P.from(r.toCbor(),"hex"));return t.encode()};const hashScriptData=(e,t,r)=>{const a=new v.CborWriter;if(r&&r.length>0&&(!t||0===t.length)){a.writeEncodedValue(C);a.writeEncodedValue(getCborEncodedArray(r));a.writeEncodedValue(C)}else{if(!t||0===t.length)return;a.writeEncodedValue(getCborEncodedArray(t));if(r&&r.length>0)a.writeEncodedValue(getCborEncodedArray(r));a.writeEncodedValue(P.from(e.languageViewsEncoding(),"hex"))}return _.blake2b.hash(P.from(a.encode()).toString("hex"),32)};const computeScriptDataHash=(e,t,r,a)=>{if((!r||0===r.length)&&(!a||0===a.length))return;const s=new y.Costmdls;for(const i of t){const o=e.get(i);if(o)s.insert(new w.CostModel(i,o))}return hashScriptData(s,null==r?void 0:r.map(e=>g.Redeemer.fromCore(e)),null==a?void 0:a.map(e=>b.PlutusData.fromCore(e)))};var S=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Script.js");const T={prices:[205665,812,1,1,1e3,571,0,1,1e3,24177,4,1,1e3,32,117366,10475,4,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,100,100,23e3,100,19537,32,175354,32,46417,4,221973,511,0,1,89141,32,497525,14068,4,2,196500,453240,220,0,1,1,1e3,28662,4,2,245e3,216773,62,1,1060367,12586,1,208512,421,1,187e3,1e3,52998,1,80436,32,43249,32,1e3,32,80556,1,57667,4,1e3,10,197145,156,1,197145,156,1,204924,473,1,208896,511,1,52467,32,64832,32,65493,32,22558,32,16563,32,76511,32,196500,453240,220,0,1,1,69522,11687,0,1,60091,32,196500,453240,220,0,1,1,196500,453240,220,0,1,1,806990,30482,4,1927926,82523,4,265318,0,4,0,85931,32,205665,812,1,1,41182,32,212342,32,31220,32,32696,32,43357,32,32247,32,38314,32,57996947,18975,10],version:S.PlutusLanguageVersion.V1};const E={prices:[205665,812,1,1,1e3,571,0,1,1e3,24177,4,1,1e3,32,117366,10475,4,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,100,100,23e3,100,19537,32,175354,32,46417,4,221973,511,0,1,89141,32,497525,14068,4,2,196500,453240,220,0,1,1,1e3,28662,4,2,245e3,216773,62,1,1060367,12586,1,208512,421,1,187e3,1e3,52998,1,80436,32,43249,32,1e3,32,80556,1,57667,4,1e3,10,197145,156,1,197145,156,1,204924,473,1,208896,511,1,52467,32,64832,32,65493,32,22558,32,16563,32,76511,32,196500,453240,220,0,1,1,69522,11687,0,1,60091,32,196500,453240,220,0,1,1,196500,453240,220,0,1,1,1159724,392670,0,2,806990,30482,4,1927926,82523,4,265318,0,4,0,85931,32,205665,812,1,1,41182,32,212342,32,31220,32,32696,32,43357,32,32247,32,38314,32,35892428,10,57996947,18975,10,38887044,32947,10],version:S.PlutusLanguageVersion.V2};const k={prices:[205665,812,1,1,1e3,571,0,1,1e3,24177,4,1,1e3,32,117366,10475,4,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,23e3,100,100,100,23e3,100,19537,32,175354,32,46417,4,221973,511,0,1,89141,32,497525,14068,4,2,196500,453240,220,0,1,1,1e3,28662,4,2,245e3,216773,62,1,1060367,12586,1,208512,421,1,187e3,1e3,52998,1,80436,32,43249,32,1e3,32,80556,1,57667,4,1e3,10,197145,156,1,197145,156,1,204924,473,1,208896,511,1,52467,32,64832,32,65493,32,22558,32,16563,32,76511,32,196500,453240,220,0,1,1,69522,11687,0,1,60091,32,196500,453240,220,0,1,1,196500,453240,220,0,1,1,1159724,392670,0,2,806990,30482,4,1927926,82523,4,265318,0,4,0,85931,32,205665,812,1,1,41182,32,212342,32,31220,32,32696,32,43357,32,32247,32,38314,32,35190005,10,57996947,18975,10,39121781,32260,10,100,23e3,100,832808,18,3209094,6,331451,1,65990684,23097,18,114242,18,94393407,87060,18,16420089,18,2145798,36,3795345,12,889023,1,204237282,23271,36,129165,36,189977790,85902,36,33012864,36,388443360,1,401885761,72,2331379,72,1927926,82523,4,117366,10475,4,1292075,24469,74,0,1,936157,49601,237,0,1],version:S.PlutusLanguageVersion.V3};const buildCostModels=e=>{const t=new y.Costmdls;for(const r of e){const a=new w.CostModel(r.version,r.prices);t.insert(a)}return t.toCore()};const getDefaultCostModelsForVersions=e=>{const t=[...new Set(e)];const r=t.map(e=>{switch(e){case S.PlutusLanguageVersion.V1:return T;case S.PlutusLanguageVersion.V2:return E;case S.PlutusLanguageVersion.V3:return k;default:throw new Error("Invalid plutus language")}});return buildCostModels(r)};const createPreInputSelectionTxBody=({auxiliaryData:e,withdrawals:t,certificates:r,validityInterval:a,collaterals:s,collateralReturn:i,mint:o,scriptIntegrityHash:n,referenceInputs:d,requiredExtraSignatures:c,outputs:l})=>{return{auxiliaryData:e,txBody:{auxiliaryDataHash:e?m.computeAuxiliaryDataHash(e):void 0,certificates:r,mint:o,outputs:l||[],referenceInputs:d?[...d]:void 0,requiredExtraSignatures:c,scriptIntegrityHash:n,validityInterval:a,...(null==t?void 0:t.length)&&{withdrawals:t},...(null==s?void 0:s.size)&&{collaterals:[...s]},collateralReturn:i}}};const includeChangeAndInputs=({bodyPreInputSelection:e,inputSelection:t,scriptVersions:r,witness:a})=>{const s={...e,fee:t.fee,inputs:[...t.inputs].map(([e])=>e),outputs:[...t.outputs,...t.change]};if(r&&a){const i=getDefaultCostModelsForVersions([...r]);s.scriptIntegrityHash=computeScriptDataHash(i,[...r],a.redeemers,a.datums)}const n=o.TransactionBody.fromCore(s);return{body:s,hash:n.hash()}};const createTransactionInternals=e=>{const{txBody:t}=createPreInputSelectionTxBody({...e});return includeChangeAndInputs({bodyPreInputSelection:t,inputSelection:e.inputSelection})};var A=r("../../node_modules/@cardano-sdk/core/dist/esm/util/time.js");var I=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/types/Block.js");const j=(0,A.Seconds)(7200);const calcTimeOffsetSlotNumber=(e,t,r)=>I.Slot(e+t*r);const ensureValidityInterval=(e,{slotLength:t},r)=>({invalidHereafter:calcTimeOffsetSlotNumber(e,j,t),...r});var x=r("../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/hasCorrectVoteDelegation.js");const dRepPublicKeyHash=async e=>e&&l.Ed25519PublicKey.fromHex(await e.derivePublicKey(a.DREP_KEY_DERIVATION_PATH)).hash().hex();const R=10;const getWithdrawals=(e,t)=>e.filter(e=>(!(t.major>=R)||(0,x.hasCorrectVoteDelegation)(e))&&!!e.rewardBalance).map(({rewardBalance:e,address:t})=>({quantity:e,stakeAddress:t}));const initializeTx=async(e,{txBuilderProviders:t,inputSelector:r,inputResolver:a,bip32Account:l,witnesser:m,logger:_})=>{var v;const[y,w,g,b,P,C]=await Promise.all([t.tip(),t.genesisParameters(),t.protocolParameters(),t.rewardAccounts(),t.utxoAvailable(),t.addresses.get()]);var S;const T=null!==(S=e.txEvaluator)&&void 0!==S?S:new u.GreedyTxEvaluator(()=>t.protocolParameters());r=null!=r?r:(0,h.roundRobinRandomImprove)({changeAddressResolver:new p.StaticChangeAddressResolver(async()=>C)});const{txBody:E,auxiliaryData:k}=createPreInputSelectionTxBody({auxiliaryData:e.auxiliaryData,certificates:e.certificates,collateralReturn:e.collateralReturn,collaterals:e.collaterals,mint:e.mint,outputs:[...e.outputs||[]],referenceInputs:e.referenceInputs,requiredExtraSignatures:e.requiredExtraSignatures,scriptIntegrityHash:e.scriptIntegrityHash,validityInterval:ensureValidityInterval(y.slot,w,null===(v=e.options)||void 0===v?void 0:v.validityInterval),withdrawals:getWithdrawals(b,g.protocolVersion)});const A=e.customizeCb?e.customizeCb({txBody:E}):E;var I;const j=(0,f.defaultSelectionConstraints)({buildTx:async t=>{var r;_.debug("Building TX for selection constraints",t);if(null===(r=A.withdrawals)||void 0===r?void 0:r.length)_.debug("Adding rewards withdrawal in the transaction",A.withdrawals);const c=includeChangeAndInputs({bodyPreInputSelection:A,inputSelection:t,scriptVersions:e.scriptVersions,witness:e.witness});const u=await dRepPublicKeyHash(l);const f=new i.Transaction(o.TransactionBody.fromCore(c.body),n.TransactionWitnessSet.fromCore(e.witness?e.witness:{signatures:new Map}),k?d.AuxiliaryData.fromCore(k):void 0);var h;const p={...u&&{dRepKeyHashHex:u},handleResolutions:null!==(h=e.handleResolutions)&&void 0!==h?h:[],knownAddresses:C,txInKeyPathMap:await s.createTxInKeyPathMap(c.body,C,a)};const v={...e.signingOptions,stubSign:true};const{tx:y}=await m.witness(f,p,v);return y},protocolParameters:g,redeemersByType:null!==(I=e.redeemersByType)&&void 0!==I?I:{},txEvaluator:T});const x=c.computeImplicitCoin(g,{certificates:A.certificates,proposalProcedures:A.proposalProcedures,withdrawals:A.withdrawals});const{selection:R,redeemers:B}=await r.select({constraints:j,implicitValue:{coin:x,mint:A.mint},outputs:new Set(A.outputs),preSelectedUtxo:e.inputs||new Set,utxo:new Set(P)});const O={...e.witness,redeemers:B};const{body:D,hash:M}=includeChangeAndInputs({bodyPreInputSelection:A,inputSelection:R,scriptVersions:e.scriptVersions,witness:O});return{body:D,hash:M,inputSelection:R,redeemers:B}}},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-builder/types.js":(e,t,r)=>{"use strict";r.d(t,{DeRegistrationsWithRewardsLocked:()=>DeRegistrationsWithRewardsLocked,HandleNotFoundError:()=>HandleNotFoundError,InsufficientRewardAccounts:()=>InsufficientRewardAccounts,InvalidConfigurationError:()=>InvalidConfigurationError,InvalidHereafterError:()=>InvalidHereafterError,OutOfSyncRewardAccounts:()=>OutOfSyncRewardAccounts,OutputValidationMinimumCoinError:()=>OutputValidationMinimumCoinError,OutputValidationMissingRequiredError:()=>OutputValidationMissingRequiredError,OutputValidationNegativeAssetQtyError:()=>OutputValidationNegativeAssetQtyError,OutputValidationTokenBundleSizeError:()=>OutputValidationTokenBundleSizeError,TxOutputFailure:()=>i});var a=r("../../node_modules/@cardano-sdk/core/dist/esm/Cardano/Address/Address.js");var s=r("../../node_modules/@cardano-sdk/tx-construction/node_modules/ts-custom-error/dist/custom-error.mjs");var i;(function(e){e["MinimumCoin"]="Minimum coin not met";e["TokenBundleSizeExceedsLimit"]="Token Bundle Exceeds Limit";e["MissingRequiredFields"]="Mandatory fields address or coin are missing";e["MissingHandleProviderError"]="Missing 'HandleProvider'";e["HandleNotFound"]="Handle not found";e["NegativeAssetQty"]="Negative or zero asset quantity"})(i||(i={}));var o;(function(e){e["Expired"]="Transaction expired"})(o||(o={}));class InvalidConfigurationError extends s.CustomError{constructor(e){super(e);this.message=e}}class HandleNotFoundError extends s.CustomError{constructor(e){super(i.HandleNotFound);this.txOut=e}}class InsufficientRewardAccounts extends s.CustomError{constructor(e,t){const r=`Internal error: insufficient stake keys: ${t.length}. Required: ${e.length}.
    Pool ids: ${e.join(",")}; Reward accounts: ${t.length}`;super(r)}}class DeRegistrationsWithRewardsLocked extends s.CustomError{constructor(e){super("Tried to de-register reward accounts that have not delegated vote but have rewards");this.keysWithLockedRewards=e.map(({address:e})=>{var t;return{cbor:null===(t=a.Address.fromString(e))||void 0===t?void 0:t.toBytes(),key:e}})}}class OutOfSyncRewardAccounts extends s.CustomError{constructor(e){const t=`Timeout while waiting for reward accounts provider to contain new reward accounts: ${e}`;super(t)}}class OutputValidationMissingRequiredError extends s.CustomError{constructor(e){super(i.MissingRequiredFields);this.txOut=e}}class OutputValidationMinimumCoinError extends s.CustomError{constructor(e,t){super(i.MinimumCoin);this.txOut=e;this.outputValidation=t}}class OutputValidationTokenBundleSizeError extends s.CustomError{constructor(e,t){super(i.TokenBundleSizeExceedsLimit);this.txOut=e;this.outputValidation=t}}class OutputValidationNegativeAssetQtyError extends s.CustomError{constructor(e,t){super(i.NegativeAssetQty);this.txOut=e;this.outputValidation=t}}class InvalidHereafterError extends s.CustomError{constructor(){super(o.Expired)}}},"../../node_modules/@cardano-sdk/tx-construction/dist/esm/tx-metadata/cip20.js":(e,t,r)=>{"use strict";r.d(t,{toTxMetadata:()=>toTxMetadata});var a=r("../../node_modules/@cardano-sdk/tx-construction/node_modules/ts-custom-error/dist/custom-error.mjs");var s=r("../../node_modules/@cardano-sdk/util/dist/esm/string.js");const i=674n;const o=64;var n;(function(e){e["wrongType"]="WrongType";e["oversize"]="Oversize"})(n||(n={}));class MessageValidationError extends a.CustomError{constructor(e){const t=[e.entries()].map(([[e,t]])=>`${t.failure}: ${e.slice(0,Math.max(0,o+1))}`);super(`The provided message array contains validation errors | ${t}`)}}const validateMessage=e=>{if("string"!=typeof e)return{failure:n.wrongType,valid:false};if(s.StringUtils.byteSize(e)>o)return{failure:n.oversize,valid:false};return{valid:true}};const toTxMetadata=e=>{const t="string"==typeof e?s.StringUtils.chunkByBytes(e,o):e.messages;const r=new Map;for(const a of t){const n=validateMessage(a);if(!n.valid)r.set(a,n)}if(r.size>0)throw new MessageValidationError(r);return new Map([[i,new Map([["msg",t]])]])}},"../../node_modules/@cardano-sdk/tx-construction/node_modules/ts-custom-error/dist/custom-error.mjs":(e,t,r)=>{"use strict";r.r(t);r.d(t,{CustomError:()=>s,customErrorFactory:()=>customErrorFactory});function fixProto(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function fixStack(e,t){if(void 0===t)t=e.constructor;var r=Error.captureStackTrace;r&&r(e,t)}var a=function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){a(CustomError,e);function CustomError(t){var r=this.constructor;var a=e.call(this,t)||this;Object.defineProperty(a,"name",{value:r.name,enumerable:false,configurable:true});fixProto(a,r.prototype);fixStack(a);return a}return CustomError}(Error);var __spreadArrays=function(){var e=arguments;for(var t=0,r=0,a=arguments.length;r<a;r++)t+=e[r].length;for(var s=Array(t),i=0,r=0;r<a;r++){for(var o=arguments[r],n=0,d=o.length;n<d;n++,i++)s[i]=o[n]}return s};function customErrorFactory(e,t){if(void 0===t)t=Error;function CustomError(){var r=arguments;var a=[];for(var s=0;s<arguments.length;s++)a[s]=r[s];if(!(this instanceof CustomError)){return new(CustomError.bind.apply(CustomError,__spreadArrays([void 0],a)))}t.apply(this,a);Object.defineProperty(this,"name",{value:e.name||t.name,enumerable:false,configurable:true});e.apply(this,a);fixStack(this,CustomError)}return Object.defineProperties(CustomError,{prototype:{value:Object.create(t.prototype,{constructor:{value:CustomError,writable:true,configurable:true}})}})}}}]);
//# sourceMappingURL=228.js.map