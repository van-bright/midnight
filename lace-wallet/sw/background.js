(()=>{var t={"../../node_modules/@sentry/core/build/esm/asyncContext/index.js":(t,n,r)=>{"use strict";r.d(n,{getAsyncContextStrategy:()=>getAsyncContextStrategy});var s=r("../../node_modules/@sentry/core/build/esm/carrier.js");var o=r("../../node_modules/@sentry/utils/build/esm/is.js");var i=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");var a=r("../../node_modules/@sentry/core/build/esm/scope.js");function getDefaultCurrentScope(){return(0,i.getGlobalSingleton)("defaultCurrentScope",()=>new a.Scope)}function getDefaultIsolationScope(){return(0,i.getGlobalSingleton)("defaultIsolationScope",()=>new a.Scope)}class AsyncContextStack{constructor(t,n){let r;r=t||new a.Scope;let s;s=n||new a.Scope;this._stack=[{scope:r}];this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){this._popScope();throw s}if((0,o.isThenable)(r)){return r.then(t=>{this._popScope();return t},t=>{this._popScope();throw t})}this._popScope();return r}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();this._stack.push({client:this.getClient(),scope:t});return t}_popScope(){if(this._stack.length<=1)return false;return!!this._stack.pop()}}function getAsyncContextStack(){const t=(0,s.getMainCarrier)();const n=(0,s.getSentryCarrier)(t);return n.stack=n.stack||new AsyncContextStack(getDefaultCurrentScope(),getDefaultIsolationScope())}function withScope(t){return getAsyncContextStack().withScope(t)}function withSetScope(t,n){const r=getAsyncContextStack();return r.withScope(()=>{r.getStackTop().scope=t;return n(t)})}function withIsolationScope(t){return getAsyncContextStack().withScope(()=>{return t(getAsyncContextStack().getIsolationScope())})}function getStackAsyncContextStrategy(){return{withIsolationScope,withScope,withSetScope,withSetIsolationScope:(t,n)=>{return withIsolationScope(n)},getCurrentScope:()=>getAsyncContextStack().getScope(),getIsolationScope:()=>getAsyncContextStack().getIsolationScope()}}function setAsyncContextStrategy(t){const n=getMainCarrier();const r=getSentryCarrier(n);r.acs=t}function getAsyncContextStrategy(t){const n=(0,s.getSentryCarrier)(t);if(n.acs){return n.acs}return getStackAsyncContextStrategy()}},"../../node_modules/@sentry/core/build/esm/carrier.js":(t,n,r)=>{"use strict";r.d(n,{getMainCarrier:()=>getMainCarrier,getSentryCarrier:()=>getSentryCarrier});var s=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");var o=r("../../node_modules/@sentry/utils/build/esm/version.js");function getMainCarrier(){getSentryCarrier(s.GLOBAL_OBJ);return s.GLOBAL_OBJ}function getSentryCarrier(t){const n=t.__SENTRY__=t.__SENTRY__||{};n.version=n.version||o.SDK_VERSION;return n[o.SDK_VERSION]=n[o.SDK_VERSION]||{}}},"../../node_modules/@sentry/core/build/esm/constants.js":(t,n,r)=>{"use strict";r.d(n,{DEFAULT_ENVIRONMENT:()=>s});const s="production"},"../../node_modules/@sentry/core/build/esm/currentScopes.js":(t,n,r)=>{"use strict";r.d(n,{getClient:()=>getClient,getCurrentScope:()=>getCurrentScope,getGlobalScope:()=>getGlobalScope,getIsolationScope:()=>getIsolationScope,withScope:()=>withScope});var s=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");var o=r("../../node_modules/@sentry/core/build/esm/asyncContext/index.js");var i=r("../../node_modules/@sentry/core/build/esm/carrier.js");var a=r("../../node_modules/@sentry/core/build/esm/scope.js");function getCurrentScope(){const t=(0,i.getMainCarrier)();const n=(0,o.getAsyncContextStrategy)(t);return n.getCurrentScope()}function getIsolationScope(){const t=(0,i.getMainCarrier)();const n=(0,o.getAsyncContextStrategy)(t);return n.getIsolationScope()}function getGlobalScope(){return(0,s.getGlobalSingleton)("globalScope",()=>new a.Scope)}function withScope(...t){const n=(0,i.getMainCarrier)();const r=(0,o.getAsyncContextStrategy)(n);if(2===t.length){const[s,a]=t;if(!s){return r.withScope(a)}return r.withSetScope(s,a)}return r.withScope(t[0])}function withIsolationScope(...t){const n=getMainCarrier();const r=getAsyncContextStrategy(n);if(2===t.length){const[s,o]=t;if(!s){return r.withIsolationScope(o)}return r.withSetIsolationScope(s,o)}return r.withIsolationScope(t[0])}function getClient(){return getCurrentScope().getClient()}},"../../node_modules/@sentry/core/build/esm/debug-build.js":(t,n,r)=>{"use strict";r.d(n,{DEBUG_BUILD:()=>s});const s="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},"../../node_modules/@sentry/core/build/esm/exports.js":(t,n,r)=>{"use strict";r.d(n,{addEventProcessor:()=>addEventProcessor,captureEvent:()=>captureEvent,captureException:()=>captureException,captureSession:()=>captureSession,setContext:()=>setContext,setUser:()=>setUser,startSession:()=>startSession});var s=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");var o=r("../../node_modules/@sentry/core/build/esm/constants.js");var i=r("../../node_modules/@sentry/core/build/esm/currentScopes.js");var a=r("../../node_modules/@sentry/core/build/esm/session.js");var c=r("../../node_modules/@sentry/core/build/esm/utils/prepareEvent.js");function captureException(t,n){return(0,i.getCurrentScope)().captureException(t,(0,c.parseEventHintOrCaptureContext)(n))}function captureMessage(t,n){const r="string"==typeof n?n:void 0;const s="string"!=typeof n?{captureContext:n}:void 0;return getCurrentScope().captureMessage(t,r,s)}function captureEvent(t,n){return(0,i.getCurrentScope)().captureEvent(t,n)}function setContext(t,n){(0,i.getIsolationScope)().setContext(t,n)}function setExtras(t){getIsolationScope().setExtras(t)}function setExtra(t,n){getIsolationScope().setExtra(t,n)}function setTags(t){getIsolationScope().setTags(t)}function setTag(t,n){getIsolationScope().setTag(t,n)}function setUser(t){(0,i.getIsolationScope)().setUser(t)}function lastEventId(){return getIsolationScope().lastEventId()}function captureCheckIn(t,n){const r=getCurrentScope();const s=getClient();if(s)if(s.captureCheckIn){return s.captureCheckIn(t,n,r)}else{DEBUG_BUILD&&logger.warn("Cannot capture check-in. Client does not support sending check-ins.")}else DEBUG_BUILD&&logger.warn("Cannot capture check-in. No client defined.");return uuid4()}function withMonitor(t,n,r){const s=captureCheckIn({monitorSlug:t,status:"in_progress"},r);const o=timestampInSeconds();function finishCheckIn(n){captureCheckIn({monitorSlug:t,status:n,checkInId:s,duration:timestampInSeconds()-o})}return withIsolationScope(()=>{let t;try{t=n()}catch(r){finishCheckIn("error");throw r}if(isThenable(t))Promise.resolve(t).then(()=>{finishCheckIn("ok")},()=>{finishCheckIn("error")});else finishCheckIn("ok");return t})}async function flush(t){const n=getClient();if(n){return n.flush(t)}DEBUG_BUILD&&logger.warn("Cannot flush events. No client defined.");return Promise.resolve(false)}async function close(t){const n=getClient();if(n){return n.close(t)}DEBUG_BUILD&&logger.warn("Cannot flush events and disable SDK. No client defined.");return Promise.resolve(false)}function isInitialized(){return!!getClient()}function isEnabled(){const t=getClient();return!!t&&false!==t.getOptions().enabled&&!!t.getTransport()}function addEventProcessor(t){(0,i.getIsolationScope)().addEventProcessor(t)}function startSession(t){const n=(0,i.getClient)();const r=(0,i.getIsolationScope)();const c=(0,i.getCurrentScope)();const{release:l,environment:u=o.DEFAULT_ENVIRONMENT}=n&&n.getOptions()||{};const{userAgent:d}=s.GLOBAL_OBJ.navigator||{};const p=(0,a.makeSession)({release:l,environment:u,user:c.getUser()||r.getUser(),...d&&{userAgent:d},...t});const f=r.getSession();if(f&&"ok"===f.status)(0,a.updateSession)(f,{status:"exited"});endSession();r.setSession(p);c.setSession(p);return p}function endSession(){const t=(0,i.getIsolationScope)();const n=(0,i.getCurrentScope)();const r=n.getSession()||t.getSession();if(r)(0,a.closeSession)(r);_sendSessionUpdate();t.setSession();n.setSession()}function _sendSessionUpdate(){const t=(0,i.getIsolationScope)();const n=(0,i.getCurrentScope)();const r=(0,i.getClient)();const s=n.getSession()||t.getSession();if(s&&r)r.captureSession(s)}function captureSession(t=false){if(t){endSession();return}_sendSessionUpdate()}},"../../node_modules/@sentry/core/build/esm/metrics/metric-summary.js":(t,n,r)=>{"use strict";r.d(n,{getMetricSummaryJsonForSpan:()=>getMetricSummaryJsonForSpan});var s=r("../../node_modules/@sentry/utils/build/esm/object.js");const o="_sentryMetrics";function getMetricSummaryJsonForSpan(t){const n=t[o];if(!n){return}const r={};for(const[,[i,a]]of n){const c=r[i]||(r[i]=[]);c.push((0,s.dropUndefinedKeys)(a))}return r}function updateMetricSummaryOnSpan(t,n,r,s,i,a,c){const l=t[o];const u=l||(t[o]=new Map);const d=`${n}:${r}@${i}`;const p=u.get(c);if(p){const[,f]=p;u.set(c,[d,{min:Math.min(f.min,s),max:Math.max(f.max,s),count:f.count+=1,sum:f.sum+=s,tags:f.tags}])}else{u.set(c,[d,{min:s,max:s,count:1,sum:s,tags:a}])}}},"../../node_modules/@sentry/core/build/esm/scope.js":(t,n,r)=>{"use strict";r.d(n,{Scope:()=>p});var s=r("../../node_modules/@sentry/utils/build/esm/propagationContext.js");var o=r("../../node_modules/@sentry/utils/build/esm/is.js");var i=r("../../node_modules/@sentry/utils/build/esm/time.js");var a=r("../../node_modules/@sentry/utils/build/esm/misc.js");var c=r("../../node_modules/@sentry/utils/build/esm/logger.js");var l=r("../../node_modules/@sentry/core/build/esm/session.js");var u=r("../../node_modules/@sentry/core/build/esm/utils/spanOnScope.js");const d=100;class ScopeClass{constructor(){this._notifyingListeners=false;this._scopeListeners=[];this._eventProcessors=[];this._breadcrumbs=[];this._attachments=[];this._user={};this._tags={};this._extra={};this._contexts={};this._sdkProcessingMetadata={};this._propagationContext=(0,s.generatePropagationContext)()}clone(){const t=new ScopeClass;t._breadcrumbs=[...this._breadcrumbs];t._tags={...this._tags};t._extra={...this._extra};t._contexts={...this._contexts};t._user=this._user;t._level=this._level;t._session=this._session;t._transactionName=this._transactionName;t._fingerprint=this._fingerprint;t._eventProcessors=[...this._eventProcessors];t._requestSession=this._requestSession;t._attachments=[...this._attachments];t._sdkProcessingMetadata={...this._sdkProcessingMetadata};t._propagationContext={...this._propagationContext};t._client=this._client;t._lastEventId=this._lastEventId;(0,u._setSpanForScope)(t,(0,u._getSpanForScope)(this));return t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){this._eventProcessors.push(t);return this}setUser(t){this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0};if(this._session)(0,l.updateSession)(this._session,{user:t});this._notifyScopeListeners();return this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){this._requestSession=t;return this}setTags(t){this._tags={...this._tags,...t};this._notifyScopeListeners();return this}setTag(t,n){this._tags={...this._tags,[t]:n};this._notifyScopeListeners();return this}setExtras(t){this._extra={...this._extra,...t};this._notifyScopeListeners();return this}setExtra(t,n){this._extra={...this._extra,[t]:n};this._notifyScopeListeners();return this}setFingerprint(t){this._fingerprint=t;this._notifyScopeListeners();return this}setLevel(t){this._level=t;this._notifyScopeListeners();return this}setTransactionName(t){this._transactionName=t;this._notifyScopeListeners();return this}setContext(t,n){if(null===n)delete this._contexts[t];else this._contexts[t]=n;this._notifyScopeListeners();return this}setSession(t){if(t)this._session=t;else delete this._session;this._notifyScopeListeners();return this}getSession(){return this._session}update(t){if(!t){return this}const n="function"==typeof t?t(this):t;const[r,s]=n instanceof p?[n.getScopeData(),n.getRequestSession()]:(0,o.isPlainObject)(n)?[t,t.requestSession]:[];const{tags:i,extra:a,user:c,contexts:l,level:u,fingerprint:d=[],propagationContext:f}=r||{};this._tags={...this._tags,...i};this._extra={...this._extra,...a};this._contexts={...this._contexts,...l};if(c&&Object.keys(c).length)this._user=c;if(u)this._level=u;if(d.length)this._fingerprint=d;if(f)this._propagationContext=f;if(s)this._requestSession=s;return this}clear(){this._breadcrumbs=[];this._tags={};this._extra={};this._user={};this._contexts={};this._level=void 0;this._transactionName=void 0;this._fingerprint=void 0;this._requestSession=void 0;this._session=void 0;(0,u._setSpanForScope)(this,void 0);this._attachments=[];this._propagationContext=(0,s.generatePropagationContext)();this._notifyScopeListeners();return this}addBreadcrumb(t,n){const r="number"==typeof n?n:d;if(r<=0){return this}const s={timestamp:(0,i.dateTimestampInSeconds)(),...t};const o=this._breadcrumbs;o.push(s);this._breadcrumbs=o.length>r?o.slice(-r):o;this._notifyScopeListeners();return this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){this._breadcrumbs=[];this._notifyScopeListeners();return this}addAttachment(t){this._attachments.push(t);return this}clearAttachments(){this._attachments=[];return this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,u._getSpanForScope)(this)}}setSDKProcessingMetadata(t){this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t};return this}setPropagationContext(t){this._propagationContext=t;return this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:(0,a.uuid4)();if(!this._client){c.logger.warn("No client configured on scope - will not capture exception!");return r}const s=new Error("Sentry syntheticException");this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this);return r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:(0,a.uuid4)();if(!this._client){c.logger.warn("No client configured on scope - will not capture message!");return s}const o=new Error(t);this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this);return s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:(0,a.uuid4)();if(!this._client){c.logger.warn("No client configured on scope - will not capture event!");return r}this._client.captureEvent(t,{...n,event_id:r},this);return r}_notifyScopeListeners(){if(!this._notifyingListeners){this._notifyingListeners=true;this._scopeListeners.forEach(t=>{t(this)});this._notifyingListeners=false}}}const p=ScopeClass},"../../node_modules/@sentry/core/build/esm/semanticAttributes.js":(t,n,r)=>{"use strict";r.d(n,{SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME:()=>p,SEMANTIC_ATTRIBUTE_PROFILE_ID:()=>d,SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON:()=>c,SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT:()=>l,SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE:()=>u,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>i,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>a,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>o,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>s});const s="sentry.source";const o="sentry.sample_rate";const i="sentry.op";const a="sentry.origin";const c="sentry.idle_span_finish_reason";const l="sentry.measurement_unit";const u="sentry.measurement_value";const d="sentry.profile_id";const p="sentry.exclusive_time";const f="cache.hit";const m="cache.key";const g="cache.item_size";const h="http.request.method";const _="url.full"},"../../node_modules/@sentry/core/build/esm/session.js":(t,n,r)=>{"use strict";r.d(n,{closeSession:()=>closeSession,makeSession:()=>makeSession,updateSession:()=>updateSession});var s=r("../../node_modules/@sentry/utils/build/esm/time.js");var o=r("../../node_modules/@sentry/utils/build/esm/misc.js");var i=r("../../node_modules/@sentry/utils/build/esm/object.js");function makeSession(t){const n=(0,s.timestampInSeconds)();const r={sid:(0,o.uuid4)(),init:true,timestamp:n,started:n,duration:0,status:"ok",errors:0,ignoreDuration:false,toJSON:()=>sessionToJSON(r)};if(t)updateSession(r,t);return r}function updateSession(t,n={}){if(n.user){if(!t.ipAddress&&n.user.ip_address)t.ipAddress=n.user.ip_address;if(!t.did&&!n.did)t.did=n.user.id||n.user.email||n.user.username}t.timestamp=n.timestamp||(0,s.timestampInSeconds)();if(n.abnormal_mechanism)t.abnormal_mechanism=n.abnormal_mechanism;if(n.ignoreDuration)t.ignoreDuration=n.ignoreDuration;if(n.sid)t.sid=32===n.sid.length?n.sid:(0,o.uuid4)();if(void 0!==n.init)t.init=n.init;if(!t.did&&n.did)t.did=`${n.did}`;if("number"==typeof n.started)t.started=n.started;if(t.ignoreDuration)t.duration=void 0;else if("number"==typeof n.duration)t.duration=n.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}if(n.release)t.release=n.release;if(n.environment)t.environment=n.environment;if(!t.ipAddress&&n.ipAddress)t.ipAddress=n.ipAddress;if(!t.userAgent&&n.userAgent)t.userAgent=n.userAgent;if("number"==typeof n.errors)t.errors=n.errors;if(n.status)t.status=n.status}function closeSession(t,n){let r={};if(n)r={status:n};else if("ok"===t.status)r={status:"exited"};updateSession(t,r)}function sessionToJSON(t){return(0,i.dropUndefinedKeys)({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}},"../../node_modules/@sentry/core/build/esm/tracing/dynamicSamplingContext.js":(t,n,r)=>{"use strict";r.d(n,{freezeDscOnSpan:()=>freezeDscOnSpan,getDynamicSamplingContextFromClient:()=>getDynamicSamplingContextFromClient,getDynamicSamplingContextFromSpan:()=>getDynamicSamplingContextFromSpan});var s=r("../../node_modules/@sentry/utils/build/esm/object.js");var o=r("../../node_modules/@sentry/utils/build/esm/baggage.js");var i=r("../../node_modules/@sentry/core/build/esm/constants.js");var a=r("../../node_modules/@sentry/core/build/esm/currentScopes.js");var c=r("../../node_modules/@sentry/core/build/esm/semanticAttributes.js");var l=r("../../node_modules/@sentry/core/build/esm/utils/hasTracingEnabled.js");var u=r("../../node_modules/@sentry/core/build/esm/utils/spanUtils.js");const d="_frozenDsc";function freezeDscOnSpan(t,n){const r=t;(0,s.addNonEnumerableProperty)(r,d,n)}function getDynamicSamplingContextFromClient(t,n){const r=n.getOptions();const{publicKey:o}=n.getDsn()||{};const a=(0,s.dropUndefinedKeys)({environment:r.environment||i.DEFAULT_ENVIRONMENT,release:r.release,public_key:o,trace_id:t});n.emit("createDsc",a);return a}function getDynamicSamplingContextFromSpan(t){const n=(0,a.getClient)();if(!n){return{}}const r=getDynamicSamplingContextFromClient((0,u.spanToJSON)(t).trace_id||"",n);const s=(0,u.getRootSpan)(t);const i=s[d];if(i){return i}const p=s.spanContext().traceState;const f=p&&p.get("sentry.dsc");const m=f&&(0,o.baggageHeaderToDynamicSamplingContext)(f);if(m){return m}const g=(0,u.spanToJSON)(s);const h=g.data||{};const _=h[c.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];if(null!=_)r.sample_rate=`${_}`;const v=h[c.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const b=g.description;if("url"!==v&&b)r.transaction=b;if((0,l.hasTracingEnabled)())r.sampled=String((0,u.spanIsSampled)(s));n.emit("createDsc",r,s);return r}function spanToBaggageHeader(t){const n=getDynamicSamplingContextFromSpan(t);return dynamicSamplingContextToSentryBaggageHeader(n)}},"../../node_modules/@sentry/core/build/esm/tracing/spanstatus.js":(t,n,r)=>{"use strict";r.d(n,{SPAN_STATUS_ERROR:()=>i,SPAN_STATUS_OK:()=>o,SPAN_STATUS_UNSET:()=>s,setHttpStatus:()=>setHttpStatus});const s=0;const o=1;const i=2;function getSpanStatusFromHttpCode(t){if(t<400&&t>=100){return{code:o}}if(t>=400&&t<500){switch(t){case 401:return{code:i,message:"unauthenticated"};case 403:return{code:i,message:"permission_denied"};case 404:return{code:i,message:"not_found"};case 409:return{code:i,message:"already_exists"};case 413:return{code:i,message:"failed_precondition"};case 429:return{code:i,message:"resource_exhausted"};case 499:return{code:i,message:"cancelled"};default:return{code:i,message:"invalid_argument"}}}if(t>=500&&t<600){switch(t){case 501:return{code:i,message:"unimplemented"};case 503:return{code:i,message:"unavailable"};case 504:return{code:i,message:"deadline_exceeded"};default:return{code:i,message:"internal_error"}}}return{code:i,message:"unknown_error"}}function setHttpStatus(t,n){t.setAttribute("http.response.status_code",n);const r=getSpanStatusFromHttpCode(n);if("unknown_error"!==r.message)t.setStatus(r)}},"../../node_modules/@sentry/core/build/esm/utils/hasTracingEnabled.js":(t,n,r)=>{"use strict";r.d(n,{hasTracingEnabled:()=>hasTracingEnabled});var s=r("../../node_modules/@sentry/core/build/esm/currentScopes.js");function hasTracingEnabled(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__){return false}const n=(0,s.getClient)();const r=t||n&&n.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}},"../../node_modules/@sentry/core/build/esm/utils/prepareEvent.js":(t,n,r)=>{"use strict";r.d(n,{parseEventHintOrCaptureContext:()=>parseEventHintOrCaptureContext,prepareEvent:()=>prepareEvent});var s=r("../../node_modules/@sentry/utils/build/esm/misc.js");var o=r("../../node_modules/@sentry/utils/build/esm/time.js");var i=r("../../node_modules/@sentry/utils/build/esm/string.js");var a=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");var c=r("../../node_modules/@sentry/utils/build/esm/normalize.js");var l=r("../../node_modules/@sentry/core/build/esm/constants.js");var u=r("../../node_modules/@sentry/core/build/esm/currentScopes.js");var d=r("../../node_modules/@sentry/utils/build/esm/syncpromise.js");var p=r("../../node_modules/@sentry/utils/build/esm/logger.js");var f=r("../../node_modules/@sentry/utils/build/esm/is.js");var m=r("../../node_modules/@sentry/core/build/esm/debug-build.js");function notifyEventProcessors(t,n,r,s=0){return new d.SyncPromise((o,i)=>{const a=t[s];if(null===n||"function"!=typeof a)o(n);else{const c=a({...n},r);m.DEBUG_BUILD&&a.id&&null===c&&p.logger.log(`Event processor "${a.id}" dropped event`);if((0,f.isThenable)(c))void c.then(n=>notifyEventProcessors(t,n,r,s+1).then(o)).then(null,i);else void notifyEventProcessors(t,c,r,s+1).then(o).then(null,i)}})}var g=r("../../node_modules/@sentry/core/build/esm/scope.js");var h=r("../../node_modules/@sentry/utils/build/esm/object.js");var _=r("../../node_modules/@sentry/core/build/esm/tracing/dynamicSamplingContext.js");var v=r("../../node_modules/@sentry/core/build/esm/utils/spanUtils.js");function applyScopeDataToEvent(t,n){const{fingerprint:r,span:s,breadcrumbs:o,sdkProcessingMetadata:i}=n;applyDataToEvent(t,n);if(s)applySpanToEvent(t,s);applyFingerprintToEvent(t,r);applyBreadcrumbsToEvent(t,o);applySdkMetadataToEvent(t,i)}function mergeScopeData(t,n){const{extra:r,tags:s,user:o,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:p,propagationContext:f,transactionName:m,span:g}=n;mergeAndOverwriteScopeData(t,"extra",r);mergeAndOverwriteScopeData(t,"tags",s);mergeAndOverwriteScopeData(t,"user",o);mergeAndOverwriteScopeData(t,"contexts",i);mergeAndOverwriteScopeData(t,"sdkProcessingMetadata",c);if(a)t.level=a;if(m)t.transactionName=m;if(g)t.span=g;if(l.length)t.breadcrumbs=[...t.breadcrumbs,...l];if(u.length)t.fingerprint=[...t.fingerprint,...u];if(d.length)t.eventProcessors=[...t.eventProcessors,...d];if(p.length)t.attachments=[...t.attachments,...p];t.propagationContext={...t.propagationContext,...f}}function mergeAndOverwriteScopeData(t,n,r){if(r&&Object.keys(r).length){t[n]={...t[n]};for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s))t[n][s]=r[s]}}function applyDataToEvent(t,n){const{extra:r,tags:s,user:o,contexts:i,level:a,transactionName:c}=n;const l=(0,h.dropUndefinedKeys)(r);if(l&&Object.keys(l).length)t.extra={...l,...t.extra};const u=(0,h.dropUndefinedKeys)(s);if(u&&Object.keys(u).length)t.tags={...u,...t.tags};const d=(0,h.dropUndefinedKeys)(o);if(d&&Object.keys(d).length)t.user={...d,...t.user};const p=(0,h.dropUndefinedKeys)(i);if(p&&Object.keys(p).length)t.contexts={...p,...t.contexts};if(a)t.level=a;if(c&&"transaction"!==t.type)t.transaction=c}function applyBreadcrumbsToEvent(t,n){const r=[...t.breadcrumbs||[],...n];t.breadcrumbs=r.length?r:void 0}function applySdkMetadataToEvent(t,n){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...n}}function applySpanToEvent(t,n){t.contexts={trace:(0,v.spanToTraceContext)(n),...t.contexts};t.sdkProcessingMetadata={dynamicSamplingContext:(0,_.getDynamicSamplingContextFromSpan)(n),...t.sdkProcessingMetadata};const r=(0,v.getRootSpan)(n);const s=(0,v.spanToJSON)(r).description;if(s&&!t.transaction&&"transaction"===t.type)t.transaction=s}function applyFingerprintToEvent(t,n){t.fingerprint=t.fingerprint?(0,s.arrayify)(t.fingerprint):[];if(n)t.fingerprint=t.fingerprint.concat(n);if(t.fingerprint&&!t.fingerprint.length)delete t.fingerprint}function prepareEvent(t,n,r,i,a,c){const{normalizeDepth:l=3,normalizeMaxBreadth:d=1e3}=t;const p={...n,event_id:n.event_id||r.event_id||(0,s.uuid4)(),timestamp:n.timestamp||(0,o.dateTimestampInSeconds)()};const f=r.integrations||t.integrations.map(t=>t.name);applyClientOptions(p,t);applyIntegrationsMetadata(p,f);if(a)a.emit("applyFrameMetadata",n);if(void 0===n.type)applyDebugIds(p,t.stackParser);const m=getFinalScope(i,r.captureContext);if(r.mechanism)(0,s.addExceptionMechanism)(p,r.mechanism);const g=a?a.getEventProcessors():[];const h=(0,u.getGlobalScope)().getScopeData();if(c){const _=c.getScopeData();mergeScopeData(h,_)}if(m){const v=m.getScopeData();mergeScopeData(h,v)}const b=[...r.attachments||[],...h.attachments];if(b.length)r.attachments=b;applyScopeDataToEvent(p,h);const T=[...g,...h.eventProcessors];const w=notifyEventProcessors(T,p,r);return w.then(t=>{if(t)applyDebugMeta(t);if("number"==typeof l&&l>0){return normalizeEvent(t,l,d)}return t})}function applyClientOptions(t,n){const{environment:r,release:s,dist:o,maxValueLength:a=250}=n;if(!("environment"in t))t.environment="environment"in n?r:l.DEFAULT_ENVIRONMENT;if(void 0===t.release&&void 0!==s)t.release=s;if(void 0===t.dist&&void 0!==o)t.dist=o;if(t.message)t.message=(0,i.truncate)(t.message,a);const c=t.exception&&t.exception.values&&t.exception.values[0];if(c&&c.value)c.value=(0,i.truncate)(c.value,a);const u=t.request;if(u&&u.url)u.url=(0,i.truncate)(u.url,a)}const b=new WeakMap;function applyDebugIds(t,n){const r=a.GLOBAL_OBJ._sentryDebugIds;if(!r){return}let s;const o=b.get(n);if(o)s=o;else{s=new Map;b.set(n,s)}const i=Object.entries(r).reduce((t,[r,o])=>{let i;const a=s.get(r);if(a)i=a;else{i=n(r);s.set(r,i)}for(let c=i.length-1;c>=0;c--){const l=i[c];if(l.filename){t[l.filename]=o;break}}return t},{});try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{if(t.filename)t.debug_id=i[t.filename]})})}catch(c){}}function applyDebugMeta(t){const n={};try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{if(t.debug_id){if(t.abs_path)n[t.abs_path]=t.debug_id;else if(t.filename)n[t.filename]=t.debug_id;delete t.debug_id}})})}catch(r){}if(0===Object.keys(n).length){return}t.debug_meta=t.debug_meta||{};t.debug_meta.images=t.debug_meta.images||[];const s=t.debug_meta.images;Object.entries(n).forEach(([t,n])=>{s.push({type:"sourcemap",code_file:t,debug_id:n})})}function applyIntegrationsMetadata(t,n){if(n.length>0){t.sdk=t.sdk||{};t.sdk.integrations=[...t.sdk.integrations||[],...n]}}function normalizeEvent(t,n,r){if(!t){return null}const s={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:(0,c.normalize)(t.data,n,r)}}))},...t.user&&{user:(0,c.normalize)(t.user,n,r)},...t.contexts&&{contexts:(0,c.normalize)(t.contexts,n,r)},...t.extra&&{extra:(0,c.normalize)(t.extra,n,r)}};if(t.contexts&&t.contexts.trace&&s.contexts){s.contexts.trace=t.contexts.trace;if(t.contexts.trace.data)s.contexts.trace.data=(0,c.normalize)(t.contexts.trace.data,n,r)}if(t.spans)s.spans=t.spans.map(t=>{return{...t,...t.data&&{data:(0,c.normalize)(t.data,n,r)}}});return s}function getFinalScope(t,n){if(!n){return t}const r=t?t.clone():new g.Scope;r.update(n);return r}function parseEventHintOrCaptureContext(t){if(!t){return}if(hintIsScopeOrFunction(t)){return{captureContext:t}}if(hintIsScopeContext(t)){return{captureContext:t}}return t}function hintIsScopeOrFunction(t){return t instanceof g.Scope||"function"==typeof t}const T=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function hintIsScopeContext(t){return Object.keys(t).some(t=>T.includes(t))}},"../../node_modules/@sentry/core/build/esm/utils/spanOnScope.js":(t,n,r)=>{"use strict";r.d(n,{_getSpanForScope:()=>_getSpanForScope,_setSpanForScope:()=>_setSpanForScope});var s=r("../../node_modules/@sentry/utils/build/esm/object.js");const o="_sentrySpan";function _setSpanForScope(t,n){if(n)(0,s.addNonEnumerableProperty)(t,o,n);else delete t[o]}function _getSpanForScope(t){return t[o]}},"../../node_modules/@sentry/core/build/esm/utils/spanUtils.js":(t,n,r)=>{"use strict";r.d(n,{TRACE_FLAG_NONE:()=>m,TRACE_FLAG_SAMPLED:()=>g,addChildSpanToSpan:()=>addChildSpanToSpan,getActiveSpan:()=>getActiveSpan,getRootSpan:()=>getRootSpan,getSpanDescendants:()=>getSpanDescendants,getStatusMessage:()=>getStatusMessage,removeChildSpanFromSpan:()=>removeChildSpanFromSpan,spanIsSampled:()=>spanIsSampled,spanTimeInputToSeconds:()=>spanTimeInputToSeconds,spanToJSON:()=>spanToJSON,spanToTraceContext:()=>spanToTraceContext,spanToTraceHeader:()=>spanToTraceHeader,spanToTransactionTraceContext:()=>spanToTransactionTraceContext});var s=r("../../node_modules/@sentry/utils/build/esm/object.js");var o=r("../../node_modules/@sentry/utils/build/esm/tracing.js");var i=r("../../node_modules/@sentry/utils/build/esm/time.js");var a=r("../../node_modules/@sentry/core/build/esm/asyncContext/index.js");var c=r("../../node_modules/@sentry/core/build/esm/carrier.js");var l=r("../../node_modules/@sentry/core/build/esm/currentScopes.js");var u=r("../../node_modules/@sentry/core/build/esm/metrics/metric-summary.js");var d=r("../../node_modules/@sentry/core/build/esm/semanticAttributes.js");var p=r("../../node_modules/@sentry/core/build/esm/tracing/spanstatus.js");var f=r("../../node_modules/@sentry/core/build/esm/utils/spanOnScope.js");const m=0;const g=1;function spanToTransactionTraceContext(t){const{spanId:n,traceId:r}=t.spanContext();const{data:o,op:i,parent_span_id:a,status:c,origin:l}=spanToJSON(t);return(0,s.dropUndefinedKeys)({parent_span_id:a,span_id:n,trace_id:r,data:o,op:i,status:c,origin:l})}function spanToTraceContext(t){const{spanId:n,traceId:r}=t.spanContext();const{parent_span_id:o}=spanToJSON(t);return(0,s.dropUndefinedKeys)({parent_span_id:o,span_id:n,trace_id:r})}function spanToTraceHeader(t){const{traceId:n,spanId:r}=t.spanContext();const s=spanIsSampled(t);return(0,o.generateSentryTraceHeader)(n,r,s)}function spanTimeInputToSeconds(t){if("number"==typeof t){return ensureTimestampInSeconds(t)}if(Array.isArray(t)){return t[0]+t[1]/1e9}if(t instanceof Date){return ensureTimestampInSeconds(t.getTime())}return(0,i.timestampInSeconds)()}function ensureTimestampInSeconds(t){const n=t>9999999999;return n?t/1e3:t}function spanToJSON(t){if(spanIsSentrySpan(t)){return t.getSpanJSON()}try{const{spanId:n,traceId:r}=t.spanContext();if(spanIsOpenTelemetrySdkTraceBaseSpan(t)){const{attributes:o,startTime:i,name:a,endTime:c,parentSpanId:l,status:p}=t;return(0,s.dropUndefinedKeys)({span_id:n,trace_id:r,data:o,description:a,parent_span_id:l,start_timestamp:spanTimeInputToSeconds(i),timestamp:spanTimeInputToSeconds(c)||void 0,status:getStatusMessage(p),op:o[d.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:o[d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:(0,u.getMetricSummaryJsonForSpan)(t)})}return{span_id:n,trace_id:r}}catch(f){return{}}}function spanIsOpenTelemetrySdkTraceBaseSpan(t){const n=t;return!!n.attributes&&!!n.startTime&&!!n.name&&!!n.endTime&&!!n.status}function spanIsSentrySpan(t){return"function"==typeof t.getSpanJSON}function spanIsSampled(t){const{traceFlags:n}=t.spanContext();return n===g}function getStatusMessage(t){if(!t||t.code===p.SPAN_STATUS_UNSET){return}if(t.code===p.SPAN_STATUS_OK){return"ok"}return t.message||"unknown_error"}const h="_sentryChildSpans";const _="_sentryRootSpan";function addChildSpanToSpan(t,n){const r=t[_]||t;(0,s.addNonEnumerableProperty)(n,_,r);if(t[h])t[h].add(n);else(0,s.addNonEnumerableProperty)(t,h,new Set([n]))}function removeChildSpanFromSpan(t,n){if(t[h])t[h].delete(n)}function getSpanDescendants(t){const n=new Set;function addSpanChildren(t){if(n.has(t)){return}if(spanIsSampled(t)){n.add(t);const r=t[h]?Array.from(t[h]):[];for(const s of r)addSpanChildren(s)}}addSpanChildren(t);return Array.from(n)}function getRootSpan(t){return t[_]||t}function getActiveSpan(){const t=(0,c.getMainCarrier)();const n=(0,a.getAsyncContextStrategy)(t);if(n.getActiveSpan){return n.getActiveSpan()}return(0,f._getSpanForScope)((0,l.getCurrentScope)())}function updateMetricSummaryOnActiveSpan(t,n,r,s,o,i){const a=getActiveSpan();if(a)updateMetricSummaryOnSpan(a,t,n,r,s,o,i)}},"../../node_modules/@sentry/utils/build/esm/baggage.js":(t,n,r)=>{"use strict";r.d(n,{BAGGAGE_HEADER_NAME:()=>a,baggageHeaderToDynamicSamplingContext:()=>baggageHeaderToDynamicSamplingContext,dynamicSamplingContextToSentryBaggageHeader:()=>dynamicSamplingContextToSentryBaggageHeader});var s=r("../../node_modules/@sentry/utils/build/esm/debug-build.js");var o=r("../../node_modules/@sentry/utils/build/esm/is.js");var i=r("../../node_modules/@sentry/utils/build/esm/logger.js");const a="baggage";const c="sentry-";const l=/^sentry-/;const u=8192;function baggageHeaderToDynamicSamplingContext(t){const n=parseBaggageHeader(t);if(!n){return}const r=Object.entries(n).reduce((t,[n,r])=>{if(n.match(l)){const s=n.slice(c.length);t[s]=r}return t},{});if(Object.keys(r).length>0){return r}return}function dynamicSamplingContextToSentryBaggageHeader(t){if(!t){return}const n=Object.entries(t).reduce((t,[n,r])=>{if(r)t[`${c}${n}`]=r;return t},{});return objectToBaggageHeader(n)}function parseBaggageHeader(t){if(!t||!(0,o.isString)(t)&&!Array.isArray(t)){return}if(Array.isArray(t)){return t.reduce((t,n)=>{const r=baggageHeaderToObject(n);Object.entries(r).forEach(([n,r])=>{t[n]=r});return t},{})}return baggageHeaderToObject(t)}function baggageHeaderToObject(t){return t.split(",").map(t=>t.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((t,[n,r])=>{if(n&&r)t[n]=r;return t},{})}function objectToBaggageHeader(t){if(0===Object.keys(t).length){return}return Object.entries(t).reduce((t,[n,r],o)=>{const a=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;const c=0===o?a:`${t},${a}`;if(c.length>u){s.DEBUG_BUILD&&i.logger.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`);return t}return c},"")}},"../../node_modules/@sentry/utils/build/esm/browser.js":(t,n,r)=>{"use strict";r.d(n,{getComponentName:()=>getComponentName,getDomElement:()=>getDomElement,getLocationHref:()=>getLocationHref,htmlTreeAsString:()=>htmlTreeAsString});var s=r("../../node_modules/@sentry/utils/build/esm/is.js");var o=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");const i=o.GLOBAL_OBJ;const a=80;function htmlTreeAsString(t,n={}){if(!t){return"<unknown>"}try{let r=t;const s=5;const o=[];let i=0;let c=0;const l=" > ";const u=l.length;let d;const p=Array.isArray(n)?n:n.keyAttrs;const f=!Array.isArray(n)&&n.maxStringLength||a;while(r&&i++<s){d=_htmlElementAsString(r,p);if("html"===d||i>1&&c+o.length*u+d.length>=f){break}o.push(d);c+=d.length;r=r.parentNode}return o.reverse().join(l)}catch(m){return"<unknown>"}}function _htmlElementAsString(t,n){const r=t;const o=[];if(!r||!r.tagName){return""}if(i.HTMLElement){if(r instanceof HTMLElement&&r.dataset){if(r.dataset["sentryComponent"]){return r.dataset["sentryComponent"]}if(r.dataset["sentryElement"]){return r.dataset["sentryElement"]}}}o.push(r.tagName.toLowerCase());const a=n&&n.length?n.filter(t=>r.getAttribute(t)).map(t=>[t,r.getAttribute(t)]):null;if(a&&a.length)a.forEach(t=>{o.push(`[${t[0]}="${t[1]}"]`)});else{if(r.id)o.push(`#${r.id}`);const c=r.className;if(c&&(0,s.isString)(c)){const l=c.split(/\s+/);for(const u of l)o.push(`.${u}`)}}const d=["aria-label","type","name","title","alt"];for(const p of d){const f=r.getAttribute(p);if(f)o.push(`[${p}="${f}"]`)}return o.join("")}function getLocationHref(){try{return i.document.location.href}catch(t){return""}}function getDomElement(t){if(i.document&&i.document.querySelector){return i.document.querySelector(t)}return null}function getComponentName(t){if(!i.HTMLElement){return null}let n=t;const r=5;for(let s=0;s<r;s++){if(!n){return null}if(n instanceof HTMLElement){if(n.dataset["sentryComponent"]){return n.dataset["sentryComponent"]}if(n.dataset["sentryElement"]){return n.dataset["sentryElement"]}}n=n.parentNode}return null}},"../../node_modules/@sentry/utils/build/esm/debug-build.js":(t,n,r)=>{"use strict";r.d(n,{DEBUG_BUILD:()=>s});const s="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},"../../node_modules/@sentry/utils/build/esm/is.js":(t,n,r)=>{"use strict";r.d(n,{isDOMError:()=>isDOMError,isDOMException:()=>isDOMException,isElement:()=>isElement,isError:()=>isError,isErrorEvent:()=>isErrorEvent,isEvent:()=>isEvent,isInstanceOf:()=>isInstanceOf,isParameterizedString:()=>isParameterizedString,isPlainObject:()=>isPlainObject,isPrimitive:()=>isPrimitive,isRegExp:()=>isRegExp,isString:()=>isString,isSyntheticEvent:()=>isSyntheticEvent,isThenable:()=>isThenable,isVueViewModel:()=>isVueViewModel});const s=Object.prototype.toString;function isError(t){switch(s.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return true;default:return isInstanceOf(t,Error)}}function isBuiltin(t,n){return s.call(t)===`[object ${n}]`}function isErrorEvent(t){return isBuiltin(t,"ErrorEvent")}function isDOMError(t){return isBuiltin(t,"DOMError")}function isDOMException(t){return isBuiltin(t,"DOMException")}function isString(t){return isBuiltin(t,"String")}function isParameterizedString(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function isPrimitive(t){return null===t||isParameterizedString(t)||"object"!=typeof t&&"function"!=typeof t}function isPlainObject(t){return isBuiltin(t,"Object")}function isEvent(t){return"undefined"!=typeof Event&&isInstanceOf(t,Event)}function isElement(t){return"undefined"!=typeof Element&&isInstanceOf(t,Element)}function isRegExp(t){return isBuiltin(t,"RegExp")}function isThenable(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function isSyntheticEvent(t){return isPlainObject(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function isInstanceOf(t,n){try{return t instanceof n}catch(r){return false}}function isVueViewModel(t){return!!("object"==typeof t&&null!==t&&(t.__isVue||t._isVue))}},"../../node_modules/@sentry/utils/build/esm/logger.js":(t,n,r)=>{"use strict";r.d(n,{CONSOLE_LEVELS:()=>a,consoleSandbox:()=>consoleSandbox,logger:()=>l,originalConsoleMethods:()=>c});var s=r("../../node_modules/@sentry/utils/build/esm/debug-build.js");var o=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");const i="Sentry Logger ";const a=["debug","info","warn","error","log","assert","trace"];const c={};function consoleSandbox(t){if(!("console"in o.GLOBAL_OBJ)){return t()}const n=o.GLOBAL_OBJ.console;const r={};const s=Object.keys(c);s.forEach(t=>{const s=c[t];r[t]=n[t];n[t]=s});try{return t()}finally{s.forEach(t=>{n[t]=r[t]})}}function makeLogger(){let t=false;const n={enable:()=>{t=true},disable:()=>{t=false},isEnabled:()=>t};if(s.DEBUG_BUILD)a.forEach(r=>{n[r]=(...n)=>{if(t)consoleSandbox(()=>{o.GLOBAL_OBJ.console[r](`${i}[${r}]:`,...n)})}});else a.forEach(t=>{n[t]=()=>void 0});return n}const l=(0,o.getGlobalSingleton)("logger",makeLogger)},"../../node_modules/@sentry/utils/build/esm/misc.js":(t,n,r)=>{"use strict";r.d(n,{addExceptionMechanism:()=>addExceptionMechanism,addExceptionTypeValue:()=>addExceptionTypeValue,arrayify:()=>arrayify,checkOrSetAlreadyCaught:()=>checkOrSetAlreadyCaught,getEventDescription:()=>getEventDescription,uuid4:()=>uuid4});var s=r("../../node_modules/@sentry/utils/build/esm/object.js");var o=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");function uuid4(){const t=o.GLOBAL_OBJ;const n=t.crypto||t.msCrypto;let getRandomByte=()=>16*Math.random();try{if(n&&n.randomUUID){return n.randomUUID().replace(/-/g,"")}if(n&&n.getRandomValues)getRandomByte=()=>{const t=new Uint8Array(1);n.getRandomValues(t);return t[0]}}catch(r){}return"10000000100040008000100000000000".replace(/[018]/g,t=>(t^(15&getRandomByte())>>t/4).toString(16))}function getFirstException(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function getEventDescription(t){const{message:n,event_id:r}=t;if(n){return n}const s=getFirstException(t);if(s){if(s.type&&s.value){return`${s.type}: ${s.value}`}return s.type||s.value||r||"<unknown>"}return r||"<unknown>"}function addExceptionTypeValue(t,n,r){const s=t.exception=t.exception||{};const o=s.values=s.values||[];const i=o[0]=o[0]||{};if(!i.value)i.value=n||"";if(!i.type)i.type=r||"Error"}function addExceptionMechanism(t,n){const r=getFirstException(t);if(!r){return}const s={type:"generic",handled:true};const o=r.mechanism;r.mechanism={...s,...o,...n};if(n&&"data"in n){const i={...o&&o.data,...n.data};r.mechanism.data=i}}const i=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function _parseInt(t){return parseInt(t||"",10)}function parseSemver(t){const n=t.match(i)||[];const r=_parseInt(n[1]);const s=_parseInt(n[2]);const o=_parseInt(n[3]);return{buildmetadata:n[5],major:isNaN(r)?void 0:r,minor:isNaN(s)?void 0:s,patch:isNaN(o)?void 0:o,prerelease:n[4]}}function addContextToFrame(t,n,r=5){if(void 0===n.lineno){return}const s=t.length;const o=Math.max(Math.min(s-1,n.lineno-1),0);n.pre_context=t.slice(Math.max(0,o-r),o).map(t=>snipLine(t,0));const i=Math.min(s-1,o);n.context_line=snipLine(t[i],n.colno||0);n.post_context=t.slice(Math.min(o+1,s),o+1+r).map(t=>snipLine(t,0))}function checkOrSetAlreadyCaught(t){if(t&&t.__sentry_captured__){return true}try{(0,s.addNonEnumerableProperty)(t,"__sentry_captured__",true)}catch(n){}return false}function arrayify(t){return Array.isArray(t)?t:[t]}},"../../node_modules/@sentry/utils/build/esm/normalize.js":(t,n,r)=>{"use strict";r.d(n,{normalize:()=>normalize,normalizeToSize:()=>normalizeToSize});var s=r("../../node_modules/@sentry/utils/build/esm/is.js");function memoBuilder(){const t="function"==typeof WeakSet;const n=t?new WeakSet:[];function memoize(r){if(t){if(n.has(r)){return true}n.add(r);return false}for(let s=0;s<n.length;s++){const o=n[s];if(o===r){return true}}n.push(r);return false}function unmemoize(r){if(t)n.delete(r);else{for(let s=0;s<n.length;s++)if(n[s]===r){n.splice(s,1);break}}}return[memoize,unmemoize]}var o=r("../../node_modules/@sentry/utils/build/esm/object.js");var i=r("../../node_modules/@sentry/utils/build/esm/stacktrace.js");function normalize(t,n=100,r=Infinity){try{return visit("",t,n,r)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function normalizeToSize(t,n=3,r=102400){const s=normalize(t,n);if(jsonSize(s)>r){return normalizeToSize(t,n-1,r)}return s}function visit(t,n,r=Infinity,s=Infinity,i=memoBuilder()){const[a,c]=i;if(null==n||["boolean","string"].includes(typeof n)||"number"==typeof n&&Number.isFinite(n)){return n}const l=stringifyValue(t,n);if(!l.startsWith("[object ")){return l}if(n["__sentry_skip_normalization__"]){return n}const u="number"==typeof n["__sentry_override_normalization_depth__"]?n["__sentry_override_normalization_depth__"]:r;if(0===u){return l.replace("object ","")}if(a(n)){return"[Circular ~]"}const d=n;if(d&&"function"==typeof d.toJSON){try{const p=d.toJSON();return visit("",p,u-1,s,i)}catch(f){}}const m=Array.isArray(n)?[]:{};let g=0;const h=(0,o.convertToPlainObject)(n);for(const _ in h){if(!Object.prototype.hasOwnProperty.call(h,_)){continue}if(g>=s){m[_]="[MaxProperties ~]";break}const v=h[_];m[_]=visit(_,v,u-1,s,i);g++}c(n);return m}function stringifyValue(t,n){try{if("domain"===t&&n&&"object"==typeof n&&n._events){return"[Domain]"}if("domainEmitter"===t){return"[DomainEmitter]"}if("undefined"!=typeof global&&n===global){return"[Global]"}if("undefined"!=typeof window&&n===window){return"[Window]"}if("undefined"!=typeof document&&n===document){return"[Document]"}if((0,s.isVueViewModel)(n)){return"[VueViewModel]"}if((0,s.isSyntheticEvent)(n)){return"[SyntheticEvent]"}if("number"==typeof n&&!Number.isFinite(n)){return`[${n}]`}if("function"==typeof n){return`[Function: ${(0,i.getFunctionName)(n)}]`}if("symbol"==typeof n){return`[${String(n)}]`}if("bigint"==typeof n){return`[BigInt: ${String(n)}]`}const r=getConstructorName(n);if(/^HTML(\w*)Element$/.test(r)){return`[HTMLElement: ${r}]`}return`[object ${r}]`}catch(o){return`**non-serializable** (${o})`}}function getConstructorName(t){const n=Object.getPrototypeOf(t);return n?n.constructor.name:"null prototype"}function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}function jsonSize(t){return utf8Length(JSON.stringify(t))}function normalizeUrlToBase(t,n){const r=n.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let s=t;try{s=decodeURI(t)}catch(o){}return s.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${r}/*`,"ig"),"app:///")}},"../../node_modules/@sentry/utils/build/esm/object.js":(t,n,r)=>{"use strict";r.d(n,{addNonEnumerableProperty:()=>addNonEnumerableProperty,convertToPlainObject:()=>convertToPlainObject,dropUndefinedKeys:()=>dropUndefinedKeys,extractExceptionKeysForMessage:()=>extractExceptionKeysForMessage,fill:()=>fill,getOriginalFunction:()=>getOriginalFunction,markFunctionWrapped:()=>markFunctionWrapped,urlEncode:()=>urlEncode});var s=r("../../node_modules/@sentry/utils/build/esm/browser.js");var o=r("../../node_modules/@sentry/utils/build/esm/debug-build.js");var i=r("../../node_modules/@sentry/utils/build/esm/is.js");var a=r("../../node_modules/@sentry/utils/build/esm/logger.js");var c=r("../../node_modules/@sentry/utils/build/esm/string.js");function fill(t,n,r){if(!(n in t)){return}const s=t[n];const o=r(s);if("function"==typeof o)markFunctionWrapped(o,s);t[n]=o}function addNonEnumerableProperty(t,n,r){try{Object.defineProperty(t,n,{value:r,writable:true,configurable:true})}catch(s){o.DEBUG_BUILD&&a.logger.log(`Failed to add non-enumerable property "${n}" to object`,t)}}function markFunctionWrapped(t,n){try{const r=n.prototype||{};t.prototype=n.prototype=r;addNonEnumerableProperty(t,"__sentry_original__",n)}catch(s){}}function getOriginalFunction(t){return t.__sentry_original__}function urlEncode(t){return Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}function convertToPlainObject(t){if((0,i.isError)(t)){return{message:t.message,name:t.name,stack:t.stack,...getOwnProperties(t)}}if((0,i.isEvent)(t)){const n={type:t.type,target:serializeEventTarget(t.target),currentTarget:serializeEventTarget(t.currentTarget),...getOwnProperties(t)};if("undefined"!=typeof CustomEvent&&(0,i.isInstanceOf)(t,CustomEvent))n.detail=t.detail;return n}return t}function serializeEventTarget(t){try{return(0,i.isElement)(t)?(0,s.htmlTreeAsString)(t):Object.prototype.toString.call(t)}catch(n){return"<unknown>"}}function getOwnProperties(t){if("object"==typeof t&&null!==t){const n={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r))n[r]=t[r];return n}return{}}function extractExceptionKeysForMessage(t,n=40){const r=Object.keys(convertToPlainObject(t));r.sort();const s=r[0];if(!s){return"[object has no keys]"}if(s.length>=n){return(0,c.truncate)(s,n)}for(let o=r.length;o>0;o--){const i=r.slice(0,o).join(", ");if(i.length>n){continue}if(o===r.length){return i}return(0,c.truncate)(i,n)}return""}function dropUndefinedKeys(t){const n=new Map;return _dropUndefinedKeys(t,n)}function _dropUndefinedKeys(t,n){if(isPojo(t)){const r=n.get(t);if(void 0!==r){return r}const s={};n.set(t,s);for(const o of Object.getOwnPropertyNames(t))if(void 0!==t[o])s[o]=_dropUndefinedKeys(t[o],n);return s}if(Array.isArray(t)){const i=n.get(t);if(void 0!==i){return i}const a=[];n.set(t,a);t.forEach(t=>{a.push(_dropUndefinedKeys(t,n))});return a}return t}function isPojo(t){if(!(0,i.isPlainObject)(t)){return false}try{const n=Object.getPrototypeOf(t).constructor.name;return!n||"Object"===n}catch(r){return true}}function objectify(t){let n;switch(true){case null==t:n=new String(t);break;case"symbol"==typeof t||"bigint"==typeof t:n=Object(t);break;case isPrimitive(t):n=new t.constructor(t);break;default:n=t;break}return n}},"../../node_modules/@sentry/utils/build/esm/propagationContext.js":(t,n,r)=>{"use strict";r.d(n,{generatePropagationContext:()=>generatePropagationContext});var s=r("../../node_modules/@sentry/utils/build/esm/misc.js");function generatePropagationContext(){return{traceId:(0,s.uuid4)(),spanId:(0,s.uuid4)().substring(16)}}},"../../node_modules/@sentry/utils/build/esm/stacktrace.js":(t,n,r)=>{"use strict";r.d(n,{UNKNOWN_FUNCTION:()=>o,createStackParser:()=>createStackParser,getFramesFromEvent:()=>getFramesFromEvent,getFunctionName:()=>getFunctionName,stackParserFromStackParserOptions:()=>stackParserFromStackParserOptions});const s=50;const o="?";const i=/\(error: (.*)\)/;const a=/captureMessage|captureException/;function createStackParser(...t){const n=t.sort((t,n)=>t[0]-n[0]).map(t=>t[1]);return(t,r=0,o=0)=>{const a=[];const c=t.split("\n");for(let l=r;l<c.length;l++){const u=c[l];if(u.length>1024){continue}const d=i.test(u)?u.replace(i,"$1"):u;if(d.match(/\S*Error: /)){continue}for(const p of n){const f=p(d);if(f){a.push(f);break}}if(a.length>=s+o){break}}return stripSentryFramesAndReverse(a.slice(o))}}function stackParserFromStackParserOptions(t){if(Array.isArray(t)){return createStackParser(...t)}return t}function stripSentryFramesAndReverse(t){if(!t.length){return[]}const n=Array.from(t);if(/sentryWrapped/.test(getLastStackFrame(n).function||""))n.pop();n.reverse();if(a.test(getLastStackFrame(n).function||"")){n.pop();if(a.test(getLastStackFrame(n).function||""))n.pop()}return n.slice(0,s).map(t=>({...t,filename:t.filename||getLastStackFrame(n).filename,function:t.function||o}))}function getLastStackFrame(t){return t[t.length-1]||{}}const c="<anonymous>";function getFunctionName(t){try{if(!t||"function"!=typeof t){return c}return t.name||c}catch(n){return c}}function getFramesFromEvent(t){const n=t.exception;if(n){const r=[];try{n.values.forEach(t=>{if(t.stacktrace.frames)r.push(...t.stacktrace.frames)});return r}catch(s){return}}return}},"../../node_modules/@sentry/utils/build/esm/string.js":(t,n,r)=>{"use strict";r.d(n,{safeJoin:()=>safeJoin,stringMatchesSomePattern:()=>stringMatchesSomePattern,truncate:()=>truncate});var s=r("../../node_modules/@sentry/utils/build/esm/is.js");function truncate(t,n=0){if("string"!=typeof t||0===n){return t}return t.length<=n?t:`${t.slice(0,n)}...`}function snipLine(t,n){let r=t;const s=r.length;if(s<=150){return r}if(n>s)n=s;let o=Math.max(n-60,0);if(o<5)o=0;let i=Math.min(o+140,s);if(i>s-5)i=s;if(i===s)o=Math.max(i-140,0);r=r.slice(o,i);if(o>0)r=`'{snip} ${r}`;if(i<s)r+=" {snip}";return r}function safeJoin(t,n){if(!Array.isArray(t)){return""}const r=[];for(let o=0;o<t.length;o++){const i=t[o];try{if((0,s.isVueViewModel)(i))r.push("[VueViewModel]");else r.push(String(i))}catch(a){r.push("[value cannot be serialized]")}}return r.join(n)}function isMatchingPattern(t,n,r=false){if(!(0,s.isString)(t)){return false}if((0,s.isRegExp)(n)){return n.test(t)}if((0,s.isString)(n)){return r?t===n:t.includes(n)}return false}function stringMatchesSomePattern(t,n=[],r=false){return n.some(n=>isMatchingPattern(t,n,r))}},"../../node_modules/@sentry/utils/build/esm/syncpromise.js":(t,n,r)=>{"use strict";r.d(n,{SyncPromise:()=>SyncPromise,rejectedSyncPromise:()=>rejectedSyncPromise,resolvedSyncPromise:()=>resolvedSyncPromise});var s=r("../../node_modules/@sentry/utils/build/esm/is.js");var o;(function(t){const n=0;t[t["PENDING"]=n]="PENDING";const r=1;t[t["RESOLVED"]=r]="RESOLVED";const s=2;t[t["REJECTED"]=s]="REJECTED"})(o||(o={}));function resolvedSyncPromise(t){return new SyncPromise(n=>{n(t)})}function rejectedSyncPromise(t){return new SyncPromise((n,r)=>{r(t)})}class SyncPromise{constructor(t){SyncPromise.prototype.__init.call(this);SyncPromise.prototype.__init2.call(this);SyncPromise.prototype.__init3.call(this);SyncPromise.prototype.__init4.call(this);this._state=o.PENDING;this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new SyncPromise((r,s)=>{this._handlers.push([false,n=>{if(t){try{r(t(n))}catch(o){s(o)}}else{r(n)}},t=>{if(n){try{r(n(t))}catch(o){s(o)}}else{s(t)}}]);this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new SyncPromise((n,r)=>{let s;let o;return this.then(n=>{o=false;s=n;if(t)t()},n=>{o=true;s=n;if(t)t()}).then(()=>{if(o){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(o.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(o.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state!==o.PENDING){return}if((0,s.isThenable)(n)){void n.then(this._resolve,this._reject);return}this._state=t;this._value=n;this._executeHandlers()}}__init4(){this._executeHandlers=()=>{if(this._state===o.PENDING){return}const t=this._handlers.slice();this._handlers=[];t.forEach(t=>{if(t[0]){return}if(this._state===o.RESOLVED)t[1](this._value);if(this._state===o.REJECTED)t[2](this._value);t[0]=true})}}}},"../../node_modules/@sentry/utils/build/esm/time.js":(t,n,r)=>{"use strict";r.d(n,{browserPerformanceTimeOrigin:()=>c,dateTimestampInSeconds:()=>dateTimestampInSeconds,timestampInSeconds:()=>i});var s=r("../../node_modules/@sentry/utils/build/esm/worldwide.js");const o=1e3;function dateTimestampInSeconds(){return Date.now()/o}function createUnixTimestampInSecondsFunc(){const{performance:t}=s.GLOBAL_OBJ;if(!t||!t.now){return dateTimestampInSeconds}const n=Date.now()-t.now();const r=void 0==t.timeOrigin?n:t.timeOrigin;return()=>{return(r+t.now())/o}}const i=createUnixTimestampInSecondsFunc();let a;const c=(()=>{const{performance:t}=s.GLOBAL_OBJ;if(!t||!t.now){a="none";return}const n=36e5;const r=t.now();const o=Date.now();const i=t.timeOrigin?Math.abs(t.timeOrigin+r-o):n;const c=i<n;const l=t.timing&&t.timing.navigationStart;const u="number"==typeof l;const d=u?Math.abs(l+r-o):n;const p=d<n;if(c||p){if(i<=d){a="timeOrigin";return t.timeOrigin}a="navigationStart";return l}a="dateNow";return o})()},"../../node_modules/@sentry/utils/build/esm/tracing.js":(t,n,r)=>{"use strict";r.d(n,{generateSentryTraceHeader:()=>generateSentryTraceHeader,propagationContextFromHeaders:()=>propagationContextFromHeaders});var s=r("../../node_modules/@sentry/utils/build/esm/baggage.js");var o=r("../../node_modules/@sentry/utils/build/esm/misc.js");const i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function extractTraceparentData(t){if(!t){return}const n=t.match(i);if(!n){return}let r;if("1"===n[3])r=true;else if("0"===n[3])r=false;return{traceId:n[1],parentSampled:r,parentSpanId:n[2]}}function propagationContextFromHeaders(t,n){const r=extractTraceparentData(t);const i=(0,s.baggageHeaderToDynamicSamplingContext)(n);const{traceId:a,parentSpanId:c,parentSampled:l}=r||{};if(r){return{traceId:a||(0,o.uuid4)(),parentSpanId:c||(0,o.uuid4)().substring(16),spanId:(0,o.uuid4)().substring(16),sampled:l,dsc:i||{}}}return{traceId:a||(0,o.uuid4)(),spanId:(0,o.uuid4)().substring(16)}}function generateSentryTraceHeader(t=(0,o.uuid4)(),n=(0,o.uuid4)().substring(16),r){let s="";if(void 0!==r)s=r?"-1":"-0";return`${t}-${n}${s}`}},"../../node_modules/@sentry/utils/build/esm/version.js":(t,n,r)=>{"use strict";r.d(n,{SDK_VERSION:()=>s});const s="8.33.1"},"../../node_modules/@sentry/utils/build/esm/worldwide.js":(t,n,r)=>{"use strict";r.d(n,{GLOBAL_OBJ:()=>o,getGlobalSingleton:()=>getGlobalSingleton});var s=r("../../node_modules/@sentry/utils/build/esm/version.js");const o=globalThis;function getGlobalSingleton(t,n,r){const i=r||o;const a=i.__SENTRY__=i.__SENTRY__||{};const c=a[s.SDK_VERSION]=a[s.SDK_VERSION]||{};return c[t]||(c[t]=n())}},"../../node_modules/object-assign/index.js":t=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/ var n=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var s=Object.prototype.propertyIsEnumerable;function toObject(t){if(null==t){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(t)}function shouldUseNative(){try{if(!Object.assign){return false}var t=new String("abc");t[5]="de";if("5"===Object.getOwnPropertyNames(t)[0]){return false}var n={};for(var r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;var s=Object.getOwnPropertyNames(n).map(function(t){return n[t]});if("0123456789"!==s.join("")){return false}var o={};"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t});if("abcdefghijklmnopqrst"!==Object.keys(Object.assign({},o)).join("")){return false}return true}catch(i){return false}}t.exports=shouldUseNative()?Object.assign:function(t,o){var i;var a=toObject(t);var c;for(var l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var u in i)if(r.call(i,u))a[u]=i[u];if(n){c=n(i);for(var d=0;d<c.length;d++)if(s.call(i,c[d]))a[c[d]]=i[c[d]]}}return a}},"../../node_modules/react/cjs/react.production.min.js":(t,n,r)=>{"use strict";/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var s=r("../../node_modules/object-assign/index.js"),o=60103,i=60106;n.Fragment=60107;n.StrictMode=60108;n.Profiler=60114;var a=60109,c=60110,l=60112;n.Suspense=60113;var u=60115,d=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;o=p("react.element");i=p("react.portal");n.Fragment=p("react.fragment");n.StrictMode=p("react.strict_mode");n.Profiler=p("react.profiler");a=p("react.provider");c=p("react.context");l=p("react.forward_ref");n.Suspense=p("react.suspense");u=p("react.memo");d=p("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function y(t){if(null===t||"object"!=typeof t)return null;t=f&&t[f]||t["@@iterator"];return"function"==typeof t?t:null}function z(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function C(t,n,r){this.props=t;this.context=n;this.refs=g;this.updater=r||m}C.prototype.isReactComponent={};C.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(z(85));this.updater.enqueueSetState(this,t,n,"setState")};C.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D(){}D.prototype=C.prototype;function E(t,n,r){this.props=t;this.context=n;this.refs=g;this.updater=r||m}var h=E.prototype=new D;h.constructor=E;s(h,C.prototype);h.isPureReactComponent=!0;var _={current:null},v=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function J(t,n,r){var s,i={},a=null,c=null;if(null!=n)for(s in void 0!==n.ref&&(c=n.ref),void 0!==n.key&&(a=""+n.key),n)v.call(n,s)&&!b.hasOwnProperty(s)&&(i[s]=n[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:o,type:t,key:a,ref:c,props:i,_owner:_.current}}function K(t,n){return{$$typeof:o,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function L(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}function escape(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return n[t]})}var T=/\/+/g;function N(t,n){return"object"==typeof t&&null!==t&&null!=t.key?escape(""+t.key):n.toString(36)}function O(t,n,r,s,a){var c=typeof t;if("undefined"===c||"boolean"===c)t=null;var l=!1;if(null===t)l=!0;else switch(c){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case i:l=!0}}if(l)return l=t,a=a(l),t=""===s?"."+N(l,0):s,Array.isArray(a)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),O(a,n,r,"",function(t){return t})):null!=a&&(L(a)&&(a=K(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),n.push(a)),1;l=0;s=""===s?".":s+":";if(Array.isArray(t))for(var u=0;u<t.length;u++){c=t[u];var d=s+N(c,u);l+=O(c,n,r,d,a)}else if(d=y(t),"function"==typeof d)for(t=d.call(t),u=0;!(c=t.next()).done;)c=c.value,d=s+N(c,u++),l+=O(c,n,r,d,a);else if("object"===c)throw n=""+t,Error(z(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n));return l}function P(t,n,r){if(null==t)return t;var s=[],o=0;O(t,s,"","",function(t){return n.call(r,t,o++)});return s}function Q(t){if(-1===t._status){var n=t._result;n=n();t._status=0;t._result=n;n.then(function(n){0===t._status&&(n=n.default,t._status=1,t._result=n)},function(n){0===t._status&&(t._status=2,t._result=n)})}if(1===t._status)return t._result;throw t._result}var w={current:null};function S(){var t=w.current;if(null===t)throw Error(z(321));return t}var I={ReactCurrentDispatcher:w,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:s};n.Children={map:P,forEach:function(t,n,r){P(t,function(){n.apply(this,arguments)},r)},count:function(t){var n=0;P(t,function(){n++});return n},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!L(t))throw Error(z(143));return t}};n.Component=C;n.PureComponent=E;n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I;n.cloneElement=function(t,n,r){if(null==t)throw Error(z(267,t));var i=s({},t.props),a=t.key,c=t.ref,l=t._owner;if(null!=n){void 0!==n.ref&&(c=n.ref,l=_.current);void 0!==n.key&&(a=""+n.key);if(t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in n)v.call(n,d)&&!b.hasOwnProperty(d)&&(i[d]=void 0===n[d]&&void 0!==u?u[d]:n[d])}var d=arguments.length-2;if(1===d)i.children=r;else if(1<d){u=Array(d);for(var p=0;p<d;p++)u[p]=arguments[p+2];i.children=u}return{$$typeof:o,type:t.type,key:a,ref:c,props:i,_owner:l}};n.createContext=function(t,n){void 0===n&&(n=null);t={$$typeof:c,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null};t.Provider={$$typeof:a,_context:t};return t.Consumer=t};n.createElement=J;n.createFactory=function(t){var n=J.bind(null,t);n.type=t;return n};n.createRef=function(){return{current:null}};n.forwardRef=function(t){return{$$typeof:l,render:t}};n.isValidElement=L;n.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:Q}};n.memo=function(t,n){return{$$typeof:u,type:t,compare:void 0===n?null:n}};n.useCallback=function(t,n){return S().useCallback(t,n)};n.useContext=function(t,n){return S().useContext(t,n)};n.useDebugValue=function(){};n.useEffect=function(t,n){return S().useEffect(t,n)};n.useImperativeHandle=function(t,n,r){return S().useImperativeHandle(t,n,r)};n.useLayoutEffect=function(t,n){return S().useLayoutEffect(t,n)};n.useMemo=function(t,n){return S().useMemo(t,n)};n.useReducer=function(t,n,r){return S().useReducer(t,n,r)};n.useRef=function(t){return S().useRef(t)};n.useState=function(t){return S().useState(t)};n.version="17.0.2"},"../../node_modules/react/index.js":(t,n,r)=>{"use strict";if(true)t.exports=r("../../node_modules/react/cjs/react.production.min.js")},"../../node_modules/uuid/dist/esm-browser/v4.js":(t,n,r)=>{"use strict";r.d(n,{default:()=>d});var s;var o=new Uint8Array(16);function rng(){if(!s){s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(!s){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return s(o)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return"string"==typeof t&&i.test(t)}const a=validate;var c=[];for(var l=0;l<256;++l)c.push((l+256).toString(16).substr(1));function stringify(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var r=(c[t[n+0]]+c[t[n+1]]+c[t[n+2]]+c[t[n+3]]+"-"+c[t[n+4]]+c[t[n+5]]+"-"+c[t[n+6]]+c[t[n+7]]+"-"+c[t[n+8]]+c[t[n+9]]+"-"+c[t[n+10]]+c[t[n+11]]+c[t[n+12]]+c[t[n+13]]+c[t[n+14]]+c[t[n+15]]).toLowerCase();if(!a(r)){throw TypeError("Stringified UUID is invalid")}return r}const u=stringify;function v4(t,n,r){t=t||{};var s=t.random||(t.rng||rng)();s[6]=15&s[6]|64;s[8]=63&s[8]|128;if(n){r=r||0;for(var o=0;o<16;++o)n[r+o]=s[o];return n}return u(s)}const d=v4},"../../node_modules/webextension-polyfill/dist/browser-polyfill.js":function(t,n){var r,s,o;(function(i,a){if(true)s=[t],r=a,o="function"==typeof r?r.apply(n,s):r,void 0!==o&&(t.exports=o);else var c})("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t){"use strict";if(!globalThis.chrome?.runtime?.id){throw new Error("This script should only be loaded in a browser extension.")}if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const n="The message port closed before a response was received.";const wrapAPIs=t=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:true},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:true},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:true}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:false}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:true},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:true}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:true}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length){throw new Error("api-metadata.json has not been included in browser-polyfill")}class DefaultWeakMap extends WeakMap{constructor(t,n){super(n);this.createItem=t}get(t){if(!this.has(t))this.set(t,this.createItem(t));return super.get(t)}}const isThenable=t=>{return t&&"object"==typeof t&&"function"==typeof t.then};const makeCallback=(n,r)=>{return(...s)=>{if(t.runtime.lastError)n.reject(new Error(t.runtime.lastError.message));else if(r.singleCallbackArg||s.length<=1&&false!==r.singleCallbackArg)n.resolve(s[0]);else n.resolve(s)}};const pluralizeArguments=t=>1==t?"argument":"arguments";const wrapAsyncFunction=(t,n)=>{return function asyncFunctionWrapper(r,...s){if(s.length<n.minArgs){throw new Error(`Expected at least ${n.minArgs} ${pluralizeArguments(n.minArgs)} for ${t}(), got ${s.length}`)}if(s.length>n.maxArgs){throw new Error(`Expected at most ${n.maxArgs} ${pluralizeArguments(n.maxArgs)} for ${t}(), got ${s.length}`)}return new Promise((o,i)=>{if(n.fallbackToNoCallback){try{r[t](...s,makeCallback({resolve:o,reject:i},n))}catch(a){console.warn(`${t} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a);r[t](...s);n.fallbackToNoCallback=false;n.noCallback=true;o()}}else if(n.noCallback){r[t](...s);o()}else{r[t](...s,makeCallback({resolve:o,reject:i},n))}})}};const wrapMethod=(t,n,r)=>{return new Proxy(n,{apply(n,s,o){return r.call(s,t,...o)}})};let s=Function.call.bind(Object.prototype.hasOwnProperty);const wrapObject=(t,n={},r={})=>{let o=Object.create(null);let i={has(n,r){return r in t||r in o},get(i,a,c){if(a in o){return o[a]}if(!(a in t)){return}let l=t[a];if("function"==typeof l)if("function"==typeof n[a])l=wrapMethod(t,t[a],n[a]);else if(s(r,a)){let u=wrapAsyncFunction(a,r[a]);l=wrapMethod(t,t[a],u)}else{l=l.bind(t)}else if("object"==typeof l&&null!==l&&(s(n,a)||s(r,a)))l=wrapObject(l,n[a],r[a]);else if(s(r,"*"))l=wrapObject(l,n[a],r["*"]);else{Object.defineProperty(o,a,{configurable:true,enumerable:true,get(){return t[a]},set(n){t[a]=n}});return l}o[a]=l;return l},set(n,r,s,i){if(r in o)o[r]=s;else t[r]=s;return true},defineProperty(t,n,r){return Reflect.defineProperty(o,n,r)},deleteProperty(t,n){return Reflect.deleteProperty(o,n)}};let a=Object.create(t);return new Proxy(a,i)};const wrapEvent=t=>({addListener(n,r,...s){n.addListener(t.get(r),...s)},hasListener(n,r){return n.hasListener(t.get(r))},removeListener(n,r){n.removeListener(t.get(r))}});const o=new DefaultWeakMap(t=>{if("function"!=typeof t){return t}return function onRequestFinished(n){const r=wrapObject(n,{},{getContent:{minArgs:0,maxArgs:0}});t(r)}});const i=new DefaultWeakMap(t=>{if("function"!=typeof t){return t}return function onMessage(n,r,s){let o=false;let i;let a=new Promise(t=>{i=function(n){o=true;t(n)}});let c;try{c=t(n,r,i)}catch(l){c=Promise.reject(l)}const u=true!==c&&isThenable(c);if(true!==c&&!u&&!o){return false}const sendPromisedResult=t=>{t.then(t=>{s(t)},t=>{let n;n=t&&(t instanceof Error||"string"==typeof t.message)?t.message:"An unexpected error occurred";s({__mozWebExtensionPolyfillReject__:true,message:n})}).catch(t=>{console.error("Failed to send onMessage rejected reply",t)})};sendPromisedResult(u?c:a);return true}});const wrappedSendMessageCallback=({reject:r,resolve:s},o)=>{if(t.runtime.lastError)if(t.runtime.lastError.message===n)s();else r(new Error(t.runtime.lastError.message));else if(o&&o.__mozWebExtensionPolyfillReject__)r(new Error(o.message));else s(o)};const wrappedSendMessage=(t,n,r,...s)=>{if(s.length<n.minArgs){throw new Error(`Expected at least ${n.minArgs} ${pluralizeArguments(n.minArgs)} for ${t}(), got ${s.length}`)}if(s.length>n.maxArgs){throw new Error(`Expected at most ${n.maxArgs} ${pluralizeArguments(n.maxArgs)} for ${t}(), got ${s.length}`)}return new Promise((t,n)=>{const o=wrappedSendMessageCallback.bind(null,{resolve:t,reject:n});s.push(o);r.sendMessage(...s)})};const a={devtools:{network:{onRequestFinished:wrapEvent(o)}},runtime:{onMessage:wrapEvent(i),onMessageExternal:wrapEvent(i),sendMessage:wrappedSendMessage.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:wrappedSendMessage.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}};const c={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};r.privacy={network:{"*":c},services:{"*":c},websites:{"*":c}};return wrapObject(t,a,r)};t.exports=wrapAPIs(chrome)}else{t.exports=globalThis.browser}})},"?4c73":()=>{}};var n={};function __webpack_require__(r){var s=n[r];if(void 0!==s){return s.exports}var o=n[r]={id:r,loaded:false,exports:{}};t[r].call(o.exports,o,o.exports,__webpack_require__);o.loaded=true;return o.exports}__webpack_require__.m=t;(()=>{__webpack_require__.amdO={}})();(()=>{__webpack_require__.n=t=>{var n=t&&t.__esModule?()=>t["default"]:()=>t;__webpack_require__.d(n,{a:n});return n}})();(()=>{var t=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;var n;__webpack_require__.t=function(r,s){if(1&s)r=this(r);if(8&s)return r;if("object"==typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"==typeof r.then)return r}var o=Object.create(null);__webpack_require__.r(o);var i={};n=n||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~n.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(t=>i[t]=()=>r[t]);i["default"]=()=>r;__webpack_require__.d(o,i);return o}})();(()=>{__webpack_require__.d=(t,n)=>{for(var r in n)if(__webpack_require__.o(n,r)&&!__webpack_require__.o(t,r))Object.defineProperty(t,r,{enumerable:true,get:n[r]})}})();(()=>{__webpack_require__.f={};__webpack_require__.e=t=>{return Promise.all(Object.keys(__webpack_require__.f).reduce((n,r)=>{__webpack_require__.f[r](t,n);return n},[]))}})();(()=>{__webpack_require__.u=t=>{return""+t+".chunk.js"}})();(()=>{__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}()})();(()=>{__webpack_require__.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n)})();(()=>{__webpack_require__.r=t=>{if("undefined"!=typeof Symbol&&Symbol.toStringTag)Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=t=>{t.paths=[];if(!t.children)t.children=[];return t}})();(()=>{var t;if(__webpack_require__.g.importScripts)t=__webpack_require__.g.location+"";var n=__webpack_require__.g.document;if(!t&&n){if(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase())t=n.currentScript.src;if(!t){var r=n.getElementsByTagName("script");if(r.length){var s=r.length-1;while(s>-1&&(!t||!/^http(s?):/.test(t)))t=r[s--].src}}}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");__webpack_require__.p=t})();__webpack_require__.sriHashes={66:"sha384-O5gHRMsJRfesrcgdk6bggaCxj3fVnW4hSHEzTDUIqRw/0kKXRtEFzR+Zmp+frVt1",237:"sha384-BlDxKQhqyxwQBTWEoLnl39A8I4plZ2V0d+UAlRWZpCBdqiWC7znzbwQ57Xcooyxt",323:"sha384-oNePafsWL+bEbRQayhJpihZEbJqRyOWbAj8dLA+GwANZTTD44t4gHpwrmhA21ShP",355:"sha384-fqYoPscTnNCmDdzVxLG3K4UV38DVppYiruJA3hyvOKMwLFKMf4/pHIRhJ9Ew7Oox",357:"sha384-yqd3t4/XrGd6rDEmaaEZmWTxnMyXOpuDaOV/ieSok6ZU84lrXFsaSD9VBZcRID+H",637:"sha384-u31zptAjFY8WCm1NpkxaB/8rXLOeAz7o5EXKAfT/7059DIiCt2OKtV0OacHaJ6hQ",708:"sha384-EQNLtaB9iFHgaGOihXKYS7Zc4Ivfoh924KSpGzvHm6U7eTKRLHwWMVFDqUKP4Tf2",792:"sha384-rtj0t4F33lR419p5u6UqEujyUq6n5/Vkk8kwK7zZD150sLkRHlKZUvcy1QvQIZJe",821:"sha384-glqenBDNiwzFPgBFLVZGk7dsTyIK8+2+NXu0yWAfWAAj4Zuggne2XrazETmTGmhi"};(()=>{var t={471:1};var installChunk=n=>{var[s,o,i]=n;for(var a in o)if(__webpack_require__.o(o,a))__webpack_require__.m[a]=o[a];if(i)i(__webpack_require__);while(s.length)t[s.pop()]=1;r(n)};__webpack_require__.f.i=(n,r)=>{if(!t[n]){if(true)importScripts(__webpack_require__.p+__webpack_require__.u(n))}};var n=self["webpackChunk_lace_browser_extension_wallet"]=self["webpackChunk_lace_browser_extension_wallet"]||[];var r=n.push.bind(n);n.push=installChunk})();var r={};(()=>{"use strict";var t=__webpack_require__("../../node_modules/@sentry/core/build/esm/exports.js");var n=__webpack_require__("../../node_modules/@sentry/utils/build/esm/logger.js");var r=__webpack_require__("../../node_modules/@sentry/utils/build/esm/misc.js");var s=__webpack_require__("../../node_modules/@sentry/utils/build/esm/string.js");var o=__webpack_require__("../../node_modules/@sentry/core/build/esm/debug-build.js");const i=[];function filterDuplicates(t){const n={};t.forEach(t=>{const{name:r}=t;const s=n[r];if(s&&!s.isDefaultInstance&&t.isDefaultInstance){return}n[r]=t});return Object.values(n)}function getIntegrationsToSetup(t){const n=t.defaultIntegrations||[];const s=t.integrations;n.forEach(t=>{t.isDefaultInstance=true});let o;o=Array.isArray(s)?[...n,...s]:"function"==typeof s?(0,r.arrayify)(s(n)):n;const i=filterDuplicates(o);const a=i.findIndex(t=>"Debug"===t.name);if(a>-1){const[c]=i.splice(a,1);i.push(c)}return i}function setupIntegrations(t,n){const r={};n.forEach(n=>{if(n)setupIntegration(t,n,r)});return r}function afterSetupIntegrations(t,n){for(const r of n)if(r&&r.afterAllSetup)r.afterAllSetup(t)}function setupIntegration(t,r,s){if(s[r.name]){o.DEBUG_BUILD&&n.logger.log(`Integration skipped because it was already installed: ${r.name}`);return}s[r.name]=r;if(-1===i.indexOf(r.name)&&"function"==typeof r.setupOnce){r.setupOnce();i.push(r.name)}if(r.setup&&"function"==typeof r.setup)r.setup(t);if("function"==typeof r.preprocessEvent){const a=r.preprocessEvent.bind(r);t.on("preprocessEvent",(n,r)=>a(n,r,t))}if("function"==typeof r.processEvent){const c=r.processEvent.bind(r);const l=Object.assign((n,r)=>c(n,r,t),{id:r.name});t.addEventProcessor(l)}o.DEBUG_BUILD&&n.logger.log(`Integration installed: ${r.name}`)}function addIntegration(t){const n=getClient();if(!n){DEBUG_BUILD&&logger.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`);return}n.addIntegration(t)}function defineIntegration(t){return t}const a=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"];const c="InboundFilters";const _inboundFiltersIntegration=(t={})=>{return{name:c,processEvent(n,r,s){const o=s.getOptions();const i=_mergeOptions(t,o);return _shouldDropEvent(n,i)?null:n}}};const l=defineIntegration(_inboundFiltersIntegration);function _mergeOptions(t={},n={}){return{allowUrls:[...t.allowUrls||[],...n.allowUrls||[]],denyUrls:[...t.denyUrls||[],...n.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...n.ignoreErrors||[],...t.disableErrorDefaults?[]:a],ignoreTransactions:[...t.ignoreTransactions||[],...n.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}function _shouldDropEvent(t,s){if(s.ignoreInternal&&_isSentryError(t)){o.DEBUG_BUILD&&n.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,r.getEventDescription)(t)}`);return true}if(_isIgnoredError(t,s.ignoreErrors)){o.DEBUG_BUILD&&n.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,r.getEventDescription)(t)}`);return true}if(_isUselessError(t)){o.DEBUG_BUILD&&n.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,r.getEventDescription)(t)}`);return true}if(_isIgnoredTransaction(t,s.ignoreTransactions)){o.DEBUG_BUILD&&n.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,r.getEventDescription)(t)}`);return true}if(_isDeniedUrl(t,s.denyUrls)){o.DEBUG_BUILD&&n.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,r.getEventDescription)(t)}.
Url: ${_getEventFilterUrl(t)}`);return true}if(!_isAllowedUrl(t,s.allowUrls)){o.DEBUG_BUILD&&n.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,r.getEventDescription)(t)}.
Url: ${_getEventFilterUrl(t)}`);return true}return false}function _isIgnoredError(t,n){if(t.type||!n||!n.length){return false}return _getPossibleEventMessages(t).some(t=>(0,s.stringMatchesSomePattern)(t,n))}function _isIgnoredTransaction(t,n){if("transaction"!==t.type||!n||!n.length){return false}const r=t.transaction;return!!r&&(0,s.stringMatchesSomePattern)(r,n)}function _isDeniedUrl(t,n){if(!n||!n.length){return false}const r=_getEventFilterUrl(t);return!!r&&(0,s.stringMatchesSomePattern)(r,n)}function _isAllowedUrl(t,n){if(!n||!n.length){return true}const r=_getEventFilterUrl(t);return!r||(0,s.stringMatchesSomePattern)(r,n)}function _getPossibleEventMessages(t){const n=[];if(t.message)n.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch(s){}if(r){if(r.value){n.push(r.value);if(r.type)n.push(`${r.type}: ${r.value}`)}}return n}function _isSentryError(t){try{return"SentryError"===t.exception.values[0].type}catch(n){}return false}function _getLastValidUrl(t=[]){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename){return r.filename||null}}return null}function _getEventFilterUrl(t){try{let s;try{s=t.exception.values[0].stacktrace.frames}catch(i){}return s?_getLastValidUrl(s):null}catch(a){o.DEBUG_BUILD&&n.logger.error(`Cannot extract url for event ${(0,r.getEventDescription)(t)}`);return null}}function _isUselessError(t){if(t.type){return false}if(!t.exception||!t.exception.values||0===t.exception.values.length){return false}return!t.message&&!t.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value)}var u=__webpack_require__("../../node_modules/@sentry/utils/build/esm/object.js");var d=__webpack_require__("../../node_modules/@sentry/core/build/esm/currentScopes.js");let p;const f="FunctionToString";const m=new WeakMap;const _functionToStringIntegration=()=>{return{name:f,setupOnce(){p=Function.prototype.toString;try{Function.prototype.toString=function(...t){const n=(0,u.getOriginalFunction)(this);const r=m.has((0,d.getClient)())&&void 0!==n?n:this;return p.apply(r,t)}}catch(t){}},setup(t){m.set(t,true)}}};const g=defineIntegration(_functionToStringIntegration);var h=__webpack_require__("../../node_modules/@sentry/utils/build/esm/stacktrace.js");const _="Dedupe";const _dedupeIntegration=()=>{let t;return{name:_,processEvent(r){if(r.type){return r}try{if(dedupe_shouldDropEvent(r,t)){o.DEBUG_BUILD&&n.logger.warn("Event dropped due to being a duplicate of previously captured event.");return null}}catch(s){}return t=r}}};const v=defineIntegration(_dedupeIntegration);function dedupe_shouldDropEvent(t,n){if(!n){return false}if(_isSameMessageEvent(t,n)){return true}if(_isSameExceptionEvent(t,n)){return true}return false}function _isSameMessageEvent(t,n){const r=t.message;const s=n.message;if(!r&&!s){return false}if(r&&!s||!r&&s){return false}if(r!==s){return false}if(!_isSameFingerprint(t,n)){return false}if(!_isSameStacktrace(t,n)){return false}return true}function _isSameExceptionEvent(t,n){const r=_getExceptionFromEvent(n);const s=_getExceptionFromEvent(t);if(!r||!s){return false}if(r.type!==s.type||r.value!==s.value){return false}if(!_isSameFingerprint(t,n)){return false}if(!_isSameStacktrace(t,n)){return false}return true}function _isSameStacktrace(t,n){let r=(0,h.getFramesFromEvent)(t);let s=(0,h.getFramesFromEvent)(n);if(!r&&!s){return true}if(r&&!s||!r&&s){return false}r=r;s=s;if(s.length!==r.length){return false}for(let o=0;o<s.length;o++){const i=s[o];const a=r[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function){return false}}return true}function _isSameFingerprint(t,n){let r=t.fingerprint;let s=n.fingerprint;if(!r&&!s){return true}if(r&&!s||!r&&s){return false}r=r;s=s;try{return!(r.join("")!==s.join(""))}catch(o){return false}}function _getExceptionFromEvent(t){return t.exception&&t.exception.values&&t.exception.values[0]}function initAndBind(t,r){if(true===r.debug)if(o.DEBUG_BUILD)n.logger.enable();else(0,n.consoleSandbox)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")});const s=(0,d.getCurrentScope)();s.update(r.initialScope);const i=new t(r);setCurrentClient(i);i.init();return i}function setCurrentClient(t){(0,d.getCurrentScope)().setClient(t)}var b=__webpack_require__("../../node_modules/@sentry/utils/build/esm/debug-build.js");var T=__webpack_require__("../../node_modules/@sentry/utils/build/esm/worldwide.js");const w=T.GLOBAL_OBJ;function supportsErrorEvent(){try{new ErrorEvent("");return true}catch(t){return false}}function supportsDOMError(){try{new DOMError("");return true}catch(t){return false}}function supportsDOMException(){try{new DOMException("");return true}catch(t){return false}}function supportsFetch(){if(!("fetch"in w)){return false}try{new Headers;new Request("http://www.example.com");new Response;return true}catch(t){return false}}function isNativeFunction(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function supportsNativeFetch(){if("string"==typeof EdgeRuntime){return true}if(!supportsFetch()){return false}if(isNativeFunction(w.fetch)){return true}let t=false;const r=w.document;if(r&&"function"==typeof r.createElement){try{const s=r.createElement("iframe");s.hidden=true;r.head.appendChild(s);if(s.contentWindow&&s.contentWindow.fetch)t=isNativeFunction(s.contentWindow.fetch);r.head.removeChild(s)}catch(o){b.DEBUG_BUILD&&n.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}}return t}function supportsReportingObserver(){return"ReportingObserver"in w}function supportsReferrerPolicy(){if(!supportsFetch()){return false}try{new Request("_",{referrerPolicy:"origin"});return true}catch(t){return false}}const I={};const A={};function addHandler(t,n){I[t]=I[t]||[];I[t].push(n)}function resetInstrumentationHandlers(){Object.keys(I).forEach(t=>{I[t]=void 0})}function maybeInstrument(t,n){if(!A[t]){n();A[t]=true}}function triggerHandlers(t,r){const s=t&&I[t];if(!s){return}for(const o of s){try{o(r)}catch(i){b.DEBUG_BUILD&&n.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${(0,h.getFunctionName)(o)}
Error:`,i)}}}const k=T.GLOBAL_OBJ;function supportsHistory(){const t=k.chrome;const n=t&&t.app&&t.app.runtime;const r="history"in k&&!!k.history.pushState&&!!k.history.replaceState;return!n&&r}const x=T.GLOBAL_OBJ;let R;function addHistoryInstrumentationHandler(t){const n="history";addHandler(n,t);maybeInstrument(n,instrumentHistory)}function instrumentHistory(){if(!supportsHistory()){return}const t=x.onpopstate;x.onpopstate=function(...n){const r=x.location.href;const s=R;R=r;const o={from:s,to:r};triggerHandlers("history",o);if(t){try{return t.apply(this,n)}catch(i){}}};function historyReplacementFunction(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=R;const o=String(r);R=o;const i={from:s,to:o};triggerHandlers("history",i)}return t.apply(this,n)}}(0,u.fill)(x.history,"pushState",historyReplacementFunction);(0,u.fill)(x.history,"replaceState",historyReplacementFunction)}const M=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(t){return"http"===t||"https"===t}function dsn_dsnToString(t,n=false){const{host:r,path:s,pass:o,port:i,projectId:a,protocol:c,publicKey:l}=t;return`${c}://${l}${n&&o?`:${o}`:""}@${r}${i?`:${i}`:""}/${s?`${s}/`:s}${a}`}function dsnFromString(t){const r=M.exec(t);if(!r){(0,n.consoleSandbox)(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[s,o,i="",a="",c="",l=""]=r.slice(1);let u="";let d=l;const p=d.split("/");if(p.length>1){u=p.slice(0,-1).join("/");d=p.pop()}if(d){const f=d.match(/^\d+/);if(f)d=f[0]}return dsnFromComponents({host:a,pass:i,path:u,projectId:d,port:c,protocol:s,publicKey:o})}function dsnFromComponents(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function validateDsn(t){if(!b.DEBUG_BUILD){return true}const{port:r,projectId:s,protocol:o}=t;const i=["protocol","publicKey","host","projectId"];const a=i.find(r=>{if(!t[r]){n.logger.error(`Invalid Sentry Dsn: ${r} missing`);return true}return false});if(a){return false}if(!s.match(/^\d+$/)){n.logger.error(`Invalid Sentry Dsn: Invalid projectId ${s}`);return false}if(!isValidProtocol(o)){n.logger.error(`Invalid Sentry Dsn: Invalid protocol ${o}`);return false}if(r&&isNaN(parseInt(r,10))){n.logger.error(`Invalid Sentry Dsn: Invalid port ${r}`);return false}return true}function dsn_makeDsn(t){const n="string"==typeof t?dsnFromString(t):dsnFromComponents(t);if(!n||!validateDsn(n)){return}return n}var B=__webpack_require__("../../node_modules/@sentry/utils/build/esm/is.js");var U=__webpack_require__("../../node_modules/@sentry/utils/build/esm/syncpromise.js");var F=__webpack_require__("../../node_modules/@sentry/utils/build/esm/normalize.js");function createEnvelope(t,n=[]){return[t,n]}function addItemToEnvelope(t,n){const[r,s]=t;return[r,[...s,n]]}function forEachEnvelopeItem(t,n){const r=t[1];for(const s of r){const o=s[0].type;const i=n(s,o);if(i){return true}}return false}function envelopeContainsItemType(t,n){return forEachEnvelopeItem(t,(t,r)=>n.includes(r))}function encodeUTF8(t){return T.GLOBAL_OBJ.__SENTRY__&&T.GLOBAL_OBJ.__SENTRY__.encodePolyfill?T.GLOBAL_OBJ.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function decodeUTF8(t){return GLOBAL_OBJ.__SENTRY__&&GLOBAL_OBJ.__SENTRY__.decodePolyfill?GLOBAL_OBJ.__SENTRY__.decodePolyfill(t):new TextDecoder().decode(t)}function serializeEnvelope(t){const[n,r]=t;let s=JSON.stringify(n);function append(t){if("string"==typeof s)s="string"==typeof t?s+t:[encodeUTF8(s),t];else s.push("string"==typeof t?encodeUTF8(t):t)}for(const o of r){const[i,a]=o;append(`
${JSON.stringify(i)}
`);if("string"==typeof a||a instanceof Uint8Array)append(a);else{let c;try{c=JSON.stringify(a)}catch(l){c=JSON.stringify((0,F.normalize)(a))}append(c)}}return"string"==typeof s?s:concatBuffers(s)}function concatBuffers(t){const n=t.reduce((t,n)=>t+n.length,0);const r=new Uint8Array(n);let s=0;for(const o of t){r.set(o,s);s+=o.length}return r}function parseEnvelope(t){let n="string"==typeof t?encodeUTF8(t):t;function readBinary(t){const r=n.subarray(0,t);n=n.subarray(t+1);return r}function readJson(){let t=n.indexOf(10);if(t<0)t=n.length;return JSON.parse(decodeUTF8(readBinary(t)))}const r=readJson();const s=[];while(n.length){const o=readJson();const i="number"==typeof o.length?o.length:void 0;s.push([o,i?readBinary(i):readJson()])}return[r,s]}function createSpanEnvelopeItem(t){const n={type:"span"};return[n,t]}function createAttachmentEnvelopeItem(t){const n="string"==typeof t.data?encodeUTF8(t.data):t.data;return[(0,u.dropUndefinedKeys)({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const j={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function envelopeItemTypeToDataCategory(t){return j[t]}function getSdkMetadataForEnvelopeHeader(t){if(!t||!t.sdk){return}const{name:n,version:r}=t.sdk;return{name:n,version:r}}function createEventEnvelopeHeaders(t,n,r,s){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...n&&{sdk:n},...!!r&&s&&{dsn:dsn_dsnToString(s)},...o&&{trace:(0,u.dropUndefinedKeys)({...o})}}}class SentryError extends Error{constructor(t,n="warn"){super(t);this.message=t;this.name=new.target.prototype.constructor.name;Object.setPrototypeOf(this,new.target.prototype);this.logLevel=n}}var H=__webpack_require__("../../node_modules/@sentry/utils/build/esm/time.js");function createClientReportEnvelope(t,n,r){const s=[{type:"client_report"},{timestamp:r||(0,H.dateTimestampInSeconds)(),discarded_events:t}];return createEnvelope(n?{dsn:n}:{},[s])}const $="7";function getBaseApiEndpoint(t){const n=t.protocol?`${t.protocol}:`:"";const r=t.port?`:${t.port}`:"";return`${n}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function _getIngestEndpoint(t){return`${getBaseApiEndpoint(t)}${t.projectId}/envelope/`}function _encodedAuth(t,n){return(0,u.urlEncode)({sentry_key:t.publicKey,sentry_version:$,...n&&{sentry_client:`${n.name}/${n.version}`}})}function getEnvelopeEndpointWithUrlEncodedAuth(t,n,r){return n||`${_getIngestEndpoint(t)}?${_encodedAuth(t,r)}`}function api_getReportDialogEndpoint(t,n){const r=makeDsn(t);if(!r){return""}const s=`${getBaseApiEndpoint(r)}embed/error-page/`;let o=`dsn=${dsnToString(r)}`;for(const i in n){if("dsn"===i){continue}if("onClose"===i){continue}if("user"===i){const a=n.user;if(!a){continue}if(a.name)o+=`&name=${encodeURIComponent(a.name)}`;if(a.email)o+=`&email=${encodeURIComponent(a.email)}`}else{o+=`&${encodeURIComponent(i)}=${encodeURIComponent(n[i])}`}}return`${s}?${o}`}var W=__webpack_require__("../../node_modules/@sentry/core/build/esm/tracing/dynamicSamplingContext.js");var q=__webpack_require__("../../node_modules/@sentry/core/build/esm/utils/spanUtils.js");function enhanceEventWithSdkInfo(t,n){if(!n){return t}t.sdk=t.sdk||{};t.sdk.name=t.sdk.name||n.name;t.sdk.version=t.sdk.version||n.version;t.sdk.integrations=[...t.sdk.integrations||[],...n.integrations||[]];t.sdk.packages=[...t.sdk.packages||[],...n.packages||[]];return t}function createSessionEnvelope(t,n,r,s){const o=getSdkMetadataForEnvelopeHeader(r);const i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!s&&n&&{dsn:dsn_dsnToString(n)}};const a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return createEnvelope(i,[a])}function createEventEnvelope(t,n,r,s){const o=getSdkMetadataForEnvelopeHeader(r);const i=t.type&&"replay_event"!==t.type?t.type:"event";enhanceEventWithSdkInfo(t,r&&r.sdk);const a=createEventEnvelopeHeaders(t,o,s,n);delete t.sdkProcessingMetadata;const c=[{type:i},t];return createEnvelope(a,[c])}function createSpanEnvelope(t,n){function dscHasRequiredProps(t){return!!t.trace_id&&!!t.public_key}const r=(0,W.getDynamicSamplingContextFromSpan)(t[0]);const s=n&&n.getDsn();const o=n&&n.getOptions().tunnel;const i={sent_at:new Date().toISOString(),...dscHasRequiredProps(r)&&{trace:r},...!!o&&s&&{dsn:dsn_dsnToString(s)}};const a=n&&n.getOptions().beforeSendSpan;const c=a?t=>a((0,q.spanToJSON)(t)):t=>(0,q.spanToJSON)(t);const l=[];for(const u of t){const d=c(u);if(d)l.push(createSpanEnvelopeItem(d))}return createEnvelope(i,l)}var G=__webpack_require__("../../node_modules/@sentry/core/build/esm/session.js");function parseSampleRate(t){if("boolean"==typeof t){return Number(t)}const r="string"==typeof t?parseFloat(t):t;if("number"!=typeof r||isNaN(r)||r<0||r>1){o.DEBUG_BUILD&&n.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return r}var V=__webpack_require__("../../node_modules/@sentry/core/build/esm/utils/prepareEvent.js");const Y="Not capturing exception because it's already been captured.";class BaseClient{constructor(t){this._options=t;this._integrations={};this._numProcessing=0;this._outcomes={};this._hooks={};this._eventProcessors=[];if(t.dsn)this._dsn=dsn_makeDsn(t.dsn);else o.DEBUG_BUILD&&n.logger.warn("No DSN provided, client will not send events.");if(this._dsn){const r=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}}captureException(t,s,i){const a=(0,r.uuid4)();if((0,r.checkOrSetAlreadyCaught)(t)){o.DEBUG_BUILD&&n.logger.log(Y);return a}const c={event_id:a,...s};this._process(this.eventFromException(t,c).then(t=>this._captureEvent(t,c,i)));return c.event_id}captureMessage(t,n,s,o){const i={event_id:(0,r.uuid4)(),...s};const a=(0,B.isParameterizedString)(t)?t:String(t);const c=(0,B.isPrimitive)(t)?this.eventFromMessage(a,n,i):this.eventFromException(t,i);this._process(c.then(t=>this._captureEvent(t,i,o)));return i.event_id}captureEvent(t,s,i){const a=(0,r.uuid4)();if(s&&s.originalException&&(0,r.checkOrSetAlreadyCaught)(s.originalException)){o.DEBUG_BUILD&&n.logger.log(Y);return a}const c={event_id:a,...s};const l=t.sdkProcessingMetadata||{};const u=l.capturedSpanScope;this._process(this._captureEvent(t,c,u||i));return c.event_id}captureSession(t){if("string"!=typeof t.release)o.DEBUG_BUILD&&n.logger.warn("Discarded session because of missing or non-string release");else{this.sendSession(t);(0,G.updateSession)(t,{init:false})}}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;if(n){this.emit("flush");return this._isClientDoneProcessing(t).then(r=>{return n.flush(t).then(t=>r&&t)})}return(0,U.resolvedSyncPromise)(true)}close(t){return this.flush(t).then(t=>{this.getOptions().enabled=false;this.emit("close");return t})}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){if(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];setupIntegration(this,t,this._integrations);if(!n)afterSetupIntegrations(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=createEventEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=addItemToEnvelope(r,createAttachmentEnvelopeItem(s));const o=this.sendEnvelope(r);if(o)o.then(n=>this.emit("afterSendEvent",t,n),null)}sendSession(t){const n=createSessionEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,r,s){if(this._options.sendClientReports){const i="number"==typeof s?s:1;const a=`${t}:${r}`;o.DEBUG_BUILD&&n.logger.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`);this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];r.push(n);return()=>{const t=r.indexOf(n);if(t>-1)r.splice(t,1)}}emit(t,...n){const r=this._hooks[t];if(r)r.forEach(t=>t(...n))}sendEnvelope(t){this.emit("beforeEnvelope",t);if(this._isEnabled()&&this._transport){return this._transport.send(t).then(null,t=>{o.DEBUG_BUILD&&n.logger.error("Error while sending event:",t);return t})}o.DEBUG_BUILD&&n.logger.error("Transport disabled");return(0,U.resolvedSyncPromise)({})}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=setupIntegrations(this,t);afterSetupIntegrations(this,t)}_updateSessionFromEvent(t,n){let r=false;let s=false;const o=n.exception&&n.exception.values;if(o){s=true;for(const i of o){const a=i.mechanism;if(a&&false===a.handled){r=true;break}}}const c="ok"===t.status;const l=c&&0===t.errors||c&&r;if(l){(0,G.updateSession)(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)});this.captureSession(t)}}_isClientDoneProcessing(t){return new U.SyncPromise(n=>{let r=0;const s=1;const o=setInterval(()=>{if(0==this._numProcessing){clearInterval(o);n(true)}else{r+=s;if(t&&r>=t){clearInterval(o);n(false)}}},s)})}_isEnabled(){return false!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,n,r,s=(0,d.getIsolationScope)()){const o=this.getOptions();const i=Object.keys(this._integrations);if(!n.integrations&&i.length>0)n.integrations=i;this.emit("preprocessEvent",t,n);if(!t.type)s.setLastEventId(t.event_id||n.event_id);return(0,V.prepareEvent)(o,t,n,r,this,s).then(t=>{if(null===t){return t}const n={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};const o=t.contexts&&t.contexts.trace;if(!o&&n){const{traceId:i,spanId:a,parentSpanId:c,dsc:l}=n;t.contexts={trace:(0,u.dropUndefinedKeys)({trace_id:i,span_id:a,parent_span_id:c}),...t.contexts};const d=l||(0,W.getDynamicSamplingContextFromClient)(i,this);t.sdkProcessingMetadata={dynamicSamplingContext:d,...t.sdkProcessingMetadata}}return t})}_captureEvent(t,r={},s){return this._processEvent(t,r,s).then(t=>{return t.event_id},t=>{if(o.DEBUG_BUILD){const r=t;if("log"===r.logLevel)n.logger.log(r.message);else n.logger.warn(r)}return})}_processEvent(t,n,r){const s=this.getOptions();const{sampleRate:o}=s;const i=isTransactionEvent(t);const a=isErrorEvent(t);const c=t.type||"error";const l=`before send for type \`${c}\``;const u=void 0===o?void 0:parseSampleRate(o);if(a&&"number"==typeof u&&Math.random()>u){this.recordDroppedEvent("sample_rate","error",t);return(0,U.rejectedSyncPromise)(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))}const d="replay_event"===c?"replay":c;const p=t.sdkProcessingMetadata||{};const f=p.capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(r=>{if(null===r){this.recordDroppedEvent("event_processor",d,t);throw new SentryError("An event processor returned `null`, will not send event.","log")}const o=n.data&&true===n.data.__sentry__;if(o){return r}const i=processBeforeSend(this,s,r,n);return _validateBeforeSendResult(i,l)}).then(s=>{if(null===s){this.recordDroppedEvent("before_send",d,t);if(i){const o=t.spans||[];const a=1+o.length;this.recordDroppedEvent("before_send","span",a)}throw new SentryError(`${l} returned \`null\`, will not send event.`,"log")}const c=r&&r.getSession();if(!i&&c)this._updateSessionFromEvent(c,s);if(i){const u=s.sdkProcessingMetadata&&s.sdkProcessingMetadata.spanCountBeforeProcessing||0;const p=s.spans?s.spans.length:0;const f=u-p;if(f>0)this.recordDroppedEvent("before_send","span",f)}const m=s.transaction_info;if(i&&m&&s.transaction!==t.transaction){const g="custom";s.transaction_info={...m,source:g}}this.sendEvent(s,n);return s}).then(null,t=>{if(t instanceof SentryError){throw t}this.captureException(t,{data:{__sentry__:true},originalException:t});throw new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${t}`)})}_process(t){this._numProcessing++;void t.then(t=>{this._numProcessing--;return t},t=>{this._numProcessing--;return t})}_clearOutcomes(){const t=this._outcomes;this._outcomes={};return Object.entries(t).map(([t,n])=>{const[r,s]=t.split(":");return{reason:r,category:s,quantity:n}})}_flushOutcomes(){o.DEBUG_BUILD&&n.logger.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length){o.DEBUG_BUILD&&n.logger.log("No outcomes to send");return}if(!this._dsn){o.DEBUG_BUILD&&n.logger.log("No dsn provided, will not send outcomes");return}o.DEBUG_BUILD&&n.logger.log("Sending outcomes:",t);const r=createClientReportEnvelope(t,this._options.tunnel&&dsn_dsnToString(this._dsn));this.sendEnvelope(r)}}function _validateBeforeSendResult(t,n){const r=`${n} must return \`null\` or a valid event.`;if((0,B.isThenable)(t)){return t.then(t=>{if(!(0,B.isPlainObject)(t)&&null!==t){throw new SentryError(r)}return t},t=>{throw new SentryError(`${n} rejected with ${t}`)})}if(!(0,B.isPlainObject)(t)&&null!==t){throw new SentryError(r)}return t}function processBeforeSend(t,n,r,s){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a}=n;if(isErrorEvent(r)&&o){return o(r,s)}if(isTransactionEvent(r)){if(r.spans&&a){const c=[];for(const l of r.spans){const u=a(l);if(u)c.push(u);else t.recordDroppedEvent("before_send","span")}r.spans=c}if(i){if(r.spans){const d=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return i(r,s)}}return r}function isErrorEvent(t){return void 0===t.type}function isTransactionEvent(t){return"transaction"===t.type}var X=__webpack_require__("../../node_modules/@sentry/utils/build/esm/version.js");function applySdkMetadata(t,n,r=[n],s="npm"){const o=t._metadata||{};if(!o.sdk)o.sdk={name:`sentry.javascript.${n}`,packages:r.map(t=>({name:`${s}:@sentry/${t}`,version:X.SDK_VERSION})),version:X.SDK_VERSION};t._metadata=o}function isBrowserBundle(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}const Z="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function exceptionFromError(t,n){const r=parseStackFrames(t,n);const s={type:n&&n.name,value:extractMessage(n)};if(r.length)s.stacktrace={frames:r};if(void 0===s.type&&""===s.value)s.value="Unrecoverable error caught";return s}function eventFromPlainObject(t,n,r,s){const o=(0,d.getClient)();const i=o&&o.getOptions().normalizeDepth;const a=getErrorPropertyFromObject(n);const c={__serialized__:(0,F.normalizeToSize)(n,i)};if(a){return{exception:{values:[exceptionFromError(t,a)]},extra:c}}const l={exception:{values:[{type:(0,B.isEvent)(n)?n.constructor.name:s?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(n,{isUnhandledRejection:s})}]},extra:c};if(r){const u=parseStackFrames(t,r);if(u.length)l.exception.values[0].stacktrace={frames:u}}return l}function eventFromError(t,n){return{exception:{values:[exceptionFromError(t,n)]}}}function parseStackFrames(t,n){const r=n.stacktrace||n.stack||"";const s=getSkipFirstStackStringLines(n);const o=getPopFirstTopFrames(n);try{return t(r,s,o)}catch(i){}return[]}const ee=/Minified React error #\d+;/i;function getSkipFirstStackStringLines(t){if(t&&ee.test(t.message)){return 1}return 0}function getPopFirstTopFrames(t){if("number"==typeof t.framesToPop){return t.framesToPop}return 0}function extractMessage(t){const n=t&&t.message;if(!n){return"No error message"}if(n.error&&"string"==typeof n.error.message){return n.error.message}return n}function eventFromException(t,n,s,o){const i=s&&s.syntheticException||void 0;const a=eventFromUnknownInput(t,n,i,o);(0,r.addExceptionMechanism)(a);a.level="error";if(s&&s.event_id)a.event_id=s.event_id;return(0,U.resolvedSyncPromise)(a)}function eventFromMessage(t,n,r="info",s,o){const i=s&&s.syntheticException||void 0;const a=eventFromString(t,n,i,o);a.level=r;if(s&&s.event_id)a.event_id=s.event_id;return(0,U.resolvedSyncPromise)(a)}function eventFromUnknownInput(t,n,s,o,i){let a;if((0,B.isErrorEvent)(n)&&n.error){const c=n;return eventFromError(t,c.error)}if((0,B.isDOMError)(n)||(0,B.isDOMException)(n)){const l=n;if("stack"in n)a=eventFromError(t,n);else{const u=l.name||((0,B.isDOMError)(l)?"DOMError":"DOMException");const d=l.message?`${u}: ${l.message}`:u;a=eventFromString(t,d,s,o);(0,r.addExceptionTypeValue)(a,d)}if("code"in l)a.tags={...a.tags,"DOMException.code":`${l.code}`};return a}if((0,B.isError)(n)){return eventFromError(t,n)}if((0,B.isPlainObject)(n)||(0,B.isEvent)(n)){const p=n;a=eventFromPlainObject(t,p,s,i);(0,r.addExceptionMechanism)(a,{synthetic:true});return a}a=eventFromString(t,n,s,o);(0,r.addExceptionTypeValue)(a,`${n}`,void 0);(0,r.addExceptionMechanism)(a,{synthetic:true});return a}function eventFromString(t,n,r,s){const o={};if(s&&r){const i=parseStackFrames(t,r);if(i.length)o.exception={values:[{value:n,stacktrace:{frames:i}}]}}if((0,B.isParameterizedString)(n)){const{__sentry_template_string__:a,__sentry_template_values__:c}=n;o.logentry={message:a,params:c};return o}o.message=n;return o}function getNonErrorObjectExceptionValue(t,{isUnhandledRejection:n}){const r=(0,u.extractExceptionKeysForMessage)(t);const s=n?"promise rejection":"exception";if((0,B.isErrorEvent)(t)){return`Event \`ErrorEvent\` captured as ${s} with message \`${t.message}\``}if((0,B.isEvent)(t)){const o=getObjectClassName(t);return`Event \`${o}\` (type=${t.type}) captured as ${s}`}return`Object captured as ${s} with keys: ${r}`}function getObjectClassName(t){try{const n=Object.getPrototypeOf(t);return n?n.constructor.name:void 0}catch(r){}}function getErrorPropertyFromObject(t){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(r instanceof Error){return r}}return}const et=T.GLOBAL_OBJ;let en=0;function shouldIgnoreOnError(){return en>0}function ignoreNextOnError(){en++;setTimeout(()=>{en--})}function wrap(n,s={},o){if("function"!=typeof n){return n}try{const i=n.__sentry_wrapped__;if(i){if("function"==typeof i){return i}return n}if((0,u.getOriginalFunction)(n)){return n}}catch(a){return n}const sentryWrapped=function(){const i=Array.prototype.slice.call(arguments);try{if(o&&"function"==typeof o)o.apply(this,arguments);const a=i.map(t=>wrap(t,s));return n.apply(this,a)}catch(c){ignoreNextOnError();(0,d.withScope)(n=>{n.addEventProcessor(t=>{if(s.mechanism){(0,r.addExceptionTypeValue)(t,void 0,void 0);(0,r.addExceptionMechanism)(t,s.mechanism)}t.extra={...t.extra,arguments:i};return t});(0,t.captureException)(c)});throw c}};try{for(const c in n)if(Object.prototype.hasOwnProperty.call(n,c))sentryWrapped[c]=n[c]}catch(l){}(0,u.markFunctionWrapped)(sentryWrapped,n);(0,u.addNonEnumerableProperty)(n,"__sentry_wrapped__",sentryWrapped);try{const p=Object.getOwnPropertyDescriptor(sentryWrapped,"name");if(p.configurable)Object.defineProperty(sentryWrapped,"name",{get(){return n.name}})}catch(f){}return sentryWrapped}function createUserFeedbackEnvelope(t,{metadata:n,tunnel:r,dsn:s}){const o={event_id:t.event_id,sent_at:new Date().toISOString(),...n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!r&&!!s&&{dsn:dsn_dsnToString(s)}};const i=createUserFeedbackEnvelopeItem(t);return createEnvelope(o,[i])}function createUserFeedbackEnvelopeItem(t){const n={type:"user_report"};return[n,t]}class BrowserClient extends BaseClient{constructor(t){const n={parentSpanIsAlwaysRootSpan:true,...t};const r=et.SENTRY_SDK_SOURCE||getSDKSource();applySdkMetadata(n,"browser",["browser"],r);super(n);if(n.sendClientReports&&et.document)et.document.addEventListener("visibilitychange",()=>{if("hidden"===et.document.visibilityState)this._flushOutcomes()})}eventFromException(t,n){return eventFromException(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return eventFromMessage(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Z&&n.logger.warn("SDK not enabled, will not capture user feedback.");return}const r=createUserFeedbackEnvelope(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,n,r){t.platform=t.platform||"javascript";return super._prepareEvent(t,n,r)}}const er=1e3;let es;let eo;let ei;function addClickKeypressInstrumentationHandler(t){const n="dom";addHandler(n,t);maybeInstrument(n,instrumentDOM)}function instrumentDOM(){if(!x.document){return}const t=triggerHandlers.bind(null,"dom");const n=makeDOMEventHandler(t,true);x.document.addEventListener("click",n,false);x.document.addEventListener("keypress",n,false);["EventTarget","Node"].forEach(n=>{const r=x[n]&&x[n].prototype;if(!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")){return}(0,u.fill)(r,"addEventListener",function(n){return function(r,s,o){if("click"===r||"keypress"==r){try{const i=this;const a=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{};const c=a[r]=a[r]||{refCount:0};if(!c.handler){const l=makeDOMEventHandler(t);c.handler=l;n.call(this,r,l,o)}c.refCount++}catch(u){}}return n.call(this,r,s,o)}});(0,u.fill)(r,"removeEventListener",function(t){return function(n,r,s){if("click"===n||"keypress"==n){try{const o=this;const i=o.__sentry_instrumentation_handlers__||{};const a=i[n];if(a){a.refCount--;if(a.refCount<=0){t.call(this,n,a.handler,s);a.handler=void 0;delete i[n]}if(0===Object.keys(i).length)delete o.__sentry_instrumentation_handlers__}}catch(c){}}return t.call(this,n,r,s)}})})}function isSimilarToLastCapturedEvent(t){if(t.type!==eo){return false}try{if(!t.target||t.target._sentryId!==ei){return false}}catch(n){}return true}function shouldSkipDOMEvent(t,n){if("keypress"!==t){return false}if(!n||!n.tagName){return true}if("INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable){return false}return true}function makeDOMEventHandler(t,n=false){return s=>{if(!s||s["_sentryCaptured"]){return}const o=getEventTarget(s);if(shouldSkipDOMEvent(s.type,o)){return}(0,u.addNonEnumerableProperty)(s,"_sentryCaptured",true);if(o&&!o._sentryId)(0,u.addNonEnumerableProperty)(o,"_sentryId",(0,r.uuid4)());const i="keypress"===s.type?"input":s.type;if(!isSimilarToLastCapturedEvent(s)){const a={event:s,name:i,global:n};t(a);eo=s.type;ei=o?o._sentryId:void 0}clearTimeout(es);es=x.setTimeout(()=>{ei=void 0;eo=void 0},er)}}function getEventTarget(t){try{return t.target}catch(n){return null}}const ea="__sentry_xhr_v3__";function addXhrInstrumentationHandler(t){const n="xhr";addHandler(n,t);maybeInstrument(n,instrumentXHR)}function instrumentXHR(){if(!x.XMLHttpRequest){return}const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,n,r){const s=1e3*(0,H.timestampInSeconds)();const o=(0,B.isString)(r[0])?r[0].toUpperCase():void 0;const i=parseUrl(r[1]);if(!o||!i){return t.apply(n,r)}n[ea]={method:o,url:i,request_headers:{}};if("POST"===o&&i.match(/sentry_key/))n.__sentry_own_request__=true;const onreadystatechangeHandler=()=>{const t=n[ea];if(!t){return}if(4===n.readyState){try{t.status_code=n.status}catch(r){}const o={endTimestamp:1e3*(0,H.timestampInSeconds)(),startTimestamp:s,xhr:n};triggerHandlers("xhr",o)}};if("onreadystatechange"in n&&"function"==typeof n.onreadystatechange)n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(t,n,r){onreadystatechangeHandler();return t.apply(n,r)}});else n.addEventListener("readystatechange",onreadystatechangeHandler);n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(t,n,r){const[s,o]=r;const i=n[ea];if(i&&(0,B.isString)(s)&&(0,B.isString)(o))i.request_headers[s.toLowerCase()]=o;return t.apply(n,r)}});return t.apply(n,r)}});t.send=new Proxy(t.send,{apply(t,n,r){const s=n[ea];if(!s){return t.apply(n,r)}if(void 0!==r[0])s.body=r[0];const o={startTimestamp:1e3*(0,H.timestampInSeconds)(),xhr:n};triggerHandlers("xhr",o);return t.apply(n,r)}})}function parseUrl(t){if((0,B.isString)(t)){return t}try{return t.toString()}catch(n){}return}const ec=100;function addBreadcrumb(t,r){const s=(0,d.getClient)();const o=(0,d.getIsolationScope)();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=ec}=s.getOptions();if(a<=0)return;const c=(0,H.dateTimestampInSeconds)();const l={timestamp:c,...t};const u=i?(0,n.consoleSandbox)(()=>i(l,r)):l;if(null===u)return;if(s.emit)s.emit("beforeAddBreadcrumb",u,r);o.addBreadcrumb(u,a)}function addConsoleInstrumentationHandler(t){const n="console";addHandler(n,t);maybeInstrument(n,instrumentConsole)}function instrumentConsole(){if(!("console"in T.GLOBAL_OBJ)){return}n.CONSOLE_LEVELS.forEach(function(t){if(!(t in T.GLOBAL_OBJ.console)){return}(0,u.fill)(T.GLOBAL_OBJ.console,t,function(r){n.originalConsoleMethods[t]=r;return function(...r){const s={args:r,level:t};triggerHandlers("console",s);const o=n.originalConsoleMethods[t];o&&o.apply(T.GLOBAL_OBJ.console,r)}})})}function addFetchInstrumentationHandler(t,n){const r="fetch";addHandler(r,t);maybeInstrument(r,()=>instrumentFetch(void 0,n))}function addFetchEndInstrumentationHandler(t){const n="fetch-body-resolved";addHandler(n,t);maybeInstrument(n,()=>instrumentFetch(streamHandler))}function instrumentFetch(t,n=false){if(n&&!supportsNativeFetch()){return}(0,u.fill)(T.GLOBAL_OBJ,"fetch",function(n){return function(...r){const{method:s,url:o}=parseFetchArgs(r);const i={args:r,fetchData:{method:s,url:o},startTimestamp:1e3*(0,H.timestampInSeconds)()};if(!t)triggerHandlers("fetch",{...i});const a=new Error().stack;return n.apply(T.GLOBAL_OBJ,r).then(async n=>{if(t)t(n);else triggerHandlers("fetch",{...i,endTimestamp:1e3*(0,H.timestampInSeconds)(),response:n});return n},t=>{triggerHandlers("fetch",{...i,endTimestamp:1e3*(0,H.timestampInSeconds)(),error:t});if((0,B.isError)(t)&&void 0===t.stack){t.stack=a;(0,u.addNonEnumerableProperty)(t,"framesToPop",1)}throw t})}})}async function resolveResponse(t,n){if(t&&t.body){const r=t.body;const s=r.getReader();const o=setTimeout(()=>{r.cancel().then(null,()=>{})},9e4);let i=true;while(i){let a;try{a=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:c}=await s.read();clearTimeout(a);if(c){n();i=false}}catch(l){i=false}finally{clearTimeout(a)}}clearTimeout(o);s.releaseLock();r.cancel().then(null,()=>{})}}function streamHandler(t){let n;try{n=t.clone()}catch(r){return}resolveResponse(n,()=>{triggerHandlers("fetch-body-resolved",{endTimestamp:1e3*(0,H.timestampInSeconds)(),response:t})})}function hasProp(t,n){return!!t&&"object"==typeof t&&!!t[n]}function getUrlFromResource(t){if("string"==typeof t){return t}if(!t){return""}if(hasProp(t,"url")){return t.url}if(t.toString){return t.toString()}return""}function parseFetchArgs(t){if(0===t.length){return{method:"GET",url:""}}if(2===t.length){const[n,r]=t;return{url:getUrlFromResource(n),method:hasProp(r,"method")?String(r.method).toUpperCase():"GET"}}const s=t[0];return{url:getUrlFromResource(s),method:hasProp(s,"method")?String(s.method).toUpperCase():"GET"}}var el=__webpack_require__("../../node_modules/@sentry/utils/build/esm/browser.js");const eu=["fatal","error","warning","log","info","debug"];function severityLevelFromString(t){return"warn"===t?"warning":eu.includes(t)?t:"log"}function getBreadcrumbLogLevelFromHttpStatusCode(t){if(void 0===t){return}if(t>=400&&t<500){return"warning"}if(t>=500){return"error"}return}function url_parseUrl(t){if(!t){return{}}const n=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n){return{}}const r=n[6]||"";const s=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],search:r,hash:s,relative:n[5]+r+s}}function stripUrlQueryAndFragment(t){return t.split(/[?#]/,1)[0]}function getNumberOfUrlSegments(t){return t.split(/\\?\//).filter(t=>t.length>0&&","!==t).length}function getSanitizedUrlString(t){const{protocol:n,host:r,path:s}=t;const o=r&&r.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${n?`${n}://`:""}${o}${s}`}const ed=1024;const ep="Breadcrumbs";const _breadcrumbsIntegration=(t={})=>{const n={console:true,dom:true,fetch:true,history:true,sentry:true,xhr:true,...t};return{name:ep,setup(t){if(n.console)addConsoleInstrumentationHandler(_getConsoleBreadcrumbHandler(t));if(n.dom)addClickKeypressInstrumentationHandler(_getDomBreadcrumbHandler(t,n.dom));if(n.xhr)addXhrInstrumentationHandler(_getXhrBreadcrumbHandler(t));if(n.fetch)addFetchInstrumentationHandler(_getFetchBreadcrumbHandler(t));if(n.history)addHistoryInstrumentationHandler(_getHistoryBreadcrumbHandler(t));if(n.sentry)t.on("beforeSendEvent",_getSentryBreadcrumbHandler(t))}}};const ef=defineIntegration(_breadcrumbsIntegration);function _getSentryBreadcrumbHandler(t){return function addSentryBreadcrumb(n){if((0,d.getClient)()!==t){return}addBreadcrumb({category:`sentry.${"transaction"===n.type?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:(0,r.getEventDescription)(n)},{event:n})}}function _getDomBreadcrumbHandler(t,r){return function _innerDomBreadcrumb(s){if((0,d.getClient)()!==t){return}let o;let i;let a="object"==typeof r?r.serializeAttribute:void 0;let c="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;if(c&&c>ed){Z&&n.logger.warn(`\`dom.maxStringLength\` cannot exceed ${ed}, but a value of ${c} was configured. Sentry will use ${ed} instead.`);c=ed}if("string"==typeof a)a=[a];try{const l=s.event;const u=_isEvent(l)?l.target:l;o=(0,el.htmlTreeAsString)(u,{keyAttrs:a,maxStringLength:c});i=(0,el.getComponentName)(u)}catch(p){o="<unknown>"}if(0===o.length){return}const f={category:`ui.${s.name}`,message:o};if(i)f.data={"ui.component_name":i};addBreadcrumb(f,{event:s.event,name:s.name,global:s.global})}}function _getConsoleBreadcrumbHandler(t){return function _consoleBreadcrumb(n){if((0,d.getClient)()!==t){return}const r={category:"console",data:{arguments:n.args,logger:"console"},level:severityLevelFromString(n.level),message:(0,s.safeJoin)(n.args," ")};if("assert"===n.level)if(false===n.args[0]){r.message=`Assertion failed: ${(0,s.safeJoin)(n.args.slice(1)," ")||"console.assert"}`;r.data.arguments=n.args.slice(1)}else{return}addBreadcrumb(r,{input:n.args,level:n.level})}}function _getXhrBreadcrumbHandler(t){return function _xhrBreadcrumb(n){if((0,d.getClient)()!==t){return}const{startTimestamp:r,endTimestamp:s}=n;const o=n.xhr[ea];if(!r||!s||!o){return}const{method:i,url:a,status_code:c,body:l}=o;const u={method:i,url:a,status_code:c};const p={xhr:n.xhr,input:l,startTimestamp:r,endTimestamp:s};const f=getBreadcrumbLogLevelFromHttpStatusCode(c);addBreadcrumb({category:"xhr",data:u,type:"http",level:f},p)}}function _getFetchBreadcrumbHandler(t){return function _fetchBreadcrumb(n){if((0,d.getClient)()!==t){return}const{startTimestamp:r,endTimestamp:s}=n;if(!s){return}if(n.fetchData.url.match(/sentry_key/)&&"POST"===n.fetchData.method){return}if(n.error){const o=n.fetchData;const i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};addBreadcrumb({category:"fetch",data:o,level:"error",type:"http"},i)}else{const a=n.response;const c={...n.fetchData,status_code:a&&a.status};const l={input:n.args,response:a,startTimestamp:r,endTimestamp:s};const u=getBreadcrumbLogLevelFromHttpStatusCode(c.status_code);addBreadcrumb({category:"fetch",data:c,type:"http",level:u},l)}}}function _getHistoryBreadcrumbHandler(t){return function _historyBreadcrumb(n){if((0,d.getClient)()!==t){return}let r=n.from;let s=n.to;const o=url_parseUrl(et.location.href);let i=r?url_parseUrl(r):void 0;const a=url_parseUrl(s);if(!i||!i.path)i=o;if(o.protocol===a.protocol&&o.host===a.host)s=a.relative;if(o.protocol===i.protocol&&o.host===i.host)r=i.relative;addBreadcrumb({category:"navigation",data:{from:r,to:s}})}}function _isEvent(t){return!!t&&!!t.target}const em=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];const eg="BrowserApiErrors";const _browserApiErrorsIntegration=(t={})=>{const n={XMLHttpRequest:true,eventTarget:true,requestAnimationFrame:true,setInterval:true,setTimeout:true,...t};return{name:eg,setupOnce(){if(n.setTimeout)(0,u.fill)(et,"setTimeout",_wrapTimeFunction);if(n.setInterval)(0,u.fill)(et,"setInterval",_wrapTimeFunction);if(n.requestAnimationFrame)(0,u.fill)(et,"requestAnimationFrame",_wrapRAF);if(n.XMLHttpRequest&&"XMLHttpRequest"in et)(0,u.fill)(XMLHttpRequest.prototype,"send",_wrapXHR);const t=n.eventTarget;if(t){const r=Array.isArray(t)?t:em;r.forEach(_wrapEventTarget)}}}};const eh=defineIntegration(_browserApiErrorsIntegration);function _wrapTimeFunction(t){return function(...n){const r=n[0];n[0]=wrap(r,{mechanism:{data:{function:(0,h.getFunctionName)(t)},handled:false,type:"instrument"}});return t.apply(this,n)}}function _wrapRAF(t){return function(n){return t.apply(this,[wrap(n,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,h.getFunctionName)(t)},handled:false,type:"instrument"}})])}}function _wrapXHR(t){return function(...n){const r=this;const s=["onload","onerror","onprogress","onreadystatechange"];s.forEach(t=>{if(t in r&&"function"==typeof r[t])(0,u.fill)(r,t,function(n){const r={mechanism:{data:{function:t,handler:(0,h.getFunctionName)(n)},handled:false,type:"instrument"}};const s=(0,u.getOriginalFunction)(n);if(s)r.mechanism.data.handler=(0,h.getFunctionName)(s);return wrap(n,r)})});return t.apply(this,n)}}function _wrapEventTarget(t){const n=et;const r=n[t]&&n[t].prototype;if(!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")){return}(0,u.fill)(r,"addEventListener",function(n){return function(r,s,o){try{if("function"==typeof s.handleEvent)s.handleEvent=wrap(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,h.getFunctionName)(s),target:t},handled:false,type:"instrument"}})}catch(i){}return n.apply(this,[r,wrap(s,{mechanism:{data:{function:"addEventListener",handler:(0,h.getFunctionName)(s),target:t},handled:false,type:"instrument"}}),o])}});(0,u.fill)(r,"removeEventListener",function(t){return function(n,r,s){const o=r;try{const i=o&&o.__sentry_wrapped__;if(i)t.call(this,n,i,s)}catch(a){}return t.call(this,n,o,s)}})}let e_=null;function addGlobalErrorInstrumentationHandler(t){const n="error";addHandler(n,t);maybeInstrument(n,instrumentError)}function instrumentError(){e_=T.GLOBAL_OBJ.onerror;T.GLOBAL_OBJ.onerror=function(t,n,r,s,o){const i={column:s,error:o,line:r,msg:t,url:n};triggerHandlers("error",i);if(e_&&!e_.__SENTRY_LOADER__){return e_.apply(this,arguments)}return false};T.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=true}let ey=null;function addGlobalUnhandledRejectionInstrumentationHandler(t){const n="unhandledrejection";addHandler(n,t);maybeInstrument(n,instrumentUnhandledRejection)}function instrumentUnhandledRejection(){ey=T.GLOBAL_OBJ.onunhandledrejection;T.GLOBAL_OBJ.onunhandledrejection=function(t){const n=t;triggerHandlers("unhandledrejection",n);if(ey&&!ey.__SENTRY_LOADER__){return ey.apply(this,arguments)}return true};T.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=true}const eS="GlobalHandlers";const _globalHandlersIntegration=(t={})=>{const n={onerror:true,onunhandledrejection:true,...t};return{name:eS,setupOnce(){Error.stackTraceLimit=50},setup(t){if(n.onerror){_installGlobalOnErrorHandler(t);globalHandlerLog("onerror")}if(n.onunhandledrejection){_installGlobalOnUnhandledRejectionHandler(t);globalHandlerLog("onunhandledrejection")}}}};const ev=defineIntegration(_globalHandlersIntegration);function _installGlobalOnErrorHandler(n){addGlobalErrorInstrumentationHandler(r=>{const{stackParser:s,attachStacktrace:o}=getOptions();if((0,d.getClient)()!==n||shouldIgnoreOnError()){return}const{msg:i,url:a,line:c,column:l,error:u}=r;const p=_enhanceEventWithInitialFrame(eventFromUnknownInput(s,u||i,void 0,o,false),a,c,l);p.level="error";(0,t.captureEvent)(p,{originalException:u,mechanism:{handled:false,type:"onerror"}})})}function _installGlobalOnUnhandledRejectionHandler(n){addGlobalUnhandledRejectionInstrumentationHandler(r=>{const{stackParser:s,attachStacktrace:o}=getOptions();if((0,d.getClient)()!==n||shouldIgnoreOnError()){return}const i=_getUnhandledRejectionError(r);const a=(0,B.isPrimitive)(i)?_eventFromRejectionWithPrimitive(i):eventFromUnknownInput(s,i,void 0,o,true);a.level="error";(0,t.captureEvent)(a,{originalException:i,mechanism:{handled:false,type:"onunhandledrejection"}})})}function _getUnhandledRejectionError(t){if((0,B.isPrimitive)(t)){return t}try{if("reason"in t){return t.reason}if("detail"in t&&"reason"in t.detail){return t.detail.reason}}catch(n){}return t}function _eventFromRejectionWithPrimitive(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function _enhanceEventWithInitialFrame(t,n,r,s){const o=t.exception=t.exception||{};const i=o.values=o.values||[];const a=i[0]=i[0]||{};const c=a.stacktrace=a.stacktrace||{};const l=c.frames=c.frames||[];const u=isNaN(parseInt(s,10))?void 0:s;const d=isNaN(parseInt(r,10))?void 0:r;const p=(0,B.isString)(n)&&n.length>0?n:(0,el.getLocationHref)();if(0===l.length)l.push({colno:u,filename:p,function:h.UNKNOWN_FUNCTION,in_app:true,lineno:d});return t}function globalHandlerLog(t){Z&&n.logger.log(`Global Handler attached: ${t}`)}function getOptions(){const t=(0,d.getClient)();const n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:false};return n}const eb=defineIntegration(()=>{return{name:"HttpContext",preprocessEvent(t){if(!et.navigator&&!et.location&&!et.document){return}const n=t.request&&t.request.url||et.location&&et.location.href;const{referrer:r}=et.document||{};const{userAgent:s}=et.navigator||{};const o={...t.request&&t.request.headers,...r&&{Referer:r},...s&&{"User-Agent":s}};const i={...t.request,...n&&{url:n},headers:o};t.request=i}}});function applyAggregateErrorsToEvent(t,n,r=250,s,o,i,a){if(!i.exception||!i.exception.values||!a||!(0,B.isInstanceOf)(a.originalException,Error)){return}const c=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;if(c)i.exception.values=truncateAggregateExceptions(aggregateExceptionsFromError(t,n,o,a.originalException,s,i.exception.values,c,0),r)}function aggregateExceptionsFromError(t,n,r,s,o,i,a,c){if(i.length>=r+1){return i}let l=[...i];if((0,B.isInstanceOf)(s[o],Error)){applyExceptionGroupFieldsForParentException(a,c);const u=t(n,s[o]);const d=l.length;applyExceptionGroupFieldsForChildException(u,o,d,c);l=aggregateExceptionsFromError(t,n,r,s[o],o,[u,...l],u,d)}if(Array.isArray(s.errors))s.errors.forEach((s,i)=>{if((0,B.isInstanceOf)(s,Error)){applyExceptionGroupFieldsForParentException(a,c);const u=t(n,s);const d=l.length;applyExceptionGroupFieldsForChildException(u,`errors[${i}]`,d,c);l=aggregateExceptionsFromError(t,n,r,s,o,[u,...l],u,d)}});return l}function applyExceptionGroupFieldsForParentException(t,n){t.mechanism=t.mechanism||{type:"generic",handled:true};t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:true},exception_id:n}}function applyExceptionGroupFieldsForChildException(t,n,r,s){t.mechanism=t.mechanism||{type:"generic",handled:true};t.mechanism={...t.mechanism,type:"chained",source:n,exception_id:r,parent_id:s}}function truncateAggregateExceptions(t,n){return t.map(t=>{if(t.value)t.value=(0,s.truncate)(t.value,n);return t})}const eE="cause";const eT=5;const ew="LinkedErrors";const _linkedErrorsIntegration=(t={})=>{const n=t.limit||eT;const r=t.key||eE;return{name:ew,preprocessEvent(t,s,o){const i=o.getOptions();applyAggregateErrorsToEvent(exceptionFromError,i.stackParser,i.maxValueLength,r,n,t,s)}}};const eI=defineIntegration(_linkedErrorsIntegration);const eA=10;const ek=20;const eC=30;const ex=40;const eR=50;function createFrame(t,n,r,s){const o={filename:t,function:"<anonymous>"===n?h.UNKNOWN_FUNCTION:n,in_app:true};if(void 0!==r)o.lineno=r;if(void 0!==s)o.colno=s;return o}const eO=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i;const eN=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i;const eM=/\((\S*)(?::(\d+))(?::(\d+))\)/;const chromeStackParserFn=t=>{const n=eO.exec(t);if(n){const[,r,s,o]=n;return createFrame(r,h.UNKNOWN_FUNCTION,+s,+o)}const i=eN.exec(t);if(i){const a=i[2]&&0===i[2].indexOf("eval");if(a){const c=eM.exec(i[2]);if(c){i[2]=c[1];i[3]=c[2];i[4]=c[3]}}const[l,u]=extractSafariExtensionDetails(i[1]||h.UNKNOWN_FUNCTION,i[2]);return createFrame(u,l,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}return};const eD=[eC,chromeStackParserFn];const eP=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i;const eB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;const gecko=t=>{const n=eP.exec(t);if(n){const r=n[3]&&n[3].indexOf(" > eval")>-1;if(r){const s=eB.exec(n[3]);if(s){n[1]=n[1]||"eval";n[3]=s[1];n[4]=s[2];n[5]=""}}let o=n[3];let i=n[1]||h.UNKNOWN_FUNCTION;[i,o]=extractSafariExtensionDetails(i,o);return createFrame(o,i,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}return};const eL=[eR,gecko];const eU=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i;const winjs=t=>{const n=eU.exec(t);return n?createFrame(n[2],n[1]||h.UNKNOWN_FUNCTION,+n[3],n[4]?+n[4]:void 0):void 0};const eF=[ex,winjs];const ej=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i;const opera10=t=>{const n=ej.exec(t);return n?createFrame(n[2],n[3]||h.UNKNOWN_FUNCTION,+n[1]):void 0};const eH=[eA,opera10];const e$=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i;const opera11=t=>{const n=e$.exec(t);return n?createFrame(n[5],n[3]||n[4]||h.UNKNOWN_FUNCTION,+n[1],+n[2]):void 0};const eW=[ek,opera11];const eq=[eD,eL];const ez=(0,h.createStackParser)(...eq);const extractSafariExtensionDetails=(t,n)=>{const r=-1!==t.indexOf("safari-extension");const s=-1!==t.indexOf("safari-web-extension");return r||s?[-1!==t.indexOf("@")?t.split("@")[0]:h.UNKNOWN_FUNCTION,r?`safari-extension:${n}`:`safari-web-extension:${n}`]:[t,n]};const eG="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const eV={};function getNativeImplementation(t){const r=eV[t];if(r){return r}let s=x[t];if(isNativeFunction(s)){return eV[t]=s.bind(x)}const o=x.document;if(o&&"function"==typeof o.createElement){try{const i=o.createElement("iframe");i.hidden=true;o.head.appendChild(i);const a=i.contentWindow;if(a&&a[t])s=a[t];o.head.removeChild(i)}catch(c){eG&&n.logger.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,c)}}if(!s){return s}return eV[t]=s.bind(x)}function clearCachedImplementation(t){eV[t]=void 0}function fetch(...t){return getNativeImplementation("fetch")(...t)}function getNativeImplementation_setTimeout(...t){return getNativeImplementation("setTimeout")(...t)}function makePromiseBuffer(t){const n=[];function isReady(){return void 0===t||n.length<t}function remove(t){return n.splice(n.indexOf(t),1)[0]||Promise.resolve(void 0)}function add(t){if(!isReady()){return(0,U.rejectedSyncPromise)(new SentryError("Not adding Promise because buffer limit was reached."))}const r=t();if(-1===n.indexOf(r))n.push(r);void r.then(()=>remove(r)).then(null,()=>remove(r).then(null,()=>{}));return r}function drain(t){return new U.SyncPromise((r,s)=>{let o=n.length;if(!o){return r(true)}const i=setTimeout(()=>{if(t&&t>0)r(false)},t);n.forEach(t=>{void(0,U.resolvedSyncPromise)(t).then(()=>{if(!--o){clearTimeout(i);r(true)}},s)})})}return{$:n,add,drain}}const eJ=6e4;function parseRetryAfterHeader(t,n=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r)){return 1e3*r}const s=Date.parse(`${t}`);if(!isNaN(s)){return s-n}return eJ}function disabledUntil(t,n){return t[n]||t.all||0}function isRateLimited(t,n,r=Date.now()){return disabledUntil(t,n)>r}function updateRateLimits(t,{statusCode:n,headers:r},s=Date.now()){const o={...t};const i=r&&r["x-sentry-rate-limits"];const a=r&&r["retry-after"];if(i){for(const c of i.trim().split(",")){const[l,u,,,d]=c.split(":",5);const p=parseInt(l,10);const f=(isNaN(p)?60:p)*1e3;if(u){for(const m of u.split(";"))if("metric_bucket"===m){if(!d||d.split(";").includes("custom"))o[m]=s+f}else o[m]=s+f}else{o.all=s+f}}}else if(a)o.all=s+parseRetryAfterHeader(a,s);else if(429===n)o.all=s+6e4;return o}const eK=64;function createTransport(t,r,s=makePromiseBuffer(t.bufferSize||eK)){let i={};const flush=t=>s.drain(t);function send(a){const c=[];forEachEnvelopeItem(a,(n,r)=>{const s=envelopeItemTypeToDataCategory(r);if(isRateLimited(i,s)){const o=getEventForEnvelopeItem(n,r);t.recordDroppedEvent("ratelimit_backoff",s,o)}else{c.push(n)}});if(0===c.length){return(0,U.resolvedSyncPromise)({})}const l=createEnvelope(a[0],c);const recordEnvelopeLoss=n=>{forEachEnvelopeItem(l,(r,s)=>{const o=getEventForEnvelopeItem(r,s);t.recordDroppedEvent(n,envelopeItemTypeToDataCategory(s),o)})};const requestTask=()=>r({body:serializeEnvelope(l)}).then(t=>{if(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300))o.DEBUG_BUILD&&n.logger.warn(`Sentry responded with status code ${t.statusCode} to sent event.`);i=updateRateLimits(i,t);return t},t=>{recordEnvelopeLoss("network_error");throw t});return s.add(requestTask).then(t=>t,t=>{if(t instanceof SentryError){o.DEBUG_BUILD&&n.logger.error("Skipped sending event because buffer is full.");recordEnvelopeLoss("queue_overflow");return(0,U.resolvedSyncPromise)({})}throw t})}return{send,flush}}function getEventForEnvelopeItem(t,n){if("event"!==n&&"transaction"!==n){return}return Array.isArray(t)?t[1]:void 0}function makeFetchTransport(t,n=getNativeImplementation("fetch")){let r=0;let s=0;function makeRequest(o){const i=o.body.length;r+=i;s++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&s<15,...t.fetchOptions};if(!n){clearCachedImplementation("fetch");return(0,U.rejectedSyncPromise)("No fetch implementation available")}try{return n(t.url,a).then(t=>{r-=i;s--;return{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}})}catch(c){clearCachedImplementation("fetch");r-=i;s--;return(0,U.rejectedSyncPromise)(c)}}return createTransport(t,makeRequest)}function getDefaultIntegrations(t){return[l(),g(),eh(),ef(),ev(),eI(),v(),eb()]}function applyDefaultOptions(t={}){const n={defaultIntegrations:getDefaultIntegrations(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:et.SENTRY_RELEASE&&et.SENTRY_RELEASE.id?et.SENTRY_RELEASE.id:void 0,autoSessionTracking:true,sendClientReports:true};if(null==t.defaultIntegrations)delete t.defaultIntegrations;return{...n,...t}}function shouldShowBrowserExtensionError(){const t=void 0!==et.window&&et;if(!t){return false}const n=t.chrome?"chrome":"browser";const r=t[n];const s=r&&r.runtime&&r.runtime.id;const o=et.location&&et.location.href||"";const i=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"];const a=!!s&&et===et.top&&i.some(t=>o.startsWith(`${t}//`));const c=void 0!==t.nw;return!!s&&!a&&!c}function init(t={}){const r=applyDefaultOptions(t);if(shouldShowBrowserExtensionError()){(0,n.consoleSandbox)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}if(Z){if(!supportsFetch())n.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.")}const s={...r,stackParser:(0,h.stackParserFromStackParserOptions)(r.stackParser||ez),integrations:getIntegrationsToSetup(r),transport:r.transport||makeFetchTransport};const o=initAndBind(BrowserClient,s);if(r.autoSessionTracking)startSessionTracking();return o}function showReportDialog(t={}){if(!WINDOW.document){DEBUG_BUILD&&logger.error("Global document not defined in showReportDialog call");return}const n=getCurrentScope();const r=n.getClient();const s=r&&r.getDsn();if(!s){DEBUG_BUILD&&logger.error("DSN not configured for showReportDialog call");return}if(n)t.user={...n.getUser(),...t.user};if(!t.eventId){const o=lastEventId();if(o)t.eventId=o}const i=WINDOW.document.createElement("script");i.async=true;i.crossOrigin="anonymous";i.src=getReportDialogEndpoint(s,t);if(t.onLoad)i.onload=t.onLoad;const{onClose:a}=t;if(a){const reportDialogClosedMessageHandler=t=>{if("__sentry_reportdialog_closed__"===t.data){try{a()}finally{WINDOW.removeEventListener("message",reportDialogClosedMessageHandler)}}};WINDOW.addEventListener("message",reportDialogClosedMessageHandler)}const c=WINDOW.document.head||WINDOW.document.body;if(c)c.appendChild(i);else DEBUG_BUILD&&logger.error("Not injecting report dialog. No injection point found in HTML")}function forceLoad(){}function onLoad(t){t()}function startSessionTracking(){if(void 0===et.document){Z&&n.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}(0,t.startSession)({ignoreDuration:true});(0,t.captureSession)();addHistoryInstrumentationHandler(({from:n,to:r})=>{if(void 0!==n&&n!==r){(0,t.startSession)({ignoreDuration:true});(0,t.captureSession)()}})}function captureUserFeedback(t){const n=getClient();if(n)n.captureUserFeedback(t)}var eY=__webpack_require__("../../node_modules/react/index.js");function sdk_init(n){const r={...n};applySdkMetadata(r,"react");(0,t.setContext)("react",{version:eY.version});return init(r)}var eX=__webpack_require__("../../node_modules/@sentry/core/build/esm/carrier.js");var eQ=__webpack_require__("../../node_modules/@sentry/core/build/esm/asyncContext/index.js");var eZ=__webpack_require__("../../node_modules/@sentry/core/build/esm/semanticAttributes.js");var e0=__webpack_require__("../../node_modules/@sentry/core/build/esm/utils/hasTracingEnabled.js");var e1=__webpack_require__("../../node_modules/@sentry/core/build/esm/utils/spanOnScope.js");function logSpanStart(t){if(!o.DEBUG_BUILD)return;const{description:r="< unknown name >",op:s="< unknown op >",parent_span_id:i}=(0,q.spanToJSON)(t);const{spanId:a}=t.spanContext();const c=(0,q.spanIsSampled)(t);const l=(0,q.getRootSpan)(t);const u=l===t;const d=`[Tracing] Starting ${c?"sampled":"unsampled"} ${u?"root ":""}span`;const p=[`op: ${s}`,`name: ${r}`,`ID: ${a}`];if(i)p.push(`parent ID: ${i}`);if(!u){const{op:f,description:m}=(0,q.spanToJSON)(l);p.push(`root ID: ${l.spanContext().spanId}`);if(f)p.push(`root op: ${f}`);if(m)p.push(`root description: ${m}`)}n.logger.log(`${d}
  ${p.join("\n  ")}`)}function logSpanEnd(t){if(!o.DEBUG_BUILD)return;const{description:r="< unknown name >",op:s="< unknown op >"}=(0,q.spanToJSON)(t);const{spanId:i}=t.spanContext();const a=(0,q.getRootSpan)(t);const c=a===t;const l=`[Tracing] Finishing "${s}" ${c?"root ":""}span "${r}" with ID ${i}`;n.logger.log(l)}function sampleSpan(t,r){if(!(0,e0.hasTracingEnabled)(t)){return[false]}let s;s="function"==typeof t.tracesSampler?t.tracesSampler(r):void 0!==r.parentSampled?r.parentSampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1;const i=parseSampleRate(s);if(void 0===i){o.DEBUG_BUILD&&n.logger.warn("[Tracing] Discarding transaction because of invalid sample rate.");return[false]}if(!i){o.DEBUG_BUILD&&n.logger.log(`[Tracing] Discarding transaction because ${"function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`);return[false,i]}const a=Math.random()<i;if(!a){o.DEBUG_BUILD&&n.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`);return[false,i]}return[true,i]}class sentryNonRecordingSpan_SentryNonRecordingSpan{constructor(t={}){this._traceId=t.traceId||(0,r.uuid4)();this._spanId=t.spanId||(0,r.uuid4)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:q.TRACE_FLAG_NONE}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return false}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}var e2=__webpack_require__("../../node_modules/@sentry/core/build/esm/metrics/metric-summary.js");function setMeasurement(t,n,r,s=(0,q.getActiveSpan)()){const o=s&&(0,q.getRootSpan)(s);if(o)o.addEvent(t,{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:n,[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:r})}function timedEventsToMeasurements(t){if(!t||0===t.length){return}const n={};t.forEach(t=>{const r=t.attributes||{};const s=r[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT];const o=r[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];if("string"==typeof s&&"number"==typeof o)n[t.name]={value:o,unit:s}});return n}const e3="_sentryScope";const e5="_sentryIsolationScope";function setCapturedScopesOnSpan(t,n,r){if(t){(0,u.addNonEnumerableProperty)(t,e5,r);(0,u.addNonEnumerableProperty)(t,e3,n)}}function getCapturedScopesOnSpan(t){return{scope:t[e3],isolationScope:t[e5]}}const e4=1e3;class SentrySpan{constructor(t={}){this._traceId=t.traceId||(0,r.uuid4)();this._spanId=t.spanId||(0,r.uuid4)().substring(16);this._startTime=t.startTimestamp||(0,H.timestampInSeconds)();this._attributes={};this.setAttributes({[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_OP]:t.op,...t.attributes});this._name=t.name;if(t.parentSpanId)this._parentSpanId=t.parentSpanId;if("sampled"in t)this._sampled=t.sampled;if(t.endTimestamp)this._endTime=t.endTimestamp;this._events=[];this._isStandaloneSpan=t.isStandalone;if(this._endTime)this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?q.TRACE_FLAG_SAMPLED:q.TRACE_FLAG_NONE}}setAttribute(t,n){if(void 0===n)delete this._attributes[t];else this._attributes[t]=n;return this}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]));return this}updateStartTime(t){this._startTime=(0,q.spanTimeInputToSeconds)(t)}setStatus(t){this._status=t;return this}updateName(t){this._name=t;return this}end(t){if(this._endTime){return}this._endTime=(0,q.spanTimeInputToSeconds)(t);logSpanEnd(this);this._onSpanEnded()}getSpanJSON(){return(0,u.dropUndefinedKeys)({data:this._attributes,description:this._name,op:this._attributes[eZ.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,q.getStatusMessage)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:(0,e2.getMetricSummaryJsonForSpan)(this),profile_id:this._attributes[eZ.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[eZ.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&(0,q.getRootSpan)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,q.getRootSpan)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,r,s){o.DEBUG_BUILD&&n.logger.log("[Tracing] Adding an event to span:",t);const i=isSpanTimeInput(r)?r:s||(0,H.timestampInSeconds)();const a=isSpanTimeInput(r)?{}:r||{};const c={name:t,time:(0,q.spanTimeInputToSeconds)(i),attributes:a};this._events.push(c);return this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=(0,d.getClient)();if(t)t.emit("spanEnd",this);const r=this._isStandaloneSpan||this===(0,q.getRootSpan)(this);if(!r){return}if(this._isStandaloneSpan){if(this._sampled)sendSpanEnvelope(createSpanEnvelope([this],t));else{o.DEBUG_BUILD&&n.logger.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled.");if(t)t.recordDroppedEvent("sample_rate","span")}return}const s=this._convertSpanToTransaction();if(s){const i=getCapturedScopesOnSpan(this).scope||(0,d.getCurrentScope)();i.captureEvent(s)}}_convertSpanToTransaction(){if(!isFullFinishedSpan((0,q.spanToJSON)(this))){return}if(!this._name){o.DEBUG_BUILD&&n.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`.");this._name="<unlabeled transaction>"}const{scope:t,isolationScope:r}=getCapturedScopesOnSpan(this);const s=t||(0,d.getCurrentScope)();const i=s.getClient()||(0,d.getClient)();if(true!==this._sampled){o.DEBUG_BUILD&&n.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");if(i)i.recordDroppedEvent("sample_rate","transaction");return}const a=(0,q.getSpanDescendants)(this).filter(t=>t!==this&&!isStandaloneSpan(t));const c=a.map(t=>(0,q.spanToJSON)(t)).filter(isFullFinishedSpan);const l=this._attributes[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const p={contexts:{trace:(0,q.spanToTransactionTraceContext)(this)},spans:c.length>e4?c.sort((t,n)=>t.start_timestamp-n.start_timestamp).slice(0,e4):c,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:r,...(0,u.dropUndefinedKeys)({dynamicSamplingContext:(0,W.getDynamicSamplingContextFromSpan)(this)})},_metrics_summary:(0,e2.getMetricSummaryJsonForSpan)(this),...l&&{transaction_info:{source:l}}};const f=timedEventsToMeasurements(this._events);const m=f&&Object.keys(f).length;if(m){o.DEBUG_BUILD&&n.logger.log("[Measurements] Adding measurements to transaction event",JSON.stringify(f,void 0,2));p.measurements=f}return p}}function isSpanTimeInput(t){return t&&"number"==typeof t||t instanceof Date||Array.isArray(t)}function isFullFinishedSpan(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function isStandaloneSpan(t){return t instanceof SentrySpan&&t.isStandaloneSpan()}function sendSpanEnvelope(t){const r=(0,d.getClient)();if(!r){return}const s=t[1];if(!s||0===s.length){r.recordDroppedEvent("before_send","span");return}const i=r.getTransport();if(i)i.send(t).then(null,t=>{o.DEBUG_BUILD&&n.logger.error("Error while sending span:",t)})}const e6="__SENTRY_SUPPRESS_TRACING__";function startSpan(t,n){const r=getAcs();if(r.startSpan){return r.startSpan(t,n)}const s=parseSentrySpanArguments(t);const{forceTransaction:o,parentSpan:i}=t;return withScope(t.scope,()=>{const r=getActiveSpanWrapper(i);return r(()=>{const r=getCurrentScope();const i=getParentSpan(r);const a=t.onlyIfParent&&!i;const c=a?new SentryNonRecordingSpan:createChildOrRootSpan({parentSpan:i,spanArguments:s,forceTransaction:o,scope:r});_setSpanForScope(r,c);return handleCallbackErrors(()=>n(c),()=>{const{status:t}=spanToJSON(c);if(c.isRecording()&&(!t||"ok"===t))c.setStatus({code:SPAN_STATUS_ERROR,message:"internal_error"})},()=>c.end())})})}function startSpanManual(t,n){const r=getAcs();if(r.startSpanManual){return r.startSpanManual(t,n)}const s=parseSentrySpanArguments(t);const{forceTransaction:o,parentSpan:i}=t;return withScope(t.scope,()=>{const r=getActiveSpanWrapper(i);return r(()=>{const r=getCurrentScope();const i=getParentSpan(r);const a=t.onlyIfParent&&!i;const c=a?new SentryNonRecordingSpan:createChildOrRootSpan({parentSpan:i,spanArguments:s,forceTransaction:o,scope:r});_setSpanForScope(r,c);function finishAndSetSpan(){c.end()}return handleCallbackErrors(()=>n(c,finishAndSetSpan),()=>{const{status:t}=spanToJSON(c);if(c.isRecording()&&(!t||"ok"===t))c.setStatus({code:SPAN_STATUS_ERROR,message:"internal_error"})})})})}function startInactiveSpan(t){const n=getAcs();if(n.startInactiveSpan){return n.startInactiveSpan(t)}const r=parseSentrySpanArguments(t);const{forceTransaction:s,parentSpan:o}=t;const i=t.scope?n=>(0,d.withScope)(t.scope,n):void 0!==o?t=>withActiveSpan(o,t):t=>t();return i(()=>{const n=(0,d.getCurrentScope)();const o=getParentSpan(n);const i=t.onlyIfParent&&!o;if(i){return new sentryNonRecordingSpan_SentryNonRecordingSpan}return createChildOrRootSpan({parentSpan:o,spanArguments:r,forceTransaction:s,scope:n})})}const continueTrace=({sentryTrace:t,baggage:n},r)=>{return withScope(s=>{const o=propagationContextFromHeaders(t,n);s.setPropagationContext(o);return r()})};function withActiveSpan(t,n){const r=getAcs();if(r.withActiveSpan){return r.withActiveSpan(t,n)}return(0,d.withScope)(r=>{(0,e1._setSpanForScope)(r,t||void 0);return n(r)})}function suppressTracing(t){const n=getAcs();if(n.suppressTracing){return n.suppressTracing(t)}return withScope(n=>{n.setSDKProcessingMetadata({[e6]:true});return t()})}function startNewTrace(t){return withScope(n=>{n.setPropagationContext(generatePropagationContext());DEBUG_BUILD&&logger.info(`Starting a new trace with id ${n.getPropagationContext().traceId}`);return withActiveSpan(null,t)})}function createChildOrRootSpan({parentSpan:t,spanArguments:n,forceTransaction:r,scope:s}){if(!(0,e0.hasTracingEnabled)()){return new sentryNonRecordingSpan_SentryNonRecordingSpan}const o=(0,d.getIsolationScope)();let i;if(t&&!r){i=_startChildSpan(t,s,n);(0,q.addChildSpanToSpan)(t,i)}else if(t){const a=(0,W.getDynamicSamplingContextFromSpan)(t);const{traceId:c,spanId:l}=t.spanContext();const u=(0,q.spanIsSampled)(t);i=_startRootSpan({traceId:c,parentSpanId:l,...n},s,u);(0,W.freezeDscOnSpan)(i,a)}else{const{traceId:p,dsc:f,parentSpanId:m,sampled:g}={...o.getPropagationContext(),...s.getPropagationContext()};i=_startRootSpan({traceId:p,parentSpanId:m,...n},s,g);if(f)(0,W.freezeDscOnSpan)(i,f)}logSpanStart(i);setCapturedScopesOnSpan(i,s,o);return i}function parseSentrySpanArguments(t){const n=t.experimental||{};const r={isStandalone:n.standalone,...t};if(t.startTime){const s={...r};s.startTimestamp=(0,q.spanTimeInputToSeconds)(t.startTime);delete s.startTime;return s}return r}function getAcs(){const t=(0,eX.getMainCarrier)();return(0,eQ.getAsyncContextStrategy)(t)}function _startRootSpan(t,n,r){const s=(0,d.getClient)();const o=s&&s.getOptions()||{};const{name:i="",attributes:a}=t;const[c,l]=n.getScopeData().sdkProcessingMetadata[e6]?[false]:sampleSpan(o,{name:i,parentSampled:r,attributes:a,transactionContext:{name:i,parentSampled:r}});const u=new SentrySpan({...t,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom",...t.attributes},sampled:c});if(void 0!==l)u.setAttribute(eZ.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,l);if(s)s.emit("spanStart",u);return u}function _startChildSpan(t,n,r){const{spanId:s,traceId:o}=t.spanContext();const i=!n.getScopeData().sdkProcessingMetadata[e6]&&(0,q.spanIsSampled)(t);const a=i?new SentrySpan({...r,parentSpanId:s,traceId:o,sampled:i}):new sentryNonRecordingSpan_SentryNonRecordingSpan({traceId:o});(0,q.addChildSpanToSpan)(t,a);const c=(0,d.getClient)();if(c){c.emit("spanStart",a);if(r.endTimestamp)c.emit("spanEnd",a)}return a}function getParentSpan(t){const n=(0,e1._getSpanForScope)(t);if(!n){return}const r=(0,d.getClient)();const s=r?r.getOptions():{};if(s.parentSpanIsAlwaysRootSpan){return(0,q.getRootSpan)(n)}return n}function getActiveSpanWrapper(t){return void 0!==t?n=>{return withActiveSpan(t,n)}:t=>t()}function _optionalChain(t){let n;let r=t[0];let s=1;while(s<t.length){const o=t[s];const i=t[s+1];s+=2;if(("optionalAccess"===o||"optionalCall"===o)&&null==r){return}if("access"===o||"optionalAccess"===o){n=r;r=i(r)}else if("call"===o||"optionalCall"===o){r=i((...t)=>r.call(n,...t));n=void 0}}return r}const getRating=(t,n)=>{if(t>n[1]){return"poor"}if(t>n[0]){return"needs-improvement"}return"good"};const bindReporter=(t,n,r,s)=>{let o;let i;return a=>{if(n.value>=0){if(a||s){i=n.value-(o||0);if(i||void 0===o){o=n.value;n.delta=i;n.rating=getRating(n.value,r);t(n)}}}}};const generateUniqueID=()=>{return`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`};const getNavigationEntry=()=>{return x.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]};const getActivationStart=()=>{const t=getNavigationEntry();return t&&t.activationStart||0};const initMetric=(t,n)=>{const r=getNavigationEntry();let s="navigate";if(r){if(x.document&&x.document.prerendering||getActivationStart()>0)s="prerender";else if(x.document&&x.document.wasDiscarded)s="restore";else if(r.type)s=r.type.replace(/_/g,"-")}const o=[];return{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:o,id:generateUniqueID(),navigationType:s}};const observe=(t,n,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const s=new PerformanceObserver(t=>{Promise.resolve().then(()=>{n(t.getEntries())})});s.observe(Object.assign({type:t,buffered:true},r||{}));return s}}catch(o){}return};const onHidden=t=>{const onHiddenOrPageHide=n=>{if("pagehide"===n.type||x.document&&"hidden"===x.document.visibilityState)t(n)};if(x.document){addEventListener("visibilitychange",onHiddenOrPageHide,true);addEventListener("pagehide",onHiddenOrPageHide,true)}};const runOnce=t=>{let n=false;return r=>{if(!n){t(r);n=true}}};let e8=-1;const initHiddenTime=()=>{e8="hidden"!==x.document.visibilityState||x.document.prerendering?1/0:0};const onVisibilityUpdate=t=>{if("hidden"===x.document.visibilityState&&e8>-1){e8="visibilitychange"===t.type?t.timeStamp:0;removeEventListener("visibilitychange",onVisibilityUpdate,true);removeEventListener("prerenderingchange",onVisibilityUpdate,true)}};const addChangeListeners=()=>{addEventListener("visibilitychange",onVisibilityUpdate,true);addEventListener("prerenderingchange",onVisibilityUpdate,true)};const getVisibilityWatcher=()=>{if(x.document&&e8<0){initHiddenTime();addChangeListeners()}return{get firstHiddenTime(){return e8}}};const whenActivated=t=>{if(x.document&&x.document.prerendering)addEventListener("prerenderingchange",()=>t(),true);else t()};const e9=[1800,3e3];const onFCP=(t,n={})=>{whenActivated(()=>{const r=getVisibilityWatcher();const s=initMetric("FCP");let o;const handleEntries=t=>{t.forEach(t=>{if("first-contentful-paint"===t.name){i.disconnect();if(t.startTime<r.firstHiddenTime){s.value=Math.max(t.startTime-getActivationStart(),0);s.entries.push(t);o(true)}}})};const i=observe("paint",handleEntries);if(i)o=bindReporter(t,s,e9,n.reportAllChanges)})};const e7=[.1,.25];const onCLS=(t,n={})=>{onFCP(runOnce(()=>{const r=initMetric("CLS",0);let s;let o=0;let i=[];const handleEntries=t=>{t.forEach(t=>{if(!t.hadRecentInput){const n=i[0];const r=i[i.length-1];if(o&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3){o+=t.value;i.push(t)}else{o=t.value;i=[t]}}});if(o>r.value){r.value=o;r.entries=i;s()}};const a=observe("layout-shift",handleEntries);if(a){s=bindReporter(t,r,e7,n.reportAllChanges);onHidden(()=>{handleEntries(a.takeRecords());s(true)});setTimeout(s,0)}}))};const te=[100,300];const onFID=(t,n={})=>{whenActivated(()=>{const r=getVisibilityWatcher();const s=initMetric("FID");let o;const handleEntry=t=>{if(t.startTime<r.firstHiddenTime){s.value=t.processingStart-t.startTime;s.entries.push(t);o(true)}};const handleEntries=t=>{t.forEach(handleEntry)};const i=observe("first-input",handleEntries);o=bindReporter(t,s,te,n.reportAllChanges);if(i)onHidden(runOnce(()=>{handleEntries(i.takeRecords());i.disconnect()}))})};let tt=0;let tn=1/0;let tr=0;const updateEstimate=t=>{t.forEach(t=>{if(t.interactionId){tn=Math.min(tn,t.interactionId);tr=Math.max(tr,t.interactionId);tt=tr?(tr-tn)/7+1:0}})};let ts;const getInteractionCount=()=>{return ts?tt:performance.interactionCount||0};const initInteractionCountPolyfill=()=>{if("interactionCount"in performance||ts)return;ts=observe("event",updateEstimate,{type:"event",buffered:true,durationThreshold:0})};const to=[200,500];const ti=0;const getInteractionCountForNavigation=()=>{return getInteractionCount()-ti};const ta=10;const tc=[];const tl={};const processEntry=t=>{const n=tc[tc.length-1];const r=tl[t.interactionId];if(r||tc.length<ta||n&&t.duration>n.latency){if(r){r.entries.push(t);r.latency=Math.max(r.latency,t.duration)}else{const s={id:t.interactionId,latency:t.duration,entries:[t]};tl[s.id]=s;tc.push(s)}tc.sort((t,n)=>n.latency-t.latency);tc.splice(ta).forEach(t=>{delete tl[t.id]})}};const estimateP98LongestInteraction=()=>{const t=Math.min(tc.length-1,Math.floor(getInteractionCountForNavigation()/50));return tc[t]};const onINP=(t,n={})=>{whenActivated(()=>{initInteractionCountPolyfill();const r=initMetric("INP");let s;const handleEntries=t=>{t.forEach(t=>{if(t.interactionId)processEntry(t);if("first-input"===t.entryType){const n=!tc.some(n=>{return n.entries.some(n=>{return t.duration===n.duration&&t.startTime===n.startTime})});if(n)processEntry(t)}});const n=estimateP98LongestInteraction();if(n&&n.latency!==r.value){r.value=n.latency;r.entries=n.entries;s()}};const o=observe("event",handleEntries,{durationThreshold:null!=n.durationThreshold?n.durationThreshold:40});s=bindReporter(t,r,to,n.reportAllChanges);if(o){if("PerformanceEventTiming"in x&&"interactionId"in PerformanceEventTiming.prototype)o.observe({type:"first-input",buffered:true});onHidden(()=>{handleEntries(o.takeRecords());if(r.value<0&&getInteractionCountForNavigation()>0){r.value=0;r.entries=[]}s(true)})}})};const tu=[2500,4e3];const td={};const onLCP=(t,n={})=>{whenActivated(()=>{const r=getVisibilityWatcher();const s=initMetric("LCP");let o;const handleEntries=t=>{const n=t[t.length-1];if(n){if(n.startTime<r.firstHiddenTime){s.value=Math.max(n.startTime-getActivationStart(),0);s.entries=[n];o()}}};const i=observe("largest-contentful-paint",handleEntries);if(i){o=bindReporter(t,s,tu,n.reportAllChanges);const a=runOnce(()=>{if(!td[s.id]){handleEntries(i.takeRecords());i.disconnect();td[s.id]=true;o(true)}});["keydown","click"].forEach(t=>{if(x.document)addEventListener(t,()=>setTimeout(a,0),true)});onHidden(a)}})};const tp=[800,1800];const whenReady=t=>{if(x.document&&x.document.prerendering)whenActivated(()=>whenReady(t));else if(x.document&&"complete"!==x.document.readyState)addEventListener("load",()=>whenReady(t),true);else setTimeout(t,0)};const onTTFB=(t,n={})=>{const r=initMetric("TTFB");const s=bindReporter(t,r,tp,n.reportAllChanges);whenReady(()=>{const t=getNavigationEntry();if(t){const n=t.responseStart;if(n<=0||n>performance.now())return;r.value=Math.max(n-getActivationStart(),0);r.entries=[t];s(true)}})};const tf={};const tm={};let tg;let th;let t_;let ty;let tS;function addClsInstrumentationHandler(t,n=false){return addMetricObserver("cls",t,instrumentCls,tg,n)}function addLcpInstrumentationHandler(t,n=false){return addMetricObserver("lcp",t,instrumentLcp,t_,n)}function addFidInstrumentationHandler(t){return addMetricObserver("fid",t,instrumentFid,th)}function addTtfbInstrumentationHandler(t){return addMetricObserver("ttfb",t,instrumentTtfb,ty)}function addInpInstrumentationHandler(t){return addMetricObserver("inp",t,instrumentInp,tS)}function addPerformanceInstrumentationHandler(t,n){instrument_addHandler(t,n);if(!tm[t]){instrumentPerformanceObserver(t);tm[t]=true}return getCleanupCallback(t,n)}function instrument_triggerHandlers(t,r){const s=tf[t];if(!s||!s.length){return}for(const o of s){try{o(r)}catch(i){eG&&n.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${(0,h.getFunctionName)(o)}
Error:`,i)}}}function instrumentCls(){return onCLS(t=>{instrument_triggerHandlers("cls",{metric:t});tg=t},{reportAllChanges:true})}function instrumentFid(){return onFID(t=>{instrument_triggerHandlers("fid",{metric:t});th=t})}function instrumentLcp(){return onLCP(t=>{instrument_triggerHandlers("lcp",{metric:t});t_=t},{reportAllChanges:true})}function instrumentTtfb(){return onTTFB(t=>{instrument_triggerHandlers("ttfb",{metric:t});ty=t})}function instrumentInp(){return onINP(t=>{instrument_triggerHandlers("inp",{metric:t});tS=t})}function addMetricObserver(t,n,r,s,o=false){instrument_addHandler(t,n);let i;if(!tm[t]){i=r();tm[t]=true}if(s)n({metric:s});return getCleanupCallback(t,n,o?i:void 0)}function instrumentPerformanceObserver(t){const n={};if("event"===t)n.durationThreshold=0;observe(t,n=>{instrument_triggerHandlers(t,{entries:n})},n)}function instrument_addHandler(t,n){tf[t]=tf[t]||[];tf[t].push(n)}function getCleanupCallback(t,n,r){return()=>{if(r)r();const s=tf[t];if(!s){return}const o=s.indexOf(n);if(-1!==o)s.splice(o,1)}}function isPerformanceEventTiming(t){return"duration"in t}function isMeasurementValue(t){return"number"==typeof t&&isFinite(t)}function startAndEndSpan(t,n,r,{...s}){const o=(0,q.spanToJSON)(t).start_timestamp;if(o&&o>n){if("function"==typeof t.updateStartTime)t.updateStartTime(n)}return withActiveSpan(t,()=>{const t=startInactiveSpan({startTime:n,...s});if(t)t.end(r);return t})}function startStandaloneWebVitalSpan(t){const n=(0,d.getClient)();if(!n){return}const{name:r,transaction:s,attributes:o,startTime:i}=t;const{release:a,environment:c}=n.getOptions();const l=n.getIntegrationByName("Replay");const u=l&&l.getReplayId();const p=(0,d.getCurrentScope)();const f=p.getUser();const m=void 0!==f?f.email||f.id||f.ip_address:void 0;let g;try{g=p.getScopeData().contexts.profile.profile_id}catch(h){}const _={release:a,environment:c,user:m||void 0,profile_id:g||void 0,replay_id:u||void 0,transaction:s,"user_agent.original":x.navigator&&x.navigator.userAgent,...o};return startInactiveSpan({name:r,attributes:_,startTime:i,experimental:{standalone:true}})}function getBrowserPerformanceAPI(){return x&&x.addEventListener&&x.performance}function msToSec(t){return t/1e3}function trackClsAsStandaloneSpan(){let t=0;let n;let r;if(!supportsLayoutShift()){return}let s=false;function _collectClsOnce(){if(s){return}s=true;if(r)sendStandaloneClsSpan(t,n,r);o()}const o=addClsInstrumentationHandler(({metric:r})=>{const s=r.entries[r.entries.length-1];if(!s){return}t=r.value;n=s},true);onHidden(()=>{_collectClsOnce()});setTimeout(()=>{const t=(0,d.getClient)();const n=_optionalChain([t,"optionalAccess",t=>t.on,"call",t=>t("startNavigationSpan",()=>{_collectClsOnce();n&&n()})]);const s=(0,q.getActiveSpan)();const o=s&&(0,q.getRootSpan)(s);const i=o&&(0,q.spanToJSON)(o);if(i&&"pageload"===i.op)r=o.spanContext().spanId},0)}function sendStandaloneClsSpan(t,r,s){eG&&n.logger.log(`Sending CLS span (${t})`);const o=msToSec((H.browserPerformanceTimeOrigin||0)+(_optionalChain([r,"optionalAccess",t=>t.startTime])||0));const i=(0,d.getCurrentScope)().getScopeData().transactionName;const a=r?(0,el.htmlTreeAsString)(_optionalChain([r,"access",t=>t.sources,"access",t=>t[0],"optionalAccess",t=>t.node])):"Layout shift";const c=(0,u.dropUndefinedKeys)({[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.cls",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"ui.webvital.cls",[eZ.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:_optionalChain([r,"optionalAccess",t=>t.duration])||0,"sentry.pageload.span_id":s});const l=startStandaloneWebVitalSpan({name:a,transaction:i,attributes:c,startTime:o});_optionalChain([l,"optionalAccess",t=>t.addEvent,"call",n=>n("cls",{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t})]);_optionalChain([l,"optionalAccess",t=>t.end,"call",t=>t(o)])}function supportsLayoutShift(){try{return _optionalChain([PerformanceObserver,"access",t=>t.supportedEntryTypes,"optionalAccess",t=>t.includes,"call",t=>t("layout-shift")])}catch(t){return false}}const tv=2147483647;let tb=0;let tE={};let tT;let tw;function startTrackingWebVitals({recordClsStandaloneSpans:t}){const n=getBrowserPerformanceAPI();if(n&&H.browserPerformanceTimeOrigin){if(n.mark)x.performance.mark("sentry-tracing-init");const r=_trackFID();const s=_trackLCP();const o=_trackTtfb();const i=t?trackClsAsStandaloneSpan():_trackCLS();return()=>{r();s();o();i&&i()}}return()=>void 0}function startTrackingLongTasks(){addPerformanceInstrumentationHandler("longtask",({entries:t})=>{if(!(0,q.getActiveSpan)()){return}for(const n of t){const r=msToSec(H.browserPerformanceTimeOrigin+n.startTime);const s=msToSec(n.duration);const o=startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-task",startTime:r,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});if(o)o.end(r+s)}})}function startTrackingLongAnimationFrames(){const t=new PerformanceObserver(t=>{if(!(0,q.getActiveSpan)()){return}for(const n of t.getEntries()){if(!n.scripts[0]){continue}const r=msToSec(H.browserPerformanceTimeOrigin+n.startTime);const s=msToSec(n.duration);const o={[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"};const i=n.scripts[0];const{invoker:a,invokerType:c,sourceURL:l,sourceFunctionName:u,sourceCharPosition:d}=i;o["browser.script.invoker"]=a;o["browser.script.invoker_type"]=c;if(l)o["code.filepath"]=l;if(u)o["code.function"]=u;if(-1!==d)o["browser.script.source_char_position"]=d;const p=startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:o});if(p)p.end(r+s)}});t.observe({type:"long-animation-frame",buffered:true})}function startTrackingInteractions(){addPerformanceInstrumentationHandler("event",({entries:t})=>{if(!(0,q.getActiveSpan)()){return}for(const n of t)if("click"===n.name){const r=msToSec(H.browserPerformanceTimeOrigin+n.startTime);const s=msToSec(n.duration);const o={name:(0,el.htmlTreeAsString)(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}};const i=(0,el.getComponentName)(n.target);if(i)o.attributes["ui.component_name"]=i;const a=startInactiveSpan(o);if(a)a.end(r+s)}})}function _trackCLS(){return addClsInstrumentationHandler(({metric:t})=>{const r=t.entries[t.entries.length-1];if(!r){return}eG&&n.logger.log(`[Measurements] Adding CLS ${t.value}`);tE["cls"]={value:t.value,unit:""};tw=r},true)}function _trackLCP(){return addLcpInstrumentationHandler(({metric:t})=>{const r=t.entries[t.entries.length-1];if(!r){return}eG&&n.logger.log("[Measurements] Adding LCP");tE["lcp"]={value:t.value,unit:"millisecond"};tT=r},true)}function _trackFID(){return addFidInstrumentationHandler(({metric:t})=>{const r=t.entries[t.entries.length-1];if(!r){return}const s=msToSec(H.browserPerformanceTimeOrigin);const o=msToSec(r.startTime);eG&&n.logger.log("[Measurements] Adding FID");tE["fid"]={value:t.value,unit:"millisecond"};tE["mark.fid"]={value:s+o,unit:"second"}})}function _trackTtfb(){return addTtfbInstrumentationHandler(({metric:t})=>{const r=t.entries[t.entries.length-1];if(!r){return}eG&&n.logger.log("[Measurements] Adding TTFB");tE["ttfb"]={value:t.value,unit:"millisecond"}})}function addPerformanceEntries(t,r){const s=getBrowserPerformanceAPI();if(!s||!x.performance.getEntries||!H.browserPerformanceTimeOrigin){return}eG&&n.logger.log("[Tracing] Adding & adjusting spans using Performance API");const o=msToSec(H.browserPerformanceTimeOrigin);const i=s.getEntries();const{op:a,start_timestamp:c}=(0,q.spanToJSON)(t);i.slice(tb).forEach(r=>{const s=msToSec(r.startTime);const i=msToSec(Math.max(0,r.duration));if("navigation"===a&&c&&o+s<c){return}switch(r.entryType){case"navigation":_addNavigationSpans(t,r,o);break;case"mark":case"paint":case"measure":{_addMeasureSpans(t,r,s,i,o);const l=getVisibilityWatcher();const u=r.startTime<l.firstHiddenTime;if("first-paint"===r.name&&u){eG&&n.logger.log("[Measurements] Adding FP");tE["fp"]={value:r.startTime,unit:"millisecond"}}if("first-contentful-paint"===r.name&&u){eG&&n.logger.log("[Measurements] Adding FCP");tE["fcp"]={value:r.startTime,unit:"millisecond"}}break}case"resource":_addResourceSpans(t,r,r.name,s,i,o);break}});tb=Math.max(i.length-1,0);_trackNavigator(t);if("pageload"===a){_addTtfbRequestTimeToMeasurements(tE);const l=tE["mark.fid"];if(l&&tE["fid"]){startAndEndSpan(t,l.value,l.value+msToSec(tE["fid"].value),{name:"first input delay",op:"ui.action",attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});delete tE["mark.fid"]}if(!("fcp"in tE)||!r.recordClsOnPageloadSpan)delete tE.cls;Object.entries(tE).forEach(([t,n])=>{setMeasurement(t,n.value,n.unit)});t.setAttribute("performance.timeOrigin",o);t.setAttribute("performance.activationStart",getActivationStart());_setWebVitalAttributes(t)}tT=void 0;tw=void 0;tE={}}function _addMeasureSpans(t,n,r,s,o){const i=getNavigationEntry();const a=msToSec(i?i.requestStart:0);const c=o+Math.max(r,a);const l=o+r;const u=l+s;const d={[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};if(c!==l){d["sentry.browser.measure_happened_before_request"]=true;d["sentry.browser.measure_start_time"]=c}startAndEndSpan(t,c,u,{name:n.name,op:n.entryType,attributes:d});return c}function _addNavigationSpans(t,n,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(s=>{_addPerformanceNavigationTiming(t,n,s,r)});_addPerformanceNavigationTiming(t,n,"secureConnection",r,"TLS/SSL","connectEnd");_addPerformanceNavigationTiming(t,n,"fetch",r,"cache","domainLookupStart");_addPerformanceNavigationTiming(t,n,"domainLookup",r,"DNS");_addRequest(t,n,r)}function _addPerformanceNavigationTiming(t,n,r,s,o,i){const a=i?n[i]:n[`${r}End`];const c=n[`${r}Start`];if(!c||!a){return}startAndEndSpan(t,s+msToSec(c),s+msToSec(a),{op:`browser.${o||r}`,name:n.name,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}function _addRequest(t,n,r){const s=r+msToSec(n.requestStart);const o=r+msToSec(n.responseEnd);const i=r+msToSec(n.responseStart);if(n.responseEnd){startAndEndSpan(t,s,o,{op:"browser.request",name:n.name,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});startAndEndSpan(t,i,o,{op:"browser.response",name:n.name,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}}function _addResourceSpans(t,n,r,s,o,i){if("xmlhttprequest"===n.initiatorType||"fetch"===n.initiatorType){return}const a=url_parseUrl(r);const c={[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};setResourceEntrySizeData(c,n,"transferSize","http.response_transfer_size");setResourceEntrySizeData(c,n,"encodedBodySize","http.response_content_length");setResourceEntrySizeData(c,n,"decodedBodySize","http.decoded_response_content_length");if("renderBlockingStatus"in n)c["resource.render_blocking_status"]=n.renderBlockingStatus;if(a.protocol)c["url.scheme"]=a.protocol.split(":").pop();if(a.host)c["server.address"]=a.host;c["url.same_origin"]=r.includes(x.location.origin);const l=i+s;const u=l+o;startAndEndSpan(t,l,u,{name:r.replace(x.location.origin,""),op:n.initiatorType?`resource.${n.initiatorType}`:"resource.other",attributes:c})}function _trackNavigator(t){const n=x.navigator;if(!n){return}const r=n.connection;if(r){if(r.effectiveType)t.setAttribute("effectiveConnectionType",r.effectiveType);if(r.type)t.setAttribute("connectionType",r.type);if(isMeasurementValue(r.rtt))tE["connection.rtt"]={value:r.rtt,unit:"millisecond"}}if(isMeasurementValue(n.deviceMemory))t.setAttribute("deviceMemory",`${n.deviceMemory} GB`);if(isMeasurementValue(n.hardwareConcurrency))t.setAttribute("hardwareConcurrency",String(n.hardwareConcurrency))}function _setWebVitalAttributes(t){if(tT){eG&&n.logger.log("[Measurements] Adding LCP Data");if(tT.element)t.setAttribute("lcp.element",(0,el.htmlTreeAsString)(tT.element));if(tT.id)t.setAttribute("lcp.id",tT.id);if(tT.url)t.setAttribute("lcp.url",tT.url.trim().slice(0,200));t.setAttribute("lcp.size",tT.size)}if(tw&&tw.sources){eG&&n.logger.log("[Measurements] Adding CLS Data");tw.sources.forEach((n,r)=>t.setAttribute(`cls.source.${r+1}`,(0,el.htmlTreeAsString)(n.node)))}}function setResourceEntrySizeData(t,n,r,s){const o=n[r];if(null!=o&&o<tv)t[s]=o}function _addTtfbRequestTimeToMeasurements(t){const r=getNavigationEntry();if(!r){return}const{responseStart:s,requestStart:o}=r;if(o<=s){eG&&n.logger.log("[Measurements] Adding TTFB Request Time");t["ttfb.requestTime"]={value:s-o,unit:"millisecond"}}}const tI=[];const tA=new Map;function startTrackingINP(){const t=getBrowserPerformanceAPI();if(t&&H.browserPerformanceTimeOrigin){const n=_trackINP();return()=>{n()}}return()=>void 0}const tk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function _trackINP(){return addInpInstrumentationHandler(({metric:t})=>{if(void 0==t.value){return}const n=t.entries.find(n=>n.duration===t.value&&tk[n.name]);if(!n){return}const{interactionId:r}=n;const s=tk[n.name];const o=msToSec(H.browserPerformanceTimeOrigin+n.startTime);const i=msToSec(t.value);const a=(0,q.getActiveSpan)();const c=a?(0,q.getRootSpan)(a):void 0;const l=null!=r?tA.get(r):void 0;const p=l||c;const f=p?(0,q.spanToJSON)(p).description:(0,d.getCurrentScope)().getScopeData().transactionName;const m=(0,el.htmlTreeAsString)(n.target);const g=(0,u.dropUndefinedKeys)({[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser.inp",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_OP]:`ui.interaction.${s}`,[eZ.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:n.duration});const h=startStandaloneWebVitalSpan({name:m,transaction:f,attributes:g,startTime:o});_optionalChain([h,"optionalAccess",t=>t.addEvent,"call",n=>n("inp",{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:t.value})]);_optionalChain([h,"optionalAccess",t=>t.end,"call",t=>t(o+i)])})}function registerInpInteractionListener(t){const handleEntries=({entries:t})=>{const n=(0,q.getActiveSpan)();const r=n&&(0,q.getRootSpan)(n);t.forEach(t=>{if(!isPerformanceEventTiming(t)||!r){return}const n=t.interactionId;if(null==n){return}if(tA.has(n)){return}if(tI.length>10){const s=tI.shift();tA.delete(s)}tI.push(n);tA.set(n,r)})};addPerformanceInstrumentationHandler("event",handleEntries);addPerformanceInstrumentationHandler("first-input",handleEntries)}var tC=__webpack_require__("../../node_modules/@sentry/core/build/esm/tracing/spanstatus.js");const tx={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};const tR="heartbeatFailed";const tO="idleTimeout";const tN="finalTimeout";const tM="externalFinish";function startIdleSpan(t,r={}){const s=new Map;let i=false;let a;let c=tM;let l=!r.disableAutoFinish;const u=[];const{idleTimeout:p=tx.idleTimeout,finalTimeout:f=tx.finalTimeout,childSpanTimeout:m=tx.childSpanTimeout,beforeSpanEnd:g}=r;const h=(0,d.getClient)();if(!h||!(0,e0.hasTracingEnabled)()){return new sentryNonRecordingSpan_SentryNonRecordingSpan}const _=(0,d.getCurrentScope)();const v=(0,q.getActiveSpan)();const b=_startIdleSpan(t);b.end=new Proxy(b.end,{apply(t,n,r){if(g)g(b);const[s,...o]=r;const i=s||(0,H.timestampInSeconds)();const a=(0,q.spanTimeInputToSeconds)(i);const c=(0,q.getSpanDescendants)(b).filter(t=>t!==b);if(!c.length){onIdleSpanEnded(a);return Reflect.apply(t,n,[a,...o])}const l=c.map(t=>(0,q.spanToJSON)(t).timestamp).filter(t=>!!t);const u=l.length?Math.max(...l):void 0;const d=(0,q.spanToJSON)(b).start_timestamp;const p=Math.min(d?d+f/1e3:1/0,Math.max(d||-1/0,Math.min(a,u||1/0)));onIdleSpanEnded(p);return Reflect.apply(t,n,[p,...o])}});function _cancelIdleTimeout(){if(a){clearTimeout(a);a=void 0}}function _restartIdleTimeout(t){_cancelIdleTimeout();a=setTimeout(()=>{if(!i&&0===s.size&&l){c=tO;b.end(t)}},p)}function _restartChildSpanTimeout(t){a=setTimeout(()=>{if(!i&&l){c=tR;b.end(t)}},m)}function _pushActivity(t){_cancelIdleTimeout();s.set(t,true);const n=(0,H.timestampInSeconds)();_restartChildSpanTimeout(n+m/1e3)}function _popActivity(t){if(s.has(t))s.delete(t);if(0===s.size){const n=(0,H.timestampInSeconds)();_restartIdleTimeout(n+p/1e3)}}function onIdleSpanEnded(t){i=true;s.clear();u.forEach(t=>t());(0,e1._setSpanForScope)(_,v);const r=(0,q.spanToJSON)(b);const{start_timestamp:a}=r;if(!a){return}const l=r.data||{};if(!l[eZ.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON])b.setAttribute(eZ.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,c);n.logger.log(`[Tracing] Idle span "${r.op}" finished`);const d=(0,q.getSpanDescendants)(b).filter(t=>t!==b);let m=0;d.forEach(r=>{if(r.isRecording()){r.setStatus({code:tC.SPAN_STATUS_ERROR,message:"cancelled"});r.end(t);o.DEBUG_BUILD&&n.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(r,void 0,2))}const s=(0,q.spanToJSON)(r);const{timestamp:i=0,start_timestamp:a=0}=s;const c=a<=t;const l=(f+p)/1e3;const u=i-a<=l;if(o.DEBUG_BUILD){const d=JSON.stringify(r,void 0,2);if(c){if(!u)n.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",d)}else n.logger.log("[Tracing] Discarding span since it happened after idle span was finished",d)}if(!u||!c){(0,q.removeChildSpanFromSpan)(b,r);m++}});if(m>0)b.setAttribute("sentry.idle_span_discarded_spans",m)}u.push(h.on("spanStart",t=>{if(i||t===b||!!(0,q.spanToJSON)(t).timestamp){return}const n=(0,q.getSpanDescendants)(b);if(n.includes(t))_pushActivity(t.spanContext().spanId)}));u.push(h.on("spanEnd",t=>{if(i){return}_popActivity(t.spanContext().spanId)}));u.push(h.on("idleSpanEnableAutoFinish",t=>{if(t===b){l=true;_restartIdleTimeout();if(s.size)_restartChildSpanTimeout()}}));if(!r.disableAutoFinish)_restartIdleTimeout();setTimeout(()=>{if(!i){b.setStatus({code:tC.SPAN_STATUS_ERROR,message:"deadline_exceeded"});c=tN;b.end()}},f);return b}function _startIdleSpan(t){const r=startInactiveSpan(t);(0,e1._setSpanForScope)((0,d.getCurrentScope)(),r);o.DEBUG_BUILD&&n.logger.log("[Tracing] Started span is an idle span");return r}let tD=false;function registerSpanErrorInstrumentation(){if(tD){return}tD=true;addGlobalErrorInstrumentationHandler(errorCallback);addGlobalUnhandledRejectionInstrumentationHandler(errorCallback)}function errorCallback(){const t=(0,q.getActiveSpan)();const r=t&&(0,q.getRootSpan)(t);if(r){const s="internal_error";o.DEBUG_BUILD&&n.logger.log(`[Tracing] Root span: ${s} -> Global error occured`);r.setStatus({code:tC.SPAN_STATUS_ERROR,message:s})}}errorCallback.tag="sentry_tracingErrorCallback";var tP=__webpack_require__("../../node_modules/@sentry/utils/build/esm/tracing.js");var tB=__webpack_require__("../../node_modules/@sentry/utils/build/esm/propagationContext.js");function registerBackgroundTabDetection(){if(et&&et.document)et.document.addEventListener("visibilitychange",()=>{const t=(0,q.getActiveSpan)();if(!t){return}const r=(0,q.getRootSpan)(t);if(et.document.hidden&&r){const s="cancelled";const{op:o,status:i}=(0,q.spanToJSON)(r);if(Z)n.logger.log(`[Tracing] Transaction: ${s} -> since tab moved to the background, op: ${o}`);if(!i)r.setStatus({code:tC.SPAN_STATUS_ERROR,message:s});r.setAttribute("sentry.cancellation_reason","document.hidden");r.end()}});else Z&&n.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var tL=__webpack_require__("../../node_modules/@sentry/utils/build/esm/baggage.js");function instrumentFetchRequest(t,n,r,s,o="auto.http.browser"){if(!t.fetchData){return}const i=(0,e0.hasTracingEnabled)()&&n(t.fetchData.url);if(t.endTimestamp&&i){const a=t.fetchData.__span;if(!a)return;const c=s[a];if(c){endSpan(c,t);delete s[a]}return}const l=(0,d.getCurrentScope)();const u=(0,d.getClient)();const{method:p,url:f}=t.fetchData;const m=getFullURL(f);const g=m?url_parseUrl(m).host:void 0;const h=!!(0,q.getActiveSpan)();const _=i&&h?startInactiveSpan({name:`${p} ${f}`,attributes:{url:f,type:"fetch","http.method":p,"http.url":m,"server.address":g,[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:o,[eZ.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new sentryNonRecordingSpan_SentryNonRecordingSpan;t.fetchData.__span=_.spanContext().spanId;s[_.spanContext().spanId]=_;if(r(t.fetchData.url)&&u){const v=t.args[0];t.args[1]=t.args[1]||{};const b=t.args[1];b.headers=addTracingHeadersToFetchRequest(v,u,l,b,(0,e0.hasTracingEnabled)()&&h?_:void 0)}return _}function addTracingHeadersToFetchRequest(t,n,r,s,o){const i=(0,d.getIsolationScope)();const{traceId:a,spanId:c,sampled:l,dsc:u}={...i.getPropagationContext(),...r.getPropagationContext()};const p=o?(0,q.spanToTraceHeader)(o):(0,tP.generateSentryTraceHeader)(a,c,l);const f=(0,tL.dynamicSamplingContextToSentryBaggageHeader)(u||(o?(0,W.getDynamicSamplingContextFromSpan)(o):(0,W.getDynamicSamplingContextFromClient)(a,n)));const m=s.headers||("undefined"!=typeof Request&&(0,B.isInstanceOf)(t,Request)?t.headers:void 0);if(m)if("undefined"!=typeof Headers&&(0,B.isInstanceOf)(m,Headers)){const g=new Headers(m);g.append("sentry-trace",p);if(f)g.append(tL.BAGGAGE_HEADER_NAME,f);return g}else if(Array.isArray(m)){const h=[...m,["sentry-trace",p]];if(f)h.push([tL.BAGGAGE_HEADER_NAME,f]);return h}else{const _="baggage"in m?m.baggage:void 0;const v=[];if(Array.isArray(_))v.push(..._);else if(_)v.push(_);if(f)v.push(f);return{...m,"sentry-trace":p,baggage:v.length>0?v.join(","):void 0}}return{"sentry-trace":p,baggage:f}}function getFullURL(t){try{const n=new URL(t);return n.href}catch(r){return}}function endSpan(t,n){if(n.response){(0,tC.setHttpStatus)(t,n.response.status);const r=n.response&&n.response.headers&&n.response.headers.get("content-length");if(r){const s=parseInt(r);if(s>0)t.setAttribute("http.response_content_length",s)}}else if(n.error)t.setStatus({code:tC.SPAN_STATUS_ERROR,message:"internal_error"});t.end()}const tU=new WeakMap;const tF=new Map;const tj={traceFetch:true,traceXHR:true,enableHTTPTimings:true};function instrumentOutgoingRequests(t,n){const{traceFetch:r,traceXHR:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a}={traceFetch:tj.traceFetch,traceXHR:tj.traceXHR,...n};const c="function"==typeof o?o:t=>true;const shouldAttachHeadersWithTargets=t=>shouldAttachHeaders(t,a);const l={};if(r){t.addEventProcessor(t=>{if("transaction"===t.type&&t.spans)t.spans.forEach(t=>{if("http.client"===t.op){const n=tF.get(t.span_id);if(n){t.timestamp=n/1e3;tF.delete(t.span_id)}}});return t});addFetchEndInstrumentationHandler(t=>{if(t.response){const n=tU.get(t.response);if(n&&t.endTimestamp)tF.set(n,t.endTimestamp)}});addFetchInstrumentationHandler(t=>{const n=instrumentFetchRequest(t,c,shouldAttachHeadersWithTargets,l);if(t.response&&t.fetchData.__span)tU.set(t.response,t.fetchData.__span);if(n){const r=request_getFullURL(t.fetchData.url);const s=r?url_parseUrl(r).host:void 0;n.setAttributes({"http.url":r,"server.address":s})}if(i&&n)addHTTPTimings(n)})}if(s)addXhrInstrumentationHandler(t=>{const n=xhrCallback(t,c,shouldAttachHeadersWithTargets,l);if(i&&n)addHTTPTimings(n)})}function isPerformanceResourceTiming(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}function addHTTPTimings(t){const{url:n}=(0,q.spanToJSON)(t).data||{};if(!n||"string"!=typeof n){return}const r=addPerformanceInstrumentationHandler("resource",({entries:s})=>{s.forEach(s=>{if(isPerformanceResourceTiming(s)&&s.name.endsWith(n)){const o=resourceTimingEntryToSpanData(s);o.forEach(n=>t.setAttribute(...n));setTimeout(r)}})})}function extractNetworkProtocol(t){let n="unknown";let r="unknown";let s="";for(const o of t){if("/"===o){[n,r]=t.split("/");break}if(!isNaN(Number(o))){n="h"===s?"http":s;r=t.split(s)[1];break}s+=o}if(s===t)n=s;return{name:n,version:r}}function getAbsoluteTime(t=0){return((H.browserPerformanceTimeOrigin||performance.timeOrigin)+t)/1e3}function resourceTimingEntryToSpanData(t){const{name:n,version:r}=extractNetworkProtocol(t.nextHopProtocol);const s=[];s.push(["network.protocol.version",r],["network.protocol.name",n]);if(!H.browserPerformanceTimeOrigin){return s}return[...s,["http.request.redirect_start",getAbsoluteTime(t.redirectStart)],["http.request.fetch_start",getAbsoluteTime(t.fetchStart)],["http.request.domain_lookup_start",getAbsoluteTime(t.domainLookupStart)],["http.request.domain_lookup_end",getAbsoluteTime(t.domainLookupEnd)],["http.request.connect_start",getAbsoluteTime(t.connectStart)],["http.request.secure_connection_start",getAbsoluteTime(t.secureConnectionStart)],["http.request.connection_end",getAbsoluteTime(t.connectEnd)],["http.request.request_start",getAbsoluteTime(t.requestStart)],["http.request.response_start",getAbsoluteTime(t.responseStart)],["http.request.response_end",getAbsoluteTime(t.responseEnd)]]}function shouldAttachHeaders(t,n){const r=et.location&&et.location.href;if(r){let o;let i;try{o=new URL(t,r);i=new URL(r).origin}catch(a){return false}const c=o.origin===i;if(n){return(0,s.stringMatchesSomePattern)(o.toString(),n)||c&&(0,s.stringMatchesSomePattern)(o.pathname,n)}return c}{const l=!!t.match(/^\/(?!\/)/);if(n){return(0,s.stringMatchesSomePattern)(t,n)}return l}}function xhrCallback(t,n,r,s){const o=t.xhr;const i=o&&o[ea];if(!o||o.__sentry_own_request__||!i){return}const a=(0,e0.hasTracingEnabled)()&&n(i.url);if(t.endTimestamp&&a){const c=o.__sentry_xhr_span_id__;if(!c)return;const l=s[c];if(l&&void 0!==i.status_code){(0,tC.setHttpStatus)(l,i.status_code);l.end();delete s[c]}return}const u=request_getFullURL(i.url);const p=u?url_parseUrl(u).host:void 0;const f=!!(0,q.getActiveSpan)();const m=a&&f?startInactiveSpan({name:`${i.method} ${i.url}`,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":p,[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new sentryNonRecordingSpan_SentryNonRecordingSpan;o.__sentry_xhr_span_id__=m.spanContext().spanId;s[o.__sentry_xhr_span_id__]=m;const g=(0,d.getClient)();if(o.setRequestHeader&&r(i.url)&&g)addTracingHeadersToXhrRequest(o,g,(0,e0.hasTracingEnabled)()&&f?m:void 0);return m}function addTracingHeadersToXhrRequest(t,n,r){const s=(0,d.getCurrentScope)();const o=(0,d.getIsolationScope)();const{traceId:i,spanId:a,sampled:c,dsc:l}={...o.getPropagationContext(),...s.getPropagationContext()};const u=r&&(0,e0.hasTracingEnabled)()?(0,q.spanToTraceHeader)(r):(0,tP.generateSentryTraceHeader)(i,a,c);const p=(0,tL.dynamicSamplingContextToSentryBaggageHeader)(l||(r?(0,W.getDynamicSamplingContextFromSpan)(r):(0,W.getDynamicSamplingContextFromClient)(i,n)));setHeaderOnXhr(t,u,p)}function setHeaderOnXhr(t,n,r){try{t.setRequestHeader("sentry-trace",n);if(r)t.setRequestHeader(tL.BAGGAGE_HEADER_NAME,r)}catch(s){}}function request_getFullURL(t){try{const n=new URL(t,et.location.origin);return n.href}catch(r){return}}const tH="BrowserTracing";const t$={...tx,instrumentNavigation:true,instrumentPageLoad:true,markBackgroundSpan:true,enableLongTask:true,enableLongAnimationFrame:true,enableInp:true,_experiments:{},...tj};const browserTracingIntegration=(t={})=>{registerSpanErrorInstrumentation();const{enableInp:r,enableLongTask:s,enableLongAnimationFrame:o,_experiments:{enableInteractions:i,enableStandaloneClsSpans:a},beforeStartSpan:c,idleTimeout:l,finalTimeout:u,childSpanTimeout:p,markBackgroundSpan:f,traceFetch:m,traceXHR:g,shouldCreateSpanForRequest:h,enableHTTPTimings:_,instrumentPageLoad:v,instrumentNavigation:b}={...t$,...t};const w=startTrackingWebVitals({recordClsStandaloneSpans:a||false});if(r)startTrackingINP();if(o&&T.GLOBAL_OBJ.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame"))startTrackingLongAnimationFrames();else if(s)startTrackingLongTasks();if(i)startTrackingInteractions();const I={name:void 0,source:void 0};function _createRouteSpan(t,n){const r="pageload"===n.op;const s=c?c(n):n;const o=s.attributes||{};if(n.name!==s.name){o[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom";s.attributes=o}I.name=s.name;I.source=o[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const i=startIdleSpan(s,{idleTimeout:l,finalTimeout:u,childSpanTimeout:p,disableAutoFinish:r,beforeSpanEnd:t=>{w();addPerformanceEntries(t,{recordClsOnPageloadSpan:!a})}});function emitFinish(){if(["interactive","complete"].includes(et.document.readyState))t.emit("idleSpanEnableAutoFinish",i)}if(r&&et.document){et.document.addEventListener("readystatechange",()=>{emitFinish()});emitFinish()}return i}return{name:tH,afterAllSetup(t){let s;let o=et.location&&et.location.href;t.on("startNavigationSpan",r=>{if((0,d.getClient)()!==t){return}if(s&&!(0,q.spanToJSON)(s).timestamp){Z&&n.logger.log(`[Tracing] Finishing current root span with op: ${(0,q.spanToJSON)(s).op}`);s.end()}s=_createRouteSpan(t,{op:"navigation",...r})});t.on("startPageLoadSpan",(r,o={})=>{if((0,d.getClient)()!==t){return}if(s&&!(0,q.spanToJSON)(s).timestamp){Z&&n.logger.log(`[Tracing] Finishing current root span with op: ${(0,q.spanToJSON)(s).op}`);s.end()}const i=o.sentryTrace||getMetaContent("sentry-trace");const a=o.baggage||getMetaContent("baggage");const c=(0,tP.propagationContextFromHeaders)(i,a);(0,d.getCurrentScope)().setPropagationContext(c);s=_createRouteSpan(t,{op:"pageload",...r})});t.on("spanEnd",t=>{const n=(0,q.spanToJSON)(t).op;if(t!==(0,q.getRootSpan)(t)||"navigation"!==n&&"pageload"!==n){return}const r=(0,d.getCurrentScope)();const s=r.getPropagationContext();r.setPropagationContext({...s,sampled:void 0!==s.sampled?s.sampled:(0,q.spanIsSampled)(t),dsc:s.dsc||(0,W.getDynamicSamplingContextFromSpan)(t)})});if(et.location){if(v)startBrowserTracingPageLoadSpan(t,{name:et.location.pathname,startTime:H.browserPerformanceTimeOrigin?H.browserPerformanceTimeOrigin/1e3:void 0,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}});if(b)addHistoryInstrumentationHandler(({to:n,from:r})=>{if(void 0===r&&o&&-1!==o.indexOf(n)){o=void 0;return}if(r!==n){o=void 0;startBrowserTracingNavigationSpan(t,{name:et.location.pathname,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[eZ.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}})}})}if(f)registerBackgroundTabDetection();if(i)registerInteractionListener(l,u,p,I);if(r)registerInpInteractionListener();instrumentOutgoingRequests(t,{traceFetch:m,traceXHR:g,tracePropagationTargets:t.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:_})}}};function startBrowserTracingPageLoadSpan(t,n,r){t.emit("startPageLoadSpan",n,r);(0,d.getCurrentScope)().setTransactionName(n.name);const s=(0,q.getActiveSpan)();const o=s&&(0,q.spanToJSON)(s).op;return"pageload"===o?s:void 0}function startBrowserTracingNavigationSpan(t,n){(0,d.getIsolationScope)().setPropagationContext((0,tB.generatePropagationContext)());(0,d.getCurrentScope)().setPropagationContext((0,tB.generatePropagationContext)());t.emit("startNavigationSpan",n);(0,d.getCurrentScope)().setTransactionName(n.name);const r=(0,q.getActiveSpan)();const s=r&&(0,q.spanToJSON)(r).op;return"navigation"===s?r:void 0}function getMetaContent(t){const n=(0,el.getDomElement)(`meta[name=${t}]`);return n?n.getAttribute("content"):void 0}function registerInteractionListener(t,r,s,o){let i;const registerInteractionTransaction=()=>{const a="ui.action.click";const c=(0,q.getActiveSpan)();const l=c&&(0,q.getRootSpan)(c);if(l){const u=(0,q.spanToJSON)(l).op;if(["navigation","pageload"].includes(u)){Z&&n.logger.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i){i.setAttribute(eZ.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted");i.end();i=void 0}if(!o.name){Z&&n.logger.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=startIdleSpan({name:o.name,op:a,attributes:{[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:o.source||"url"}},{idleTimeout:t,finalTimeout:r,childSpanTimeout:s})};if(et.document)addEventListener("click",registerInteractionTransaction,{once:false,capture:true})}var tW=__webpack_require__("../../node_modules/@sentry/core/build/esm/constants.js");const tq=1e6;const tz=String(0);const tG="main";let tV="";let tJ="";let tK="";let tY=et.navigator&&et.navigator.userAgent||"";let tX="";const tQ=et.navigator&&et.navigator.language||et.navigator&&et.navigator.languages&&et.navigator.languages[0]||"";function isUserAgentData(t){return"object"==typeof t&&null!==t&&"getHighEntropyValues"in t}const tZ=et.navigator&&et.navigator.userAgentData;if(isUserAgentData(tZ))tZ.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(t=>{tV=t.platform||"";tK=t.architecture||"";tX=t.model||"";tJ=t.platformVersion||"";if(t.fullVersionList&&t.fullVersionList.length>0){const n=t.fullVersionList[t.fullVersionList.length-1];tY=`${n.brand} ${n.version}`}}).catch(t=>void 0);function isProcessedJSSelfProfile(t){return!("thread_metadata"in t)}function enrichWithThreadInformation(t){if(!isProcessedJSSelfProfile(t)){return t}return convertJSSelfProfileToSampledFormat(t)}function getTraceId(t){const r=t&&t.contexts&&t.contexts["trace"]&&t.contexts["trace"]["trace_id"];if("string"==typeof r&&32!==r.length){if(Z)n.logger.log(`[Profiling] Invalid traceId: ${r} on profiled event`)}if("string"!=typeof r){return""}return r}function createProfilePayload(t,n,s,o){if("transaction"!==o.type){throw new TypeError("Profiling events may only be attached to transactions, this should never occur.")}if(null==s){throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${s} instead.`)}const i=getTraceId(o);const a=enrichWithThreadInformation(s);const c=n||("number"==typeof o.start_timestamp?1e3*o.start_timestamp:1e3*(0,H.timestampInSeconds)());const l="number"==typeof o.timestamp?1e3*o.timestamp:1e3*(0,H.timestampInSeconds)();const u={event_id:t,timestamp:new Date(c).toISOString(),platform:"javascript",version:"1",release:o.release||"",environment:o.environment||tW.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:et.navigator.userAgent},os:{name:tV,version:tJ,build_number:tY},device:{locale:tQ,model:tX,manufacturer:tY,architecture:tK,is_emulator:false},debug_meta:{images:applyDebugMetadata(s.resources)},profile:a,transactions:[{name:o.transaction||"",id:o.event_id||(0,r.uuid4)(),trace_id:i,active_thread_id:tz,relative_start_ns:"0",relative_end_ns:((l-c)*1e6).toFixed(0)}]};return u}function isAutomatedPageLoadSpan(t){return"pageload"===(0,q.spanToJSON)(t).op}function convertJSSelfProfileToSampledFormat(t){let n;let r=0;const s={samples:[],stacks:[],frames:[],thread_metadata:{[tz]:{name:tG}}};const o=t.samples[0];if(!o){return s}const i=o.timestamp;const a="number"==typeof performance.timeOrigin?performance.timeOrigin:H.browserPerformanceTimeOrigin||0;const c=a-(H.browserPerformanceTimeOrigin||a);t.samples.forEach((o,a)=>{if(void 0===o.stackId){if(void 0===n){n=r;s.stacks[n]=[];r++}s["samples"][a]={elapsed_since_start_ns:((o.timestamp+c-i)*tq).toFixed(0),stack_id:n,thread_id:tz};return}let l=t.stacks[o.stackId];const u=[];while(l){u.push(l.frameId);const d=t.frames[l.frameId];if(d&&void 0===s.frames[l.frameId])s.frames[l.frameId]={function:d.name,abs_path:"number"==typeof d.resourceId?t.resources[d.resourceId]:void 0,lineno:d.line,colno:d.column};l=void 0===l.parentId?void 0:t.stacks[l.parentId]}const p={elapsed_since_start_ns:((o.timestamp+c-i)*tq).toFixed(0),stack_id:r,thread_id:tz};s["stacks"][r]=u;s["samples"][a]=p;r++});return s}function addProfilesToEnvelope(t,n){if(!n.length){return t}for(const r of n)t[1].push([{type:"profile"},r]);return t}function findProfiledTransactionsFromEnvelope(t){const n=[];forEachEnvelopeItem(t,(t,r)=>{if("transaction"!==r){return}for(let s=1;s<t.length;s++){const o=t[s];if(o&&o.contexts&&o.contexts["profile"]&&o.contexts["profile"]["profile_id"])n.push(t[s])}});return n}const t0=new WeakMap;function applyDebugMetadata(t){const n=T.GLOBAL_OBJ._sentryDebugIds;if(!n){return[]}const r=(0,d.getClient)();const s=r&&r.getOptions();const o=s&&s.stackParser;if(!o){return[]}let i;const a=t0.get(o);if(a)i=a;else{i=new Map;t0.set(o,i)}const c=Object.keys(n).reduce((t,r)=>{let s;const a=i.get(r);if(a)s=a;else{s=o(r);i.set(r,s)}for(let c=s.length-1;c>=0;c--){const l=s[c];const u=l&&l.filename;if(l&&u){t[u]=n[r];break}}return t},{});const l=[];for(const u of t)if(u&&c[u])l.push({type:"sourcemap",code_file:u,debug_id:c[u]});return l}function isValidSampleRate(t){if("number"!=typeof t&&"boolean"!=typeof t||"number"==typeof t&&isNaN(t)){Z&&n.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return false}if(true===t||false===t){return true}if(t<0||t>1){Z&&n.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${t}.`);return false}return true}function isValidProfile(t){if(t.samples.length<2){if(Z)n.logger.log("[Profiling] Discarding profile because it contains less than 2 samples");return false}if(!t.frames.length){if(Z)n.logger.log("[Profiling] Discarding profile because it contains no frames");return false}return true}let t1=false;const t2=3e4;function isJSProfilerSupported(t){return"function"==typeof t}function startJSSelfProfile(){const t=et.Profiler;if(!isJSProfilerSupported(t)){if(Z)n.logger.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const r=10;const s=Math.floor(t2/r);try{return new t({sampleInterval:r,maxBufferSize:s})}catch(o){if(Z){n.logger.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header.");n.logger.log("[Profiling] Disabling profiling for current user session.")}t1=true}return}function shouldProfileSpan(t){if(t1){if(Z)n.logger.log("[Profiling] Profiling has been disabled for the duration of the current user session.");return false}if(!t.isRecording()){if(Z)n.logger.log("[Profiling] Discarding profile because transaction was not sampled.");return false}const r=(0,d.getClient)();const s=r&&r.getOptions();if(!s){Z&&n.logger.log("[Profiling] Profiling disabled, no options found.");return false}const o=s.profilesSampleRate;if(!isValidSampleRate(o)){Z&&n.logger.warn("[Profiling] Discarding profile because of invalid sample rate.");return false}if(!o){Z&&n.logger.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0");return false}const i=true===o||Math.random()<o;if(!i){Z&&n.logger.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(o)})`);return false}return true}function createProfilingEvent(t,n,r,s){if(!isValidProfile(r)){return null}return createProfilePayload(t,n,r,s)}const t3=new Map;function getActiveProfilesCount(){return t3.size}function takeProfileFromGlobalCache(t){const n=t3.get(t);if(n)t3.delete(t);return n}function addProfileToGlobalCache(t,n){t3.set(t,n);if(t3.size>30){const r=t3.keys().next().value;t3.delete(r)}}function startProfileForSpan(t){let s;if(isAutomatedPageLoadSpan(t))s=1e3*(0,H.timestampInSeconds)();const o=startJSSelfProfile();if(!o){return}if(Z)n.logger.log(`[Profiling] started profiling span: ${(0,q.spanToJSON)(t).description}`);const i=(0,r.uuid4)();(0,d.getCurrentScope)().setContext("profile",{profile_id:i,start_timestamp:s});async function onProfileHandler(){if(!t){return}if(!o){return}return o.stop().then(r=>{if(a){et.clearTimeout(a);a=void 0}if(Z)n.logger.log(`[Profiling] stopped profiling of span: ${(0,q.spanToJSON)(t).description}`);if(!r){if(Z)n.logger.log(`[Profiling] profiler returned null profile for: ${(0,q.spanToJSON)(t).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}addProfileToGlobalCache(i,r)}).catch(t=>{if(Z)n.logger.log("[Profiling] error while stopping profiler:",t)})}let a=et.setTimeout(()=>{if(Z)n.logger.log("[Profiling] max profile duration elapsed, stopping profiling for:",(0,q.spanToJSON)(t).description);onProfileHandler()},t2);const c=t.end.bind(t);function profilingWrappedSpanEnd(){if(!t){return c()}void onProfileHandler().then(()=>{c()},()=>{c()});return t}t.end=profilingWrappedSpanEnd}const t5="BrowserProfiling";const _browserProfilingIntegration=()=>{return{name:t5,setup(t){const r=(0,q.getActiveSpan)();const s=r&&(0,q.getRootSpan)(r);if(s&&isAutomatedPageLoadSpan(s)){if(shouldProfileSpan(s))startProfileForSpan(s)}t.on("spanStart",t=>{if(t===(0,q.getRootSpan)(t)&&shouldProfileSpan(t))startProfileForSpan(t)});t.on("beforeEnvelope",t=>{if(!getActiveProfilesCount()){return}const r=findProfiledTransactionsFromEnvelope(t);if(!r.length){return}const s=[];for(const o of r){const i=o&&o.contexts;const a=i&&i["profile"]&&i["profile"]["profile_id"];const c=i&&i["profile"]&&i["profile"]["start_timestamp"];if("string"!=typeof a){Z&&n.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!a){Z&&n.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}if(i&&i["profile"])delete i.profile;const l=takeProfileFromGlobalCache(a);if(!l){Z&&n.logger.log(`[Profiling] Could not retrieve profile for span: ${a}`);continue}const u=createProfilingEvent(a,c,l,o);if(u)s.push(u)}addProfilesToEnvelope(t,s)})}}};const t4=defineIntegration(_browserProfilingIntegration);function _nullishCoalesce(t,n){return null!=t?t:n()}function isSentryRequestUrl(t,n){const r=n&&n.getDsn();const s=n&&n.getOptions().tunnel;return checkDsn(t,r)||checkTunnel(t,s)}function checkTunnel(t,n){if(!n){return false}return removeTrailingSlash(t)===removeTrailingSlash(n)}function checkDsn(t,n){return!!n&&t.includes(n.host)}function removeTrailingSlash(t){return"/"===t[t.length-1]?t.slice(0,-1):t}var t6=__webpack_require__("?4c73");function isNodeEnv(){return!isBrowserBundle()&&"[object process]"===Object.prototype.toString.call(void 0!==t6?t6:0)}function dynamicRequire(t,n){return t.require(n)}function loadModule(t){let n;try{n=dynamicRequire(module,t)}catch(r){}try{const{cwd:s}=dynamicRequire(module,"process");n=dynamicRequire(module,`${s()}/node_modules/${t}`)}catch(o){}return n}function isBrowser(){return"undefined"!=typeof window&&(!isNodeEnv()||isElectronNodeRenderer())}function isElectronNodeRenderer(){return void 0!==T.GLOBAL_OBJ.process&&"renderer"===T.GLOBAL_OBJ.process.type}const t8=T.GLOBAL_OBJ;const t9="sentryReplaySession";const t7="replay_event";const ne="Unable to send Replay";const nt=3e5;const nn=9e5;const nr=5e3;const ns=5500;const no=6e4;const ni=5e3;const na=3;const nc=15e4;const nl=5e3;const nu=3e3;const nd=300;const np=2e7;const nf=4999;const nm=15e3;const ng=36e5;function _nullishCoalesce$1(t,n){if(null!=t){return t}return n()}function _optionalChain$5(t){let n;let r=t[0];let s=1;while(s<t.length){const o=t[s];const i=t[s+1];s+=2;if(("optionalAccess"===o||"optionalCall"===o)&&null==r){return}if("access"===o||"optionalAccess"===o){n=r;r=i(r)}else if("call"===o||"optionalCall"===o){r=i((...t)=>r.call(n,...t));n=void 0}}return r}var nh;(function(t){t[t["Document"]=0]="Document";t[t["DocumentType"]=1]="DocumentType";t[t["Element"]=2]="Element";t[t["Text"]=3]="Text";t[t["CDATA"]=4]="CDATA";t[t["Comment"]=5]="Comment"})(nh||(nh={}));function isElement$1(t){return t.nodeType===t.ELEMENT_NODE}function isShadowRoot(t){const n=_optionalChain$5([t,"optionalAccess",t=>t.host]);return Boolean(_optionalChain$5([n,"optionalAccess",t=>t.shadowRoot])===t)}function isNativeShadowDom(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function fixBrowserCompatibilityIssuesInCSS(t){if(t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;"))t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;");return t}function escapeImportStatement(t){const{cssText:n}=t;if(n.split('"').length<3)return n;const r=["@import",`url(${JSON.stringify(t.href)})`];if(""===t.layerName)r.push("layer");else if(t.layerName)r.push(`layer(${t.layerName})`);if(t.supportsText)r.push(`supports(${t.supportsText})`);if(t.media.length)r.push(t.media.mediaText);return r.join(" ")+";"}function stringifyStylesheet(t){try{const n=t.rules||t.cssRules;return n?fixBrowserCompatibilityIssuesInCSS(Array.from(n,stringifyRule).join("")):null}catch(r){return null}}function stringifyRule(t){let n;if(isCSSImportRule(t)){try{n=stringifyStylesheet(t.styleSheet)||escapeImportStatement(t)}catch(r){}}else if(isCSSStyleRule(t)&&t.selectorText.includes(":")){return fixSafariColons(t.cssText)}return n||t.cssText}function fixSafariColons(t){const n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(n,"$1\\$2")}function isCSSImportRule(t){return"styleSheet"in t}function isCSSStyleRule(t){return"selectorText"in t}class Mirror{constructor(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}getId(t){if(!t)return -1;const n=_optionalChain$5([this,"access",t=>t.getMeta,"call",n=>n(t),"optionalAccess",t=>t.id]);return _nullishCoalesce$1(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n);if(t.childNodes)t.childNodes.forEach(t=>this.removeNodeFromMap(t))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t);this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);if(s)this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map;this.nodeMetaMap=new WeakMap}}function createMirror(){return new Mirror}function shouldMaskInput({maskInputOptions:t,tagName:n,type:r}){if("OPTION"===n)n="SELECT";return Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t["text"])}function maskInputValue({isMasked:t,element:n,value:r,maskInputFn:s}){let o=r||"";if(!t){return o}if(s)o=s(o,n);return"*".repeat(o.length)}function toLowerCase(t){return t.toLowerCase()}function toUpperCase(t){return t.toUpperCase()}const n_="__rrweb_original__";function is2DCanvasBlank(t){const n=t.getContext("2d");if(!n)return true;const r=50;for(let s=0;s<t.width;s+=r){for(let o=0;o<t.height;o+=r){const i=n.getImageData;const a=n_ in i?i[n_]:i;const c=new Uint32Array(a.call(n,s,o,Math.min(r,t.width-s),Math.min(r,t.height-o)).data.buffer);if(c.some(t=>0!==t))return false}}return true}function getInputType(t){const n=t.type;return t.hasAttribute("data-rr-is-password")?"password":n?toLowerCase(n):null}function getInputValue(t,n,r){if("INPUT"===n&&("radio"===r||"checkbox"===r)){return t.getAttribute("value")||""}return t.value}function extractFileExtension(t,n){let r;try{r=new URL(t,_nullishCoalesce$1(n,()=>window.location.href))}catch(s){return null}const o=/\.([0-9a-z]+)(?:$)/i;const i=r.pathname.match(o);return _nullishCoalesce$1(_optionalChain$5([i,"optionalAccess",t=>t[1]]),()=>null)}const ny={};function getImplementation$1(t){const n=ny[t];if(n){return n}const r=window.document;let s=window[t];if(r&&"function"==typeof r.createElement){try{const o=r.createElement("iframe");o.hidden=true;r.head.appendChild(o);const i=o.contentWindow;if(i&&i[t])s=i[t];r.head.removeChild(o)}catch(a){}}return ny[t]=s.bind(window)}function setTimeout$2(...t){return getImplementation$1("setTimeout")(...t)}function clearTimeout$2(...t){return getImplementation$1("clearTimeout")(...t)}let nS=1;const nv=new RegExp("[^a-z0-9-_:]");const nb=-2;function genId(){return nS++}function getValidTagName(t){if(t instanceof HTMLFormElement){return"form"}const n=toLowerCase(t.tagName);if(nv.test(n)){return"div"}return n}function extractOrigin(t){let n="";n=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0];n=n.split("?")[0];return n}let nE;let nT;const nw=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm;const nI=/^(?:[a-z+]+:)?\/\//i;const nA=/^www\..*/i;const nk=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(t,n){return(t||"").replace(nw,(t,r,s,o,i,a)=>{const c=s||i||a;const l=r||o||"";if(!c){return t}if(nI.test(c)||nA.test(c)){return`url(${l}${c}${l})`}if(nk.test(c)){return`url(${l}${c}${l})`}if("/"===c[0]){return`url(${l}${extractOrigin(n)+c}${l})`}const u=n.split("/");const d=c.split("/");u.pop();for(const p of d){if("."===p){continue}if(".."===p)u.pop();else u.push(p)}return`url(${l}${u.join("/")}${l})`})}const nC=/^[^ \t\n\r\u000c]+/;const nx=/^[, \t\n\r\u000c]+/;function getAbsoluteSrcsetString(t,n){if(""===n.trim()){return n}let r=0;function collectCharacters(t){let s;const o=t.exec(n.substring(r));if(o){s=o[0];r+=s.length;return s}return""}const s=[];while(true){collectCharacters(nx);if(r>=n.length){break}let o=collectCharacters(nC);if(","===o.slice(-1)){o=absoluteToDoc(t,o.substring(0,o.length-1));s.push(o)}else{let i="";o=absoluteToDoc(t,o);let a=false;while(true){const c=n.charAt(r);if(""===c){s.push((o+i).trim());break}if(a){if(")"===c)a=false}else{if(","===c){r+=1;s.push((o+i).trim());break}if("("===c)a=true}i+=c;r+=1}}}return s.join(", ")}function absoluteToDoc(t,n){if(!n||""===n.trim()){return n}const r=t.createElement("a");r.href=n;return r.href}function isSVGElement(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function getHref(){const t=document.createElement("a");t.href="";return t.href}function transformAttribute(t,n,r,s,o,i){if(!s){return s}if("src"!==r&&("href"!==r||"use"===n&&"#"===s[0])){if("xlink:href"===r&&"#"!==s[0]){return absoluteToDoc(t,s)}else if("background"===r&&("table"===n||"td"===n||"th"===n)){return absoluteToDoc(t,s)}else if("srcset"===r){return getAbsoluteSrcsetString(t,s)}else if("style"===r){return absoluteToStylesheet(s,getHref())}else if("object"===n&&"data"===r){return absoluteToDoc(t,s)}}else{return absoluteToDoc(t,s)}if("function"==typeof i){return i(r,s,o)}return s}function ignoreAttribute(t,n,r){return("video"===t||"audio"===t)&&"autoplay"===n}function _isBlockedElement(t,n,r,s){try{if(s&&t.matches(s)){return false}if("string"==typeof n){if(t.classList.contains(n)){return true}}else{for(let o=t.classList.length;o--;){const i=t.classList[o];if(n.test(i)){return true}}}if(r){return t.matches(r)}}catch(a){}return false}function elementClassMatchesRegex(t,n){for(let r=t.classList.length;r--;){const s=t.classList[r];if(n.test(s)){return true}}return false}function distanceToMatch(t,n,r=1/0,s=0){if(!t)return -1;if(t.nodeType!==t.ELEMENT_NODE)return -1;if(s>r)return -1;if(n(t))return s;return distanceToMatch(t.parentNode,n,r,s+1)}function createMatchPredicate(t,n){return r=>{const s=r;if(null===s)return false;try{if(t){if("string"==typeof t){if(s.matches(`.${t}`))return true}else if(elementClassMatchesRegex(s,t)){return true}}if(n&&s.matches(n))return true;return false}catch(o){return false}}}function needMaskingText(t,n,r,s,o,i){try{const a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===a)return false;if("INPUT"===a.tagName){const c=a.getAttribute("autocomplete");const l=["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"];if(l.includes(c)){return true}}let u=-1;let d=-1;if(i){d=distanceToMatch(a,createMatchPredicate(s,o));if(d<0){return true}u=distanceToMatch(a,createMatchPredicate(n,r),d>=0?d:1/0)}else{u=distanceToMatch(a,createMatchPredicate(n,r));if(u<0){return false}d=distanceToMatch(a,createMatchPredicate(s,o),u>=0?u:1/0)}return u>=0?!(d>=0)||u<=d:!(d>=0)&&!!i}catch(p){}return!!i}function onceIframeLoaded(t,n,r){const s=t.contentWindow;if(!s){return}let o=false;let i;try{i=s.document.readyState}catch(a){return}if("complete"!==i){const c=setTimeout$2(()=>{if(!o){n();o=true}},r);t.addEventListener("load",()=>{clearTimeout$2(c);o=true;n()});return}const l="about:blank";if(s.location.href!==l||t.src===l||""===t.src){setTimeout$2(n,0);return t.addEventListener("load",n)}t.addEventListener("load",n)}function onceStylesheetLoaded(t,n,r){let s=false;let o;try{o=t.sheet}catch(i){return}if(o)return;const a=setTimeout$2(()=>{if(!s){n();s=true}},r);t.addEventListener("load",()=>{clearTimeout$2(a);s=true;n()})}function serializeNode(t,n){const{doc:r,mirror:s,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:c,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:g={},maskTextFn:h,maskInputFn:_,dataURLOptions:v={},inlineImages:b,recordCanvas:T,keepIframeSrcFn:w,newlyAddedElement:I=false}=n;const A=getRootId(r,s);switch(t.nodeType){case t.DOCUMENT_NODE:if("CSS1Compat"!==t.compatMode){return{type:nh.Document,childNodes:[],compatMode:t.compatMode}}return{type:nh.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:nh.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:A};case t.ELEMENT_NODE:return serializeElementNode(t,{doc:r,blockClass:o,blockSelector:i,unblockSelector:a,inlineStylesheet:m,maskAttributeFn:l,maskInputOptions:g,maskInputFn:_,dataURLOptions:v,inlineImages:b,recordCanvas:T,keepIframeSrcFn:w,newlyAddedElement:I,rootId:A,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f});case t.TEXT_NODE:return serializeTextNode(t,{maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,maskTextFn:h,maskInputOptions:g,maskInputFn:_,rootId:A});case t.CDATA_SECTION_NODE:return{type:nh.CDATA,textContent:"",rootId:A};case t.COMMENT_NODE:return{type:nh.Comment,textContent:t.textContent||"",rootId:A};default:return false}}function getRootId(t,n){if(!n.hasNode(t))return;const r=n.getId(t);return 1===r?void 0:r}function serializeTextNode(t,n){const{maskAllText:r,maskTextClass:s,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:l,maskInputFn:u,rootId:d}=n;const p=t.parentNode&&t.parentNode.tagName;let f=t.textContent;const m="STYLE"===p||void 0;const g="SCRIPT"===p||void 0;const h="TEXTAREA"===p||void 0;if(m&&f){try{if(t.nextSibling||t.previousSibling);else if(_optionalChain$5([t,"access",t=>t.parentNode,"access",t=>t.sheet,"optionalAccess",t=>t.cssRules]))f=stringifyStylesheet(t.parentNode.sheet)}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,t)}f=absoluteToStylesheet(f,getHref())}if(g)f="SCRIPT_PLACEHOLDER";const v=needMaskingText(t,s,i,o,a,r);if(!m&&!g&&!h&&f&&v)f=c?c(f,t.parentElement):f.replace(/[\S]/g,"*");if(h&&f&&(l.textarea||v))f=u?u(f,t.parentNode):f.replace(/[\S]/g,"*");if("OPTION"===p&&f){const b=shouldMaskInput({type:null,tagName:p,maskInputOptions:l});f=maskInputValue({isMasked:needMaskingText(t,s,i,o,a,b),element:t,value:f,maskInputFn:u})}return{type:nh.Text,textContent:f||"",isStyle:m,rootId:d}}function serializeElementNode(t,n){const{doc:r,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:a,maskInputOptions:c={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:d={},inlineImages:p,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:g=false,rootId:h,maskAllText:_,maskTextClass:v,unmaskTextClass:b,maskTextSelector:T,unmaskTextSelector:w}=n;const I=_isBlockedElement(t,s,o,i);const A=getValidTagName(t);let k={};const x=t.attributes.length;for(let R=0;R<x;R++){const M=t.attributes[R];if(M.name&&!ignoreAttribute(A,M.name,M.value))k[M.name]=transformAttribute(r,A,toLowerCase(M.name),M.value,t,l)}if("link"===A&&a){const B=Array.from(r.styleSheets).find(n=>{return n.href===t.href});let U=null;if(B)U=stringifyStylesheet(B);if(U){delete k.rel;delete k.href;k._cssText=absoluteToStylesheet(U,B.href)}}if("style"===A&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const F=stringifyStylesheet(t.sheet);if(F)k._cssText=absoluteToStylesheet(F,getHref())}if("input"===A||"textarea"===A||"select"===A||"option"===A){const j=t;const H=getInputType(j);const $=getInputValue(j,toUpperCase(A),H);const W=j.checked;if("submit"!==H&&"button"!==H&&$){const q=needMaskingText(j,v,T,b,w,shouldMaskInput({type:H,tagName:toUpperCase(A),maskInputOptions:c}));k.value=maskInputValue({isMasked:q,element:j,value:$,maskInputFn:u})}if(W)k.checked=W}if("option"===A)if(t.selected&&!c["select"])k.selected=true;else delete k.selected;if("canvas"===A&&f){if("2d"===t.__context){if(!is2DCanvasBlank(t))k.rr_dataURL=t.toDataURL(d.type,d.quality)}else if(!("__context"in t)){const G=t.toDataURL(d.type,d.quality);const V=document.createElement("canvas");V.width=t.width;V.height=t.height;const Y=V.toDataURL(d.type,d.quality);if(G!==Y)k.rr_dataURL=G}}if("img"===A&&p){if(!nE){nE=r.createElement("canvas");nT=nE.getContext("2d")}const X=t;const Z=X.crossOrigin;X.crossOrigin="anonymous";const recordInlineImage=()=>{X.removeEventListener("load",recordInlineImage);try{nE.width=X.naturalWidth;nE.height=X.naturalHeight;nT.drawImage(X,0,0);k.rr_dataURL=nE.toDataURL(d.type,d.quality)}catch(t){console.warn(`Cannot inline img src=${X.currentSrc}! Error: ${t}`)}Z?k.crossOrigin=Z:X.removeAttribute("crossorigin")};if(X.complete&&0!==X.naturalWidth)recordInlineImage();else X.addEventListener("load",recordInlineImage)}if("audio"===A||"video"===A){k.rr_mediaState=t.paused?"paused":"played";k.rr_mediaCurrentTime=t.currentTime}if(!g){if(t.scrollLeft)k.rr_scrollLeft=t.scrollLeft;if(t.scrollTop)k.rr_scrollTop=t.scrollTop}if(I){const{width:ee,height:et}=t.getBoundingClientRect();k={class:k.class,rr_width:`${ee}px`,rr_height:`${et}px`}}if("iframe"===A&&!m(k.src)){if(!I&&!t.contentDocument)k.rr_src=k.src;delete k.src}let en;try{if(customElements.get(A))en=true}catch(er){}return{type:nh.Element,tagName:A,attributes:k,childNodes:[],isSVG:isSVGElement(t)||void 0,needBlock:I,rootId:h,isCustom:en}}function lowerIfExists(t){if(null==t){return""}return t.toLowerCase()}function slimDOMExcluded(t,n){if(n.comment&&t.type===nh.Comment){return true}if(t.type===nh.Element){if(n.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&"js"===extractFileExtension(t.attributes.href))){return true}if(n.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(lowerIfExists(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===lowerIfExists(t.attributes.name)||"icon"===lowerIfExists(t.attributes.rel)||"apple-touch-icon"===lowerIfExists(t.attributes.rel)||"shortcut icon"===lowerIfExists(t.attributes.rel)))){return true}if("meta"===t.tagName){if(n.headMetaDescKeywords&&lowerIfExists(t.attributes.name).match(/^description|keywords$/)){return true}if(n.headMetaSocial&&(lowerIfExists(t.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===lowerIfExists(t.attributes.name))){return true}if(n.headMetaRobots&&("robots"===lowerIfExists(t.attributes.name)||"googlebot"===lowerIfExists(t.attributes.name)||"bingbot"===lowerIfExists(t.attributes.name))){return true}if(n.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"]){return true}else if(n.headMetaAuthorship&&("author"===lowerIfExists(t.attributes.name)||"generator"===lowerIfExists(t.attributes.name)||"framework"===lowerIfExists(t.attributes.name)||"publisher"===lowerIfExists(t.attributes.name)||"progid"===lowerIfExists(t.attributes.name)||lowerIfExists(t.attributes.property).match(/^article:/)||lowerIfExists(t.attributes.property).match(/^product:/))){return true}else if(n.headMetaVerification&&("google-site-verification"===lowerIfExists(t.attributes.name)||"yandex-verification"===lowerIfExists(t.attributes.name)||"csrf-token"===lowerIfExists(t.attributes.name)||"p:domain_verify"===lowerIfExists(t.attributes.name)||"verify-v1"===lowerIfExists(t.attributes.name)||"verification"===lowerIfExists(t.attributes.name)||"shopify-checkout-api-token"===lowerIfExists(t.attributes.name))){return true}}}return false}function serializeNodeWithId(t,n){const{doc:r,mirror:s,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,skipChild:f=false,inlineStylesheet:m=true,maskInputOptions:g={},maskAttributeFn:h,maskTextFn:_,maskInputFn:v,slimDOMOptions:b,dataURLOptions:T={},inlineImages:w=false,recordCanvas:I=false,onSerialize:A,onIframeLoad:k,iframeLoadTimeout:x=5e3,onStylesheetLoad:R,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:B=()=>false,newlyAddedElement:U=false}=n;let{preserveWhiteSpace:F=true}=n;const j=serializeNode(t,{doc:r,mirror:s,blockClass:o,blockSelector:i,maskAllText:c,unblockSelector:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:_,maskInputFn:v,dataURLOptions:T,inlineImages:w,recordCanvas:I,keepIframeSrcFn:B,newlyAddedElement:U});if(!j){console.warn(t,"not serialized");return null}let H;H=s.hasNode(t)?s.getId(t):!slimDOMExcluded(j,b)&&(F||j.type!==nh.Text||j.isStyle||j.textContent.replace(/^\s+|\s+$/gm,"").length)?genId():nb;const $=Object.assign(j,{id:H});s.add(t,$);if(H===nb){return null}if(A)A(t);let W=!f;if($.type===nh.Element){W=W&&!$.needBlock;delete $.needBlock;const q=t.shadowRoot;if(q&&isNativeShadowDom(q))$.isShadowHost=true}if(($.type===nh.Document||$.type===nh.Element)&&W){if(b.headWhitespace&&$.type===nh.Element&&"head"===$.tagName)F=false;const G={doc:r,mirror:s,blockClass:o,blockSelector:i,maskAllText:c,unblockSelector:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,skipChild:f,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:_,maskInputFn:v,slimDOMOptions:b,dataURLOptions:T,inlineImages:w,recordCanvas:I,preserveWhiteSpace:F,onSerialize:A,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:R,stylesheetLoadTimeout:M,keepIframeSrcFn:B};for(const V of Array.from(t.childNodes)){const Y=serializeNodeWithId(V,G);if(Y)$.childNodes.push(Y)}if(isElement$1(t)&&t.shadowRoot){for(const X of Array.from(t.shadowRoot.childNodes)){const Z=serializeNodeWithId(X,G);if(Z){isNativeShadowDom(t.shadowRoot)&&(Z.isShadow=true);$.childNodes.push(Z)}}}}if(t.parentNode&&isShadowRoot(t.parentNode)&&isNativeShadowDom(t.parentNode))$.isShadow=true;if($.type===nh.Element&&"iframe"===$.tagName)onceIframeLoaded(t,()=>{const n=t.contentDocument;if(n&&k){const r=serializeNodeWithId(n,{doc:n,mirror:s,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,skipChild:false,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:_,maskInputFn:v,slimDOMOptions:b,dataURLOptions:T,inlineImages:w,recordCanvas:I,preserveWhiteSpace:F,onSerialize:A,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:R,stylesheetLoadTimeout:M,keepIframeSrcFn:B});if(r)k(t,r)}},x);if($.type===nh.Element&&"link"===$.tagName&&"string"==typeof $.attributes.rel&&("stylesheet"===$.attributes.rel||"preload"===$.attributes.rel&&"string"==typeof $.attributes.href&&"css"===extractFileExtension($.attributes.href)))onceStylesheetLoaded(t,()=>{if(R){const n=serializeNodeWithId(t,{doc:r,mirror:s,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,skipChild:false,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:_,maskInputFn:v,slimDOMOptions:b,dataURLOptions:T,inlineImages:w,recordCanvas:I,preserveWhiteSpace:F,onSerialize:A,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:R,stylesheetLoadTimeout:M,keepIframeSrcFn:B});if(n)R(t,n)}},M);return $}function snapshot(t,n){const{mirror:r=new Mirror,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:a=false,maskTextClass:c="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:p=true,inlineImages:f=false,recordCanvas:m=false,maskAllInputs:g=false,maskAttributeFn:h,maskTextFn:_,maskInputFn:v,slimDOM:b=false,dataURLOptions:T,preserveWhiteSpace:w,onSerialize:I,onIframeLoad:A,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:R,keepIframeSrcFn:M=()=>false}=n||{};const B=true===g?{color:true,date:true,"datetime-local":true,email:true,month:true,number:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true,textarea:true,select:true}:false===g?{}:g;const U=true===b||"all"===b?{script:true,comment:true,headFavicon:true,headWhitespace:true,headMetaDescKeywords:"all"===b,headMetaSocial:true,headMetaRobots:true,headMetaHttpEquiv:true,headMetaAuthorship:true,headMetaVerification:true}:false===b?{}:b;return serializeNodeWithId(t,{doc:t,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:false,inlineStylesheet:p,maskInputOptions:B,maskAttributeFn:h,maskTextFn:_,maskInputFn:v,slimDOMOptions:U,dataURLOptions:T,inlineImages:f,recordCanvas:m,preserveWhiteSpace:w,onSerialize:I,onIframeLoad:A,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:R,keepIframeSrcFn:M,newlyAddedElement:false})}function _optionalChain$4(t){let n;let r=t[0];let s=1;while(s<t.length){const o=t[s];const i=t[s+1];s+=2;if(("optionalAccess"===o||"optionalCall"===o)&&null==r){return}if("access"===o||"optionalAccess"===o){n=r;r=i(r)}else if("call"===o||"optionalCall"===o){r=i((...t)=>r.call(n,...t));n=void 0}}return r}function on(t,n,r=document){const s={capture:true,passive:true};r.addEventListener(t,n,s);return()=>r.removeEventListener(t,n,s)}const nR="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let nO={map:{},getId(){console.error(nR);return -1},getNode(){console.error(nR);return null},removeNodeFromMap(){console.error(nR)},has(){console.error(nR);return false},reset(){console.error(nR)}};if("undefined"!=typeof window&&window.Proxy&&window.Reflect)nO=new Proxy(nO,{get(t,n,r){if("map"===n)console.error(nR);return Reflect.get(t,n,r)}});function throttle$1(t,n,r={}){let s=null;let o=0;return function(...i){const a=Date.now();if(!o&&false===r.leading)o=a;const c=n-(a-o);const l=this;if(c<=0||c>n){if(s){clearTimeout$1(s);s=null}o=a;t.apply(l,i)}else if(!s&&false!==r.trailing)s=setTimeout$1(()=>{o=false===r.leading?0:Date.now();s=null;t.apply(l,i)},c)}}function hookSetter(t,n,r,s,o=window){const i=o.Object.getOwnPropertyDescriptor(t,n);o.Object.defineProperty(t,n,s?r:{set(t){setTimeout$1(()=>{r.set.call(this,t)},0);if(i&&i.set)i.set.call(this,t)}});return()=>hookSetter(t,n,i||{},true)}function patch(t,n,r){try{if(!(n in t)){return()=>{}}const s=t[n];const o=r(s);if("function"==typeof o){o.prototype=o.prototype||{};Object.defineProperties(o,{__rrweb_original__:{enumerable:false,value:s}})}t[n]=o;return()=>{t[n]=s}}catch(i){return()=>{}}}let nN=Date.now;if(!/[1-9][0-9]{12}/.test(Date.now().toString()))nN=()=>new Date().getTime();function getWindowScroll(t){const n=t.document;return{left:n.scrollingElement?n.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:_optionalChain$4([n,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollLeft])||_optionalChain$4([n,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollLeft])||_optionalChain$4([n,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollLeft])||0,top:n.scrollingElement?n.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:_optionalChain$4([n,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollTop])||_optionalChain$4([n,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollTop])||_optionalChain$4([n,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollTop])||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode(t){if(!t){return null}const n=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;return n}function isBlocked(t,n,r,s,o){if(!t){return false}const i=closestElementOfNode(t);if(!i){return false}const a=createMatchPredicate(n,r);if(!o){const c=s&&i.matches(s);return a(i)&&!c}const l=distanceToMatch(i,a);let u=-1;if(l<0){return false}if(s)u=distanceToMatch(i,createMatchPredicate(null,s));if(l>-1&&u<0){return true}return l<u}function isSerialized(t,n){return -1!==n.getId(t)}function isIgnored(t,n){return n.getId(t)===nb}function isAncestorRemoved(t,n){if(isShadowRoot(t)){return false}const r=n.getId(t);if(!n.has(r)){return true}if(t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE){return false}if(!t.parentNode){return true}return isAncestorRemoved(t.parentNode,n)}function legacy_isTouchEvent(t){return Boolean(t.changedTouches)}function polyfill(t=window){if("NodeList"in t&&!t.NodeList.prototype.forEach)t.NodeList.prototype.forEach=Array.prototype.forEach;if("DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach)t.DOMTokenList.prototype.forEach=Array.prototype.forEach;if(!Node.prototype.contains)Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t)){throw new TypeError("1 argument is required")}do{if(this===n){return true}}while(n=n&&n.parentNode)return false}}function isSerializedIframe(t,n){return Boolean("IFRAME"===t.nodeName&&n.getMeta(t))}function isSerializedStylesheet(t,n){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&n.getMeta(t))}function hasShadowRoot(t){return Boolean(_optionalChain$4([t,"optionalAccess",t=>t.shadowRoot]))}class StyleSheetMirror{constructor(){this.id=1;this.styleIDMap=new WeakMap;this.idStyleMap=new Map}getId(t){return _nullishCoalesce(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;r=void 0===n?this.id++:n;this.styleIDMap.set(t,r);this.idStyleMap.set(r,t);return r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap;this.idStyleMap=new Map;this.id=1}generateId(){return this.id++}}function getShadowHost(t){let n=null;if(_optionalChain$4([t,"access",t=>t.getRootNode,"optionalCall",t=>t(),"optionalAccess",t=>t.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host)n=t.getRootNode().host;return n}function getRootShadowHost(t){let n=t;let r;while(r=getShadowHost(n))n=r;return n}function shadowHostInDom(t){const n=t.ownerDocument;if(!n)return false;const r=getRootShadowHost(t);return n.contains(r)}function inDom(t){const n=t.ownerDocument;if(!n)return false;return n.contains(t)||shadowHostInDom(t)}const nM={};function getImplementation(t){const n=nM[t];if(n){return n}const r=window.document;let s=window[t];if(r&&"function"==typeof r.createElement){try{const o=r.createElement("iframe");o.hidden=true;r.head.appendChild(o);const i=o.contentWindow;if(i&&i[t])s=i[t];r.head.removeChild(o)}catch(a){}}return nM[t]=s.bind(window)}function onRequestAnimationFrame(...t){return getImplementation("requestAnimationFrame")(...t)}function setTimeout$1(...t){return getImplementation("setTimeout")(...t)}function clearTimeout$1(...t){return getImplementation("clearTimeout")(...t)}var nD=(t=>{t[t["DomContentLoaded"]=0]="DomContentLoaded";t[t["Load"]=1]="Load";t[t["FullSnapshot"]=2]="FullSnapshot";t[t["IncrementalSnapshot"]=3]="IncrementalSnapshot";t[t["Meta"]=4]="Meta";t[t["Custom"]=5]="Custom";t[t["Plugin"]=6]="Plugin";return t})(nD||{});var nP=(t=>{t[t["Mutation"]=0]="Mutation";t[t["MouseMove"]=1]="MouseMove";t[t["MouseInteraction"]=2]="MouseInteraction";t[t["Scroll"]=3]="Scroll";t[t["ViewportResize"]=4]="ViewportResize";t[t["Input"]=5]="Input";t[t["TouchMove"]=6]="TouchMove";t[t["MediaInteraction"]=7]="MediaInteraction";t[t["StyleSheetRule"]=8]="StyleSheetRule";t[t["CanvasMutation"]=9]="CanvasMutation";t[t["Font"]=10]="Font";t[t["Log"]=11]="Log";t[t["Drag"]=12]="Drag";t[t["StyleDeclaration"]=13]="StyleDeclaration";t[t["Selection"]=14]="Selection";t[t["AdoptedStyleSheet"]=15]="AdoptedStyleSheet";t[t["CustomElement"]=16]="CustomElement";return t})(nP||{});var nB=(t=>{t[t["MouseUp"]=0]="MouseUp";t[t["MouseDown"]=1]="MouseDown";t[t["Click"]=2]="Click";t[t["ContextMenu"]=3]="ContextMenu";t[t["DblClick"]=4]="DblClick";t[t["Focus"]=5]="Focus";t[t["Blur"]=6]="Blur";t[t["TouchStart"]=7]="TouchStart";t[t["TouchMove_Departed"]=8]="TouchMove_Departed";t[t["TouchEnd"]=9]="TouchEnd";t[t["TouchCancel"]=10]="TouchCancel";return t})(nB||{});var nL=(t=>{t[t["Mouse"]=0]="Mouse";t[t["Pen"]=1]="Pen";t[t["Touch"]=2]="Touch";return t})(nL||{});function _optionalChain$3(t){let n;let r=t[0];let s=1;while(s<t.length){const o=t[s];const i=t[s+1];s+=2;if(("optionalAccess"===o||"optionalCall"===o)&&null==r){return}if("access"===o||"optionalAccess"===o){n=r;r=i(r)}else if("call"===o||"optionalCall"===o){r=i((...t)=>r.call(n,...t));n=void 0}}return r}function isNodeInLinkedList(t){return"__ln"in t}class DoubleLinkedList{constructor(){this.length=0;this.head=null;this.tail=null}get(t){if(t>=this.length){throw new Error("Position outside of list range")}let n=this.head;for(let r=0;r<t;r++)n=_optionalChain$3([n,"optionalAccess",t=>t.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};t.__ln=n;if(t.previousSibling&&isNodeInLinkedList(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r;n.previous=t.previousSibling.__ln;t.previousSibling.__ln.next=n;if(r)r.previous=n}else if(t.nextSibling&&isNodeInLinkedList(t.nextSibling)&&t.nextSibling.__ln.previous){const s=t.nextSibling.__ln.previous;n.previous=s;n.next=t.nextSibling.__ln;t.nextSibling.__ln.previous=n;if(s)s.next=n}else{if(this.head)this.head.previous=n;n.next=this.head;this.head=n}if(null===n.next)this.tail=n;this.length++}removeNode(t){const n=t.__ln;if(!this.head){return}if(n.previous){n.previous.next=n.next;if(n.next)n.next.previous=n.previous;else this.tail=n.previous}else{this.head=n.next;if(this.head)this.head.previous=null;else this.tail=null}if(t.__ln)delete t.__ln;this.length--}}const moveKey=(t,n)=>`${t}@${n}`;class MutationBuffer{constructor(){this.frozen=false;this.locked=false;this.texts=[];this.attributes=[];this.attributeMap=new WeakMap;this.removes=[];this.mapRemoves=[];this.movedMap={};this.addedSet=new Set;this.movedSet=new Set;this.droppedSet=new Set;this.processMutations=t=>{t.forEach(this.processMutation);this.emit()};this.emit=()=>{if(this.frozen||this.locked){return}const t=[];const n=new Set;const r=new DoubleLinkedList;const getNextId=t=>{let n=t;let r=nb;while(r===nb){n=n&&n.nextSibling;r=n&&this.mirror.getId(n)}return r};const pushAdd=s=>{if(!s.parentNode||!inDom(s)){return}const o=isShadowRoot(s.parentNode)?this.mirror.getId(getShadowHost(s)):this.mirror.getId(s.parentNode);const i=getNextId(s);if(-1===o||-1===i){return r.addNode(s)}const a=serializeNodeWithId(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:true,newlyAddedElement:true,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{if(isSerializedIframe(t,this.mirror)&&!isBlocked(t,this.blockClass,this.blockSelector,this.unblockSelector,false))this.iframeManager.addIframe(t);if(isSerializedStylesheet(t,this.mirror))this.stylesheetManager.trackLinkElement(t);if(hasShadowRoot(s))this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(t,n)=>{if(isBlocked(t,this.blockClass,this.blockSelector,this.unblockSelector,false)){return}this.iframeManager.attachIframe(t,n);if(t.contentWindow)this.canvasManager.addWindow(t.contentWindow);this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,n)=>{this.stylesheetManager.attachLinkElement(t,n)}});if(a){t.push({parentId:o,nextId:i,node:a});n.add(a.id)}};while(this.mapRemoves.length){this.mirror.removeNodeFromMap(this.mapRemoves.shift())}for(const s of this.movedSet){if(isParentRemoved(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)){continue}pushAdd(s)}for(const o of this.addedSet)if(isAncestorInSet(this.droppedSet,o)||isParentRemoved(this.removes,o,this.mirror))if(isAncestorInSet(this.movedSet,o))pushAdd(o);else this.droppedSet.add(o);else pushAdd(o);let i=null;while(r.length){let a=null;if(i){const c=this.mirror.getId(i.value.parentNode);const l=getNextId(i.value);if(-1!==c&&-1!==l)a=i}if(!a){let u=r.tail;while(u){const d=u;u=u.previous;if(d){const p=this.mirror.getId(d.value.parentNode);const f=getNextId(d.value);if(-1===f)continue;if(-1!==p){a=d;break}{const m=d.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=m.parentNode.host;const h=this.mirror.getId(g);if(-1!==h){a=d;break}}}}}}if(!a){while(r.head){r.removeNode(r.head.value)}break}i=a.previous;r.removeNode(a.value);pushAdd(a.value)}const _={texts:this.texts.map(t=>({id:this.mirror.getId(t.node),value:t.value})).filter(t=>!n.has(t.id)).filter(t=>this.mirror.has(t.id)),attributes:this.attributes.map(t=>{const{attributes:n}=t;if("string"==typeof n.style){const r=JSON.stringify(t.styleDiff);const s=JSON.stringify(t._unchangedStyles);if(r.length<n.style.length){if((r+s).split("var(").length===n.style.split("var(").length)n.style=t.styleDiff}}return{id:this.mirror.getId(t.node),attributes:n}}).filter(t=>!n.has(t.id)).filter(t=>this.mirror.has(t.id)),removes:this.removes,adds:t};if(!_.texts.length&&!_.attributes.length&&!_.removes.length&&!_.adds.length){return}this.texts=[];this.attributes=[];this.attributeMap=new WeakMap;this.removes=[];this.addedSet=new Set;this.movedSet=new Set;this.droppedSet=new Set;this.movedMap={};this.mutationCb(_)};this.processMutation=t=>{if(isIgnored(t.target,this.mirror)){return}switch(t.type){case"characterData":{const n=t.target.textContent;if(!isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,false)&&n!==t.oldValue)this.texts.push({value:needMaskingText(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,closestElementOfNode(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const r=t.target;let s=t.attributeName;let o=t.target.getAttribute(s);if("value"===s){const i=getInputType(r);const a=r.tagName;o=getInputValue(r,a,i);const c=shouldMaskInput({maskInputOptions:this.maskInputOptions,tagName:a,type:i});const l=needMaskingText(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=maskInputValue({isMasked:l,element:r,value:o,maskInputFn:this.maskInputFn})}if(isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,false)||o===t.oldValue){return}let u=this.attributeMap.get(t.target);if("IFRAME"===r.tagName&&"src"===s&&!this.keepIframeSrcFn(o)){if(r.contentDocument){return}s="rr_src"}if(!u){u={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}};this.attributes.push(u);this.attributeMap.set(t.target,u)}if("type"===s&&"INPUT"===r.tagName&&"password"===(t.oldValue||"").toLowerCase())r.setAttribute("data-rr-is-password","true");if(!ignoreAttribute(r.tagName,s)){u.attributes[s]=transformAttribute(this.doc,toLowerCase(r.tagName),toLowerCase(s),o,r,this.maskAttributeFn);if("style"===s){if(!this.unattachedDoc){try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(d){this.unattachedDoc=this.doc}}const p=this.unattachedDoc.createElement("span");if(t.oldValue)p.setAttribute("style",t.oldValue);for(const f of Array.from(r.style)){const m=r.style.getPropertyValue(f);const g=r.style.getPropertyPriority(f);if(m!==p.style.getPropertyValue(f)||g!==p.style.getPropertyPriority(f))if(""===g)u.styleDiff[f]=m;else u.styleDiff[f]=[m,g];else u._unchangedStyles[f]=[m,g]}for(const h of Array.from(p.style))if(""===r.style.getPropertyValue(h))u.styleDiff[h]=false}}break}case"childList":if(isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,true)){return}t.addedNodes.forEach(n=>this.genAdds(n,t.target));t.removedNodes.forEach(n=>{const r=this.mirror.getId(n);const s=isShadowRoot(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);if(isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,false)||isIgnored(n,this.mirror)||!isSerialized(n,this.mirror)){return}if(this.addedSet.has(n)){deepDelete(this.addedSet,n);this.droppedSet.add(n)}else if(this.addedSet.has(t.target)&&-1===r);else if(isAncestorRemoved(t.target,this.mirror));else if(this.movedSet.has(n)&&this.movedMap[moveKey(r,s)])deepDelete(this.movedSet,n);else this.removes.push({parentId:s,id:r,isShadow:!!(isShadowRoot(t.target)&&isNativeShadowDom(t.target))||void 0});this.mapRemoves.push(n)});break}};this.genAdds=(t,n)=>{if(this.processedNodeManager.inOtherBuffer(t,this))return;if(this.addedSet.has(t)||this.movedSet.has(t))return;if(this.mirror.hasNode(t)){if(isIgnored(t,this.mirror)){return}this.movedSet.add(t);let r=null;if(n&&this.mirror.hasNode(n))r=this.mirror.getId(n);if(r&&-1!==r)this.movedMap[moveKey(this.mirror.getId(t),r)]=true}else{this.addedSet.add(t);this.droppedSet.delete(t)}if(!isBlocked(t,this.blockClass,this.blockSelector,this.unblockSelector,false)){t.childNodes.forEach(t=>this.genAdds(t));if(hasShadowRoot(t))t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this);this.genAdds(n,t)})}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=true;this.canvasManager.freeze()}unfreeze(){this.frozen=false;this.canvasManager.unfreeze();this.emit()}isFrozen(){return this.frozen}lock(){this.locked=true;this.canvasManager.lock()}unlock(){this.locked=false;this.canvasManager.unlock();this.emit()}reset(){this.shadowDomManager.reset();this.canvasManager.reset()}}function deepDelete(t,n){t.delete(n);n.childNodes.forEach(n=>deepDelete(t,n))}function isParentRemoved(t,n,r){if(0===t.length)return false;return _isParentRemoved(t,n,r)}function _isParentRemoved(t,n,r){const{parentNode:s}=n;if(!s){return false}const o=r.getId(s);if(t.some(t=>t.id===o)){return true}return _isParentRemoved(t,s,r)}function isAncestorInSet(t,n){if(0===t.size)return false;return _isAncestorInSet(t,n)}function _isAncestorInSet(t,n){const{parentNode:r}=n;if(!r){return false}if(t.has(r)){return true}return _isAncestorInSet(t,r)}let nU;function registerErrorHandler(t){nU=t}function unregisterErrorHandler(){nU=void 0}const callbackWrapper=t=>{if(!nU){return t}const rrwebWrapped=(...n)=>{try{return t(...n)}catch(r){if(nU&&true===nU(r)){return()=>{}}throw r}};return rrwebWrapped};function _optionalChain$2(t){let n;let r=t[0];let s=1;while(s<t.length){const o=t[s];const i=t[s+1];s+=2;if(("optionalAccess"===o||"optionalCall"===o)&&null==r){return}if("access"===o||"optionalAccess"===o){n=r;r=i(r)}else if("call"===o||"optionalCall"===o){r=i((...t)=>r.call(n,...t));n=void 0}}return r}const nF=[];function esm_getEventTarget(t){try{if("composedPath"in t){const n=t.composedPath();if(n.length){return n[0]}}else if("path"in t&&t.path.length){return t.path[0]}}catch(r){}return t&&t.target}function initMutationObserver(t,n){const r=new MutationBuffer;nF.push(r);r.init(t);let s=window.MutationObserver||window.__rrMutationObserver;const o=_optionalChain$2([window,"optionalAccess",t=>t.Zone,"optionalAccess",t=>t.__symbol__,"optionalCall",t=>t("MutationObserver")]);if(o&&window[o])s=window[o];const i=new s(callbackWrapper(n=>{if(t.onMutation&&false===t.onMutation(n)){return}r.processMutations.bind(r)(n)}));i.observe(n,{attributes:true,attributeOldValue:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true});return i}function initMoveObserver({mousemoveCb:t,sampling:n,doc:r,mirror:s}){if(false===n.mousemove){return()=>{}}const o="number"==typeof n.mousemove?n.mousemove:50;const i="number"==typeof n.mousemoveCallback?n.mousemoveCallback:500;let a=[];let c;const l=throttle$1(callbackWrapper(n=>{const r=Date.now()-c;t(a.map(t=>{t.timeOffset-=r;return t}),n);a=[];c=null}),i);const u=callbackWrapper(throttle$1(callbackWrapper(t=>{const n=esm_getEventTarget(t);const{clientX:r,clientY:o}=legacy_isTouchEvent(t)?t.changedTouches[0]:t;if(!c)c=nN();a.push({x:r,y:o,id:s.getId(n),timeOffset:nN()-c});l("undefined"!=typeof DragEvent&&t instanceof DragEvent?nP.Drag:t instanceof MouseEvent?nP.MouseMove:nP.TouchMove)}),o,{trailing:false}));const d=[on("mousemove",u,r),on("touchmove",u,r),on("drag",u,r)];return callbackWrapper(()=>{d.forEach(t=>t())})}function initMouseInteractionObserver({mouseInteractionCb:t,doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,sampling:a}){if(false===a.mouseInteraction){return()=>{}}const c=true===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction;const l=[];let u=null;const getHandler=n=>{return a=>{const c=esm_getEventTarget(a);if(isBlocked(c,s,o,i,true)){return}let l=null;let d=n;if("pointerType"in a){switch(a.pointerType){case"mouse":l=nL.Mouse;break;case"touch":l=nL.Touch;break;case"pen":l=nL.Pen;break}if(l===nL.Touch){if(nB[n]===nB.MouseDown)d="TouchStart";else if(nB[n]===nB.MouseUp)d="TouchEnd"}else if(l===nL.Pen);}else if(legacy_isTouchEvent(a))l=nL.Touch;if(null!==l){u=l;if(d.startsWith("Touch")&&l===nL.Touch||d.startsWith("Mouse")&&l===nL.Mouse)l=null}else if(nB[n]===nB.Click){l=u;u=null}const p=legacy_isTouchEvent(a)?a.changedTouches[0]:a;if(!p){return}const f=r.getId(c);const{clientX:m,clientY:g}=p;callbackWrapper(t)({type:nB[d],id:f,x:m,y:g,...null!==l&&{pointerType:l}})}};Object.keys(nB).filter(t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&false!==c[t]).forEach(t=>{let r=toLowerCase(t);const s=getHandler(t);if(window.PointerEvent){switch(nB[t]){case nB.MouseDown:case nB.MouseUp:r=r.replace("mouse","pointer");break;case nB.TouchStart:case nB.TouchEnd:return}}l.push(on(r,s,n))});return callbackWrapper(()=>{l.forEach(t=>t())})}function initScrollObserver({scrollCb:t,doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,sampling:a}){const c=callbackWrapper(throttle$1(callbackWrapper(a=>{const c=esm_getEventTarget(a);if(!c||isBlocked(c,s,o,i,true)){return}const l=r.getId(c);if(c===n&&n.defaultView){const u=getWindowScroll(n.defaultView);t({id:l,x:u.left,y:u.top})}else{t({id:l,x:c.scrollLeft,y:c.scrollTop})}}),a.scroll||100));return on("scroll",c,n)}function initViewportResizeObserver({viewportResizeCb:t},{win:n}){let r=-1;let s=-1;const o=callbackWrapper(throttle$1(callbackWrapper(()=>{const n=getWindowHeight();const o=getWindowWidth();if(r!==n||s!==o){t({width:Number(o),height:Number(n)});r=n;s=o}}),200));return on("resize",o,n)}const nj=["INPUT","TEXTAREA","SELECT"];const nH=new WeakMap;function initInputObserver({inputCb:t,doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,ignoreClass:a,ignoreSelector:c,maskInputOptions:l,maskInputFn:u,sampling:d,userTriggeredOnInput:p,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:h}){function eventHandler(t){let r=esm_getEventTarget(t);const d=t.isTrusted;const _=r&&toUpperCase(r.tagName);if("OPTION"===_)r=r.parentElement;if(!r||!_||nj.indexOf(_)<0||isBlocked(r,s,o,i,true)){return}const v=r;if(v.classList.contains(a)||c&&v.matches(c)){return}const b=getInputType(r);let T=getInputValue(v,_,b);let w=false;const I=shouldMaskInput({maskInputOptions:l,tagName:_,type:b});const A=needMaskingText(r,f,g,m,h,I);if("radio"===b||"checkbox"===b)w=r.checked;T=maskInputValue({isMasked:A,element:r,value:T,maskInputFn:u});cbWithDedup(r,p?{text:T,isChecked:w,userTriggered:d}:{text:T,isChecked:w});const k=r.name;if("radio"===b&&k&&w)n.querySelectorAll(`input[type="radio"][name="${k}"]`).forEach(t=>{if(t!==r){const n=maskInputValue({isMasked:A,element:t,value:getInputValue(t,_,b),maskInputFn:u});cbWithDedup(t,p?{text:n,isChecked:!w,userTriggered:false}:{text:n,isChecked:!w})}})}function cbWithDedup(n,s){const o=nH.get(n);if(!o||o.text!==s.text||o.isChecked!==s.isChecked){nH.set(n,s);const i=r.getId(n);callbackWrapper(t)({...s,id:i})}}const _="last"===d.input?["change"]:["input","change"];const v=_.map(t=>on(t,callbackWrapper(eventHandler),n));const b=n.defaultView;if(!b){return()=>{v.forEach(t=>t())}}const T=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value");const w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];if(T&&T.set)v.push(...w.map(t=>hookSetter(t[0],t[1],{set(){callbackWrapper(eventHandler)({target:this,isTrusted:false})}},false,b)));return callbackWrapper(()=>{v.forEach(t=>t())})}function getNestedCSSRulePositions(t){const n=[];function recurse(t,n){if(hasNestedCSSRule("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const r=Array.from(t.parentRule.cssRules);const s=r.indexOf(t);n.unshift(s)}else if(t.parentStyleSheet){const o=Array.from(t.parentStyleSheet.cssRules);const i=o.indexOf(t);n.unshift(i)}return n}return recurse(t,n)}function getIdAndStyleId(t,n,r){let s,o;if(!t)return{};if(t.ownerNode)s=n.getId(t.ownerNode);else o=r.getId(t);return{styleId:o,id:s}}function initStyleSheetObserver({styleSheetRuleCb:t,mirror:n,stylesheetManager:r},{win:s}){if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype){return()=>{}}const o=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:callbackWrapper((s,o,i)=>{const[a,c]=i;const{id:l,styleId:u}=getIdAndStyleId(o,n,r.styleMirror);if(l&&-1!==l||u&&-1!==u)t({id:l,styleId:u,adds:[{rule:a,index:c}]});return s.apply(o,i)})});const i=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:callbackWrapper((s,o,i)=>{const[a]=i;const{id:c,styleId:l}=getIdAndStyleId(o,n,r.styleMirror);if(c&&-1!==c||l&&-1!==l)t({id:c,styleId:l,removes:[{index:a}]});return s.apply(o,i)})});let a;if(s.CSSStyleSheet.prototype.replace){a=s.CSSStyleSheet.prototype.replace;s.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:callbackWrapper((s,o,i)=>{const[a]=i;const{id:c,styleId:l}=getIdAndStyleId(o,n,r.styleMirror);if(c&&-1!==c||l&&-1!==l)t({id:c,styleId:l,replace:a});return s.apply(o,i)})})}let c;if(s.CSSStyleSheet.prototype.replaceSync){c=s.CSSStyleSheet.prototype.replaceSync;s.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:callbackWrapper((s,o,i)=>{const[a]=i;const{id:c,styleId:l}=getIdAndStyleId(o,n,r.styleMirror);if(c&&-1!==c||l&&-1!==l)t({id:c,styleId:l,replaceSync:a});return s.apply(o,i)})})}const l={};if(canMonkeyPatchNestedCSSRule("CSSGroupingRule"))l.CSSGroupingRule=s.CSSGroupingRule;else{if(canMonkeyPatchNestedCSSRule("CSSMediaRule"))l.CSSMediaRule=s.CSSMediaRule;if(canMonkeyPatchNestedCSSRule("CSSConditionRule"))l.CSSConditionRule=s.CSSConditionRule;if(canMonkeyPatchNestedCSSRule("CSSSupportsRule"))l.CSSSupportsRule=s.CSSSupportsRule}const u={};Object.entries(l).forEach(([s,o])=>{u[s]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule};o.prototype.insertRule=new Proxy(u[s].insertRule,{apply:callbackWrapper((s,o,i)=>{const[a,c]=i;const{id:l,styleId:u}=getIdAndStyleId(o.parentStyleSheet,n,r.styleMirror);if(l&&-1!==l||u&&-1!==u)t({id:l,styleId:u,adds:[{rule:a,index:[...getNestedCSSRulePositions(o),c||0]}]});return s.apply(o,i)})});o.prototype.deleteRule=new Proxy(u[s].deleteRule,{apply:callbackWrapper((s,o,i)=>{const[a]=i;const{id:c,styleId:l}=getIdAndStyleId(o.parentStyleSheet,n,r.styleMirror);if(c&&-1!==c||l&&-1!==l)t({id:c,styleId:l,removes:[{index:[...getNestedCSSRulePositions(o),a]}]});return s.apply(o,i)})})});return callbackWrapper(()=>{s.CSSStyleSheet.prototype.insertRule=o;s.CSSStyleSheet.prototype.deleteRule=i;a&&(s.CSSStyleSheet.prototype.replace=a);c&&(s.CSSStyleSheet.prototype.replaceSync=c);Object.entries(l).forEach(([t,n])=>{n.prototype.insertRule=u[t].insertRule;n.prototype.deleteRule=u[t].deleteRule})})}function initAdoptedStyleSheetObserver({mirror:t,stylesheetManager:n},r){let s=null;s="#document"===r.nodeName?t.getId(r):t.getId(r.host);const o="#document"===r.nodeName?_optionalChain$2([r,"access",t=>t.defaultView,"optionalAccess",t=>t.Document]):_optionalChain$2([r,"access",t=>t.ownerDocument,"optionalAccess",t=>t.defaultView,"optionalAccess",t=>t.ShadowRoot]);const i=_optionalChain$2([o,"optionalAccess",t=>t.prototype])?Object.getOwnPropertyDescriptor(_optionalChain$2([o,"optionalAccess",t=>t.prototype]),"adoptedStyleSheets"):void 0;if(null===s||-1===s||!o||!i)return()=>{};Object.defineProperty(r,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return _optionalChain$2([i,"access",t=>t.get,"optionalAccess",t=>t.call,"call",t=>t(this)])},set(t){const r=_optionalChain$2([i,"access",t=>t.set,"optionalAccess",t=>t.call,"call",n=>n(this,t)]);if(null!==s&&-1!==s){try{n.adoptStyleSheets(t,s)}catch(o){}}return r}});return callbackWrapper(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})})}function initStyleDeclarationObserver({styleDeclarationCb:t,mirror:n,ignoreCSSAttributes:r,stylesheetManager:s},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:callbackWrapper((o,a,c)=>{const[l,u,d]=c;if(r.has(l)){return i.apply(a,[l,u,d])}const{id:p,styleId:f}=getIdAndStyleId(_optionalChain$2([a,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),n,s.styleMirror);if(p&&-1!==p||f&&-1!==f)t({id:p,styleId:f,set:{property:l,value:u,priority:d},index:getNestedCSSRulePositions(a.parentRule)});return o.apply(a,c)})});const a=o.CSSStyleDeclaration.prototype.removeProperty;o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:callbackWrapper((o,i,c)=>{const[l]=c;if(r.has(l)){return a.apply(i,[l])}const{id:u,styleId:d}=getIdAndStyleId(_optionalChain$2([i,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),n,s.styleMirror);if(u&&-1!==u||d&&-1!==d)t({id:u,styleId:d,remove:{property:l},index:getNestedCSSRulePositions(i.parentRule)});return o.apply(i,c)})});return callbackWrapper(()=>{o.CSSStyleDeclaration.prototype.setProperty=i;o.CSSStyleDeclaration.prototype.removeProperty=a})}function initMediaInteractionObserver({mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:s,mirror:o,sampling:i,doc:a}){const c=callbackWrapper(a=>throttle$1(callbackWrapper(i=>{const c=esm_getEventTarget(i);if(!c||isBlocked(c,n,r,s,true)){return}const{currentTime:l,volume:u,muted:d,playbackRate:p}=c;t({type:a,id:o.getId(c),currentTime:l,volume:u,muted:d,playbackRate:p})}),i.media||500));const l=[on("play",c(0),a),on("pause",c(1),a),on("seeked",c(2),a),on("volumechange",c(3),a),on("ratechange",c(4),a)];return callbackWrapper(()=>{l.forEach(t=>t())})}function initFontObserver({fontCb:t,doc:n}){const r=n.defaultView;if(!r){return()=>{}}const s=[];const o=new WeakMap;const i=r.FontFace;r.FontFace=function FontFace(t,n,r){const s=new i(t,n,r);o.set(s,{family:t,buffer:"string"!=typeof n,descriptors:r,fontSource:"string"==typeof n?n:JSON.stringify(Array.from(new Uint8Array(n)))});return s};const a=patch(n.fonts,"add",function(n){return function(r){setTimeout$1(callbackWrapper(()=>{const n=o.get(r);if(n){t(n);o.delete(r)}}),0);return n.apply(this,[r])}});s.push(()=>{r.FontFace=i});s.push(a);return callbackWrapper(()=>{s.forEach(t=>t())})}function initSelectionObserver(t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,selectionCb:a}=t;let c=true;const l=callbackWrapper(()=>{const t=n.getSelection();if(!t||c&&_optionalChain$2([t,"optionalAccess",t=>t.isCollapsed]))return;c=t.isCollapsed||false;const l=[];const u=t.rangeCount||0;for(let d=0;d<u;d++){const p=t.getRangeAt(d);const{startContainer:f,startOffset:m,endContainer:g,endOffset:h}=p;const _=isBlocked(f,s,o,i,true)||isBlocked(g,s,o,i,true);if(!_)l.push({start:r.getId(f),startOffset:m,end:r.getId(g),endOffset:h})}a({ranges:l})});l();return on("selectionchange",l)}function initCustomElementObserver({doc:t,customElementCb:n}){const r=t.defaultView;if(!r||!r.customElements)return()=>{};const s=patch(r.customElements,"define",function(t){return function(r,s,o){try{n({define:{name:r}})}catch(i){}return t.apply(this,[r,s,o])}});return s}function initObservers(t,n={}){const r=t.doc.defaultView;if(!r){return()=>{}}let s;if(t.recordDOM)s=initMutationObserver(t,t.doc);const o=initMoveObserver(t);const i=initMouseInteractionObserver(t);const a=initScrollObserver(t);const c=initViewportResizeObserver(t,{win:r});const l=initInputObserver(t);const u=initMediaInteractionObserver(t);let styleSheetObserver=()=>{};let adoptedStyleSheetObserver=()=>{};let styleDeclarationObserver=()=>{};let fontObserver=()=>{};if(t.recordDOM){styleSheetObserver=initStyleSheetObserver(t,{win:r});adoptedStyleSheetObserver=initAdoptedStyleSheetObserver(t,t.doc);styleDeclarationObserver=initStyleDeclarationObserver(t,{win:r});if(t.collectFonts)fontObserver=initFontObserver(t)}const d=initSelectionObserver(t);const p=initCustomElementObserver(t);const f=[];for(const m of t.plugins)f.push(m.observer(m.callback,r,m.options));return callbackWrapper(()=>{nF.forEach(t=>t.reset());_optionalChain$2([s,"optionalAccess",t=>t.disconnect,"call",t=>t()]);o();i();a();c();l();u();styleSheetObserver();adoptedStyleSheetObserver();styleDeclarationObserver();fontObserver();d();p();f.forEach(t=>t())})}function hasNestedCSSRule(t){return void 0!==window[t]}function canMonkeyPatchNestedCSSRule(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class CrossOriginIframeMirror{constructor(t){this.generateIdFn=t;this.iframeIdToRemoteIdMap=new WeakMap;this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t);const i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);if(!a){a=this.generateIdFn();o.set(n,a);i.set(a,n)}return a}getIds(t,n){const r=this.getIdToRemoteIdMap(t);const s=this.getRemoteIdToIdMap(t);return n.map(n=>this.getId(t,n,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if("number"!=typeof n)return n;const o=s.get(n);if(!o)return -1;return o}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(n=>this.getRemoteId(t,n,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap;this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t);this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);if(!n){n=new Map;this.iframeIdToRemoteIdMap.set(t,n)}return n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);if(!n){n=new Map;this.iframeRemoteIdToIdMap.set(t,n)}return n}}function _optionalChain$1(t){let n;let r=t[0];let s=1;while(s<t.length){const o=t[s];const i=t[s+1];s+=2;if(("optionalAccess"===o||"optionalCall"===o)&&null==r){return}if("access"===o||"optionalAccess"===o){n=r;r=i(r)}else if("call"===o||"optionalCall"===o){r=i((...t)=>r.call(n,...t));n=void 0}}return r}class IframeManagerNoop{constructor(){this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId);this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class IframeManager{constructor(t){this.iframes=new WeakMap;this.crossOriginIframeMap=new WeakMap;this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId);this.crossOriginIframeRootIdMap=new WeakMap;this.mutationCb=t.mutationCb;this.wrappedEmit=t.wrappedEmit;this.stylesheetManager=t.stylesheetManager;this.recordCrossOriginIframes=t.recordCrossOriginIframes;this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror));this.mirror=t.mirror;if(this.recordCrossOriginIframes)window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,true);if(t.contentWindow)this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:true});_optionalChain$1([this,"access",t=>t.loadListener,"optionalCall",n=>n(t)]);if(t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0)this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if("rrweb"!==n.data.type||n.origin!==n.data.origin)return;const r=t.source;if(!r)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);if(o)this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case nD.FullSnapshot:{this.crossOriginIframeMirror.reset(t);this.crossOriginIframeStyleMirror.reset(t);this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;this.crossOriginIframeRootIdMap.set(t,r);this.patchRootIdOnNode(n.data.node,r);return{timestamp:n.timestamp,type:nD.IncrementalSnapshot,data:{source:nP.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:true}}}case nD.Meta:case nD.Load:case nD.DomContentLoaded:return false;case nD.Plugin:return n;case nD.Custom:this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]);return n;case nD.IncrementalSnapshot:switch(n.data.source){case nP.Mutation:n.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]);this.replaceIdOnNode(n.node,t);const r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(n.node,r)});n.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])});n.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])});n.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])});return n;case nP.Drag:case nP.TouchMove:case nP.MouseMove:n.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])});return n;case nP.ViewportResize:return false;case nP.MediaInteraction:case nP.MouseInteraction:case nP.Scroll:case nP.CanvasMutation:case nP.Input:this.replaceIds(n.data,t,["id"]);return n;case nP.StyleSheetRule:case nP.StyleDeclaration:this.replaceIds(n.data,t,["id"]);this.replaceStyleIds(n.data,t,["styleId"]);return n;case nP.Font:return n;case nP.Selection:n.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])});return n;case nP.AdoptedStyleSheet:this.replaceIds(n.data,t,["id"]);this.replaceStyleIds(n.data,t,["styleIds"]);_optionalChain$1([n,"access",t=>t.data,"access",t=>t.styles,"optionalAccess",t=>t.forEach,"call",n=>n(n=>{this.replaceStyleIds(n,t,["styleId"])})]);return n}}return false}replace(t,n,r,s){for(const o of s)if(!!Array.isArray(n[o])||"number"==typeof n[o])if(Array.isArray(n[o]))n[o]=t.getIds(r,n[o]);else n[o]=t.getId(r,n[o]);return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]);if("childNodes"in t)t.childNodes.forEach(t=>{this.replaceIdOnNode(t,n)})}patchRootIdOnNode(t,n){if(t.type!==nh.Document&&!t.rootId)t.rootId=n;if("childNodes"in t)t.childNodes.forEach(t=>{this.patchRootIdOnNode(t,n)})}}class ShadowDomManagerNoop{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class ShadowDomManager{constructor(t){this.shadowDoms=new WeakSet;this.restoreHandlers=[];this.mutationCb=t.mutationCb;this.scrollCb=t.scrollCb;this.bypassOptions=t.bypassOptions;this.mirror=t.mirror;this.init()}init(){this.reset();this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!isNativeShadowDom(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t);this.bypassOptions.canvasManager.addShadowRoot(t);const r=initMutationObserver({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect());this.restoreHandlers.push(initScrollObserver({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror}));setTimeout$1(()=>{if(t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0)this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host));this.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){if(!t.contentWindow||!t.contentDocument)return;this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(patch(t.prototype,"attachShadow",function(t){return function(s){const o=t.call(this,s);if(this.shadowRoot&&inDom(this))r.addShadowRoot(this.shadowRoot,n);return o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(n){}});this.restoreHandlers=[];this.shadowDoms=new WeakSet;this.bypassOptions.canvasManager.resetShadowRoots()}}class CanvasManagerNoop{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class StylesheetManager{constructor(t){this.trackedLinkElements=new WeakSet;this.styleMirror=new StyleSheetMirror;this.mutationCb=t.mutationCb;this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){if("_cssText"in n.attributes)this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]});this.trackLinkElement(t)}trackLinkElement(t){if(this.trackedLinkElements.has(t))return;this.trackedLinkElements.add(t);this.trackStylesheetInLinkElement(t)}adoptStyleSheets(t,n){if(0===t.length)return;const r={id:n,styleIds:[]};const s=[];for(const o of t){let i;if(this.styleMirror.has(o))i=this.styleMirror.getId(o);else{i=this.styleMirror.add(o);s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(t,n)=>({rule:stringifyRule(t),index:n}))})}r.styleIds.push(i)}if(s.length>0)r.styles=s;this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset();this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ProcessedNodeManager{constructor(){this.nodeMap=new WeakMap;this.loop=true;this.periodicallyClear()}periodicallyClear(){onRequestAnimationFrame(()=>{this.clear();if(this.loop)this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(t=>t!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=false}}let n$;let nW;try{if(2!==Array.from([1],t=>2*t)[0]){const nq=document.createElement("iframe");document.body.appendChild(nq);Array.from=_optionalChain([nq,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from;document.body.removeChild(nq)}}catch(nz){console.debug("Unable to override Array.from",nz)}const nG=createMirror();function record(t={}){const{emit:n,checkoutEveryNms:r,checkoutEveryNth:s,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:c="rr-ignore",ignoreSelector:l=null,maskAllText:u=false,maskTextClass:d="rr-mask",unmaskTextClass:p=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:g=true,maskAllInputs:h,maskInputOptions:_,slimDOMOptions:v,maskAttributeFn:b,maskInputFn:T,maskTextFn:w,maxCanvasSize:I=null,packFn:A,sampling:k={},dataURLOptions:x={},mousemoveWait:R,recordDOM:M=true,recordCanvas:B=false,recordCrossOriginIframes:U=false,recordAfter:F="DOMContentLoaded"===t.recordAfter?t.recordAfter:"load",userTriggeredOnInput:j=false,collectFonts:H=false,inlineImages:$=false,plugins:W,keepIframeSrcFn:q=()=>false,ignoreCSSAttributes:G=new Set([]),errorHandler:V,onMutation:Y,getCanvasManager:X}=t;registerErrorHandler(V);const Z=!U||window.parent===window;let ee=false;if(!Z){try{if(window.parent.document)ee=false}catch(et){ee=true}}if(Z&&!n){throw new Error("emit function is required")}if(void 0!==R&&void 0===k.mousemove)k.mousemove=R;nG.reset();const en=true===h?{color:true,date:true,"datetime-local":true,email:true,month:true,number:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true,textarea:true,select:true,radio:true,checkbox:true}:void 0!==_?_:{};const er=true===v||"all"===v?{script:true,comment:true,headFavicon:true,headWhitespace:true,headMetaSocial:true,headMetaRobots:true,headMetaHttpEquiv:true,headMetaVerification:true,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};polyfill();let es;let eo=0;const eventProcessor=t=>{for(const n of W||[])if(n.eventProcessor)t=n.eventProcessor(t);if(A&&!ee)t=A(t);return t};n$=(t,o)=>{const i=t;i.timestamp=nN();if(_optionalChain([nF,"access",t=>t[0],"optionalAccess",t=>t.isFrozen,"call",t=>t()])&&i.type!==nD.FullSnapshot&&!(i.type===nD.IncrementalSnapshot&&i.data.source===nP.Mutation))nF.forEach(t=>t.unfreeze());if(Z)_optionalChain([n,"optionalCall",t=>t(eventProcessor(i),o)]);else if(ee){const a={type:"rrweb",event:eventProcessor(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(a,"*")}if(i.type===nD.FullSnapshot){es=i;eo=0}else if(i.type===nD.IncrementalSnapshot){if(i.data.source===nP.Mutation&&i.data.isAttachIframe){return}eo++;const c=s&&eo>=s;const l=r&&es&&i.timestamp-es.timestamp>r;if(c||l)takeFullSnapshot(true)}};const wrappedMutationEmit=t=>{n$({type:nD.IncrementalSnapshot,data:{source:nP.Mutation,...t}})};const wrappedScrollEmit=t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.Scroll,...t}});const wrappedCanvasMutationEmit=t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.CanvasMutation,...t}});const wrappedAdoptedStyleSheetEmit=t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.AdoptedStyleSheet,...t}});const ei=new StylesheetManager({mutationCb:wrappedMutationEmit,adoptedStyleSheetCb:wrappedAdoptedStyleSheetEmit});const ea="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new IframeManagerNoop:new IframeManager({mirror:nG,mutationCb:wrappedMutationEmit,stylesheetManager:ei,recordCrossOriginIframes:U,wrappedEmit:n$});for(const ec of W||[])if(ec.getMirror)ec.getMirror({nodeMirror:nG,crossOriginIframeMirror:ea.crossOriginIframeMirror,crossOriginIframeStyleMirror:ea.crossOriginIframeStyleMirror});const el=new ProcessedNodeManager;const eu=_getCanvasManager(X,{mirror:nG,win:window,mutationCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.CanvasMutation,...t}}),recordCanvas:B,blockClass:o,blockSelector:i,unblockSelector:a,maxCanvasSize:I,sampling:k["canvas"],dataURLOptions:x,errorHandler:V});const ed="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ShadowDomManagerNoop:new ShadowDomManager({mutationCb:wrappedMutationEmit,scrollCb:wrappedScrollEmit,bypassOptions:{onMutation:Y,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:g,maskInputOptions:en,dataURLOptions:x,maskAttributeFn:b,maskTextFn:w,maskInputFn:T,recordCanvas:B,inlineImages:$,sampling:k,slimDOMOptions:er,iframeManager:ea,stylesheetManager:ei,canvasManager:eu,keepIframeSrcFn:q,processedNodeManager:el},mirror:nG});const takeFullSnapshot=(t=false)=>{if(!M){return}n$({type:nD.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}},t);ei.reset();ed.init();nF.forEach(t=>t.lock());const n=snapshot(document,{mirror:nG,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:g,maskAllInputs:en,maskAttributeFn:b,maskInputFn:T,maskTextFn:w,slimDOM:er,dataURLOptions:x,recordCanvas:B,inlineImages:$,onSerialize:t=>{if(isSerializedIframe(t,nG))ea.addIframe(t);if(isSerializedStylesheet(t,nG))ei.trackLinkElement(t);if(hasShadowRoot(t))ed.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,n)=>{ea.attachIframe(t,n);if(t.contentWindow)eu.addWindow(t.contentWindow);ed.observeAttachShadow(t)},onStylesheetLoad:(t,n)=>{ei.attachLinkElement(t,n)},keepIframeSrcFn:q});if(!n){return console.warn("Failed to snapshot the document")}n$({type:nD.FullSnapshot,data:{node:n,initialOffset:getWindowScroll(window)}});nF.forEach(t=>t.unlock());if(document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0)ei.adoptStyleSheets(document.adoptedStyleSheets,nG.getId(document))};nW=takeFullSnapshot;try{const ep=[];const observe=t=>{return callbackWrapper(initObservers)({onMutation:Y,mutationCb:wrappedMutationEmit,mousemoveCb:(t,n)=>n$({type:nD.IncrementalSnapshot,data:{source:n,positions:t}}),mouseInteractionCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.MouseInteraction,...t}}),scrollCb:wrappedScrollEmit,viewportResizeCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.ViewportResize,...t}}),inputCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.Input,...t}}),mediaInteractionCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.MediaInteraction,...t}}),styleSheetRuleCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.StyleSheetRule,...t}}),styleDeclarationCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.StyleDeclaration,...t}}),canvasMutationCb:wrappedCanvasMutationEmit,fontCb:t=>n$({type:nD.IncrementalSnapshot,data:{source:nP.Font,...t}}),selectionCb:t=>{n$({type:nD.IncrementalSnapshot,data:{source:nP.Selection,...t}})},customElementCb:t=>{n$({type:nD.IncrementalSnapshot,data:{source:nP.CustomElement,...t}})},blockClass:o,ignoreClass:c,ignoreSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:en,inlineStylesheet:g,sampling:k,recordDOM:M,recordCanvas:B,inlineImages:$,userTriggeredOnInput:j,collectFonts:H,doc:t,maskAttributeFn:b,maskInputFn:T,maskTextFn:w,keepIframeSrcFn:q,blockSelector:i,unblockSelector:a,slimDOMOptions:er,dataURLOptions:x,mirror:nG,iframeManager:ea,stylesheetManager:ei,shadowDomManager:ed,processedNodeManager:el,canvasManager:eu,ignoreCSSAttributes:G,plugins:_optionalChain([W,"optionalAccess",t=>t.filter,"call",t=>t(t=>t.observer),"optionalAccess",t=>t.map,"call",t=>t(t=>({observer:t.observer,options:t.options,callback:n=>n$({type:nD.Plugin,data:{plugin:t.name,payload:n}})}))])||[]},{})};ea.addLoadListener(t=>{try{ep.push(observe(t.contentDocument))}catch(n){console.warn(n)}});const init=()=>{takeFullSnapshot();ep.push(observe(document))};if("interactive"===document.readyState||"complete"===document.readyState)init();else{ep.push(on("DOMContentLoaded",()=>{n$({type:nD.DomContentLoaded,data:{}});if("DOMContentLoaded"===F)init()}));ep.push(on("load",()=>{n$({type:nD.Load,data:{}});if("load"===F)init()},window))}return()=>{ep.forEach(t=>t());el.destroy();nW=void 0;unregisterErrorHandler()}}catch(ef){console.warn(ef)}}function takeFullSnapshot(t){if(!nW){throw new Error("please take full snapshot after start recording")}nW(t)}record.mirror=nG;record.takeFullSnapshot=takeFullSnapshot;function _getCanvasManager(t,n){try{return t?t(n):new CanvasManagerNoop}catch(r){console.warn("Unable to initialize CanvasManager");return new CanvasManagerNoop}}const nV="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const nJ=["info","warn","error","log"];const nK="[Replay] ";function _addBreadcrumb(t,n="info"){addBreadcrumb({category:"console",data:{logger:"replay"},level:n,message:`${nK}${t}`},{level:n})}function makeReplayLogger(){let r=false;let s=false;const o={exception:()=>void 0,infoTick:()=>void 0,setConfig:t=>{r=t.captureExceptions;s=t.traceInternals}};if(nV){nJ.forEach(t=>{o[t]=(...r)=>{n.logger[t](nK,...r);if(s)_addBreadcrumb(r.join(""),severityLevelFromString(t))}});o.exception=(i,...a)=>{if(a.length&&o.error)o.error(...a);n.logger.error(nK,i);if(r)(0,t.captureException)(i);else if(s)_addBreadcrumb(i,"error")};o.infoTick=(...t)=>{n.logger.info(nK,...t);if(s)setTimeout(()=>_addBreadcrumb(t[0]),0)}}else{nJ.forEach(t=>{o[t]=()=>void 0})}return o}const nY=makeReplayLogger();const nX=3;const nQ=5;function timestampToMs(t){const n=t>9999999999;return n?t:1e3*t}function timestampToS(t){const n=t>9999999999;return n?t/1e3:t}function addBreadcrumbEvent(t,n){if("sentry.transaction"===n.category){return}if(["ui.click","ui.input"].includes(n.category))t.triggerUserActivity();else t.checkAndHandleExpiredSession();t.addUpdate(()=>{t.throttledAddEvent({type:nD.Custom,timestamp:1e3*(n.timestamp||0),data:{tag:"breadcrumb",payload:(0,F.normalize)(n,10,1e3)}});return"console"===n.category})}const nZ="button,a";function getClosestInteractive(t){const n=t.closest(nZ);return n||t}function getClickTargetNode(t){const n=getTargetNode(t);if(!n||!(n instanceof Element)){return n}return getClosestInteractive(n)}function getTargetNode(t){if(isEventWithTarget(t)){return t.target}return t}function isEventWithTarget(t){return"object"==typeof t&&!!t&&"target"in t}let n0;function onWindowOpen(t){if(!n0){n0=[];monkeyPatchWindowOpen()}n0.push(t);return()=>{const n=n0?n0.indexOf(t):-1;if(n>-1)n0.splice(n,1)}}function monkeyPatchWindowOpen(){(0,u.fill)(t8,"open",function(t){return function(...n){if(n0){try{n0.forEach(t=>t())}catch(r){}}return t.apply(t8,n)}})}const n1=new Set([nP.Mutation,nP.StyleSheetRule,nP.StyleDeclaration,nP.AdoptedStyleSheet,nP.CanvasMutation,nP.Selection,nP.MediaInteraction]);function handleClick(t,n,r){t.handleClick(n,r)}class ClickDetector{constructor(t,n,r=addBreadcrumbEvent){this._lastMutation=0;this._lastScroll=0;this._clicks=[];this._timeout=n.timeout/1e3;this._threshold=n.threshold/1e3;this._scollTimeout=n.scrollTimeout/1e3;this._replay=t;this._ignoreSelector=n.ignoreSelector;this._addBreadcrumbEvent=r}addListeners(){const t=onWindowOpen(()=>{this._lastMutation=nowInSeconds()});this._teardown=()=>{t();this._clicks=[];this._lastMutation=0;this._lastScroll=0}}removeListeners(){if(this._teardown)this._teardown();if(this._checkClickTimeout)clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(ignoreElement(n,this._ignoreSelector)||!isClickBreadcrumb(t)){return}const r={timestamp:timestampToS(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};if(this._clicks.some(t=>t.node===r.node&&Math.abs(t.timestamp-r.timestamp)<1)){return}this._clicks.push(r);if(1===this._clicks.length)this._scheduleCheckClicks()}registerMutation(t=Date.now()){this._lastMutation=timestampToS(t)}registerScroll(t=Date.now()){this._lastScroll=timestampToS(t)}registerClick(t){const n=getClosestInteractive(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(t=>{t.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[];const n=nowInSeconds();this._clicks.forEach(r=>{if(!r.mutationAfter&&this._lastMutation)r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0;if(!r.scrollAfter&&this._lastScroll)r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0;if(r.timestamp+this._timeout<=n)t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);if(s>-1){this._generateBreadcrumbs(r);this._clicks.splice(s,1)}}if(this._clicks.length)this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay;const r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout;const s=t.mutationAfter&&t.mutationAfter<=this._threshold;const o=!r&&!s;const{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout);const l=c<1e3*this._timeout?"mutation":"timeout";const u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:t8.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:l,clickCount:i||1}};this._addBreadcrumbEvent(n,u);return}if(i>1){const d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:t8.location.href,route:n.getCurrentRoute(),clickCount:i,metric:true}};this._addBreadcrumbEvent(n,d)}}_scheduleCheckClicks(){if(this._checkClickTimeout)clearTimeout(this._checkClickTimeout);this._checkClickTimeout=getNativeImplementation_setTimeout(()=>this._checkClicks(),1e3)}}const n2=["A","BUTTON","INPUT"];function ignoreElement(t,n){if(!n2.includes(t.tagName)){return true}if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||"")){return true}if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target"))){return true}if(n&&t.matches(n)){return true}return false}function isClickBreadcrumb(t){return!!(t.data&&"number"==typeof t.data.nodeId&&t.timestamp)}function nowInSeconds(){return Date.now()/1e3}function updateClickDetectorForRecordingEvent(t,n){try{if(!isIncrementalEvent(n)){return}const{source:r}=n.data;if(n1.has(r))t.registerMutation(n.timestamp);if(r===nP.Scroll)t.registerScroll(n.timestamp);if(isIncrementalMouseInteraction(n)){const{type:s,id:o}=n.data;const i=record.mirror.getNode(o);if(i instanceof HTMLElement&&s===nB.Click)t.registerClick(i)}}catch(a){}}function isIncrementalEvent(t){return t.type===nX}function isIncrementalMouseInteraction(t){return t.data.source===nP.MouseInteraction}function createBreadcrumb(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var n3;(function(t){t[t["Document"]=0]="Document";t[t["DocumentType"]=1]="DocumentType";t[t["Element"]=2]="Element";t[t["Text"]=3]="Text";t[t["CDATA"]=4]="CDATA";t[t["Comment"]=5]="Comment"})(n3||(n3={}));const n5=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function getAttributesToRecord(t){const n={};if(!t["data-sentry-component"]&&t["data-sentry-element"])t["data-sentry-component"]=t["data-sentry-element"];for(const r in t)if(n5.has(r)){let s=r;if("data-testid"===r||"data-test-id"===r)s="testId";n[s]=t[r]}return n}const handleDomListener=t=>{return n=>{if(!t.isEnabled()){return}const r=handleDom(n);if(!r){return}const s="click"===n.name;const o=s?n.event:void 0;if(s&&t.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey)handleClick(t.clickDetector,r,getClickTargetNode(n.event));addBreadcrumbEvent(t,r)}};function getBaseDomBreadcrumb(t,n){const r=record.mirror.getId(t);const s=r&&record.mirror.getNode(r);const o=s&&record.mirror.getMeta(s);const i=o&&isElement(o)?o:null;return{message:n,data:i?{nodeId:r,node:{id:r,tagName:i.tagName,textContent:Array.from(i.childNodes).map(t=>t.type===n3.Text&&t.textContent).filter(Boolean).map(t=>t.trim()).join(""),attributes:getAttributesToRecord(i.attributes)}}:{}}}function handleDom(t){const{target:n,message:r}=getDomTarget(t);return createBreadcrumb({category:`ui.${t.name}`,...getBaseDomBreadcrumb(n,r)})}function getDomTarget(t){const n="click"===t.name;let r;let s=null;try{s=n?getClickTargetNode(t.event):getTargetNode(t.event);r=(0,el.htmlTreeAsString)(s,{maxStringLength:200})||"<unknown>"}catch(o){r="<unknown>"}return{target:s,message:r}}function isElement(t){return t.type===n3.Element}function handleKeyboardEvent(t,n){if(!t.isEnabled()){return}t.updateUserActivity();const r=getKeyboardBreadcrumb(n);if(!r){return}addBreadcrumbEvent(t,r)}function getKeyboardBreadcrumb(t){const{metaKey:n,shiftKey:r,ctrlKey:s,altKey:o,key:i,target:a}=t;if(!a||isInputElement(a)||!i){return null}const c=n||s||o;const l=1===i.length;if(!c&&l){return null}const u=(0,el.htmlTreeAsString)(a,{maxStringLength:200})||"<unknown>";const d=getBaseDomBreadcrumb(a,u);return createBreadcrumb({category:"ui.keyDown",message:u,data:{...d.data,metaKey:n,shiftKey:r,ctrlKey:s,altKey:o,key:i}})}function isInputElement(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}const n4={resource:createResourceEntry,paint:createPaintEntry,navigation:createNavigationEntry};function webVitalHandler(t,n){return({metric:r})=>void n.replayPerformanceEntries.push(t(r))}function createPerformanceEntries(t){return t.map(createPerformanceEntry).filter(Boolean)}function createPerformanceEntry(t){const n=n4[t.entryType];if(!n){return null}return n(t)}function esm_getAbsoluteTime(t){return((H.browserPerformanceTimeOrigin||t8.performance.timeOrigin)+t)/1e3}function createPaintEntry(t){const{duration:n,entryType:r,name:s,startTime:o}=t;const i=esm_getAbsoluteTime(o);return{type:r,name:s,start:i,end:i+n,data:void 0}}function createNavigationEntry(t){const{entryType:n,name:r,decodedBodySize:s,duration:o,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:c,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:d,loadEventEnd:p,redirectCount:f,startTime:m,transferSize:g,type:h}=t;if(0===o){return null}return{type:`${n}.${h}`,start:esm_getAbsoluteTime(m),end:esm_getAbsoluteTime(i),name:r,data:{size:g,decodedBodySize:s,encodedBodySize:a,duration:o,domInteractive:u,domContentLoadedEventStart:c,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:p,domComplete:i,redirectCount:f}}}function createResourceEntry(t){const{entryType:n,initiatorType:r,name:s,responseEnd:o,startTime:i,decodedBodySize:a,encodedBodySize:c,responseStatus:l,transferSize:u}=t;if(["fetch","xmlhttprequest"].includes(r)){return null}return{type:`${n}.${r}`,start:esm_getAbsoluteTime(i),end:esm_getAbsoluteTime(o),name:s,data:{size:u,statusCode:l,decodedBodySize:a,encodedBodySize:c}}}function getLargestContentfulPaint(t){const n=t.entries[t.entries.length-1];const r=n&&n.element?[n.element]:void 0;return getWebVital(t,"largest-contentful-paint",r)}function isLayoutShift(t){return void 0!==t.sources}function getCumulativeLayoutShift(t){const n=[];const r=[];for(const s of t.entries)if(isLayoutShift(s)){const o=[];for(const i of s.sources)if(i.node){r.push(i.node);const a=record.mirror.getId(i.node);if(a)o.push(a)}n.push({value:s.value,nodeIds:o.length?o:void 0})}return getWebVital(t,"cumulative-layout-shift",r,n)}function getFirstInputDelay(t){const n=t.entries[t.entries.length-1];const r=n&&n.target?[n.target]:void 0;return getWebVital(t,"first-input-delay",r)}function getInteractionToNextPaint(t){const n=t.entries[t.entries.length-1];const r=n&&n.target?[n.target]:void 0;return getWebVital(t,"interaction-to-next-paint",r)}function getWebVital(t,n,r,s){const o=t.value;const i=t.rating;const a=esm_getAbsoluteTime(o);return{type:"web-vital",name:n,start:a,end:a,data:{value:o,size:o,rating:i,nodeIds:r?r.map(t=>record.mirror.getId(t)):void 0,attributions:s}}}function setupPerformanceObserver(t){function addPerformanceEntry(n){if(!t.performanceEntries.includes(n))t.performanceEntries.push(n)}function onEntries({entries:t}){t.forEach(addPerformanceEntry)}const n=[];["navigation","paint","resource"].forEach(t=>{n.push(addPerformanceInstrumentationHandler(t,onEntries))});n.push(addLcpInstrumentationHandler(webVitalHandler(getLargestContentfulPaint,t)),addClsInstrumentationHandler(webVitalHandler(getCumulativeLayoutShift,t)),addFidInstrumentationHandler(webVitalHandler(getFirstInputDelay,t)),addInpInstrumentationHandler(webVitalHandler(getInteractionToNextPaint,t)));return()=>{n.forEach(t=>t())}}const n6='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function e(){const t=new Blob([n6]);return URL.createObjectURL(t)}class EventBufferSizeExceededError extends Error{constructor(){super(`Event buffer exceeded maximum size of ${np}.`)}}class EventBufferArray{constructor(){this.events=[];this._totalSize=0;this.hasCheckout=false}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;this._totalSize+=n;if(this._totalSize>np){throw new EventBufferSizeExceededError}this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear();t(JSON.stringify(n))})}clear(){this.events=[];this._totalSize=0;this.hasCheckout=false}getEarliestTimestamp(){const t=this.events.map(t=>t.timestamp).sort()[0];if(!t){return null}return timestampToMs(t)}}class WorkerHandler{constructor(t){this._worker=t;this._id=0}ensureReady(){if(this._ensureReadyPromise){return this._ensureReadyPromise}this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{if(r.success)t();else n()},{once:true});this._worker.addEventListener("error",t=>{n(t)},{once:true})});return this._ensureReadyPromise}destroy(){nV&&nY.info("Destroying compression worker");this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const listener=({data:n})=>{const i=n;if(i.method!==t){return}if(i.id!==r){return}this._worker.removeEventListener("message",listener);if(!i.success){nV&&nY.error("Error in compression worker: ",i.response);o(new Error("Error in compression worker"));return}s(i.response)};this._worker.addEventListener("message",listener);this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class EventBufferCompressionWorker{constructor(t){this._worker=new WorkerHandler(t);this._earliestTimestamp=null;this._totalSize=0;this.hasCheckout=false}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=timestampToMs(t.timestamp);if(!this._earliestTimestamp||n<this._earliestTimestamp)this._earliestTimestamp=n;const r=JSON.stringify(t);this._totalSize+=r.length;if(this._totalSize>np){return Promise.reject(new EventBufferSizeExceededError)}return this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null;this._totalSize=0;this.hasCheckout=false;this._worker.postMessage("clear").then(null,t=>{nV&&nY.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");this._earliestTimestamp=null;this._totalSize=0;return t}}class EventBufferProxy{constructor(t){this._fallback=new EventBufferArray;this._compression=new EventBufferCompressionWorker(t);this._used=this._fallback;this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy();this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){await this.ensureWorkerIsLoaded();return this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){nV&&nY.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback;const r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n;this._used=this._compression;try{await Promise.all(r)}catch(o){nV&&nY.exception(o,"Failed to add events when switching buffers.")}}}function createEventBuffer({useCompression:t,workerUrl:n}){if(t&&window.Worker){const r=_loadWorker(n);if(r){return r}}nV&&nY.info("Using simple buffer");return new EventBufferArray}function _loadWorker(t){try{const n=t||_getWorkerUrl();if(!n){return}nV&&nY.info(`Using compression worker${t?` from ${t}`:""}`);const r=new Worker(n);return new EventBufferProxy(r)}catch(s){nV&&nY.exception(s,"Failed to create compression worker")}}function _getWorkerUrl(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__){return e()}return""}function hasSessionStorage(){try{return"sessionStorage"in t8&&!!t8.sessionStorage}catch(t){return false}}function clearSession(t){deleteSession();t.session=void 0}function deleteSession(){if(!hasSessionStorage()){return}try{t8.sessionStorage.removeItem(t9)}catch(t){}}function isSampled(t){if(void 0===t){return false}return Math.random()<t}function makeSession(t){const n=Date.now();const s=t.id||(0,r.uuid4)();const o=t.started||n;const i=t.lastActivity||n;const a=t.segmentId||0;const c=t.sampled;const l=t.previousSessionId;return{id:s,started:o,lastActivity:i,segmentId:a,sampled:c,previousSessionId:l}}function saveSession(t){if(!hasSessionStorage()){return}try{t8.sessionStorage.setItem(t9,JSON.stringify(t))}catch(n){}}function getSessionSampleType(t,n){return isSampled(t)?"session":!!n&&"buffer"}function createSession({sessionSampleRate:t,allowBuffering:n,stickySession:r=false},{previousSessionId:s}={}){const o=getSessionSampleType(t,n);const i=makeSession({sampled:o,previousSessionId:s});if(r)saveSession(i);return i}function fetchSession(){if(!hasSessionStorage()){return null}try{const t=t8.sessionStorage.getItem(t9);if(!t){return null}const n=JSON.parse(t);nV&&nY.infoTick("Loading existing session");return makeSession(n)}catch(r){return null}}function isExpired(t,n,r=+new Date){if(null===t||void 0===n||n<0){return true}if(0===n){return false}return t+n<=r}function isSessionExpired(t,{maxReplayDuration:n,sessionIdleExpire:r,targetTime:s=Date.now()}){return isExpired(t.started,n,s)||isExpired(t.lastActivity,r,s)}function shouldRefreshSession(t,{sessionIdleExpire:n,maxReplayDuration:r}){if(!isSessionExpired(t,{sessionIdleExpire:n,maxReplayDuration:r})){return false}if("buffer"===t.sampled&&0===t.segmentId){return false}return true}function loadOrCreateSession({sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const o=s.stickySession&&fetchSession();if(!o){nV&&nY.infoTick("Creating new session");return createSession(s,{previousSessionId:r})}if(!shouldRefreshSession(o,{sessionIdleExpire:t,maxReplayDuration:n})){return o}nV&&nY.infoTick("Session in sessionStorage is expired, creating new one...");return createSession(s,{previousSessionId:o.id})}function isCustomEvent(t){return t.type===nD.Custom}function addEventSync(t,n,r){if(!shouldAddEvent(t,n)){return false}_addEvent(t,n,r);return true}function addEvent(t,n,r){if(!shouldAddEvent(t,n)){return Promise.resolve(null)}return _addEvent(t,n,r)}async function _addEvent(t,n,r){if(!t.eventBuffer){return null}try{if(r&&"buffer"===t.recordingMode)t.eventBuffer.clear();if(r)t.eventBuffer.hasCheckout=true;const s=t.getOptions();const o=maybeApplyCallback(n,s.beforeAddRecordingEvent);if(!o){return}return await t.eventBuffer.addEvent(o)}catch(c){const i=c&&c instanceof EventBufferSizeExceededError?"addEventSizeExceeded":"addEvent";t.handleException(c);await t.stop({reason:i});const a=(0,d.getClient)();if(a)a.recordDroppedEvent("internal_sdk_error","replay")}}function shouldAddEvent(t,n){if(!t.eventBuffer||t.isPaused()||!t.isEnabled()){return false}const r=timestampToMs(n.timestamp);if(r+t.timeouts.sessionIdlePause<Date.now()){return false}if(r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration){nV&&nY.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`);return false}return true}function maybeApplyCallback(t,n){try{if("function"==typeof n&&isCustomEvent(t)){return n(t)}}catch(r){nV&&nY.exception(r,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event...");return null}return t}function esm_isErrorEvent(t){return!t.type}function esm_isTransactionEvent(t){return"transaction"===t.type}function isReplayEvent(t){return"replay_event"===t.type}function isFeedbackEvent(t){return"feedback"===t.type}function handleAfterSendEvent(t){return(n,r)=>{if(!t.isEnabled()||!esm_isErrorEvent(n)&&!esm_isTransactionEvent(n)){return}const s=r&&r.statusCode;if(!s||s<200||s>=300){return}if(esm_isTransactionEvent(n)){handleTransactionEvent(t,n);return}handleErrorEvent(t,n)}}function handleTransactionEvent(t,n){const r=t.getContext();if(n.contexts&&n.contexts.trace&&n.contexts.trace.trace_id&&r.traceIds.size<100)r.traceIds.add(n.contexts.trace.trace_id)}function handleErrorEvent(t,n){const r=t.getContext();if(n.event_id&&r.errorIds.size<100)r.errorIds.add(n.event_id);if("buffer"!==t.recordingMode||!n.tags||!n.tags.replayId){return}const{beforeErrorSampling:s}=t.getOptions();if("function"==typeof s&&!s(n)){return}getNativeImplementation_setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function handleBeforeSendEvent(t){return n=>{if(!t.isEnabled()||!esm_isErrorEvent(n)){return}handleHydrationError(t,n)}}function handleHydrationError(t,n){const r=n.exception&&n.exception.values&&n.exception.values[0]&&n.exception.values[0].value;if("string"!=typeof r){return}if(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){const s=createBreadcrumb({category:"replay.hydrate-error",data:{url:(0,el.getLocationHref)()}});addBreadcrumbEvent(t,s)}}function handleBreadcrumbs(t){const n=(0,d.getClient)();if(!n){return}n.on("beforeAddBreadcrumb",n=>beforeAddBreadcrumb(t,n))}function beforeAddBreadcrumb(t,n){if(!t.isEnabled()||!isBreadcrumbWithCategory(n)){return}const r=normalizeBreadcrumb(n);if(r)addBreadcrumbEvent(t,r)}function normalizeBreadcrumb(t){if(!isBreadcrumbWithCategory(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")){return null}if("console"===t.category){return normalizeConsoleBreadcrumb(t)}return createBreadcrumb(t)}function normalizeConsoleBreadcrumb(t){const n=t.data&&t.data.arguments;if(!Array.isArray(n)||0===n.length){return createBreadcrumb(t)}let r=false;const s=n.map(t=>{if(!t){return t}if("string"==typeof t){if(t.length>nl){r=true;return`${t.slice(0,nl)}`}return t}if("object"==typeof t){try{const n=(0,F.normalize)(t,7);const s=JSON.stringify(n);if(s.length>nl){r=true;return`${JSON.stringify(n,null,2).slice(0,nl)}`}return n}catch(o){}}return t});return createBreadcrumb({...t,data:{...t.data,arguments:s,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function isBreadcrumbWithCategory(t){return!!t.category}function isRrwebError(t,n){if(t.type||!t.exception||!t.exception.values||!t.exception.values.length){return false}if(n.originalException&&n.originalException.__rrweb__){return true}return false}function addFeedbackBreadcrumb(t,n){t.triggerUserActivity();t.addUpdate(()=>{if(!n.timestamp){return true}t.throttledAddEvent({type:nD.Custom,timestamp:1e3*n.timestamp,data:{tag:"breadcrumb",payload:{timestamp:n.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:n.event_id}}}});return false})}function shouldSampleForBufferEvent(t,n){if("buffer"!==t.recordingMode){return false}if(n.message===ne){return false}if(!n.exception||n.type){return false}return isSampled(t.getOptions().errorSampleRate)}function handleGlobalEventListener(t){return Object.assign((n,r)=>{if(!t.isEnabled()||t.isPaused()){return n}if(isReplayEvent(n)){delete n.breadcrumbs;return n}if(!esm_isErrorEvent(n)&&!esm_isTransactionEvent(n)&&!isFeedbackEvent(n)){return n}const s=t.checkAndHandleExpiredSession();if(!s){return n}if(isFeedbackEvent(n)){t.flush();n.contexts.feedback.replay_id=t.getSessionId();addFeedbackBreadcrumb(t,n);return n}if(isRrwebError(n,r)&&!t.getOptions()._experiments.captureExceptions){nV&&nY.log("Ignoring error from rrweb internals",n);return null}const o=shouldSampleForBufferEvent(t,n);const i=o||"session"===t.recordingMode;if(i)n.tags={...n.tags,replayId:t.getSessionId()};return n},{id:"Replay"})}function createPerformanceSpans(t,n){return n.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=t.throttledAddEvent({type:nD.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return"string"==typeof a?Promise.resolve(null):a})}function handleHistory(t){const{from:n,to:r}=t;const s=Date.now()/1e3;return{type:"navigation.push",start:s,end:s,name:r,data:{previous:n}}}function handleHistorySpanListener(t){return n=>{if(!t.isEnabled()){return}const r=handleHistory(n);if(null===r){return}t.getContext().urls.push(r.name);t.triggerUserActivity();t.addUpdate(()=>{createPerformanceSpans(t,[r]);return false})}}function shouldFilterRequest(t,n){if(nV&&t.getOptions()._experiments.traceInternals){return false}return isSentryRequestUrl(n,(0,d.getClient)())}function addNetworkBreadcrumb(t,n){if(!t.isEnabled()){return}if(null===n){return}if(shouldFilterRequest(t,n.name)){return}t.addUpdate(()=>{createPerformanceSpans(t,[n]);return true})}function getBodySize(t){if(!t){return}const n=new TextEncoder;try{if("string"==typeof t){return n.encode(t).length}if(t instanceof URLSearchParams){return n.encode(t.toString()).length}if(t instanceof FormData){const r=_serializeFormData(t);return n.encode(r).length}if(t instanceof Blob){return t.size}if(t instanceof ArrayBuffer){return t.byteLength}}catch(s){}return}function parseContentLengthHeader(t){if(!t){return}const n=parseInt(t,10);return isNaN(n)?void 0:n}function getBodyString(t){try{if("string"==typeof t){return[t]}if(t instanceof URLSearchParams){return[t.toString()]}if(t instanceof FormData){return[_serializeFormData(t)]}if(!t){return[void 0]}}catch(n){nV&&nY.exception(n,"Failed to serialize body",t);return[void 0,"BODY_PARSE_ERROR"]}nV&&nY.info("Skipping network body because of body type",t);return[void 0,"UNPARSEABLE_BODY_TYPE"]}function mergeWarning(t,n){if(!t){return{headers:{},size:void 0,_meta:{warnings:[n]}}}const r={...t._meta};const s=r.warnings||[];r.warnings=[...s,n];t._meta=r;return t}function makeNetworkReplayBreadcrumb(t,n){if(!n){return null}const{startTimestamp:r,endTimestamp:s,url:o,method:i,statusCode:a,request:c,response:l}=n;const d={type:t,start:r/1e3,end:s/1e3,name:o,data:(0,u.dropUndefinedKeys)({method:i,statusCode:a,request:c,response:l})};return d}function buildSkippedNetworkRequestOrResponse(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function buildNetworkRequestOrResponse(t,n,r){if(!n&&0===Object.keys(t).length){return}if(!n){return{headers:t}}if(!r){return{headers:t,size:n}}const s={headers:t,size:n};const{body:o,warnings:i}=normalizeNetworkBody(r);s.body=o;if(i&&i.length>0)s._meta={warnings:i};return s}function getAllowedHeaders(t,n){return Object.entries(t).reduce((r,[s,o])=>{const i=s.toLowerCase();if(n.includes(i)&&t[s])r[i]=o;return r},{})}function _serializeFormData(t){return new URLSearchParams(t).toString()}function normalizeNetworkBody(t){if(!t||"string"!=typeof t){return{body:t}}const n=t.length>nc;const r=_strIsProbablyJson(t);if(n){const s=t.slice(0,nc);if(r){return{body:s,warnings:["MAYBE_JSON_TRUNCATED"]}}return{body:`${s}`,warnings:["TEXT_TRUNCATED"]}}if(r){try{const o=JSON.parse(t);return{body:o}}catch(i){}}return{body:t}}function _strIsProbablyJson(t){const n=t[0];const r=t[t.length-1];return"["===n&&"]"===r||"{"===n&&"}"===r}function urlMatches(t,n){const r=getFullUrl(t);return(0,s.stringMatchesSomePattern)(r,n)}function getFullUrl(t,n=t8.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(t8.location.origin)){return t}const r=new URL(t,n);if(r.origin!==new URL(n).origin){return t}const s=r.href;if(!t.endsWith("/")&&s.endsWith("/")){return s.slice(0,-1)}return s}async function captureFetchBreadcrumbToReplay(t,n,r){try{const s=await _prepareFetchData(t,n,r);const o=makeNetworkReplayBreadcrumb("resource.fetch",s);addNetworkBreadcrumb(r.replay,o)}catch(i){nV&&nY.exception(i,"Failed to capture fetch breadcrumb")}}function enrichFetchBreadcrumb(t,n){const{input:r,response:s}=n;const o=r?_getFetchRequestArgBody(r):void 0;const i=getBodySize(o);const a=s?parseContentLengthHeader(s.headers.get("content-length")):void 0;if(void 0!==i)t.data.request_body_size=i;if(void 0!==a)t.data.response_body_size=a}async function _prepareFetchData(t,n,r){const s=Date.now();const{startTimestamp:o=s,endTimestamp:i=s}=n;const{url:a,method:c,status_code:l=0,request_body_size:u,response_body_size:d}=t.data;const p=urlMatches(a,r.networkDetailAllowUrls)&&!urlMatches(a,r.networkDetailDenyUrls);const f=p?_getRequestInfo(r,n.input,u):buildSkippedNetworkRequestOrResponse(u);const m=await _getResponseInfo(p,r,n.response,d);return{startTimestamp:o,endTimestamp:i,url:a,method:c,statusCode:l,request:f,response:m}}function _getRequestInfo({networkCaptureBodies:t,networkRequestHeaders:n},r,s){const o=r?getRequestHeaders(r,n):{};if(!t){return buildNetworkRequestOrResponse(o,s,void 0)}const i=_getFetchRequestArgBody(r);const[a,c]=getBodyString(i);const l=buildNetworkRequestOrResponse(o,s,a);if(c){return mergeWarning(l,c)}return l}async function _getResponseInfo(t,{networkCaptureBodies:n,networkResponseHeaders:r},s,o){if(!t&&void 0!==o){return buildSkippedNetworkRequestOrResponse(o)}const i=s?getAllHeaders(s.headers,r):{};if(!s||!n&&void 0!==o){return buildNetworkRequestOrResponse(i,o,void 0)}const[a,c]=await _parseFetchResponseBody(s);const l=getResponseData(a,{networkCaptureBodies:n,responseBodySize:o,captureDetails:t,headers:i});if(c){return mergeWarning(l,c)}return l}function getResponseData(t,{networkCaptureBodies:n,responseBodySize:r,captureDetails:s,headers:o}){try{const i=t&&t.length&&void 0===r?getBodySize(t):r;if(!s){return buildSkippedNetworkRequestOrResponse(i)}if(n){return buildNetworkRequestOrResponse(o,i,t)}return buildNetworkRequestOrResponse(o,i,void 0)}catch(a){nV&&nY.exception(a,"Failed to serialize response body");return buildNetworkRequestOrResponse(o,r,void 0)}}async function _parseFetchResponseBody(t){const n=_tryCloneResponse(t);if(!n){return[void 0,"BODY_PARSE_ERROR"]}try{const r=await _tryGetResponseText(n);return[r]}catch(s){nV&&nY.exception(s,"Failed to get text body from response");return[void 0,"BODY_PARSE_ERROR"]}}function _getFetchRequestArgBody(t=[]){if(2!==t.length||"object"!=typeof t[1]){return}return t[1].body}function getAllHeaders(t,n){const r={};n.forEach(n=>{if(t.get(n))r[n]=t.get(n)});return r}function getRequestHeaders(t,n){if(1===t.length&&"string"!=typeof t[0]){return getHeadersFromOptions(t[0],n)}if(2===t.length){return getHeadersFromOptions(t[1],n)}return{}}function getHeadersFromOptions(t,n){if(!t){return{}}const r=t.headers;if(!r){return{}}if(r instanceof Headers){return getAllHeaders(r,n)}if(Array.isArray(r)){return{}}return getAllowedHeaders(r,n)}function _tryCloneResponse(t){try{return t.clone()}catch(n){nV&&nY.exception(n,"Failed to clone response body")}}function _tryGetResponseText(t){return new Promise((n,r)=>{const s=getNativeImplementation_setTimeout(()=>r(new Error("Timeout while trying to read response body")),500);_getResponseText(t).then(t=>n(t),t=>r(t)).finally(()=>clearTimeout(s))})}async function _getResponseText(t){return await t.text()}async function captureXhrBreadcrumbToReplay(t,n,r){try{const s=_prepareXhrData(t,n,r);const o=makeNetworkReplayBreadcrumb("resource.xhr",s);addNetworkBreadcrumb(r.replay,o)}catch(i){nV&&nY.exception(i,"Failed to capture xhr breadcrumb")}}function enrichXhrBreadcrumb(t,n){const{xhr:r,input:s}=n;if(!r){return}const o=getBodySize(s);const i=r.getResponseHeader("content-length")?parseContentLengthHeader(r.getResponseHeader("content-length")):_getBodySize(r.response,r.responseType);if(void 0!==o)t.data.request_body_size=o;if(void 0!==i)t.data.response_body_size=i}function _prepareXhrData(t,n,r){const s=Date.now();const{startTimestamp:o=s,endTimestamp:i=s,input:a,xhr:c}=n;const{url:l,method:u,status_code:d=0,request_body_size:p,response_body_size:f}=t.data;if(!l){return null}if(!c||!urlMatches(l,r.networkDetailAllowUrls)||urlMatches(l,r.networkDetailDenyUrls)){const m=buildSkippedNetworkRequestOrResponse(p);const g=buildSkippedNetworkRequestOrResponse(f);return{startTimestamp:o,endTimestamp:i,url:l,method:u,statusCode:d,request:m,response:g}}const h=c[ea];const _=h?getAllowedHeaders(h.request_headers,r.networkRequestHeaders):{};const v=getAllowedHeaders(getResponseHeaders(c),r.networkResponseHeaders);const[b,T]=r.networkCaptureBodies?getBodyString(a):[void 0];const[w,I]=r.networkCaptureBodies?_getXhrResponseBody(c):[void 0];const A=buildNetworkRequestOrResponse(_,p,b);const k=buildNetworkRequestOrResponse(v,f,w);return{startTimestamp:o,endTimestamp:i,url:l,method:u,statusCode:d,request:T?mergeWarning(A,T):A,response:I?mergeWarning(k,I):k}}function getResponseHeaders(t){const n=t.getAllResponseHeaders();if(!n){return{}}return n.split("\r\n").reduce((t,n)=>{const[r,s]=n.split(": ");if(s)t[r.toLowerCase()]=s;return t},{})}function _getXhrResponseBody(t){const n=[];try{return[t.responseText]}catch(r){n.push(r)}try{return _parseXhrResponse(t.response,t.responseType)}catch(s){n.push(s)}nV&&nY.warn("Failed to get xhr response body",...n);return[void 0]}function _parseXhrResponse(t,n){try{if("string"==typeof t){return[t]}if(t instanceof Document){return[t.body.outerHTML]}if("json"===n&&t&&"object"==typeof t){return[JSON.stringify(t)]}if(!t){return[void 0]}}catch(r){nV&&nY.exception(r,"Failed to serialize body",t);return[void 0,"BODY_PARSE_ERROR"]}nV&&nY.info("Skipping network body because of body type",t);return[void 0,"UNPARSEABLE_BODY_TYPE"]}function _getBodySize(t,n){try{const r="json"===n&&t&&"object"==typeof t?JSON.stringify(t):t;return getBodySize(r)}catch(s){return}}function handleNetworkBreadcrumbs(t){const n=(0,d.getClient)();try{const{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a}=t.getOptions();const c={replay:t,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a};if(n)n.on("beforeAddBreadcrumb",(t,n)=>beforeAddNetworkBreadcrumb(c,t,n))}catch(l){}}function beforeAddNetworkBreadcrumb(t,n,r){if(!n.data){return}try{if(_isXhrBreadcrumb(n)&&_isXhrHint(r)){enrichXhrBreadcrumb(n,r);captureXhrBreadcrumbToReplay(n,r,t)}if(_isFetchBreadcrumb(n)&&_isFetchHint(r)){enrichFetchBreadcrumb(n,r);captureFetchBreadcrumbToReplay(n,r,t)}}catch(s){nV&&nY.exception(s,"Error when enriching network breadcrumb")}}function _isXhrBreadcrumb(t){return"xhr"===t.category}function _isFetchBreadcrumb(t){return"fetch"===t.category}function _isXhrHint(t){return t&&t.xhr}function _isFetchHint(t){return t&&t.response}function addGlobalListeners(n){const r=(0,d.getClient)();addClickKeypressInstrumentationHandler(handleDomListener(n));addHistoryInstrumentationHandler(handleHistorySpanListener(n));handleBreadcrumbs(n);handleNetworkBreadcrumbs(n);const s=handleGlobalEventListener(n);(0,t.addEventProcessor)(s);if(r){r.on("beforeSendEvent",handleBeforeSendEvent(n));r.on("afterSendEvent",handleAfterSendEvent(n));r.on("createDsc",t=>{const r=n.getSessionId();if(r&&n.isEnabled()&&"session"===n.recordingMode){const s=n.checkAndHandleExpiredSession();if(s)t.replay_id=r}});r.on("spanStart",t=>{n.lastActiveSpan=t});r.on("spanEnd",t=>{n.lastActiveSpan=t});r.on("beforeSendFeedback",(t,r)=>{const s=n.getSessionId();if(r&&r.includeReplay&&n.isEnabled()&&s){if(t.contexts&&t.contexts.feedback)t.contexts.feedback.replay_id=s}})}}async function addMemoryEntry(t){try{return Promise.all(createPerformanceSpans(t,[createMemoryEntry(t8.performance.memory)]))}catch(n){return[]}}function createMemoryEntry(t){const{jsHeapSizeLimit:n,totalJSHeapSize:r,usedJSHeapSize:s}=t;const o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:n,totalJSHeapSize:r,usedJSHeapSize:s}}}}function debounce(t,n,r){let s;let o;let i;const a=r&&r.maxWait?Math.max(r.maxWait,n):0;function invokeFunc(){cancelTimers();s=t();return s}function cancelTimers(){void 0!==o&&clearTimeout(o);void 0!==i&&clearTimeout(i);o=i=void 0}function flush(){if(void 0!==o||void 0!==i){return invokeFunc()}return s}function debounced(){if(o)clearTimeout(o);o=getNativeImplementation_setTimeout(invokeFunc,n);if(a&&void 0===i)i=getNativeImplementation_setTimeout(invokeFunc,a);return s}debounced.cancel=cancelTimers;debounced.flush=flush;return debounced}function getHandleRecordingEmit(t){let n=false;return(r,s)=>{if(!t.checkAndHandleExpiredSession()){nV&&nY.warn("Received replay event after session expired.");return}const o=s||!n;n=true;if(t.clickDetector)updateClickDetectorForRecordingEvent(t.clickDetector,r);t.addUpdate(()=>{if("buffer"===t.recordingMode&&o)t.setInitialState();if(!addEventSync(t,r,o)){return true}if(!o){return false}const n=t.session;addSettingsEvent(t,o);if(n&&n.previousSessionId){return true}if("buffer"===t.recordingMode&&n&&t.eventBuffer){const s=t.eventBuffer.getEarliestTimestamp();if(s){nV&&nY.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`);n.started=s;if(t.getOptions().stickySession)saveSession(n)}}if("session"===t.recordingMode)void t.flush();return true})}}function createOptionsEvent(t){const n=t.getOptions();return{type:nD.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:n.sessionSampleRate,errorSampleRate:n.errorSampleRate,useCompressionOption:n.useCompression,blockAllMedia:n.blockAllMedia,maskAllText:n.maskAllText,maskAllInputs:n.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:n.networkDetailAllowUrls.length>0,networkCaptureBodies:n.networkCaptureBodies,networkRequestHasHeaders:n.networkRequestHeaders.length>0,networkResponseHasHeaders:n.networkResponseHeaders.length>0}}}}function addSettingsEvent(t,n){if(!n||!t.session||0!==t.session.segmentId){return}addEventSync(t,createOptionsEvent(t),false)}function createReplayEnvelope(t,n,r,s){return createEnvelope(createEventEnvelopeHeaders(t,getSdkMetadataForEnvelopeHeader(t),s,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof n?new TextEncoder().encode(n).length:n.length},n]])}function prepareRecordingData({recordingData:t,headers:n}){let r;const s=`${JSON.stringify(n)}
`;if("string"==typeof t)r=`${s}${t}`;else{const o=new TextEncoder;const i=o.encode(s);r=new Uint8Array(i.length+t.length);r.set(i);r.set(t,i.length)}return r}async function prepareReplayEvent({client:t,scope:n,replayId:r,event:s}){const o="object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations);const i={event_id:r,integrations:o};t.emit("preprocessEvent",s,i);const a=await (0,V.prepareEvent)(t.getOptions(),s,i,n,t,(0,d.getIsolationScope)());if(!a){return null}a.platform=a.platform||"javascript";const c=t.getSdkMetadata();const{name:l,version:u}=c&&c.sdk||{};a.sdk={...a.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0"};return a}async function sendReplayRequest({recordingData:t,replayId:n,segmentId:r,eventContext:s,timestamp:o,session:i}){const a=prepareRecordingData({recordingData:t,headers:{segment_id:r}});const{urls:c,errorIds:l,traceIds:u,initialTimestamp:p}=s;const f=(0,d.getClient)();const m=(0,d.getCurrentScope)();const g=f&&f.getTransport();const h=f&&f.getDsn();if(!f||!g||!h||!i.sampled){return(0,U.resolvedSyncPromise)({})}const _={type:t7,replay_start_timestamp:p/1e3,timestamp:o/1e3,error_ids:l,trace_ids:u,urls:c,replay_id:n,segment_id:r,replay_type:i.sampled};const v=await prepareReplayEvent({scope:m,client:f,replayId:n,event:_});if(!v){f.recordDroppedEvent("event_processor","replay",_);nV&&nY.info("An event processor returned `null`, will not send event.");return(0,U.resolvedSyncPromise)({})}delete v.sdkProcessingMetadata;const b=createReplayEnvelope(v,a,h,f.getOptions().tunnel);let T;try{T=await g.send(b)}catch(A){const w=new Error(ne);try{w.cause=A}catch(I){}throw w}if("number"==typeof T.statusCode&&(T.statusCode<200||T.statusCode>=300)){throw new TransportStatusCodeError(T.statusCode)}const k=updateRateLimits({},T);if(isRateLimited(k,"replay")){throw new RateLimitError(k)}return T}class TransportStatusCodeError extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class RateLimitError extends Error{constructor(t){super("Rate limit hit");this.rateLimits=t}}async function sendReplay(n,r={count:0,interval:ni}){const{recordingData:s,onError:o}=n;if(!s.length){return}try{await sendReplayRequest(n);return true}catch(c){if(c instanceof TransportStatusCodeError||c instanceof RateLimitError){throw c}(0,t.setContext)("Replays",{_retryCount:r.count});if(o)o(c);if(r.count>=na){const i=new Error(`${ne} - max retries exceeded`);try{i.cause=c}catch(a){}throw i}r.interval*=++r.count;return new Promise((t,s)=>{getNativeImplementation_setTimeout(async()=>{try{await sendReplay(n,r);t(true)}catch(o){s(o)}},r.interval)})}}const n8="__THROTTLED";const n9="__SKIPPED";function throttle(t,n,r){const s=new Map;const _cleanup=t=>{const n=t-r;s.forEach((t,r)=>{if(r<n)s.delete(r)})};const _getTotalCount=()=>{return[...s.values()].reduce((t,n)=>t+n,0)};let o=false;return(...r)=>{const i=Math.floor(Date.now()/1e3);_cleanup(i);if(_getTotalCount()>=n){const a=o;o=true;return a?n9:n8}o=false;const c=s.get(i)||0;s.set(i,c+1);return t(...r)}}class ReplayContainer{constructor({options:t,recordingOptions:n}){ReplayContainer.prototype.__init.call(this);ReplayContainer.prototype.__init2.call(this);ReplayContainer.prototype.__init3.call(this);ReplayContainer.prototype.__init4.call(this);ReplayContainer.prototype.__init5.call(this);ReplayContainer.prototype.__init6.call(this);this.eventBuffer=null;this.performanceEntries=[];this.replayPerformanceEntries=[];this.recordingMode="session";this.timeouts={sessionIdlePause:nt,sessionIdleExpire:nn};this._lastActivity=Date.now();this._isEnabled=false;this._isPaused=false;this._requiresManualStart=false;this._hasInitializedCoreListeners=false;this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""};this._recordingOptions=n;this._options=t;this._debouncedFlush=debounce(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay});this._throttledAddEvent=throttle((t,n)=>addEvent(this,t,n),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions();const o=r?{threshold:Math.min(nu,r),timeout:r,scrollTimeout:nd,ignoreSelector:s?s.join(","):""}:void 0;if(o)this.clickDetector=new ClickDetector(this,o);if(nV){const i=t._experiments;nY.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(t){nV&&nY.exception(t);if(this._options.onError)this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;const s=n<=0&&r<=0;this._requiresManualStart=s;if(s){return}this._initializeSessionForSampling(t);if(!this.session){nV&&nY.exception(new Error("Unable to initialize and create session"));return}if(false===this.session.sampled){return}this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session";nV&&nY.infoTick(`Starting replay in ${this.recordingMode} mode`);this._initializeRecording()}start(){if(this._isEnabled&&"session"===this.recordingMode){nV&&nY.info("Recording is already in progress");return}if(this._isEnabled&&"buffer"===this.recordingMode){nV&&nY.info("Buffering is in progress, call `flush()` to save the replay");return}nV&&nY.infoTick("Starting replay in session mode");this._updateUserActivity();const t=loadOrCreateSession({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:false});this.session=t;this._initializeRecording()}startBuffering(){if(this._isEnabled){nV&&nY.info("Buffering is in progress, call `flush()` to save the replay");return}nV&&nY.infoTick("Starting replay in buffer mode");const t=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:true});this.session=t;this.recordingMode="buffer";this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=record({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:no}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:getHandleRecordingEmit(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(n){this.handleException(n)}}stopRecording(){try{if(this._stopRecording){this._stopRecording();this._stopRecording=void 0}return true}catch(t){this.handleException(t);return false}}async stop({forceFlush:t=false,reason:n}={}){if(!this._isEnabled){return}this._isEnabled=false;try{nV&&nY.info(`Stopping Replay${n?` triggered by ${n}`:""}`);this._removeListeners();this.stopRecording();this._debouncedFlush.cancel();if(t)await this._flush({force:true});this.eventBuffer&&this.eventBuffer.destroy();this.eventBuffer=null;clearSession(this)}catch(r){this.handleException(r)}}pause(){if(this._isPaused){return}this._isPaused=true;this.stopRecording();nV&&nY.info("Pausing replay")}resume(){if(!this._isPaused||!this._checkSession()){return}this._isPaused=false;this.startRecording();nV&&nY.info("Resuming replay")}async sendBufferedReplayOrFlush({continueRecording:t=true}={}){if("session"===this.recordingMode){return this.flushImmediate()}const n=Date.now();nV&&nY.info("Converting buffer to session");await this.flushImmediate();const r=this.stopRecording();if(!t||!r){return}if("session"===this.recordingMode){return}this.recordingMode="session";if(this.session){this._updateUserActivity(n);this._updateSessionActivity(n);this._maybeSaveSession()}this.startRecording()}addUpdate(t){const n=t();if("buffer"===this.recordingMode){return}if(true===n){return}this._debouncedFlush()}triggerUserActivity(){this._updateUserActivity();if(!this._stopRecording){if(!this._checkSession()){return}this.resume();return}this.checkAndHandleExpiredSession();this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity();this._updateSessionActivity()}conditionalFlush(){if("buffer"===this.recordingMode){return Promise.resolve()}return this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){this._debouncedFlush();return this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&isExpired(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}if(!this._checkSession()){return false}return true}setInitialState(){const t=`${t8.location.pathname}${t8.location.hash}${t8.location.search}`;const n=`${t8.location.origin}${t}`;this.performanceEntries=[];this.replayPerformanceEntries=[];this._clearContext();this._context.initialUrl=n;this._context.initialTimestamp=Date.now();this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===n8){const s=createBreadcrumb({category:"replay.throttled"});this.addUpdate(()=>{return!addEventSync(this,{type:nQ,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:true}})})}return r}getCurrentRoute(){const t=this.lastActiveSpan||(0,q.getActiveSpan)();const n=t&&(0,q.getRootSpan)(t);const r=n&&(0,q.spanToJSON)(n).data||{};const s=r[eZ.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(!n||!s||!["route","custom"].includes(s)){return}return(0,q.spanToJSON)(n).description}_initializeRecording(){this.setInitialState();this._updateSessionActivity();this.eventBuffer=createEventBuffer({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl});this._removeListeners();this._addListeners();this._isEnabled=true;this._isPaused=false;this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0;const r=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session){return false}const t=this.session;if(shouldRefreshSession(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})){this._refreshSession(t);return false}return true}async _refreshSession(t){if(!this._isEnabled){return}await this.stop({reason:"refresh session"});this.initializeSampling(t.id)}_addListeners(){try{t8.document.addEventListener("visibilitychange",this._handleVisibilityChange);t8.addEventListener("blur",this._handleWindowBlur);t8.addEventListener("focus",this._handleWindowFocus);t8.addEventListener("keydown",this._handleKeyboardEvent);if(this.clickDetector)this.clickDetector.addListeners();if(!this._hasInitializedCoreListeners){addGlobalListeners(this);this._hasInitializedCoreListeners=true}}catch(t){this.handleException(t)}this._performanceCleanupCallback=setupPerformanceObserver(this)}_removeListeners(){try{t8.document.removeEventListener("visibilitychange",this._handleVisibilityChange);t8.removeEventListener("blur",this._handleWindowBlur);t8.removeEventListener("focus",this._handleWindowFocus);t8.removeEventListener("keydown",this._handleKeyboardEvent);if(this.clickDetector)this.clickDetector.removeListeners();if(this._performanceCleanupCallback)this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{if("visible"===t8.document.visibilityState)this._doChangeToForegroundTasks();else this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=createBreadcrumb({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=createBreadcrumb({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{handleKeyboardEvent(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session){return}const n=isSessionExpired(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire});if(n){return}if(t)this._createCustomBreadcrumb(t);void this.conditionalFlush()}_doChangeToForegroundTasks(t){if(!this.session){return}const n=this.checkAndHandleExpiredSession();if(!n){nV&&nY.info("Document has become active, but session has expired");return}if(t)this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){if(this.session){this.session.lastActivity=t;this._maybeSaveSession()}}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:nD.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=createPerformanceEntries(this.performanceEntries).concat(this.replayPerformanceEntries);this.performanceEntries=[];this.replayPerformanceEntries=[];return Promise.all(createPerformanceSpans(this,t))}_clearContext(){this._context.errorIds.clear();this._context.traceIds.clear();this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart){return}if(t.segmentId){return}const r=n.getEarliestTimestamp();if(r&&r<this._context.initialTimestamp)this._context.initialTimestamp=r}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};this._clearContext();return t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){nV&&nY.error("No session or eventBuffer found to flush.");return}await this._addPerformanceEntries();if(!this.eventBuffer||!this.eventBuffer.hasEvents){return}await addMemoryEntry(this);if(!this.eventBuffer){return}if(t!==this.getSessionId()){return}try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4){throw new Error("Session is too long, not sending replay")}const r=this._popEventContext();const s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await sendReplay({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:t=>this.handleException(t)})}catch(c){this.handleException(c);this.stop({reason:"sendReplay"});const i=(0,d.getClient)();if(i){const a=c instanceof RateLimitError?"ratelimit_backoff":"send_error";i.recordDroppedEvent(a,"replay")}}}__init5(){this._flush=async({force:t=false}={})=>{if(!this._isEnabled&&!t){return}if(!this.checkAndHandleExpiredSession()){nV&&nY.error("Attempting to finish replay event after session expired.");return}if(!this.session){return}const n=this.session.started;const r=Date.now();const s=r-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration;const i=s>this._options.maxReplayDuration+5e3;if(o||i){nV&&nY.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`);if(o)this._debouncedFlush();return}const a=this.eventBuffer;if(a&&0===this.session.segmentId&&!a.hasCheckout)nV&&nY.info("Flushing initial segment without checkout.");const c=!!this._flushLock;if(!this._flushLock)this._flushLock=this._runFlush();try{await this._flushLock}catch(l){this.handleException(l)}finally{this._flushLock=void 0;if(c)this._debouncedFlush()}}}_maybeSaveSession(){if(this.session&&this._options.stickySession)saveSession(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length;const r=this._options.mutationLimit;const s=this._options.mutationBreadcrumbLimit;const o=r&&n>r;if(n>s||o){const i=createBreadcrumb({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}if(o){this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode});return false}return true}}}function getOption(t,n){return[...t,...n].join(",")}function getPrivacyOptions({mask:t,unmask:n,block:r,unblock:s,ignore:o}){const i=['base[href="/"]'];const a=getOption(t,[".sentry-mask","[data-sentry-mask]"]);const c=getOption(n,[]);const l={maskTextSelector:a,unmaskTextSelector:c,blockSelector:getOption(r,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:getOption(s,[]),ignoreSelector:getOption(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])};return l}function maskAttribute({el:t,key:n,maskAttributes:r,maskAllText:s,privacyOptions:o,value:i}){if(!s){return i}if(o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)){return i}if(r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")){return i.replace(/[\S]/g,"*")}return i}const n7='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]';const re=["content-length","content-type","accept"];let rt=false;const replayIntegration=t=>{return new Replay(t)};class Replay{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=nr,flushMaxDelay:n=ns,minReplayDuration:r=nf,maxReplayDuration:s=ng,stickySession:o=true,useCompression:i=true,workerUrl:a,_experiments:c={},maskAllText:l=true,maskAllInputs:u=true,blockAllMedia:d=true,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:h=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=true,networkRequestHeaders:b=[],networkResponseHeaders:T=[],mask:w=[],maskAttributes:I=["title","placeholder"],unmask:A=[],block:k=[],unblock:x=[],ignore:R=[],maskFn:M,beforeAddRecordingEvent:B,beforeErrorSampling:U}={}){this.name=Replay.id;const F=getPrivacyOptions({mask:w,unmask:A,block:k,unblock:x,ignore:R});this._recordingOptions={maskAllInputs:u,maskAllText:l,maskInputOptions:{password:true},maskTextFn:M,maskInputFn:M,maskAttributeFn:(t,n,r)=>maskAttribute({maskAttributes:I,maskAllText:l,privacyOptions:F,key:t,value:n,el:r}),...F,slimDOMOptions:"all",inlineStylesheet:true,inlineImages:false,collectFonts:true,errorHandler:t=>{try{t.__rrweb__=true}catch(n){}}};this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,nm),maxReplayDuration:Math.min(s,ng),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:d,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:h,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:_getMergedNetworkHeaders(b),networkResponseHeaders:_getMergedNetworkHeaders(T),beforeAddRecordingEvent:B,beforeErrorSampling:U,_experiments:c};if(this._initialOptions.blockAllMedia)this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${n7}`:n7;if(this._isInitialized&&isBrowser()){throw new Error("Multiple Sentry Session Replay instances are not supported")}this._isInitialized=true}get _isInitialized(){return rt}set _isInitialized(t){rt=t}afterAllSetup(t){if(!isBrowser()||this._replay){return}this._setup(t);this._initialize(t)}start(){if(!this._replay){return}this._replay.start()}startBuffering(){if(!this._replay){return}this._replay.startBuffering()}stop(){if(!this._replay){return Promise.resolve()}return this._replay.stop({forceFlush:"session"===this._replay.recordingMode})}flush(t){if(!this._replay){return Promise.resolve()}if(!this._replay.isEnabled()){this._replay.start();return Promise.resolve()}return this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!this._replay||!this._replay.isEnabled()){return}return this._replay.getSessionId()}_initialize(t){if(!this._replay){return}this._maybeLoadFromReplayCanvasIntegration(t);this._replay.initializeSampling()}_setup(t){const n=loadReplayOptionsFromClient(this._initialOptions,t);this._replay=new ReplayContainer({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n){return}this._replay["_canvas"]=n.getOptions()}catch(r){}}}Replay.__initStatic();function loadReplayOptionsFromClient(t,r){const s=r.getOptions();const o={sessionSampleRate:0,errorSampleRate:0,...(0,u.dropUndefinedKeys)(t)};const i=parseSampleRate(s.replaysSessionSampleRate);const a=parseSampleRate(s.replaysOnErrorSampleRate);if(null==i&&null==a)(0,n.consoleSandbox)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")});if(null!=i)o.sessionSampleRate=i;if(null!=a)o.errorSampleRate=a;return o}function _getMergedNetworkHeaders(t){return[...re,...t.map(t=>t.toLowerCase())]}function getReplay(){const t=getClient();return t&&t.getIntegrationByName("Replay")}var rn=__webpack_require__("../../node_modules/uuid/dist/esm-browser/v4.js");var rr=__webpack_require__("../../node_modules/webextension-polyfill/dist/browser-polyfill.js");sdk_init({environment:"production",dsn:"https://51cb18ad97790e4aacdb279764055b6c@o622089.ingest.us.sentry.io/4508006995656704",integrations:[browserTracingIntegration(),t4(),replayIntegration()],tracePropagationTargets:["localhost","chrome-extension://gafhhkghbfjjkeiendhlofajokpaflmk"],tracesSampleRate:.05,profilesSampleRate:.05,replaysSessionSampleRate:.005,replaysOnErrorSampleRate:1});rr.storage.local.get("SENTRY-UUID").then(n=>{var r;let s=null!==(r=null==n?void 0:n["SENTRY-UUID"])&&void 0!==r?r:(0,rn["default"])();if(!(null==n?void 0:n["SENTRY-UUID"]))rr.storage.local.set({"SENTRY-UUID":s});t.setUser({id:s})})})();(()=>{Promise.all([__webpack_require__.e(323),__webpack_require__.e(708),__webpack_require__.e(357),__webpack_require__.e(637),__webpack_require__.e(792),__webpack_require__.e(355),__webpack_require__.e(66),__webpack_require__.e(237),__webpack_require__.e(821)]).then(__webpack_require__.bind(__webpack_require__,"./src/lib/scripts/background/index.ts"))})()})();
//# sourceMappingURL=background.js.map